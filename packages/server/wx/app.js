var __wxLibrary={fileName: 'WAService.js', envType: 'Service', contextType: 'App:Uncertain', execStart: Date.now()}
;var __WAServiceStartTime__ = Date.now();(function(global){var __exportGlobal__ = {};;var __libVersionInfo__ = {"updateTime":"2021.11.23 19:53:55","version":"2.20.2","features":{"pruneWxConfigByPage":true,"injectGameContextPlugin":true,"lazyCodeLoading2":true,"lazyCodeLoadingForDevTool":true,"injectAppSeparatedPlugin":true,"nativeTrans":true,"gameLive":true,"expt":["clicfg_appbrand_ios_native_download","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss","clicfg_appbrand_android_createrequesttaskasync","clicfg_appbrand_android_createdownloadtaskasync","clicfg_navigation_use_scl_alert_v5","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_config_purge_usingcomponents"]}};;var __Function__ = global.Function; var Function = __Function__;;var __sclEngine__ = null;var BabelRuntimeHelpers={},regeneratorRuntime;(()=>{var e={1964:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}r.r(t),r.d(t,{default:()=>n})},6470:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>i})},1217:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},6647:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},1466:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>a})},5238:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.r(t),r.d(t,{default:()=>n})},929:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.r(t),r.d(t,{default:()=>n})},5551:(e,t,r)=>{var n={"./applyDecoratedDescriptor":1964,"./asyncToGenerator":6470,"./initializerDefineProperty":1217,"./initializerWarningHelper":6647,"./objectSpread2":1466,"./objectWithoutProperties":5238,"./typeof":929};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=5551},9401:(e,t,r)=>{var n=r(5551);n.keys().forEach((e=>{BabelRuntimeHelpers[e.substr(2)]=n(e)})),BabelRuntimeHelpers=new Proxy(BabelRuntimeHelpers,{get:(e,t)=>(e[t]||(console.error("尝试读取未定义 BabelRuntimeHelpers.".concat(t,"，请确保 weapp-polyfill 为最新。")),console.error("若确认最新版存在问题，则请尝试在 weapp-polyfill 下执行 node getBabelHelpers")),e[t])})},5482:(e,t,r)=>{"use strict";r.r(t),r(634),r(6882),r(7072),r(4870),r(3108),r(9731),r(9992),r(3430),r(7694),r(3985),r(5388),r(2994),r(9509),r(8836),r(5883),r(1804),r(7890),r(3439),r(1515),r(7368),r(7950),r(103),r(977),r(5734),r(5940),r(5794),r(8827),r(1715),r(1382),r(1982),r(3229),r(4074),r(4696),r(3675),r(6920),r(3161),r(723),r(6618),r(9527),r(315),r(6886),r(4962),r(6481),r(8990),r(884),r(5431),r(5704),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))},305:(e,t,r)=>{var n=r(816),i=r(3718),a=r(6541),o=r(5353),s=a.data,l=a.normalize,c=function(e,t){if(i(e))for(var r=0;r<e.length;r++)s[l(e[r])]=t};e.exports=function(e){"object"==typeof e&&(c(e.useNative,a.NATIVE),c(e.usePolyfill,a.POLYFILL),c(e.useFeatureDetection,null),n(e,"USE_FUNCTION_CONSTRUCTOR")&&(o.USE_FUNCTION_CONSTRUCTOR=!!e.USE_FUNCTION_CONSTRUCTOR),n(e,"AsyncIteratorPrototype")&&(o.USE_FUNCTION_CONSTRUCTOR=e.AsyncIteratorPrototype))}},3819:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},8505:(e,t,r)=>{var n=r(5052);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},9736:(e,t,r)=>{var n=r(95),i=r(2391),a=r(1787),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},6637:(e,t,r)=>{"use strict";var n=r(966).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7728:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},1176:(e,t,r)=>{var n=r(5052);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},3339:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9918:(e,t,r)=>{"use strict";var n,i=r(3339),a=r(7400),o=r(9859),s=r(5052),l=r(816),c=r(1589),u=r(5762),d=r(7487),p=r(1787).f,h=r(7567),f=r(6540),g=r(95),v=r(1441),m=o.Int8Array,_=m&&m.prototype,y=o.Uint8ClampedArray,A=y&&y.prototype,b=m&&h(m),w=_&&h(_),E=Object.prototype,C=E.isPrototypeOf,I=g("toStringTag"),S=v("TYPED_ARRAY_TAG"),T=i&&!!f&&"Opera"!==c(o.opera),x=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k={BigInt64Array:8,BigUint64Array:8},D=function(e){if(!s(e))return!1;var t=c(e);return l(P,t)||l(k,t)};for(n in P)o[n]||(T=!1);if((!T||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},T))for(n in P)o[n]&&f(o[n],b);if((!T||!w||w===E)&&(w=b.prototype,T))for(n in P)o[n]&&f(o[n].prototype,w);if(T&&h(A)!==w&&f(A,w),a&&!l(w,I))for(n in x=!0,p(w,I,{get:function(){return s(this)?this[S]:void 0}}),P)o[n]&&u(o[n],S,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:x&&S,aTypedArray:function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(C.call(b,e))return e}else for(var t in P)if(l(P,n)){var r=o[t];if(r&&(e===r||C.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(a){if(r)for(var n in P){var i=o[n];if(i&&l(i.prototype,e))try{delete i.prototype[e]}catch(e){}}w[e]&&!r||d(w,e,r?t:T&&_[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(f){if(r)for(n in P)if((i=o[n])&&l(i,e))try{delete i[e]}catch(e){}if(b[e]&&!r)return;try{return d(b,e,r?t:T&&b[e]||t)}catch(e){}}for(n in P)!(i=o[n])||i[e]&&!r||d(i,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(P,t)||l(k,t)},isTypedArray:D,TypedArray:b,TypedArrayPrototype:w}},3816:(e,t,r)=>{"use strict";var n=r(9859),i=r(7400),a=r(3339),o=r(5762),s=r(8787),l=r(4229),c=r(7728),u=r(6051),d=r(4237),p=r(7331),h=r(6201),f=r(7567),g=r(6540),v=r(8151).f,m=r(1787).f,_=r(7065),y=r(4555),A=r(6407),b=A.get,w=A.set,E="ArrayBuffer",C="DataView",I="Wrong index",S=n.ArrayBuffer,T=S,x=n.DataView,P=x&&x.prototype,k=Object.prototype,D=n.RangeError,R=h.pack,O=h.unpack,M=function(e){return[255&e]},L=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},W=function(e){return R(e,23,4)},F=function(e){return R(e,52,8)},U=function(e,t){m(e.prototype,t,{get:function(){return b(this)[t]}})},V=function(e,t,r,n){var i=p(r),a=b(e);if(i+t>a.byteLength)throw D(I);var o=b(a.buffer).bytes,s=i+a.byteOffset,l=o.slice(s,s+t);return n?l:l.reverse()},j=function(e,t,r,n,i,a){var o=p(r),s=b(e);if(o+t>s.byteLength)throw D(I);for(var l=b(s.buffer).bytes,c=o+s.byteOffset,u=n(+i),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(a){if(!l((function(){S(1)}))||!l((function(){new S(-1)}))||l((function(){return new S,new S(1.5),new S(NaN),S.name!=E}))){for(var G,H=(T=function(e){return c(this,T),new S(p(e))}).prototype=S.prototype,Q=v(S),$=0;Q.length>$;)(G=Q[$++])in T||o(T,G,S[G]);H.constructor=T}g&&f(P)!==k&&g(P,k);var z=new x(new T(2)),Y=P.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(P,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,E);var t=p(e);w(this,{bytes:_.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},x=function(e,t,r){c(this,x,C),c(e,T,C);var n=b(e).byteLength,a=u(t);if(a<0||a>n)throw D("Wrong offset");if(a+(r=void 0===r?n-a:d(r))>n)throw D("Wrong length");w(this,{buffer:e,byteLength:r,byteOffset:a}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},i&&(U(T,"byteLength"),U(x,"buffer"),U(x,"byteLength"),U(x,"byteOffset")),s(x.prototype,{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){j(this,1,e,M,t)},setUint8:function(e,t){j(this,1,e,M,t)},setInt16:function(e,t){j(this,2,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){j(this,2,e,L,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){j(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){j(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){j(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){j(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});y(T,E),y(x,C),e.exports={ArrayBuffer:T,DataView:x}},7065:(e,t,r)=>{"use strict";var n=r(2991),i=r(3231),a=r(4237);e.exports=function(e){for(var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},9540:(e,t,r)=>{var n=r(905),i=r(4237),a=r(3231),o=function(e){return function(t,r,o){var s,l=n(t),c=i(l.length),u=a(o,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9996:(e,t,r)=>{var n=r(7636),i=r(9337),a=r(2991),o=r(4237),s=r(7501),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,v,m){for(var _,y,A=a(f),b=i(A),w=n(g,v,3),E=o(b.length),C=0,I=m||s,S=t?I(f,E):r||p?I(f,0):void 0;E>C;C++)if((h||C in b)&&(y=w(_=b[C],C,A),e))if(t)S[C]=y;else if(y)switch(e){case 3:return!0;case 5:return _;case 6:return C;case 2:l.call(S,_)}else switch(e){case 4:return!1;case 7:l.call(S,_)}return d?-1:c||u?u:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6038:(e,t,r)=>{"use strict";var n=r(4229);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},3143:(e,t,r)=>{var n=r(3819),i=r(2991),a=r(9337),o=r(4237),s=function(e){return function(t,r,s,l){n(r);var c=i(t),u=a(c),d=o(c.length),p=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in u&&(l=r(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},3867:e=>{var t=Math.floor,r=function(e,a){var o=e.length,s=t(o/2);return o<8?n(e,a):i(r(e.slice(0,s),a),r(e.slice(s),a),a)},n=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},i=function(e,t,r){for(var n=e.length,i=t.length,a=0,o=0,s=[];a<n||o<i;)a<n&&o<i?s.push(r(e[a],t[o])<=0?e[a++]:t[o++]):s.push(a<n?e[a++]:t[o++]);return s};e.exports=r},7501:(e,t,r)=>{var n=r(5052),i=r(3718),a=r(95)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},4575:(e,t,r)=>{var n=r(95)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},7079:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},1589:(e,t,r)=>{var n=r(1601),i=r(7079),a=r(95)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},7081:(e,t,r)=>{var n=r(816),i=r(4826),a=r(7933),o=r(1787);e.exports=function(e,t){for(var r=i(t),s=o.f,l=a.f,c=0;c<r.length;c++){var u=r[c];n(e,u)||s(e,u,l(t,u))}}},7528:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3723:(e,t,r)=>{"use strict";var n=r(693).IteratorPrototype,i=r(2391),a=r(5358),o=r(4555),s=r(5495),l=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=i(n,{next:a(1,r)}),o(e,c,!1,!0),s[c]=l,e}},5762:(e,t,r)=>{var n=r(7400),i=r(1787),a=r(5358);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},5358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:(e,t,r)=>{"use strict";var n=r(2066),i=r(1787),a=r(5358);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},7675:(e,t,r)=>{"use strict";var n=r(3103),i=r(3723),a=r(7567),o=r(6540),s=r(4555),l=r(5762),c=r(7487),u=r(95),d=r(4231),p=r(5495),h=r(693),f=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,v=u("iterator"),m="keys",_="values",y="entries",A=function(){return this};e.exports=function(e,t,r,u,h,b,w){i(r,t,u);var E,C,I,S=function(e){if(e===h&&D)return D;if(!g&&e in P)return P[e];switch(e){case m:case _:case y:return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",x=!1,P=e.prototype,k=P[v]||P["@@iterator"]||h&&P[h],D=!g&&k||S(h),R="Array"==t&&P.entries||k;if(R&&(E=a(R.call(new e)),f!==Object.prototype&&E.next&&(d||a(E)===f||(o?o(E,f):"function"!=typeof E[v]&&l(E,v,A)),s(E,T,!0,!0),d&&(p[T]=A))),h==_&&k&&k.name!==_&&(x=!0,D=function(){return k.call(this)}),d&&!w||P[v]===D||l(P,v,D),p[t]=D,h)if(C={values:S(_),keys:b?D:S(m),entries:S(y)},w)for(I in C)(g||x||!(I in P))&&c(P,I,C[I]);else n({target:t,proto:!0,forced:g||x},C);return C}},8423:(e,t,r)=>{var n=r(9276),i=r(816),a=r(5391),o=r(1787).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},7400:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:(e,t,r)=>{var n=r(9859),i=r(5052),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},5694:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2671:(e,t,r)=>{var n=r(598).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},8639:e=>{e.exports="object"==typeof window},8506:(e,t,r)=>{var n=r(598);e.exports=/MSIE|Trident/.test(n)},2023:(e,t,r)=>{var n=r(598);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},8801:(e,t,r)=>{var n=r(7079),i=r(9859);e.exports="process"==n(i.process)},263:(e,t,r)=>{var n=r(598);e.exports=/web0s(?!.*chrome)/i.test(n)},598:(e,t,r)=>{var n=r(1333);e.exports=n("navigator","userAgent")||""},6358:(e,t,r)=>{var n,i,a=r(9859),o=r(598),s=a.process,l=s&&s.versions,c=l&&l.v8;c?i=(n=c.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},9811:(e,t,r)=>{var n=r(598).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},3837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(e,t,r)=>{var n=r(9859),i=r(7933).f,a=r(5762),o=r(7487),s=r(2079),l=r(7081),c=r(6541);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[f]||s(f,{}):(n[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=i(r,u))&&h.value:r[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},4229:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},4954:(e,t,r)=>{"use strict";r(7950);var n=r(7487),i=r(3466),a=r(4229),o=r(95),s=r(5762),l=o("species"),c=RegExp.prototype;e.exports=function(e,t,r,u){var d=o(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!h||r){var f=/./[d],g=t(d,""[e],(function(e,t,r,n,a){var o=t.exec;return o===i||o===c.exec?p&&!a?{done:!0,value:f.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,g[0]),n(c,d,g[1])}u&&s(c[d],"sham",!0)}},4990:(e,t,r)=>{"use strict";var n=r(3718),i=r(4237),a=r(7636),o=function(e,t,r,s,l,c,u,d){for(var p,h=l,f=0,g=!!u&&a(u,d,3);f<s;){if(f in r){if(p=g?g(r[f],f,t):r[f],c>0&&n(p))h=o(e,t,p,i(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}f++}return h};e.exports=o},7636:(e,t,r)=>{var n=r(3819);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},1333:(e,t,r)=>{var n=r(9276),i=r(9859),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},8830:(e,t,r)=>{var n=r(1589),i=r(5495),a=r(95)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},17:(e,t,r)=>{var n=r(2991),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,l,c,u){var d=r+e.length,p=l.length,h=s;return void 0!==c&&(c=n(c),h=o),a.call(u,h,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=c[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>p){var u=i(s/10);return 0===u?n:u<=p?void 0===l[u-1]?a.charAt(1):l[u-1]+a.charAt(1):n}o=l[s-1]}return void 0===o?"":o}))}},9859:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},816:(e,t,r)=>{var n=r(2991),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(n(e),t)}},5977:e=>{e.exports={}},4665:(e,t,r)=>{var n=r(9859);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},3777:(e,t,r)=>{var n=r(1333);e.exports=n("document","documentElement")},4394:(e,t,r)=>{var n=r(7400),i=r(4229),a=r(2635);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},6201:e=>{var t=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,o,s){var l,c,u,d=new Array(s),p=8*s-o-1,h=(1<<p)-1,f=h>>1,g=23===o?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,m=0;for((e=t(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=n(i(e)/a),e*(u=r(2,-l))<1&&(l--,u*=2),(e+=l+f>=1?g/u:g*r(2,1-f))*u>=2&&(l++,u/=2),l+f>=h?(c=0,l=h):l+f>=1?(c=(e*u-1)*r(2,o),l+=f):(c=e*r(2,f-1)*r(2,o),l=0));o>=8;d[m++]=255&c,c/=256,o-=8);for(l=l<<o|c,p+=o;p>0;d[m++]=255&l,l/=256,p-=8);return d[--m]|=128*v,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=s}return(u?-1:1)*n*r(2,d-t)}}},9337:(e,t,r)=>{var n=r(4229),i=r(7079),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},835:(e,t,r)=>{var n=r(5052),i=r(6540);e.exports=function(e,t,r){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(e,o),e}},8511:(e,t,r)=>{var n=r(5353),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},6407:(e,t,r)=>{var n,i,a,o=r(8694),s=r(9859),l=r(5052),c=r(5762),u=r(816),d=r(5353),p=r(4399),h=r(5977),f="Object already initialized",g=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new g),m=v.get,_=v.has,y=v.set;n=function(e,t){if(_.call(v,e))throw new TypeError(f);return t.facade=e,y.call(v,e,t),t},i=function(e){return m.call(v,e)||{}},a=function(e){return _.call(v,e)}}else{var A=p("state");h[A]=!0,n=function(e,t){if(u(e,A))throw new TypeError(f);return t.facade=e,c(e,A,t),t},i=function(e){return u(e,A)?e[A]:{}},a=function(e){return u(e,A)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},1943:(e,t,r)=>{var n=r(95),i=r(5495),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3718:(e,t,r)=>{var n=r(7079);e.exports=Array.isArray||function(e){return"Array"==n(e)}},6541:(e,t,r)=>{var n=r(4229),i=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==c||r!=l&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},5052:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4231:e=>{e.exports=!1},8311:(e,t,r)=>{var n=r(5052),i=r(7079),a=r(95)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},9003:(e,t,r)=>{var n=r(1176),i=r(1943),a=r(4237),o=r(7636),s=r(8830),l=r(7281),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var u,d,p,h,f,g,v,m=r&&r.that,_=!(!r||!r.AS_ENTRIES),y=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),b=o(t,m,1+_+A),w=function(e){return u&&l(u),new c(!0,e)},E=function(e){return _?(n(e),A?b(e[0],e[1],w):b(e[0],e[1])):A?b(e,w):b(e)};if(y)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,h=a(e.length);h>p;p++)if((f=E(e[p]))&&f instanceof c)return f;return new c(!1)}u=d.call(e)}for(g=u.next;!(v=g.call(u)).done;){try{f=E(v.value)}catch(e){throw l(u),e}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},7281:(e,t,r)=>{var n=r(1176);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},693:(e,t,r)=>{"use strict";var n,i,a,o=r(4229),s=r(7567),l=r(5762),c=r(816),u=r(95),d=r(4231),p=u("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):h=!0);var f=null==n||o((function(){var e={};return n[p].call(e)!==e}));f&&(n={}),d&&!f||c(n,p)||l(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},5495:e=>{e.exports={}},4794:(e,t,r)=>{var n,i,a,o,s,l,c,u,d=r(9859),p=r(7933).f,h=r(5795).set,f=r(2023),g=r(263),v=r(8801),m=d.MutationObserver||d.WebKitMutationObserver,_=d.document,y=d.process,A=d.Promise,b=p(d,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;for(v&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},f||v||g||!m||!_?A&&A.resolve?((c=A.resolve(void 0)).constructor=A,u=c.then,o=function(){u.call(c,n)}):o=v?function(){y.nextTick(n)}:function(){h.call(d,n)}:(s=!0,l=_.createTextNode(""),new m(n).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},4226:(e,t,r)=>{var n=r(9859);e.exports=n.Promise},3839:(e,t,r)=>{var n=r(6358),i=r(4229);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8694:(e,t,r)=>{var n=r(9859),i=r(8511),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},6485:(e,t,r)=>{"use strict";var n=r(3819),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},5496:(e,t,r)=>{var n=r(9859),i=r(1017).trim,a=r(1647),o=n.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},2391:(e,t,r)=>{var n,i=r(1176),a=r(219),o=r(3837),s=r(5977),l=r(3777),c=r(2635),u=r(4399)("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete h.prototype[o[r]];return h()};s[u]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=i(e),r=new d,d.prototype=null,r[u]=e):r=h(),void 0===t?r:a(r,t)}},219:(e,t,r)=>{var n=r(7400),i=r(1787),a=r(1176),o=r(5632);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var r,n=o(t),s=n.length,l=0;s>l;)i.f(e,r=n[l++],t[r]);return e}},1787:(e,t,r)=>{var n=r(7400),i=r(4394),a=r(1176),o=r(2066),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7933:(e,t,r)=>{var n=r(7400),i=r(9195),a=r(5358),o=r(905),s=r(2066),l=r(816),c=r(4394),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},8151:(e,t,r)=>{var n=r(140),i=r(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},894:(e,t)=>{t.f=Object.getOwnPropertySymbols},7567:(e,t,r)=>{var n=r(816),i=r(2991),a=r(4399),o=r(7528),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},140:(e,t,r)=>{var n=r(816),i=r(905),a=r(9540).indexOf,o=r(5977);e.exports=function(e,t){var r,s=i(e),l=0,c=[];for(r in s)!n(o,r)&&n(s,r)&&c.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~a(c,r)||c.push(r));return c}},5632:(e,t,r)=>{var n=r(140),i=r(3837);e.exports=Object.keys||function(e){return n(e,i)}},9195:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},6540:(e,t,r)=>{var n=r(1176),i=r(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return n(r),i(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},7664:(e,t,r)=>{var n=r(7400),i=r(5632),a=r(905),o=r(9195).f,s=function(e){return function(t){for(var r,s=a(t),l=i(s),c=l.length,u=0,d=[];c>u;)r=l[u++],n&&!o.call(s,r)||d.push(e?[r,s[r]]:s[r]);return d}};e.exports={entries:s(!0),values:s(!1)}},4826:(e,t,r)=>{var n=r(1333),i=r(8151),a=r(894),o=r(1176);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},9276:(e,t,r)=>{var n=r(9859);e.exports=n},4624:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7757:(e,t,r)=>{var n=r(1176),i=r(5052),a=r(6485);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},8787:(e,t,r)=>{var n=r(7487);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},7487:(e,t,r)=>{var n=r(9859),i=r(5762),a=r(816),o=r(2079),s=r(8511),l=r(6407),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,r,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||i(r,"name",t),(l=u(r)).source||(l.source=d.join("string"==typeof t?t:""))),e!==n?(c?!h&&e[t]&&(p=!0):delete e[t],p?e[t]=r:i(e,t,r)):p?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},8115:(e,t,r)=>{var n=r(7079),i=r(3466);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},3466:(e,t,r)=>{"use strict";var n,i,a=r(895),o=r(5650),s=r(3036),l=r(2391),c=r(6407).get,u=r(2926),d=r(461),p=RegExp.prototype.exec,h=s("native-string-replace",String.prototype.replace),f=p,g=(n=/a/,i=/b*/g,p.call(n,"a"),p.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),v=o.UNSUPPORTED_Y||o.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(g||m||v||u||d)&&(f=function(e){var t,r,n,i,o,s,u,d=this,_=c(d),y=_.raw;if(y)return y.lastIndex=d.lastIndex,t=f.call(y,e),d.lastIndex=y.lastIndex,t;var A=_.groups,b=v&&d.sticky,w=a.call(d),E=d.source,C=0,I=e;if(b&&(-1===(w=w.replace("y","")).indexOf("g")&&(w+="g"),I=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(E="(?: "+E+")",I=" "+I,C++),r=new RegExp("^(?:"+E+")",w)),m&&(r=new RegExp("^"+E+"$(?!\\s)",w)),g&&(n=d.lastIndex),i=p.call(b?r:d,I),b?i?(i.input=i.input.slice(C),i[0]=i[0].slice(C),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:g&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),m&&i&&i.length>1&&h.call(i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&A)for(i.groups=s=l(null),o=0;o<A.length;o++)s[(u=A[o])[0]]=i[u[1]];return i}),e.exports=f},895:(e,t,r)=>{"use strict";var n=r(1176);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},5650:(e,t,r)=>{var n=r(4229),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},2926:(e,t,r)=>{var n=r(4229);e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},461:(e,t,r)=>{var n=r(4229);e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8885:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},2079:(e,t,r)=>{var n=r(9859),i=r(5762);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},1832:(e,t,r)=>{"use strict";var n=r(1333),i=r(1787),a=r(95),o=r(7400),s=a("species");e.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},4555:(e,t,r)=>{var n=r(1787).f,i=r(816),a=r(95)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},4399:(e,t,r)=>{var n=r(3036),i=r(1441),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5353:(e,t,r)=>{var n=r(9859),i=r(2079),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},3036:(e,t,r)=>{var n=r(4231),i=r(5353);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},7942:(e,t,r)=>{var n=r(1176),i=r(3819),a=r(95)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},966:(e,t,r)=>{var n=r(6051),i=r(8885),a=function(e){return function(t,r){var a,o,s=String(i(t)),l=n(r),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},7456:(e,t,r)=>{var n=r(598);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},6650:(e,t,r)=>{var n=r(4237),i=r(3124),a=r(8885),o=Math.ceil,s=function(e){return function(t,r,s){var l,c,u=String(a(t)),d=u.length,p=void 0===s?" ":String(s),h=n(r);return h<=d||""==p?u:(l=h-d,(c=i.call(p,o(l/p.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},3124:(e,t,r)=>{"use strict";var n=r(6051),i=r(8885);e.exports=function(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},9445:(e,t,r)=>{var n=r(4229),i=r(1647);e.exports=function(e){return n((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},1017:(e,t,r)=>{var n=r(8885),i="["+r(1647)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},5795:(e,t,r)=>{var n,i,a,o=r(9859),s=r(4229),l=r(7636),c=r(3777),u=r(2635),d=r(2023),p=r(8801),h=o.location,f=o.setImmediate,g=o.clearImmediate,v=o.process,m=o.MessageChannel,_=o.Dispatch,y=0,A={},b=function(e){if(A.hasOwnProperty(e)){var t=A[e];delete A[e],t()}},w=function(e){return function(){b(e)}},E=function(e){b(e.data)},C=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};f&&g||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return A[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},g=function(e){delete A[e]},p?n=function(e){v.nextTick(w(e))}:_&&_.now?n=function(e){_.now(w(e))}:m&&!d?(a=(i=new m).port2,i.port1.onmessage=E,n=l(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&h&&"file:"!==h.protocol&&!s(C)?(n=C,o.addEventListener("message",E,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),b(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:f,clear:g}},3231:(e,t,r)=>{var n=r(6051),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},7331:(e,t,r)=>{var n=r(6051),i=r(4237);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},905:(e,t,r)=>{var n=r(9337),i=r(8885);e.exports=function(e){return n(i(e))}},6051:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4237:(e,t,r)=>{var n=r(6051),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},2991:(e,t,r)=>{var n=r(8885);e.exports=function(e){return Object(n(e))}},4262:(e,t,r)=>{var n=r(2002);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},2002:(e,t,r)=>{var n=r(6051);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},2066:(e,t,r)=>{var n=r(5052);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},1601:(e,t,r)=>{var n={};n[r(95)("toStringTag")]="z",e.exports="[object z]"===String(n)},2574:(e,t,r)=>{"use strict";var n=r(3103),i=r(9859),a=r(7400),o=r(8200),s=r(9918),l=r(3816),c=r(7728),u=r(5358),d=r(5762),p=r(4237),h=r(7331),f=r(4262),g=r(2066),v=r(816),m=r(1589),_=r(5052),y=r(2391),A=r(6540),b=r(8151).f,w=r(5215),E=r(9996).forEach,C=r(1832),I=r(1787),S=r(7933),T=r(6407),x=r(835),P=T.get,k=T.set,D=I.f,R=S.f,O=Math.round,M=i.RangeError,L=l.ArrayBuffer,N=l.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,W=s.TYPED_ARRAY_TAG,F=s.TypedArray,U=s.TypedArrayPrototype,V=s.aTypedArrayConstructor,j=s.isTypedArray,G="BYTES_PER_ELEMENT",H="Wrong length",Q=function(e,t){for(var r=0,n=t.length,i=new(V(e))(n);n>r;)i[r]=t[r++];return i},$=function(e,t){D(e,t,{get:function(){return P(this)[t]}})},z=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},Y=function(e,t){return j(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Z=function(e,t){return Y(e,t=g(t,!0))?u(2,e[t]):R(e,t)},q=function(e,t,r){return!(Y(e,t=g(t,!0))&&_(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?D(e,t,r):(e[t]=r.value,e)};a?(B||(S.f=Z,I.f=q,$(U,"buffer"),$(U,"byteOffset"),$(U,"byteLength"),$(U,"length")),n({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:Z,defineProperty:q}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",l="get"+e,u="set"+e,g=i[s],v=g,m=v&&v.prototype,I={},S=function(e,t){D(e,t,{get:function(){return function(e,t){var r=P(e);return r.view[l](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=P(e);r&&(n=(n=O(n))<0?0:n>255?255:255&n),i.view[u](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};B?o&&(v=t((function(e,t,r,n){return c(e,v,s),x(_(t)?z(t)?void 0!==n?new g(t,f(r,a),n):void 0!==r?new g(t,f(r,a)):new g(t):j(t)?Q(v,t):w.call(v,t):new g(h(t)),e,v)})),A&&A(v,F),E(b(g),(function(e){e in v||d(v,e,g[e])})),v.prototype=m):(v=t((function(e,t,r,n){c(e,v,s);var i,o,l,u=0,d=0;if(_(t)){if(!z(t))return j(t)?Q(v,t):w.call(v,t);i=t,d=f(r,a);var g=t.byteLength;if(void 0===n){if(g%a)throw M(H);if((o=g-d)<0)throw M(H)}else if((o=p(n)*a)+d>g)throw M(H);l=o/a}else l=h(t),i=new L(o=l*a);for(k(e,{buffer:i,byteOffset:d,byteLength:o,length:l,view:new N(i)});u<l;)S(e,u++)})),A&&A(v,F),m=v.prototype=y(U)),m.constructor!==v&&d(m,"constructor",v),W&&d(m,W,s),I[s]=v,n({global:!0,forced:v!=g,sham:!B},I),G in v||d(v,G,a),G in m||d(m,G,a),C(s)}):e.exports=function(){}},8200:(e,t,r)=>{var n=r(9859),i=r(4229),a=r(4575),o=r(9918).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},5215:(e,t,r)=>{var n=r(2991),i=r(4237),a=r(8830),o=r(1943),s=r(7636),l=r(9918).aTypedArrayConstructor;e.exports=function(e){var t,r,c,u,d,p,h=n(e),f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,m=a(h);if(null!=m&&!o(m))for(p=(d=m.call(h)).next,h=[];!(u=p.call(d)).done;)h.push(u.value);for(v&&f>2&&(g=s(g,arguments[2],2)),r=i(h.length),c=new(l(this))(r),t=0;r>t;t++)c[t]=v?g(h[t],t):h[t];return c}},1441:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},6969:(e,t,r)=>{var n=r(3839);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5391:(e,t,r)=>{var n=r(95);t.f=n},95:(e,t,r)=>{var n=r(9859),i=r(3036),a=r(816),o=r(1441),s=r(3839),l=r(6969),c=i("wks"),u=n.Symbol,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)&&(s||"string"==typeof c[e])||(s&&a(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1647:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},5738:(e,t,r)=>{"use strict";var n=r(3103),i=r(7567),a=r(6540),o=r(2391),s=r(5762),l=r(5358),c=r(9003),u=function(e,t){var r=this;if(!(r instanceof u))return new u(e,t);a&&(r=a(new Error(void 0),i(r))),void 0!==t&&s(r,"message",String(t));var n=[];return c(e,n.push,{that:n}),s(r,"errors",n),r};u.prototype=o(Error.prototype,{constructor:l(5,u),message:l(5,""),name:l(5,"AggregateError")}),n({global:!0},{AggregateError:u})},5388:(e,t,r)=>{"use strict";var n=r(3103),i=r(9859),a=r(3816),o=r(1832),s=a.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},2994:(e,t,r)=>{"use strict";var n=r(3103),i=r(4229),a=r(3816),o=r(1176),s=r(3231),l=r(4237),c=r(7942),u=a.ArrayBuffer,d=a.DataView,p=u.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var r=o(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),a=new(c(this,u))(l(i-n)),h=new d(this),f=new d(a),g=0;n<i;)f.setUint8(g++,h.getUint8(n++));return a}})},4870:(e,t,r)=>{"use strict";var n=r(3103),i=r(4990),a=r(2991),o=r(4237),s=r(3819),l=r(7501);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),n=o(r.length);return s(e),(t=l(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},7072:(e,t,r)=>{"use strict";var n=r(3103),i=r(4990),a=r(2991),o=r(4237),s=r(6051),l=r(7501);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),n=l(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},5735:(e,t,r)=>{"use strict";var n=r(905),i=r(9736),a=r(5495),o=r(6407),s=r(7675),l="Array Iterator",c=o.set,u=o.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},9731:(e,t,r)=>{"use strict";var n=r(3103),i=r(3143).right,a=r(6038),o=r(6358),s=r(8801);n({target:"Array",proto:!0,forced:!a("reduceRight")||!s&&o>79&&o<83},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3108:(e,t,r)=>{"use strict";var n=r(3103),i=r(3143).left,a=r(6038),o=r(6358),s=r(8801);n({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},9992:(e,t,r)=>{"use strict";var n=r(3103),i=r(3718),a=[].reverse,o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},3430:(e,t,r)=>{"use strict";var n=r(3103),i=r(3819),a=r(2991),o=r(4237),s=r(4229),l=r(3867),c=r(6038),u=r(2671),d=r(8506),p=r(6358),h=r(9811),f=[],g=f.sort,v=s((function(){f.sort(void 0)})),m=s((function(){f.sort(null)})),_=c("sort"),y=!s((function(){if(p)return p<70;if(!(u&&u>3)){if(d)return!0;if(h)return h<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)f.push({k:t+n,v:r})}for(f.sort((function(e,t){return t.v-e.v})),n=0;n<f.length;n++)t=f[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:v||!m||!_||!y},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(y)return void 0===e?g.call(t):g.call(t,e);var r,n,s=[],c=o(t.length);for(n=0;n<c;n++)n in t&&s.push(t[n]);for(r=(s=l(s,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:String(t)>String(r)?1:-1}}(e))).length,n=0;n<r;)t[n]=s[n++];for(;n<c;)delete t[n++];return t}})},3985:(e,t,r)=>{r(9736)("flatMap")},7694:(e,t,r)=>{r(9736)("flat")},4173:(e,t,r)=>{r(3103)({global:!0},{globalThis:r(9859)})},9509:(e,t,r)=>{var n=r(3103),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,s=0,l=arguments.length,c=0;s<l;)c<(r=a(arguments[s++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},8836:(e,t,r)=>{var n=r(3103),i=r(5496);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},5883:(e,t,r)=>{var n=r(3103),i=r(7664).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},1804:(e,t,r)=>{var n=r(3103),i=r(9003),a=r(2324);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},7890:(e,t,r)=>{var n=r(3103),i=r(7664).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},7919:(e,t,r)=>{"use strict";var n=r(3103),i=r(3819),a=r(6485),o=r(4624),s=r(9003);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=a.f(t),n=r.resolve,l=r.reject,c=o((function(){var r=i(t.resolve),a=[],o=0,l=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),l++,r.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--l||n(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--l||n(a))}))})),--l||n(a)}));return c.error&&l(c.value),r.promise}})},7178:(e,t,r)=>{"use strict";var n=r(3103),i=r(3819),a=r(1333),o=r(6485),s=r(4624),l=r(9003),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,d=s((function(){var r=i(t.resolve),o=[],s=0,d=1,p=!1;l(e,(function(e){var i=s++,l=!1;o.push(void 0),d++,r.call(t,e).then((function(e){l||p||(p=!0,n(e))}),(function(e){l||p||(l=!0,o[i]=e,--d||u(new(a("AggregateError"))(o,c)))}))})),--d||u(new(a("AggregateError"))(o,c))}));return d.error&&u(d.value),r.promise}})},1515:(e,t,r)=>{"use strict";var n=r(3103),i=r(4231),a=r(4226),o=r(4229),s=r(1333),l=r(7942),c=r(7757),u=r(7487);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),!i&&"function"==typeof a){var d=s("Promise").prototype.finally;a.prototype.finally!==d&&u(a.prototype,"finally",d,{unsafe:!0})}},3439:(e,t,r)=>{"use strict";var n,i,a,o,s=r(3103),l=r(4231),c=r(9859),u=r(1333),d=r(4226),p=r(7487),h=r(8787),f=r(6540),g=r(4555),v=r(1832),m=r(5052),_=r(3819),y=r(7728),A=r(8511),b=r(9003),w=r(4575),E=r(7942),C=r(5795).set,I=r(4794),S=r(7757),T=r(4665),x=r(6485),P=r(4624),k=r(6407),D=r(6541),R=r(95),O=r(8639),M=r(8801),L=r(6358),N=R("species"),B="Promise",W=k.get,F=k.set,U=k.getterFor(B),V=d&&d.prototype,j=d,G=V,H=c.TypeError,Q=c.document,$=c.process,z=x.f,Y=z,Z=!!(Q&&Q.createEvent&&c.dispatchEvent),q="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X=!1,K=D(B,(function(){var e=A(j)!==String(j);if(!e&&66===L)return!0;if(l&&!G.finally)return!0;if(L>=51&&/native code/.test(j))return!1;var t=new j((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[N]=r,!(X=t.then((function(){}))instanceof r)||!e&&O&&!q})),ee=K||!w((function(e){j.all(e).catch((function(){}))})),te=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;I((function(){for(var n=e.value,i=1==e.state,a=0;r.length>a;){var o,s,l,c=r[a++],u=i?c.ok:c.fail,d=c.resolve,p=c.reject,h=c.domain;try{u?(i||(2===e.rejection&&oe(e),e.rejection=1),!0===u?o=n:(h&&h.enter(),o=u(n),h&&(h.exit(),l=!0)),o===c.promise?p(H("Promise-chain cycle")):(s=te(o))?s.call(o,d,p):d(o)):p(n)}catch(e){h&&!l&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},ne=function(e,t,r){var n,i;Z?((n=Q.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!q&&(i=c["on"+e])?i(n):e===J&&T("Unhandled promise rejection",r)},ie=function(e){C.call(c,(function(){var t,r=e.facade,n=e.value;if(ae(e)&&(t=P((function(){M?$.emit("unhandledRejection",n,r):ne(J,r,n)})),e.rejection=M||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){C.call(c,(function(){var t=e.facade;M?$.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},le=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},ce=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw H("Promise can't be resolved itself");var n=te(t);n?I((function(){var r={done:!1};try{n.call(t,se(ce,r,e),se(le,r,e))}catch(t){le(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){le({done:!1},t,e)}}};if(K&&(G=(j=function(e){y(this,j,B),_(e),n.call(this);var t=W(this);try{e(se(ce,t),se(le,t))}catch(e){le(t,e)}}).prototype,(n=function(e){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(G,{then:function(e,t){var r=U(this),n=z(E(this,j));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?$.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=W(e);this.promise=e,this.resolve=se(ce,t),this.reject=se(le,t)},x.f=z=function(e){return e===j||e===a?new i(e):Y(e)},!l&&"function"==typeof d&&V!==Object.prototype)){o=V.then,X||(p(V,"then",(function(e,t){var r=this;return new j((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),p(V,"catch",G.catch,{unsafe:!0}));try{delete V.constructor}catch(e){}f&&f(V,G)}s({global:!0,wrap:!0,forced:K},{Promise:j}),g(j,B,!1,!0),v(B),a=u(B),s({target:B,stat:!0,forced:K},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:l||K},{resolve:function(e){return S(l&&this===a?j:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,r=z(t),n=r.resolve,i=r.reject,a=P((function(){var r=_(t.resolve),a=[],o=0,s=1;b(e,(function(e){var l=o++,c=!1;a.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,a[l]=e,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(e){var t=this,r=z(t),n=r.reject,i=P((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},7368:(e,t,r)=>{var n=r(7400),i=r(9859),a=r(6541),o=r(835),s=r(5762),l=r(1787).f,c=r(8151).f,u=r(8311),d=r(895),p=r(5650),h=r(7487),f=r(4229),g=r(816),v=r(6407).enforce,m=r(1832),_=r(95),y=r(2926),A=r(461),b=_("match"),w=i.RegExp,E=w.prototype,C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,S=/a/g,T=new w(I)!==I,x=p.UNSUPPORTED_Y;if(a("RegExp",n&&(!T||x||y||A||f((function(){return S[b]=!1,w(I)!=I||w(S)==S||"/a/i"!=w(I,"i")}))))){for(var P=function(e,t){var r,n,i,a,l,c,p=this instanceof P,h=u(e),f=void 0===t,m=[],_=e;if(!p&&h&&f&&e.constructor===P)return e;if((h||e instanceof P)&&(e=e.source,f&&(t="flags"in _?_.flags:d.call(_))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),_=e,y&&"dotAll"in I&&(n=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),r=t,x&&"sticky"in I&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),A&&(e=(a=function(e){for(var t,r=e.length,n=0,i="",a=[],o={},s=!1,l=!1,c=0,u="";n<=r;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:C.test(e.slice(n+1))&&(n+=2,l=!0),i+=t,c++;continue;case">"===t&&l:if(""===u||g(o,u))throw new SyntaxError("Invalid capture group name");o[u]=!0,a.push([u,c]),l=!1,u="";continue}l?u+=t:i+=t}return[i,a]}(e))[0],m=a[1]),l=o(w(e,t),p?this:E,P),(n||i||m.length)&&(c=v(l),n&&(c.dotAll=!0,c.raw=P(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=e.charAt(n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+e.charAt(++n);return i}(e),r)),i&&(c.sticky=!0),m.length&&(c.groups=m)),e!==_)try{s(l,"source",""===_?"(?:)":_)}catch(e){}return l},k=function(e){e in P||l(P,e,{configurable:!0,get:function(){return w[e]},set:function(t){w[e]=t}})},D=c(w),R=0;D.length>R;)k(D[R++]);E.constructor=P,P.prototype=E,h(i,"RegExp",P)}m("RegExp")},7950:(e,t,r)=>{"use strict";var n=r(3103),i=r(3466);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},103:(e,t,r)=>{var n=r(7400),i=r(1787),a=r(895),o=r(4229);n&&o((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},3887:(e,t,r)=>{"use strict";var n=r(3103),i=r(3723),a=r(8885),o=r(4237),s=r(3819),l=r(1176),c=r(7079),u=r(8311),d=r(895),p=r(5762),h=r(4229),f=r(95),g=r(7942),v=r(6637),m=r(6407),_=r(4231),y=f("matchAll"),A="RegExp String Iterator",b=m.set,w=m.getterFor(A),E=RegExp.prototype,C=E.exec,I="".matchAll,S=!!I&&!h((function(){"a".matchAll(/./)})),T=i((function(e,t,r,n){b(this,{type:A,regexp:e,string:t,global:r,unicode:n,done:!1})}),"RegExp String",(function(){var e=w(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=function(e,t){var r,n=e.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(e,t)))throw TypeError("Incorrect exec result");return r}return C.call(e,t)}(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=v(r,o(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),x=function(e){var t,r,n,i,a,s,c=l(this),u=String(e);return t=g(c,RegExp),void 0===(r=c.flags)&&c instanceof RegExp&&!("flags"in E)&&(r=d.call(c)),n=void 0===r?"":String(r),i=new t(t===RegExp?c.source:c,n),a=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=o(c.lastIndex),new T(i,u,a,s)};n({target:"String",proto:!0,forced:S},{matchAll:function(e){var t,r,n,i=a(this);if(null!=e){if(u(e)&&!~String(a("flags"in E?e.flags:d.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(S)return I.apply(i,arguments);if(void 0===(r=e[y])&&_&&"RegExp"==c(e)&&(r=x),null!=r)return s(r).call(e,i)}else if(S)return I.apply(i,arguments);return t=String(i),n=new RegExp(e,"g"),_?x.call(n,t):n[y](t)}}),_||y in E||p(E,y,x)},977:(e,t,r)=>{"use strict";var n=r(3103),i=r(6650).end;n({target:"String",proto:!0,forced:r(7456)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5734:(e,t,r)=>{"use strict";var n=r(3103),i=r(6650).start;n({target:"String",proto:!0,forced:r(7456)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},1639:(e,t,r)=>{"use strict";var n=r(3103),i=r(8885),a=r(8311),o=r(895),s=r(17),l=r(95),c=r(4231),u=l("replace"),d=RegExp.prototype,p=Math.max,h=function(e,t,r){return r>e.length?-1:""===t?r:e.indexOf(t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,l,f,g,v,m,_,y=i(this),A=0,b=0,w="";if(null!=e){if((r=a(e))&&!~String(i("flags"in d?e.flags:o.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[u]))return n.call(e,y,t);if(c&&r)return String(y).replace(e,t)}for(l=String(y),f=String(e),(g="function"==typeof t)||(t=String(t)),v=f.length,m=p(1,v),A=h(l,f,0);-1!==A;)_=g?String(t(f,A,l)):s(f,l,A,[],void 0,t),w+=l.slice(b,A)+_,b=A+v,A=h(l,f,A+m);return b<l.length&&(w+=l.slice(b)),w}})},5940:(e,t,r)=>{"use strict";var n=r(4954),i=r(4229),a=r(1176),o=r(4237),s=r(6051),l=r(8885),c=r(6637),u=r(17),d=r(8115),p=r(95)("replace"),h=Math.max,f=Math.min,g="$0"==="a".replace(/./,"$0"),v=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,r){var n=v?"$":"$0";return[function(e,r){var n=l(this),i=null==e?void 0:e[p];return void 0!==i?i.call(e,n,r):t.call(String(n),e,r)},function(e,i){if("string"==typeof i&&-1===i.indexOf(n)&&-1===i.indexOf("$<")){var l=r(t,this,e,i);if(l.done)return l.value}var p=a(this),g=String(e),v="function"==typeof i;v||(i=String(i));var m=p.global;if(m){var _=p.unicode;p.lastIndex=0}for(var y=[];;){var A=d(p,g);if(null===A)break;if(y.push(A),!m)break;""===String(A[0])&&(p.lastIndex=c(g,o(p.lastIndex),_))}for(var b,w="",E=0,C=0;C<y.length;C++){A=y[C];for(var I=String(A[0]),S=h(f(s(A.index),g.length),0),T=[],x=1;x<A.length;x++)T.push(void 0===(b=A[x])?b:String(b));var P=A.groups;if(v){var k=[I].concat(T,S,g);void 0!==P&&k.push(P);var D=String(i.apply(void 0,k))}else D=u(I,g,S,T,P,i);S>=E&&(w+=g.slice(E,S)+D,E=S+I.length)}return w+g.slice(E)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!g||v)},8827:(e,t,r)=>{"use strict";var n=r(3103),i=r(1017).end,a=r(9445)("trimEnd"),o=a?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},1715:(e,t,r)=>{"use strict";var n=r(3103),i=r(1017).start,a=r(9445)("trimStart"),o=a?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},5794:(e,t,r)=>{"use strict";var n=r(3103),i=r(1017).trim;n({target:"String",proto:!0,forced:r(9445)("trim")},{trim:function(){return i(this)}})},6882:(e,t,r)=>{r(8423)("asyncIterator")},634:(e,t,r)=>{"use strict";var n=r(3103),i=r(7400),a=r(9859),o=r(816),s=r(5052),l=r(1787).f,c=r(7081),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(d,e))return"";var r=g?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},1382:(e,t,r)=>{r(2574)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},1982:(e,t,r)=>{r(2574)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},6618:(e,t,r)=>{"use strict";var n=r(8200);(0,r(9918).exportTypedArrayStaticMethod)("from",r(5215),n)},4074:(e,t,r)=>{r(2574)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4696:(e,t,r)=>{r(2574)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3229:(e,t,r)=>{r(2574)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9527:(e,t,r)=>{"use strict";var n=r(9918),i=r(8200),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},315:(e,t,r)=>{"use strict";var n=r(9918),i=r(9859),a=r(4229),o=r(3819),s=r(4237),l=r(3867),c=r(2671),u=r(8506),d=r(6358),p=r(9811),h=n.aTypedArray,f=n.exportTypedArrayMethod,g=i.Uint16Array,v=g&&g.prototype.sort,m=!!v&&!a((function(){var e=new g(2);e.sort(null),e.sort({})})),_=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(r.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){var t=this;if(void 0!==e&&o(e),_)return v.call(t,e);h(t);var r,n=s(t.length),i=Array(n);for(r=0;r<n;r++)i[r]=t[r];for(i=l(t,function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e)),r=0;r<n;r++)t[r]=i[r];return t}),!_||m)},3161:(e,t,r)=>{r(2574)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},723:(e,t,r)=>{r(2574)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3675:(e,t,r)=>{r(2574)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},6920:(e,t,r)=>{r(2574)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},4962:(e,t,r)=>{r(5738)},6481:(e,t,r)=>{r(4173)},8990:(e,t,r)=>{r(7919)},884:(e,t,r)=>{r(7178)},5431:(e,t,r)=>{r(3887)},5704:(e,t,r)=>{r(1639)},6886:(e,t,r)=>{var n=r(9859),i=r(5694),a=r(5735),o=r(5762),s=r(95),l=s("iterator"),c=s("toStringTag"),u=a.values;for(var d in i){var p=n[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{o(h,l,u)}catch(e){h[l]=u}if(h[c]||o(h,c,d),i[d])for(var f in a)if(h[f]!==a[f])try{o(h,f,a[f])}catch(e){h[f]=a[f]}}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=!1,t=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()?e=!0:"mac"===r.g.__wxConfig.platform.toLowerCase()&&(t=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var n=navigator.userAgent.toLowerCase();n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?e=!0:n.indexOf("miniprogramenv/mac")>=0&&(t=!0)}var i=[];(e||t)&&(r.g.Promise=void 0,i.push("Promise")),r(305)({usePolyfill:i,useNative:["WeakMap"]}),r(5482),r(9401)})()})(),(()=>{var e={396:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new x(n||[]);return a._invoke=function(e,t,r){var n=d;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=I(o,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=u(e,t,r);if("normal"===l.type){if(n=r.done?f:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=f,r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",g={};function v(){}function m(){}function _(){}var y={};y[a]=function(){return this};var A=Object.getPrototypeOf,b=A&&A(A(P([])));b&&b!==r&&n.call(b,a)&&(y=b);var w=_.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=u(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:k}}function k(){return{value:t,done:!0}}return m.prototype=w.constructor=_,_.constructor=m,m.displayName=l(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(C.prototype),C.prototype[o]=function(){return this},e.AsyncIterator=C,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new C(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(w),l(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},162:(e,t,r)=>{r(396)}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(162)})();var __wxTest__=!1,wxRunOnDebug=function(e){e()},__wxConfig,Foundation;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>P});class r{constructor(){this.listeners={}}emit(e,t){if(this.listeners[e]&&this.listeners[e].length>0){var r=!1;return this.listeners[e].forEach((function(e){0!==e.count&&e.cb(t),e.count>0&&e.count--,0===e.count&&(r=!0)})),r&&(this.listeners[e]=this.listeners[e].filter((e=>0!==e.count))),!0}return!1}many(e,t,r){if(!t)return this;var n={count:r,cb:t};return this.listeners[e]?this.listeners[e].push(n):this.listeners[e]=[n],this}on(e,t){this.many(e,t,-1)}once(e,t){this.many(e,t,1)}off(e,t){for(var r=0;r<this.listeners[e].length;r++){var n=this.listeners[e][r];if(n.cb===t)return void(n.count=0)}}}var n=e.g.__wxLibrary,i=e.g.__wxConfig,a=n.envType,o=n.contextType,s="Service"===a,l="WebView"===a,c="Worker"===a,u="Widget"===a,d=l||s&&0===o.indexOf("App:"),p=s&&0===o.indexOf("Game:"),h=c&&"function"==typeof e.g.workerInvokeJsApi,f=!!i.isIsolateContext,g=s&&(f&&o.indexOf("Uncertain")>=0||o.indexOf("MainContext")>=0),v=s&&o.indexOf("SubContext")>=0,m=g||v,_=l||g,y="wxlib"===i.workerContentType,A={platform:function(){var e=i.platform;if(!e&&l){var t=window.navigator.userAgent.toLowerCase();t.indexOf("devtools")>=0?e="devtools":t.indexOf("miniprogramenv/windows")>=0?e="windows":t.indexOf("miniprogramenv/mac")>=0?e="mac":t.indexOf("miniprogramenv/mina")>=0?e="mina":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?e="ios":t.indexOf("android")>=0&&(e="android")}return(e||"unknown").toLowerCase()}(),SDKVersion:"undefined"==typeof __libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version,isIsolateContext:m,isGame:p,isApp:d,isMainContext:g,isSubContext:v,isSafeEnv:_,isService:s,isWebView:l,isWorker:c,isWidget:u,isSupportWorkerAPI:h,typeStr:a,isWXLibWorker:y},b=new r,w={},E="configReady",C="libraryReady";function I(e,t){e in w?t(w[e]):x.once("lifeCycle:"+e,t)}function S(e,t){return!(e in w)&&(w[e]=t,x.emit("lifeCycle:"+e,t))}var T=e.g,x={EventEmitter:r,on:b.on.bind(b),emit:b.emit.bind(b),once:b.once.bind(b),onConfigReady:I.bind(null,E),emitConfigReady:S.bind(null,E),get isConfigReady(){return E in w},onLibraryReady:I.bind(null,C),emitLibraryReady:S.bind(null,C),get isLibraryReady(){return C in w},onBridgeReady(e){void 0!==WeixinJSBridge?e():"object"==typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)},env:A,global:T};"undefined"!=typeof __Function__&&(Function=function(){return"return this"===arguments[arguments.length-1]?function(){return T}:new __Function__(...arguments)},Function.prototype=__Function__.prototype),e.g.__wxLibrary.onEnd=function(){x.emitLibraryReady({})};var P=x})(),Foundation=t.default})();var nativeTrans=function(e){"use strict";var t="webViewCreated",r="nativeTransFail",n="nativeTransReady";console;if("object"!=typeof e.ntrans)return e.__nativeTransEnabled__=!1,{enabled:!1,EVT_WV_CREATED:t,EVT_NTRANS_FAIL:r};e.__nativeTransEnabled__=!0;var i=e.ntrans,a=i.id,o=a===i.serviceId,s={};function l(e){o?e(i.serviceId):Foundation.onConfigReady((function(){e(i.serviceId)}))}function c(e,t){var r=s[e]=s[e]||{connectedTime:0,dataQueue:[],initTime:Date.now()};return"number"==typeof t&&(r.id=t),s[e]}function u(e,t){return{event:e,param:t,id:a,sendTime:Date.now()}}return l((function(){delete e.ntrans})),{enabled:!0,publishToTargetWithQueue:function(e,t,r){var n=c(e),a=u(t,r);n.connectedTime?i.postMessage(n.id,a):Date.now()-n.initTime>3e5?n.dataQueue=[]:n.dataQueue.push(a)},packMessage:u,broadcastMessage:function(e,t){i.broadcastMessage(e,t)},onMessage:function(e,t){t!==a&&(i.setMessageListener(),a=t),i.setMessageListener(t,(function(t){"function"==typeof e&&e(t.event,t.param,t.id,t.sendTime)}))},registerTarget:function(e,t){var r=c(e,t);r.connectedTime=Date.now(),i.postMessage(r.id,u(n)),r.dataQueue.forEach((function(e){e.sendTime=Date.now(),i.postMessage(r.id,e)})),r.dataQueue=[]},onceServiceConfirmed:l,revertTargets:function(){for(var e in s)s[e].dataQueue.forEach((function(t){WeixinJSBridge.publish(t.event,t.param,[e])})),s[e].dataQueue=[];s={}},isService:o,get id(){return a},SERVICE_TAG:"AppService",EVT_NTRANS_READY:n,EVT_WV_CREATED:t,EVT_NTRANS_FAIL:r,version:i.version,addGroup:i.addGroup.bind(i)}}(this),WeixinJSBridge=function(e){"use strict";let t,r=!0,n={},i={},a={};const o=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);"function"==typeof logxx&&logxx("jsbridge start");var s="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext;if(e.navigator&&e.navigator.userAgent){var l=e.navigator.userAgent;(l.indexOf("appservice")>-1||l.indexOf("wechatdevtools")>-1)&&(s=!0)}if(s&&!Foundation.env.isWorker||e.useGlobalJSBridge){var c=e.WeixinJSBridge;return delete e.WeixinJSBridge,c}if(e.OSUseGlobalJSBridge)return c=e.WeixinJSBridge;var u=e.__wxConfig||{},d=u.isWK,p={},h=0,f={},g={},v="custom_event_",m={},_=e.webkit,y=e.WeixinJSCore;"object"==typeof y&&"function"!=typeof y.publishHandler&&(y.publishHandler=function(){}),Foundation.env.isWorker&&Foundation.env.isSupportWorkerAPI&&(y={invokeHandler:e.workerInvokeJsApi},h=1<<25),delete e.webkit,e.WeixinJSCore={invokeHandler:function(){},publishHandler:function(){},setTimerHandler:function(){},clearTimerHandler:function(){}};var A=JSON.parse,b=JSON.stringify,w=function(e,t){if(void 0!==e&&"function"==typeof p[t]&&""!==e&&null!==e){if("string"==typeof e)try{e=A(e),e=WeixinNativeBuffer.unpack(e)}catch(t){e={}}var r=p[t];delete p[t],"function"==typeof r&&r(e)}},E=function(e,s,l,c=!1){if(!t&&__wxConfig.onReady((()=>{r=!1,n={}}),!0),!t&&(t=!0),r&&o.has(e)&&n[e])return l(n[e]);let u;var f;if(r&&o.has(e)&&(i[e]||((f=new Promise(((e,t)=>{u=t=>{e(t)}}))).then((e=>{r||(i={},a={}),l(e)})),i[e]=f),!f))return(f=i[e]).then((e=>{r||(i={},a={}),l(e)}));var g=s;c||(s=WeixinNativeBuffer.pack(s),g=b(s||{}));var v,m=++h;v=r?t=>{o.has(e)?a[e]?u(t):(n[e]=t,delete i[e],"function"==typeof l&&l(t)):"function"==typeof l&&l(t)}:e=>{"function"==typeof l&&l(e)},p[m]=v,function(e,t,r){if(y)i=y.invokeHandler(e,t,r),"function"!=typeof p[r]||null!=i&&""!==i||(a[e]=!0),w(i,r);else{var n={event:e,paramsString:t,callbackId:r};if(d){var i=prompt("webgame_invoke",b(n));w(i,r)}else _.messageHandlers.invokeHandler.postMessage(n)}}(e,g,m)},C=function(e,t){t=WeixinNativeBuffer.unpack(t);var r=p[e];delete p[e],"function"==typeof r&&r(t)},I=function(e,t){f[e]=t},S=function(e,t,r){!function(e,t,r){y?y.publishHandler(e,b(t),b(r)):_.messageHandlers.publishHandler.postMessage({event:e,paramsString:b(t),webviewIds:b(r)})}(v+e,t,r)},T=function(e,t){m[v+e]=t},x=function(e,t,r,n){var i,a;t=WeixinNativeBuffer.unpack(t),-1!=e.indexOf(v)?i=m[e]:(i=f[e],a=g[e]),"function"==typeof i&&i(t,r,n),a&&a.forEach((e=>e(t,r,n)))};return e.WeixinJSBridge={get invokeCallbackHandler(){return C},get subscribeHandler(){return x}},u&&u.clientDebug&&(e.WeixinJSBridge={on:I,publish:S,invoke:E,subscribe:T,get invokeCallbackHandler(){return C},get subscribeHandler(){return x}}),{on:I,publish:S,invoke:E,subscribe:T,loadJsFiles:function(e,t){E("loadJsFiles",{paths:e},t)},addEventListener:function(e,t){g[e]?g[e].add(t):g[e]=new Set([t])},removeEventListener:function(e,t){g[e]&&(t?g[e].delete(t):delete g[e])},get invokeCallbackHandler(){return C},get subscribeHandler(){return x}}}(this);Foundation.onBridgeReady((function(){var e,t=String.prototype.replace,r=WeixinJSBridge.publish,n=[];WeixinJSBridge.publish=function(i,a,o){var s;Foundation.isConfigReady||nativeTrans.enabled?(o=function(e){if(Array.isArray(e)){var t=e.filter((function(e){return null!=e}));if(0===e.length||0!==t.length)return t}}(o||[]))&&(s=i||"",i=t.call(s,/["'\\]/g,""),e&&e(i,a,o)||r.call(WeixinJSBridge,i,a,o)):n.push([i,a,o])},Foundation.onConfigReady((function(){n.forEach((function(e){WeixinJSBridge.publish.apply(WeixinJSBridge,e)})),n=[]})),WeixinJSBridge.setCustomPublishHandler=function(t){e=t}})),function(){var e=nativeTrans.enabled;if(Foundation.onBridgeReady((function(){WeixinJSBridge.subscribe(nativeTrans.EVT_WV_CREATED,(function(t){e&&t.enableNTrans?(wxNativeConsole.warn("[NTrans][Master] receive webviewCreated: "+t.id),nativeTrans.registerTarget(t.id+"",t.id)):e&&!t.enableNTrans?(e=!1,wxNativeConsole.warn("[NTrans][Master] webView not support nTrans, revert channel."),WeixinJSBridge.setCustomPublishHandler(null),nativeTrans.revertTargets()):!e&&t.enableNTrans&&(wxNativeConsole.warn("[NTrans][Master] receive webviewCreated: "+t.id+", but service not support nTrans."),WeixinJSBridge.publish(nativeTrans.EVT_NTRANS_FAIL,{},[t.id+""]))})),global.__WeixinJSBridge=WeixinJSBridge})),e){var t={},r=["log","warn","error","info","debug"];console.warn("[NTrans][Master] init "+nativeTrans.id+" "+nativeTrans.version),WeixinJSBridge.setCustomPublishHandler((function(e,n,i){if(i&&0!==i.length)i.forEach((function(i){r.indexOf(e)<0&&!t[i]&&wxNativeConsole&&wxNativeConsole.info("[NTrans][Master] publish event["+e+"] dest ["+i+"]"),nativeTrans.publishToTargetWithQueue(i+"",e,n)}));else{var a=nativeTrans.packMessage(e,n);nativeTrans.broadcastMessage(nativeTrans.id,a)}return!0})),nativeTrans.onMessage((function(e,r,n,i){e!==nativeTrans.EVT_NTRANS_READY&&("PAGE_EVENT"===e&&r&&r.data&&"__DOMReady"===r.data.eventName&&(t[n]=!0),WeixinJSBridge.subscribeHandler("custom_event_"+e,r,n,{nativeTime:i||Date.now()}))}),nativeTrans.id)}else __wxConfig&&"android"==__wxConfig.platform&&console.warn("[NTrans][Master] nTrans diasbled.")}(),function(e){"use strict";var t=JSON.parse,r=JSON.stringify,n=Object.defineProperty,i=Foundation.env.isSubContext,a=Foundation.env.isSafeEnv,o={},s=(Foundation.env.isWXLibWorker,["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"]);function l(e,t,r,i){n(e,r,{configurable:!0,enumerable:!0,get:function(){if(r in t)return t[r];try{"object"==typeof Reporter&&"function"==typeof Reporter.reportKeyValue&&Reporter.reportKeyValue({key:"DeprecatedAPI",value:"__wxConfig."+r,force:!0})}catch(e){}try{return"function"!=typeof i?i:i()}catch(e){return}},set:function(e){t[r]=e}})}function c(e){return t(r(e))}var u=!0===(__wxConfig=void 0!==e.__wxConfig?a?Object.assign({},e.__wxConfig):c(e.__wxConfig):{}).preload,d=!1,p=!1,h=[],f=[],g=[],v=Foundation.env.typeStr;Foundation.env.isSubContext&&(v="SubContext");function m(e,t){try{Date.now();e(t);Date.now()}catch(e){e.message,e.stack,"object"==typeof Reporter&&"function"==typeof Reporter.errorReport&&Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at wxConfig.onReady callback"})}}var _=function(e){g.push(e)},y=function(e,t){d?void 0!==__wxConfig&&(t?p?m(e,__wxConfig):f.push(e):m(e,__wxConfig)):"function"==typeof e&&(t?f.push(e):h.push(e))},A=function(t){t.tabBar&&t.tabBar.list&&t.tabBar.list.forEach((function(e){delete e.iconData,delete e.selectedIconData})),delete t.permission;var r=t.subPackages||t.subpackages;r&&r.length>0&&(r.forEach((function(e){delete e.pages})),t.subPackages=t.subpackages=r);const n=__wxConfig.expt&&"1"===__wxConfig.expt.clicfg_appbrand_config_purge_usingcomponents;return d&&(__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage&&(i||(n&&(delete __wxConfig.usingComponents,Object.values(__wxConfig.page||{}).forEach((function(e){e&&e.window&&delete e.window.usingComponents}))),__wxConfig._preloadRule=__wxConfig.preloadRule||{},__wxConfig._page=__wxConfig.page||{},delete __wxConfig.preloadRule,delete __wxConfig.page),__wxConfig.updatePage=function(e,t){n&&t&&t.window&&delete t.window.usingComponents,__wxConfig.page=__wxConfig.page||{},__wxConfig.page[e]=__wxConfig.page[e+".html"]=t,o[e+".html"]=c(t)},__wxConfig.updatePreloadRule=function(e,t){__wxConfig.preloadRule=__wxConfig.preloadRule||{},__wxConfig.preloadRule[e]=t}),e.__wxConfig.page=e.__wxConfig.page||{},__wxConfig.page=__wxConfig.page||{}),t},b=function(e){return e.onReady=y,e.beforeReady=_,i||(e.preload=u),e.isReady=d,e.isSubContext=i,e.envTag=v,e.isSafeContext=a,e.sdkVersion=e.SDKVersion=Foundation.env.SDKVersion,e.twoPhaseInject=!0,e.platform=Foundation.env.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio),e},w=function(){void 0===e.__wxConfig||d||(d=!0,Object.assign(__wxConfig,a?e.__wxConfig:c(e.__wxConfig)),__wxConfig=b(__wxConfig),__wxConfig=A(__wxConfig),function(e){if(!g.length)return e();var t=!1;setTimeout((function(){t||(console.warn("beforeReady timeout"),t=!0,e())}),3e3),Promise.all(g).catch((function(e){console.warn("beforeReady error",e)})).then((function(){t||(t=!0,e())})),g=[]}((function(){__wxConfig.onReadyStart=Date.now(),h.forEach((function(e){m(e,__wxConfig)})),p=!0,f.forEach((function(e){m(e,__wxConfig)})),__wxConfig.onReadyEnd=Date.now(),h=[],function(){if(!a){var t=e.__wxConfig,r={},n={};o=t.page||{},__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage&&(o={});try{l(n,r,"deprecated",!0),s.forEach((function(e){if(e in t){var i=t[e];switch(e){case"page":l(n,r,e,o);break;case"env":l(n,r,e,(function(){return console.warn("DeprecationWarning: __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:i.USER_DATA_PATH}}));break;case"accountInfo":l(n,r,e,{appId:i.appId,icon:i.icon,nickname:i.nickname});break;case"appLaunchInfo":l(n,r,e,(function(){return console.warn("DeprecationWarning: __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),wx&&"function"==typeof wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{}}));break;case"wxAppInfo":l(n,r,e,{maxRequestConcurrent:i.maxRequestConcurrent,maxUploadConcurrent:i.maxUploadConcurrent,maxDownloadConcurrent:i.maxDownloadConcurrent,maxWorkerConcurrent:i.maxWorkerConcurrent,maxWebsocketConnect:i.maxWebsocketConnect});break;default:l(n,r,e,i)}}})),e.__wxConfig=n}catch(r){e.__wxConfig=t}}}()})))};function E(){Foundation.emitConfigReady(__wxConfig)}__wxConfig=b(__wxConfig),__wxConfig=A(__wxConfig),Foundation.onConfigReady((function(){w()})),i?__wxConfig.__readyHandler=E:u?Foundation.onBridgeReady((function(){WeixinJSBridge.on("onWxConfigReady",E)})):Foundation.onLibraryReady(E)}(this),function(e){"use strict";function t(e){Foundation.emit("unhandledRejection",e)||console.error("Uncaught (in promise)",e.reason)}var r,n,i=(r=[],n=[],{set:function(e,t){r.push(e),n.push(t)},get:function(e){var t=r.indexOf(e);if(-1!==t)return n[t]},delete:function(e){var t=r.indexOf(e);-1!==t&&(r.splice(t,1),n.splice(t,1))}});"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(function(e){t({reason:e.reason,promise:e.promise}),e.preventDefault()})),e.addEventListener("error",(function(e){var t;t=e.error||e.message,Foundation.emit("error",t)||console.error("Uncaught",t),e.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value:function(e){e=e||{},Object.prototype.hasOwnProperty.call(e,"type")?function(e){var r=i.get(e.promise);if(r)r.event=e;else{var n={event:e};setTimeout((function(){0===n.event.type&&t(n.event),i.delete(n.event.promise)}),0),i.set(e.promise,n)}}({type:e.type,reason:e.reason,promise:e.promise}):t({reason:e.reason,promise:e.promise})}})}(this);var NativeBuffer=function(e){var t=e.WeixinNativeBuffer,r=e.getNativeBufferId,n=e.setNativeBuffer,i=e.getNativeBuffer,a=__wxConfig||{},o=!1;"android"===a.platform||"windows"===a.platform||"mina"===a.platform?o="function"==typeof r&&"function"==typeof n&&"function"==typeof i&&a.nativeBufferEnabled:"ios"!==a.platform&&"mac"!==a.platform||(o=null!=t);var s=function(e){var i={};return o?i.id=function(e){var i=e.__proto__;e.__proto__=ArrayBuffer.prototype;var a=-1;return t?a=t.new(e):"function"==typeof r&&"function"==typeof n&&(a=r(),n(a,e)),e.__proto__=i,a}(e):i.base64=p(e),i},l=function(e){var r;if(null!=e)return o&&void 0!==e.id?(r=e.id,t?t.get(r):"function"==typeof i?i(r):void 0):void 0!==e.base64?h(e.base64):void 0},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=u||function(e){for(var t,r,n=String(e),i="",a=0,o=c;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i},d=d||function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=c.indexOf(i);return r},p=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return u(t)},h=function(e){for(var t=d(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer},f=function(e,t){if(!t)return null;if(t=t.split("."),"Array"!==g(t))throw new Error("parseKeyChain keyChain is unexpected");if(!t.length)return null;for(var r=t[t.length-1],n=e,i=0;i<t.length-1;i++){if(!n)return null;n=n[t[i]]}return[n,r]},g=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:s,get:l,useCompatibleMode:function(e){t&&t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var r in e){var n=e[r];if(void 0!==n&&"ArrayBuffer"===g(n)&&void 0!==n.byteLength)(a=s(n)).key=r,t.push(a)}if(t.length>0){for(var i=0;i<t.length;i++){var a;delete e[(a=t[i]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var r=0;r<t.length;r++){var n=t[r];if(null!=n){var i=l(n);void 0!==i&&"ArrayBuffer"===g(i)&&(e[n.key]=i)}}return e},packWithBase64:function(e){if(null==e)return e;var t=[];for(var r in e){var n=e[r];if(void 0!==n&&"ArrayBuffer"===g(n)&&void 0!==n.byteLength)(a={base64:p(n)}).key=r,t.push(a)}if(t.length>0){for(var i=0;i<t.length;i++){var a;delete e[(a=t[i]).key]}e.__nativeBuffers__=t}return e},packPostMessage:function(e){if(null==e)return e;var t=function(e){if(null==e)return e;var t=[],r=function(e,t,n=[]){for(var i in e){var a=e[i];if("[object Object]"===Object.prototype.toString.call(a)||"[object Array]"===Object.prototype.toString.call(a))n.push(i),r(a,t,n);else if(void 0!==a&&"ArrayBuffer"===g(a)&&void 0!==a.byteLength){var o=s(a),l=Array.prototype.concat.call(n,i).join(".");o.key=l,delete e[i],t.push(o)}}};return r(e,t),t}(e);return t.length>0&&(e.__nativeBuffers__=t),e},unpackPostMessage:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var r=0;r<t.length;r++){var n=t[r];if(null!=n){var i=l(n);if(void 0!==i&&"ArrayBuffer"===g(i)){var a=f(e,n.key);if(!f)return;var[o,s]=a;o[s]=i}}}return e}}}(this),WeixinNativeBuffer=NativeBuffer;NativeBuffer=null;var wxConsole=["log","info","warn","error","debug","time","timeEnd","group","groupEnd"].reduce((function(e,t){return e[t]=function(){},e}),{}),wxPerfConsole=["log","info","warn","error","time","timeEnd","trace","profile","profileSync"].reduce((function(e,t){return e[t]=function(){},e}),{}),wxNativeConsole;(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>_});var r=BabelRuntimeHelpers.objectSpread2,n=e.n(r),{onConfigReady:i,env:a}=Foundation;var o=["log","info","warn","error","debug","createLogger"].reduce((function(e,t){return e[t]=function(){},e}),{});function s(e,t){this.num=e,this.type=t}var l,c,u,d,p,h,f,g={ALL:new s(Number.MIN_VALUE,"ALL"),DEBUG:new s(5e3,"DEBUG"),LOG:new s(1e4,"LOG"),INFO:new s(2e4,"INFO"),WARN:new s(3e4,"WARN"),ERROR:new s(4e4,"ERROR"),OFF:new s(Number.MAX_VALUE,"OFF")},v=(e,t)=>({debug:e(g.DEBUG,t),log:e(g.LOG,t),info:e(g.INFO,t),warn:e(g.WARN,t),error:e(g.ERROR,t)}),m=g.INFO;if(a.isWorker||a.isWidget){o=Object.assign({createLogger:function(){return wxConsole}},wxConsole)}else a.isSubContext&&a.isIsolateContext?(l=[],c=(e,t)=>(...r)=>{l.push({level:e,logs:r,category:t})},i(u=()=>{setTimeout((()=>{var e=wxNativeConsole.__isFromMainContext?wxNativeConsole.__mergeSubContextLogs:null;e?(e(l),l=[]):u()}),1e3)}),o=n()(n()({},v(c)),{},{createLogger:e=>v(c,"string"==typeof e?e:"default"),__isFromMainContext:!1})):(d=__wxConfig.platform,p=[],h=function(e){var t=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),n=("0"+e.getHours()).slice(-2),i=("0"+e.getMinutes()).slice(-2),a=("0"+e.getSeconds()).slice(-2),o=("00"+e.getMilliseconds()).slice(-3),s=e.getFullYear()+"-"+t+"-"+r,l=n+":"+i+":"+a+"."+o;return"ios"===d?s+" "+l+"000"+(e.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):s+" "+(e.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+l},f=function(e,t){var r=e.type;return function(...n){if(t&&Array.prototype.unshift.call(n,"["+t+"]"),function(){if(__wxConfig&&"debug"in __wxConfig&&void 0!==__wxConfig.debug)return!!__wxConfig.debug}()&&wxConsole[r.toLowerCase()].call(wxConsole,...n),e.num>=m.num){var i=new Date,a=Array.prototype.slice.call(n).map((e=>{switch(typeof e){case"bigint":case"boolean":case"function":case"number":return e.toString();case"string":return e;case"symbol":return e.toString();case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}})).join(" ");p&&p.length>1024&&p.shift(),p.push({date:i,type:r,content:a})}}},i((function(){setTimeout((function e(){var t;setTimeout(e,4e3),0!==p.length&&(t=p,"ios"===d?WeixinJSBridge.invoke("systemLog",{dataArray:t.map((function(e){return{message:"\n"+h(e.date)+" ["+e.type[0].toUpperCase()+"][wxapplib]] "+e.content}}))}):"android"===d&&WeixinJSBridge.invoke("systemLog",{message:["\n"].concat(t.map((function(e){return"["+e.type[0].toUpperCase()+"]["+h(e.date)+"][wxapplib]] "+e.content}))).join("\n")}),p=[])}),4e3)})),o=n()(n()({},v(f)),{},{createLogger:function(e){return v(f,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;f(t,n)(r)}))},__isFromMainContext:!0}));var _=o;wxNativeConsole=t.default})();var WeixinWorker=function(e){var t=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey"],r=!1;if(e.navigator&&e.navigator.userAgent){var n=e.navigator.userAgent;(n.indexOf("appservice")>-1||n.indexOf("wechatdevtools")>-1)&&(r=!0)}var i=e.WeAppWorker,a=e.WeixinWorker,o=[],s=[],l=[],c=[],u=[],d={},p=function(e){return d[e]},h=function(e,t){d[e]=t},f=function(e){e=WeixinNativeBuffer.unpackPostMessage(e),s.forEach((function(t){"function"==typeof t&&t(e)}))},g=function(e,t){t=WeixinNativeBuffer.unpackPostMessage(t),o.forEach((function(r){"function"==typeof r&&r(e,t)}))},v=function(e,t){l.forEach((function(r){"function"==typeof r&&r(e,t)}))},m=function(e){c.forEach((function(t){"function"==typeof t&&t(e)}))};Foundation.on("error",m),Foundation.on("unhandledRejection",(function(e){u.forEach((function(t){"function"==typeof t&&t(e)}))}));var _={get appServiceMsgHandler(){return f},get workerMsgHandler(){return g},get workerCreatedHandler(){return v},get errorHandler(){return m},get __workerId__(){return a.__workerId__}},y={create:function(e,r){var n,o,s=!(!(r=r||{}).useExperimentalWorker||!i);if(s?(o=i,n=JSON.stringify(r)):(o=a,n={APIList:t}),"function"==typeof o.create){var l=o.create.call(o,e,n);return h(l,o),{workerId:l,useWKWorker:s}}},createWXLibWorker:function(e,r){var n={APIList:t};r.APIList&&(n.APIList=t.concat(r.APIList)),r.type&&(n.type=r.type);var i=a;if("function"==typeof i.createWXLibWorker){var o=i.createWXLibWorker.call(i,e,JSON.stringify(n));return h(o,i),{workerId:o}}},terminate:function(e){var t=p(e);if("function"==typeof t.terminate)return function(e){delete d[e]}(e),t.terminate.call(t,e)},postMsgToAppService:function(e,t){try{!1!==t&&(e="android"===__wxConfig.platform&&(__wxConfig.clientVersion>=671088640&&__wxConfig.clientVersion<671088697||__wxConfig.clientVersion>=671088704&&__wxConfig.clientVersion<41943120||__wxConfig.clientVersion>=671088736&&__wxConfig.clientVersion<671088896)?WeixinNativeBuffer.packWithBase64(e):WeixinNativeBuffer.packPostMessage(e),e=JSON.stringify(e)),a.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r){var n=p(e);try{!1!==r&&(t="android"===__wxConfig.platform&&(__wxConfig.clientVersion>=671088640&&__wxConfig.clientVersion<671088697||__wxConfig.clientVersion>=671088704&&__wxConfig.clientVersion<41943120||__wxConfig.clientVersion>=671088736&&__wxConfig.clientVersion<671088896)?WeixinNativeBuffer.packWithBase64(t):WeixinNativeBuffer.packPostMessage(t),t=JSON.stringify(t)),n.postMsgToWorker(e,t)}catch(e){console.error(e)}},onWorkerMsg:function(e){o.push(e)},onWorkerCreated:function(e){l.push(e)},onAppServiceMsg:function(e){s.push(e)},onError:function(e){c.push(e)},onUnhandledRejection:function(e){u.push(e)},get WebAssembly(){return a.WebAssembly}};return r&&(y.appServiceMsgHandler=_.appServiceMsgHandler,y.workerMsgHandler=_.workerMsgHandler,y.errorHandler=_.errorHandler,y.__workerId__=_.__workerId__),e.WeixinWorker=_,e.WeAppWorker=_,y}(this),JSContext,__appServiceConsole__,Protect,__errorTracer__,Reporter,__subContextEngine__,Safeway;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>U});var r=Object.prototype.toString,n=Object.getPrototypeOf,i=Object.getOwnPropertyNames,a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=e=>r.call(e).split(" ")[1].split("]")[0],l=["constructor","__proto__","__defineGetter__","__defineSetter__"],c="undefined"!=typeof WeakMap?new WeakMap:{},u="undefined"!=typeof WeakMap?new WeakMap:{},d=function(e,t=!1){var r=s(e);return"String"===r||"Number"===r||"Boolean"===r?e.valueOf():"Object"===r?new v(e):"Array"===r?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(d(n))}return t}(e):"Function"===r?function(e,t=!1){var r=u.get(e);return void 0!==r||(r=function(...r){for(var n=0;n<r.length;n++){var i=r[n];r[n]=d(i)}var a=t?c.get(this):void 0,o=e.call(a,...r);return d(o)},u.set(e,r)),r}(e,t):"Undefined"!==r&&"Null"===r?null:void 0},p=function(e){return function(){var t=c.get(this);if(void 0!==t){if(null===t)return null;var r=t[e];return d(r,!0)}}},h=function(e){return function(t){var r=c.get(this);if(void 0!==r)return null===r?null:void(r[e]=d(t))}},f=e=>{for(var t=0;t<l.length;t++){if(l[t]===e)return!0}return!1},g=function(){for(var e=(e=>{for(var t=[],r=function(e){i(e).forEach((r=>{var n=a(e,r);void 0!==n&&(n.name=r,t.push(n))}))},o=e;o;o=n(o))r(o);return t})(c.get(this)),t=0;t<e.length;t++){var r=e[t],s=r.name;f(s)||(s in this||(delete r.value,delete r.writable,o(this,s,Object.assign(r,{get:p(s),set:h(s)}))))}};class v{constructor(e){c.set(this,e),g.call(this)}}var m,_,y,A,b,w,E,C=v,I={},S={},T=[],x=0,P=[],k=(e,t,r)=>{if(void 0!==t&&void 0!==e&&e===m){var n=void 0!==r?r:++x;return S[n]=t,T.push(n),P.forEach((e=>{"function"==typeof e&&e(n)})),n}},D=(e,t,r,n)=>{if(void 0!==e&&e===m){var i=(e=>{for(var t=T.length,r=0;r<t;r++){var n=T[r];if(S[n]===e)return n}})(t);if(void 0!==i){var a=I[r];"function"==typeof a&&a(n,i)}}},R={},O=(e,t,r,n=!1)=>{if(void 0!==e&&e===m){n||(t=t.valueOf(),r=new C(r));var i=R[t];return"function"==typeof i?i(r):void 0}},M={__init__:e=>{void 0===m&&void 0!==e&&((m=e).register=k,m.subscribeHandler=D,m.syncMethodHandler=O,_=m.alloc,y=m.create,A=m.destroy,b=m.evaluateScriptFile,w=m.loadJsFiles,delete m.alloc,delete m.create,delete m.destroy,delete m.evaluateScriptFile,delete m.loadJsFiles)},publish:(e,t={},r)=>{var n=s(t);if("Object"!==n&&"Undefined"!==n)throw new Error("params should be an object.");r.forEach((r=>{var n=S[r];n&&n.subscribeHandler(m,e,t)}))},subscribe:(e,t)=>{I[e]=t},onRegister:e=>{P.push(e)},evaluateScriptFile:(e,t,r)=>b(e,t,r),batchLoadJsFiles:(e,t)=>{if(void 0===w||"function"!=typeof w)return"failed: loadJsFiles not supported";try{return w(e,JSON.stringify(t)),"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof _?_.call(m,e,t):-9999,create:(e,t)=>"function"==typeof y?y.call(m,e,t):-9999,destroy:(e,t)=>"function"==typeof A?A(e,t):-9999,isAsync:()=>m&&!0===m.async,supportAlloc:()=>"function"==typeof _,registerSyncMethod:(e,t)=>{R[e]=t}},L={},N={subscribeHandler:(e,t,r={})=>{if(void 0!==e&&e===E){t=t.valueOf();var n=L[t];"function"==typeof n&&n(r)}}};var B,W={__init__:(e,t)=>{void 0===E&&void 0!==e&&(E=e).register(e,N,t)},publish:(e,t={})=>{var r=s(t);if("Object"!==r&&"Undefined"!==r)throw new Error("params should be an object.");var n=e.valueOf(),i=t||{};E&&"function"==typeof E.subscribeHandler&&E.subscribeHandler(E,N,n,i)},subscribe:(e,t)=>{L[e]=t},invokeMainContextMethodSync:(e,t={},r=!1)=>{var n=s(t);if("Object"!==n&&"Undefined"!==n)throw new Error("params should be an object.");var i,a=e.valueOf();return i=r?t||{}:void 0===t?{}:t,E.syncMethodHandler(E,a,i,r)}};if(void 0===e.g)throw new Error("js-context: global is undefined");if(void 0!==e.g.WeixinJSContext){var F=Object.getPrototypeOf(e.g.WeixinJSContext)===Object.prototype;F||e.g.isMainContext&&(F=!0),(B=F?M:W).__init__(WeixinJSContext,e.g.WeixinJSContextId)}else B={alloc:()=>-9999,create:()=>-9999,destroy:()=>-9999,publish:()=>{},subscribe:()=>{},supportAlloc:()=>{}};delete B.__init__,delete e.g.WeixinJSContext,delete e.g.WeixinJSContextId;var U=B;JSContext=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};function r(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function n(){r((()=>{WeixinJSBridge.publish(...arguments)}))}function i(){r((()=>{WeixinJSBridge.subscribe(...arguments)}))}e.d(t,{default:()=>k});var a=__wxConfig,o=(a.platform,"devtools"===a.platform),s=(a.platform,"ios"===a.platform);a.platform,a.platform,a.platform;function l(){if(a&&"debug"in a&&void 0!==a.debug)return!!a.debug}var c=a.host||{},u=(c.env,c.env,c.env,c.forceUseNativeMap,"object"==typeof window&&window&&window.__wkrenderer_h5,Object.prototype.toString);function d(e){return u.call(e).slice(8,-1)}var p=e=>"Number"===d(e),h=e=>null===e,f=Number.isNaN||(e=>e!=e),g=(Number.isFinite,Array.isArray||(e=>"Array"===d(e))),v=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===d(e))(e);function m(e){var t,r=d(e);if("Number"===r){if(f(e))return"NaN";if(p(t=e)&&Math.abs(t)===1/0)return"Infinity"}else if("Object"===r){if(h(e))return"Null"}else if(r.endsWith("Array")&&"Array"!==r&&v(e))return"TypedArray";return r}var _={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`};function y(e){var t=new WeakMap,r=0;return function e(n,i){var a,[o,s]=function(e){var t=m(e);return t in _?_[t]?"function"!=typeof _[t]?[_[t],!0]:[_[t](e),!0]:[e,!0]:[null,!1]}(n);return s?o:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,g(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(a={},Object.keys(n).forEach((t=>{a[t]=e(n[t],`${i}.${t}`)})),a))}(e,"@")}function A(e){try{return(e=Array.prototype.slice.call(e)).map(y)}catch(e){return void console.warn("[console] This object can not be logged")}}var b,w,E,C=["log","warn","error","info","debug"];function I(e,t,r){b=e,w=t,E=r}class S{constructor({context:e}={}){Object.keys(E).forEach((e=>{"function"==typeof E[e]&&(this[e]=function(){var t=E[e]||(()=>{});t.apply(E,arguments)})})),C.forEach((t=>{var r=E[t];this[t]=function(){var i=l();if(!1!==i){var a=A(arguments);a&&(w&&w.length>1024&&w.shift(),w&&w.push({method:t,log:a}),i&&b&&b.length>0&&n(t,{log:a},b),r.apply(E,a))}else{if("main"===e){if("warn"!==t&&"error"!==t&&!o)return;return void r.apply(E,arguments)}if(!o)return;r.apply(E,arguments)}}})),this.group=function(){var e=E.group||(()=>{});e.apply(E,arguments)},this.groupEnd=function(){var e=E.groupEnd||(()=>{});e.apply(E,arguments)}}}var T=!s&&!!e.g.__isAppServiceRemoteDebugMode__;if(o||T){if(o||T){I([],[],console)}}else{var x=[],P=[];I(P,x,console),i("GenerateFuncReady",((e,t)=>{P.push(t),l()&&n("initLogs",{logs:x},[t])})),i("webviewClearLog",((e,t)=>{var r=P.filter((e=>e!==t));n("serviceClearLog",{triggerWebViewId:t},r),x.length=0})),a.onReady((()=>{l()&&P.length>0&&n("initLogs",{logs:x},P)})),console=new S({context:"main"})}var k={BaseConsole:S};__appServiceConsole__=t.default})(),(()=>{var e={184:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{Reporter.reportKeyValue({key:"DeprecatedAPI",value:e})}},665:(e,t)=>{"use strict";var r=__wxConfig;t.Z=r},582:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PLATFORM:()=>i,IS_DEVTOOLS:()=>a,IS_ANDROID:()=>o,IS_IOS:()=>s,IS_WINDOWS:()=>l,IS_MAC:()=>c,IS_MINA:()=>u,IS_PC:()=>d,debugEnabled:()=>p,HOST:()=>h,IS_HOST_SDK:()=>f,IS_HOST_WMPF:()=>g,IS_HOST_WECHAT:()=>v,IS_USE_NATIVE_MAP:()=>m,WK_RENDERER_H5:()=>_});var n=r(665),i=n.Z.platform,a="devtools"===n.Z.platform,o="android"===n.Z.platform,s="ios"===n.Z.platform,l="windows"===n.Z.platform,c="mac"===n.Z.platform,u="mina"===n.Z.platform,d=l||c;function p(){if(n.Z&&"debug"in n.Z&&void 0!==n.Z.debug)return!!n.Z.debug}var h=n.Z.host||{},f="SDK"===h.env,g="WMPF"===h.env,v="WeChat"===h.env,m=h.forceUseNativeMap||!1,_="object"==typeof window&&window&&window.__wkrenderer_h5},538:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(184),{IS_IOS:i}=r(582);e.exports={hijack:function(e=!0,t=!0){if(void 0!==r.g.Function){var n={};function a(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return t?n:{}}}a.prototype=r.g.Function.prototype,r.g.Function.prototype.constructor=a,r.g.Function=a}var o=globalThis;if("undefined"!=typeof eval&&(i&&r.g.__isAppServiceRemoteDebugMode__||(eval=void 0)),"undefined"!=typeof setTimeout&&e){var s=setTimeout;setTimeout=function(e,t=0){if("function"!=typeof e)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof e}.`);var r=__errorTracer__.surroundThirdByTryCatch(e,"at setTimeout callback function"),n=[].slice.call(arguments,2);return s((function(){r.apply(o,n)}),t)};var l=setInterval;setInterval=function(e,t){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var r=__errorTracer__.surroundThirdByTryCatch(e,"at setInterval callback function"),n=[].slice.call(arguments,2);return l((function(){r.apply(o,n)}),t)}}},hijackWasm:function(){if("undefined"!=typeof WebAssembly){["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))}}}},585:()=>{if("undefined"==typeof navigator){try{new Function("\n      var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});\n      Object.defineProperty(GeneratorFunctionProto, 'constructor', { value: function () {} });\n    ")()}catch(e){}try{new Function("\n      var AsyncFunctionProto = Object.getPrototypeOf(async function () {});\n      Object.defineProperty(AsyncFunctionProto, 'constructor', { value: function () {} });\n    ")()}catch(e){}try{new Function("\n      var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});\n      Object.defineProperty(AsyncGeneratorFunctionProto, 'constructor', { value: function () {} });\n    ")()}catch(e){}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{doNotWriteGlobalObjs:()=>c,doNotWriteObj:()=>u,globalEsObjs:()=>t,hijack:()=>d.hijack,hijackWasm:()=>d.hijackWasm,overwriteSetPrototypeOf:()=>l});r(585);var e=r(665),t=["Array","ArrayBuffer","AsyncFunction","Atomics","Boolean","DataView","Date","EvalError","Float32Array","Float64Array","Function","Generator","GeneratorFunction","Infinity","Int16Array","Int32Array","Int8Array","InternalError","Intl","Intl.Collator","Intl.DateTimeFormat","Intl.NumberFormat","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","TypedArray","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"];"NodeJS"!==e.Z.JSEngineName&&t.push("Error");var i=globalThis,a=r.g.Object.setPrototypeOf,o=(e,t,r,n)=>{if(e&&t&&-1===t.indexOf("constructor")){var i;try{i=e[t]}catch(e){return}if(i){var s=Object.getOwnPropertyDescriptor(e,t);if(n||s||"__proto__"===t){s=s||{enumerable:!!n,configurable:!0};var l=typeof i;if(i&&("function"===l||"object"===l)&&(s.configurable&&Object.defineProperty(e,t,{get:()=>i,set(s){if("object"==typeof this||"function"==typeof this){if(this!==e)return o(this,t,r,!0),void(this[t]=s);if(i!==s)if(n)try{i=s,"__proto__"===t&&a(this,s)}catch(e){}else console.error(`[non-writable] modification of global variable '${r}' is not allowed when using plugins at app.json.`),"object"==typeof Reporter&&(Reporter.reportKeyValue({key:"GlobalReadOnly",value:r}),Reporter.reportIDKey({key:"global_objs_readonly"}))}},enumerable:s.enumerable,configurable:!!n&&s.configurable}),!n&&"__proto__"!==t)){var c=Object.getOwnPropertyNames(i);"object"==typeof i&&o(i,"__proto__",`${r}.__proto__`,!1);for(var u=0;u<c.length;++u){var d=c[u];o(i,d,`${r}.${d}`,!1)}}}}}},s=t.concat(["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"]),l=function(){Object.defineProperty(i.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0})},c=function(){try{new Date;for(var e=0;e<s.length;++e){var t=s[e];i[t]&&o(i,t,t,!1)}new Date}catch(e){}},u=(e,t,r)=>o(e,t,r,!1),d=r(538)})(),Protect=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callSystemFunction:()=>l,wrapSystemFunction:()=>c,callMiniProgramOrPluginFunction:()=>u,callThirdPartyFunction:()=>d,wrapMiniProgramOrPluginFunction:()=>p,wrapThirdPartyFunction:()=>h,surroundThirdByTryCatch:()=>f});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function i(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,i=n.length-1,o=0;o>=0&&i>=0;){var s=r.length,l=0;for(var c in a)if(a[c]){var u=r.indexOf(a[c],o);u<0||s<=u||(s=u,l=a[c].length)}if(s>=r.length)break;var d=`at <${n[i--].description}>`;r=r.slice(0,s)+d+r.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",i=0;t&&t.forEach((e=>{if(r.test(e)&&2===(i+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}function l(e,t,r,l,u,d=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",c("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(l,u)}catch(t){if(i(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();Reporter.thirdErrorReport({error:t,source:h,triggerErrorCallback:!d})}else Reporter.errorReport({key:e,error:t,triggerErrorCallback:!d})}if(d)throw n.pop(),t}return n.pop(),p}function c(e,t,r,n=!1){return function(...i){return l(e,t,r,this,i,n)}}function u(e,t,r,s,l,c=!1){var u;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",p("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,l)}catch(t){if(i(t)&&Reporter.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw n.pop(),t}return n.pop(),u}function d(e,t,r,n,i=!1){return u(s(),e,t,r,n,i)}function p(e,t,r,n=!1){return function(...i){return u(e,t,r,this,i,n)}}function h(e,t,r=!1){return function(...n){return u(s(),e,t,this,n,r)}}function f(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return u(s(),n,i,i,e,!1)}}__errorTracer__=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>Y});var r={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3},n={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253},i={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298},a={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},o={apiCallback:1,pageInvoke:2,widgetInvoke:3},s={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14},l={[r.APP]:"thirdScriptError",[r.WIDGET]:"widgetThirdScriptError",[r.GAME]:"gameThirdScriptError",[r.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};class c{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=Date.now(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=this.periodStartTime,this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=Date.now()-this.periodStartTime,t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return Date.now()-this.periodStartTime>this.PERIOD_TIME?(this.periodStartTime=Date.now(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime=t,r}return[]}}class u{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStrs=e,this._lastReportTime=Date.now(),this._periodStartTime=Date.now(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=this._getKey(e);this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}_getKey(e){return e[this.keyStrs.find((t=>e[t]))]}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>this.cacheMP[e].length=0)),this._lastReportTime=t,t-this._periodStartTime>this.PERIOD_TIME&&(this._periodStartTime=t,this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class d{constructor(e,t,r,n){this.reportTime=Date.now(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new u(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStrs=e}shouldReport(){return Date.now()-this.reportTime>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,i){this.continueDecreaseReportLimitStrategys[e]=new c(t,r,n,i)}_getKey(e){return e[this.keyStrs.find((t=>e[t]))]}pushReportQueue(e,t){var r=this._getKey(e);r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime=Date.now(),t.concat(r)}return[]}}var p=__wxConfig,h=(p.platform,"devtools"===p.platform),f=(p.platform,"ios"===p.platform);p.platform,p.platform,p.platform;var g=p.host||{},v=(g.env,g.env,g.env,g.forceUseNativeMap,"object"==typeof window&&window&&window.__wkrenderer_h5,Object.prototype.toString);function m(e){return v.call(e).slice(8,-1)}var _=e=>"Number"===m(e);Number.isNaN,Number.isFinite,Array.isArray;var y=6e4,A=15e3,b=[],w=0,E=0,C=0,I={},S={},T={},x=new d(["key"],A,100,y);x.setContinueDecreaseReportLimitStrategyKey(18042,A,.5,100,y);var P=new d(["key"],A,100,y);function k(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function D(...e){k((()=>{WeixinJSBridge.invoke(...e)}))}function R(e){D("reportKeyValue",{dataArray:e})}function O(e){D("reportIDKey",{dataArray:e})}function M(){!b||b.length<=0||(D("systemLog",{dataArray:b}),b=[])}var L=()=>{},N=()=>{},B=()=>{},W=()=>{},F="",U={},V=-1,j=0,G=r.APP,H="";"function"==typeof p.onReady&&p.onReady((()=>{void 0!==p.appType&&(V=p.appType),"object"==typeof p.appLaunchInfo&&(j=p.appLaunchInfo.scene),WeixinJSBridge.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(H=e.networkType)})),"function"==typeof WeixinJSBridge.addEventListener&&WeixinJSBridge.addEventListener("onNetworkStatusChange",(e=>{H=e.networkType}))}));var Q={surroundThirdByTryCatch:__errorTracer__.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var i=o[e],a=Date.now();if(i&&(n||!(a-C<500))&&!(Object.keys(T).length>50||(T[r]||(T[r]=0),T[r]++,T[r]>3))){C=a;var s=`${t},${encodeURIComponent(r)},${i},${Q.getAppType()}`;Q.reportKeyValue({key:"Slow",value:s})}},speedReport:({key:e,data:t,timeMark:r,force:n})=>{var i=a[e],o=Date.now(),s=0,l=r.nativeTime;if(i&&(n||!(o-(I[i]||0)<500))&&r.startTime&&r.endTime&&(1!==i&&2!==i||l)){t&&(s=JSON.stringify(t).length),I[i]=o;var c=`${i},${r.startTime},${l},${l},${r.endTime},${s},${Q.getAppType()}`;Q.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,n=[]){D("reportKeyValue",{version:2,dataArray:[{key:i[e],value:[r-t,j,t,r,...n].join(",")}]})},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||i[e]){x.pushReportQueue({key:n?e:i[e],value:t},r);var a=x.attemptReportAndGetReportMsgs(r);a.length&&R(a)}},reportIDKey:({id:e,key:t,value:r=1})=>{if(n[t]){P.pushReportQueue({id:e||(f?"356":"358"),key:n[t],value:r});var i=P.attemptReportAndGetReportMsgs();i.length&&O(i)}},reportIDKeyDirectly:({id:e,key:t,immediately:r=!1})=>{if(t&&"356"!==e&&"358"!==e){P.pushReportQueue({id:e,key:t,value:1});var n=P.attemptReportAndGetReportMsgs(r);n.length&&O(n)}},thirdErrorReport:({key:e=G,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:i,source:a=""})=>{Q.errorReport({key:l[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:i,source:a})},errorReport:({key:e,error:t,isThirdScriptError:n=!1,triggerErrorCallback:i=!0,isUnhandledRejection:a=!1,promise:o,source:l=""})=>{if(s[e]&&null!=t){var c,u;"function"==typeof __wxSourceMapRetrace__&&(t=__wxSourceMapRetrace__(t)),"object"==typeof t&&(t.message||t.stack)?(c=t.message,u=t.stack):(c=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(t),u=m(t));var d=n?"MiniProgramError":`SystemError (${e})`,f=c,g="";t.name&&0!==u.indexOf(t.name)&&(g="\n"+t.name+": "+f);var v=`${d}\n${f}${g}\n${u}`;if(h){var _=new Error(`${d}\n${f}`);"object"==typeof t&&void 0!==t.name&&Object.defineProperty(_,"name",{value:t.name}),"object"==typeof t&&void 0!==t.stack&&Object.defineProperty(_,"stack",{value:t.stack}),console.error(_)}else a?console.error("(in promise) "+v):console.error(v);if(!(v.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){k((()=>{WeixinJSBridge.publish(...e)}))}("WEBVIEW_ERROR_MSG",{data:{msg:v},options:{timestamp:Date.now()}}):i&&(Q.triggerErrorMessage(v,a,t,o),n&&Q.triggerThirdErrorMessage(v,a,t,o)),Object.keys(S).length>50||a&&"Error"!==m(t)))){var y="",A="";G!==r.APP&&G!==r.GAME||(y=F,A=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(U));var b=l.match(/wx[0-9a-f]{16}/)?function(e){var t=p&&p.appContactInfo&&p.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}(l):0;if(4===p.appType)try{H=__appServiceSDK__.getGameRelatedContextsExports().game._getCurrentNetworkType()}catch(_){}var w=[s[e],t.name,...[f,u,"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.version||"",Q.getAppType(),y,A,"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.updateTime||"","",a?1:0,l,b,H].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(S[w]||(S[w]=0),S[w]++,!(n&&S[w]>3||S[w]>3)){Q.reportIDKey({key:e}),Q.reportKeyValue({key:"Error",value:w});var E=x.attemptReportAndGetReportMsgs(!0);E.length&&R(E);var C=P.attemptReportAndGetReportMsgs(!0);C.length&&O(C),M()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-w<50||(w=Date.now(),b.push(e+""),b.length>=50&&M()))},submit:()=>{Date.now()-E<50||(E=Date.now(),O(P.attemptReportAndGetReportMsgs(!0)),R(x.attemptReportAndGetReportMsgs(!0)),M())},registerErrorListener:e=>{"function"==typeof e&&(L=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(N=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(B=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(W=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?B(r,n):L(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?W(r,n):N(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{G=r.WIDGET},setAsGame:()=>{G=r.GAME},setAsGameSubContext:()=>{G=r.GAME_SUBCONTEXT},getAppType:()=>-1===V?0:V+1e3},$={};function z(e){Object.defineProperty($,e,{get(){return t=Q[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(Q).forEach((e=>{z(e)})),Object.defineProperty($,"__route__",{set(e){F=e}}),Object.defineProperty($,"__method__",{set(){}}),Object.defineProperty($,"__query__",{set(e){U=e}}),$.RunType=r,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){Q.submit()}});var Y=$})(),Reporter=t.default})(),(()=>{var e={146:(e,t,r)=>{var n=r(61),i=r(76);function a(e){e=(0,i.B)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("Uncaught FrameworkError","\n",e.message,"\n",e.stack)):(0,n.sK)(e,"")}function o(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("Uncaught (in promise) FrameworkError","\n",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)}void 0!==WeixinJSBridge&&(WeixinJSBridge.on("onError",a),WeixinJSBridge.on("unhandledRejection",o)),Foundation.on("error",a),Foundation.on("unhandledRejection",o)},676:(e,t,r)=>{r.d(t,{OJ:()=>a,yQ:()=>n,YZ:()=>i});function n(){if(r.g.PerfDog)return r.g.PerfDog}function i(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}};r.g.LanDebug=a},495:(e,t,r)=>{var n=r(176);__wxConfig.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var i=t[r].contextGlobal.__wxSourceMap;if("object"==typeof i&&i[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(i[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},647:(e,t,r)=>{var n,i=r(356),a=r.n(i),o=r(503),s=r.n(o),l=r(61),c={},u={},d={},p={},h={},f={},g=0;JSContext.subscribe("subContextMessage",((e,t)=>{var r=d[t];r&&r.__onMessageHandler(e)})),JSContext.subscribe("subContextReady",((e,t)=>{var r;if(((0,l.G$)()||(0,l.oi)())&&(r=d[t]),Foundation.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var i=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,l.G$)()||(0,l.oi)()?d[t].__onReadyHandler(t,e):i&&i.__onReadyHandler(t,e)},(0,l.G$)()||(0,l.oi)())return void d[t].__onPreloadReadyHandler(t,e);if(!i)return;i.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,l.G$)()||(0,l.oi)())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,l.G$)()||JSContext.isAsync())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),JSContext.subscribe("subContextLibVarReady",((e,t)=>{d[t].__onLibVarReadyHandler(e)}));var v=function(e){var t=JSContext.create(e);return t<=0&&setTimeout((()=>{}),0),c[this.__guid__]=t,t},m=function(e){var t=(0,l.G$)()||JSContext.isAsync()?JSContext.alloc(e):JSContext.alloc();return t<=0&&setTimeout((()=>{}),0),((0,l.G$)()||(0,l.oi)())&&(d[t]=this),c[this.__guid__]=t,t},_=function(e,t,r){Object.defineProperty(this,e,s()({value:t},r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}))},y=function(){void 0!==u[this.__guid__]&&(f[this.__guid__].forEach((e=>{this.postMessage(e)})),f[this.__guid__]=[])};t.Z=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],injectAfterAlloc:i=!0,isPreload:a=!1}){_.call(this,"__name__",e,a),_.call(this,"__guid__",g++,a),_.call(this,"__secure__",t,a),_.call(this,"__entry__",n,a),_.call(this,"__injectAfterAlloc__",i,a),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.setExportEnv(r),h[this.__guid__]=[],f[this.__guid__]=[]}init(){var e=this;if(n=this,!JSContext.supportAlloc())return v.call(this,this.__entry__);if(m.call(this,this.__name__),this.__injectAfterAlloc__){if(((0,l.G$)()||JSContext.isAsync())&&(0,l.N0)())return a()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))}}preInit(e){var t=this;if(this.preHandleExportEnv=e,n=this,!JSContext.supportAlloc())return v.call(this,this.__entry__);m.call(this,this.__name__),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,l.G$)()||JSContext.isAsync())&&(0,l.N0)())return a()((function*(){for(var e=0,r=t.__entry__.length;e<r;e++)yield t.evaluateScriptFile(t.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),i=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return Foundation.env.platform,t();setTimeout(i)}};i()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===Foundation.env.platform||"ios"===Foundation.env.platform)&&!JSContext.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(h[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),h[this.__guid__]=[])}postMessage(e){var t=u[this.__guid__];void 0!==t?JSContext.publish("mainContextMessage",e,[t]):f[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,p[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=p[this.__guid__],n=u[this.__guid__];JSContext.publish("subContextEnvReady",r,[n],!0),JSContext.subscribe("subContextRefreshEnvReady",((e,r)=>{n===r&&t()}))}))}refreshWxConfig(e,t){var r=u[this.__guid__];JSContext.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=u[this.__guid__];JSContext.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==c[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e){var t=c[this.__guid__];if(void 0!==t){if(((0,l.G$)()||JSContext.isAsync())&&(0,l.N0)())return new Promise((r=>{var n=JSContext.evaluateScriptFile(t,e,(()=>r(n)));if(1!==n)throw new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${n}`)}));var r=JSContext.evaluateScriptFile(t,e);if(1!==r)throw new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${r}`);this.alreadyLoadedJsFiles.add(e)}}loadJsFiles(e){e=e.map((e=>"/"===e[0]?e:"/"+e));var t=c&&c[this.__guid__],r=e.filter((e=>this.alreadyLoadedJsFiles.has(e)));if(r.length>0&&wxNativeConsole.info("[SubContext] loadJsFiles ignored loaded: "+r.join(",")),0!==(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length){if(void 0!==t&&JSContext&&JSContext.batchLoadJsFiles)try{var n=Date.now();wxNativeConsole.info("[SubContext] loadJsFiles: "+e.join(",")),JSContext.batchLoadJsFiles(t,e),wxNativeConsole.info("[SubContext] loadJsFiles done, cost "+(Date.now()-n)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}else wxNativeConsole.info("[SubContext] loadJsFiles have no files to load, return")}destroy(){var e=c[this.__guid__],t=u[this.__guid__];e>0&&(JSContext.publish("subContextDestroy",{},[t]),JSContext.destroy(e)),delete d[t],delete c[this.__guid__],delete u[this.__guid__],delete p[this.__guid__],delete h[this.__guid__],delete f[this.__guid__],delete this.__guid__,delete this.contextGlobal}__onMessageHandler(e){"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):h[this.__guid__].push(e)}__onReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&JSContext.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,y.call(this)}__onPreloadReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,JSContext.publish("preloadSubContextEnvReady",r,[e],!0))}}},176:(e,t,r)=>{r.d(t,{z:()=>i,M:()=>a});var n=[],i=function(e){n.push(e)},a=function(){return n}},61:(e,t,r)=>{r.d(t,{xJ:()=>a,N0:()=>s,F:()=>l,QT:()=>c,sK:()=>u,Hw:()=>d,G$:()=>p,gn:()=>h,cF:()=>f,NG:()=>g,Qj:()=>v,c6:()=>m,oi:()=>_});var n=r(356),i=r.n(n),a=globalThis;function o(e){e===a&&p()||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||o(r)})))}var s=function(){return void 0!==__wxConfig&&__wxConfig.isIsolateContext},l=function(){var e=a;Protect.globalEsObjs.concat(["console"]).forEach((function(t){e[t]&&(o(e[t]),Object.defineProperty(e,t,{value:e[t],configurable:!1,writable:!1}))}))},c=function(){var e=i()((function*(e,t){Reporter.reportIDKey({key:t});try{yield e()}catch(e){Reporter.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";Reporter.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),u=function(e,t,r){void 0!==r?Reporter.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):Reporter.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},d=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){Reporter.errorReport({key:e,error:t,extend:""})}}},p=function(){return"devtools"===__wxConfig.platform},h=function(){return"ios"===__wxConfig.platform},f=e=>{var t;if(WeixinJSBridge.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},g=e=>{var t,r;if(WeixinJSBridge.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},v=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",i=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var o=a.every(((e,t)=>e===r[t]));if(o)return o}if(i&&0===e.indexOf(i))return!0}return!1}));if(n)return n}return!1},m=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1107,1155].indexOf(e)>=0,_=()=>JSContext.isAsync()},290:(e,t,r)=>{r.d(t,{E:()=>C,F:()=>I});var n=r(503),i=r.n(n),a=r(647),o=r(676),s=r(61),l=r(594),c="undefined"!=typeof __AppServiceRemoteDebugger__,u=c?__AppServiceRemoteDebugger__(__wxConfig.platform,l.M,l.O,s.NG,r.g.WeixinJSBridge):null,d={};c&&u&&((d=(0,s.gn)()?u.runtime.getSubContextGlobals():{}).BaseConsole&&u.runtime.setupConsole(console,d.BaseConsole),r.g.__remoteDebug__=u.__remoteDebug__);var p="app-service.js",h="appservice.app.js",f="common.app.js",g="appservice.js",v=new a.Z({name:"app",secure:!1,entry:[p],injectAfterAlloc:!1}),m=new Set;__wxConfig.onReady((()=>{"develop"!==__wxConfig.envVersion&&"trial"!==__wxConfig.envVersion||(m.add("wx0354ba48aadc0ab2"),m.add("wxfa43a4a7041a84de"))}));var _,y=e=>wxNativeConsole.info("[injectEntryFile] "+e),A=new Set,b=(e,t)=>{if(!A.has(e)){c&&u&&(0,s.gn)()&&u.runtime.registerScript(e);var r=-1,n=-1;if(A.add(e),y(`isLazyLoad: ${__wxConfig.isLazyLoad}`),y(`moduleName: ${e}`),y(`separatedPlugins: ${JSON.stringify(t)}`),__wxConfig.isLazyLoad){console.info("Lazy code loading is enabled. Only injecting required components.");var i=[];t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,m.add(t.plugin_id));try{y(`accessSync path: ${r+f}`),(0,s.cF)(r+f),i.push(r+f,r+h),t.prefix_path||((e,t)=>{var r=(0,s.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}(__wxConfig.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents)})),v.refreshWxConfig("subPackages",__wxConfig.subPackages)}})(e,r+"plugin.json")}catch(e){i.push(r+g)}})),i.push(e+f,e+h),y(`using separated plugins: ${JSON.stringify(i)}`),r=Date.now(),v.loadJsFiles(i),n=Date.now()}else{var a=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,m.add(t.plugin_id)),r+g}));a.push(e+p),y(`using separated plugins: ${JSON.stringify(a)}`),r=Date.now(),a.forEach((e=>{e="/"===e[0]?e:"/"+e,v.alreadyLoadedJsFiles.has(e)||(v.evaluateScriptFile(e),v.alreadyLoadedJsFiles.add(e))})),n=Date.now()}v.refreshWxConfig("extendedLibList",Array.from(m)),r>0&&n>0&&(y("time cost: "+(n-r)),w.send({type:"evaluateScript",moduleName:e,startTime:r,endTime:n}))}},w={setReceiver(e){_=e},send(e){"function"==typeof _&&_(e)}},E=(0,s.Hw)("appServiceSDKScriptError",((e,t)=>{var r=t.moduleName,n="__APP__"===r,i=t.separatedPlugins||[];"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith("/")||(r=`${r}/`),__wxConfig.onReady((()=>{(0,s.gn)()&&c?(r=n?"":r,u.runtime.isInitialInject()?(u.runtime.startBufferBridgeMessages(),u.runtime.runAfterAttached((()=>{b(r,i),u.runtime.dispatchBridgeMessages()}))):b(r,i)):b(n?"":r,i)}))})),C=function(){var e,t={};c&&u&&(t=i()({__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:u.__remoteDebug__},d));var n=new Safeway(v),a=(null===(e=__libVersionInfo__)||void 0===e?void 0:e.version)||"9.9.9",s=i()(i()({wxLibVersion:a,__Function__:__Function__,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,safeway:n,__wxConfig:__wxConfig,Reporter:Reporter,BaseConsole:__appServiceConsole__.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:wxNativeConsole,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},Canvas:r.g.Canvas,Image:r.g.Image,ImageData:r.g.ImageData,Path2D:r.g.Path2D,SkiaCanvasExternalTexture:r.g.SkiaCanvasExternalTexture,skiacanvasLoadNewFont:r.g.skiacanvasLoadNewFont,SkiaCanvas:NativeGlobal.SkiaCanvas,SkiaCanvasRequestAnimationFrame:NativeGlobal.SkiaCanvasRequestAnimationFrame,SkiaCanvasCancelAnimationFrame:NativeGlobal.SkiaCanvasCancelAnimationFrame,SkiaImageData:NativeGlobal.SkiaImageData,HTMLCanvasView:NativeGlobal.HTMLCanvasView,HTMLCanvasElement:NativeGlobal.HTMLCanvasElement,SkiaImage:NativeGlobal.SkiaImages,SkiaPath2D:NativeGlobal.SkiaPath2D,SkiaCanvasLoadNewFont:NativeGlobal.SkiaCanvasLoadNewFont,originConsole:console},t),{},{performanceChannel:w,debuggerMessager:l.O,__sclEngine__:__sclEngine__,LanDebug:o.OJ,getPerfDog:o.yQ,getProfiler:o.YZ});n.onSubpackageReady(E),v.setExportEnv(s),v.init()},I=function(){return v};JSContext&&JSContext.registerSyncMethod&&JSContext.registerSyncMethod("injectEntryFile",(e=>{b(e.moduleName,e.separatedPlugins)}))},594:(e,t,r)=>{r.d(t,{M:()=>a,O:()=>i});var n=[],i="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};i.registerCallback=e=>{"function"==typeof e&&n.push(e)},i.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},309:(e,t,r)=>{r.d(t,{M:()=>c,eC:()=>u,xC:()=>d});var n=r(647),i=r(61),a=r(676),o=r(594);r.g.LanDebug=a.OJ,r.g.getPerfDog=a.yQ,r.g.__debuggerMessager__=o.O;var s=new n.Z({name:"game",secure:!1,entry:["game.js"]});function l(){__appServiceSDK__.getABTestConfig({experimentId:(0,i.gn)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=__wxConfig.plugins||__wxConfig.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));s.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){wxNativeConsole.error("getABTestConfig fail",e)}})}var c=function(e){return e.__wxConfig=__wxConfig,s.setExportEnv(e),(0,i.G$)()||JSContext.isAsync()||l(),s.afterPreloadInit()},u=function(){return s},d=function(e){return s.preInit(e)}},945:(e,t,r)=>{r.d(t,{J:()=>o,r:()=>s});var n=r(647),i=r(61),a=new n.Z({name:"gameOpenData",secure:!0,entry:["subContext.js"]});var o=e=>(e.__wxConfig=__wxConfig,a.setExportEnv(e),(0,i.G$)()||JSContext.isAsync()||function(){var e=__wxConfig.plugins||__wxConfig.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));a.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),a.init()),s=function(){return a}},813:(e,t,r)=>{r.d(t,{dr:()=>_,qo:()=>y,hS:()=>b,K0:()=>A});var n=r(356),i=r.n(n),a=r(503),o=r.n(a),s=r(647),l=r(176),c=r(61),u=r(309),d=r(945),p={},h={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},f=e=>`__plugin__/${e}/plugin.js`,g=null,v=!1,m=1;Foundation.env.isGame&&__wxConfig.preload&&"android"===Foundation.env.platform&&!JSContext.isAsync()?(g=new s.Z({name:`gamePlugin_preload_${m}`,secure:!1,isPreload:!0}),m++,g.preInit()):v=!0;var _=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:a}=e,{provider:u}=e;if(!1===(0,c.N0)())throw new Error("isn't isolateContext mode!");var d,m=p[u=`${u}_${a?"_sub":"main"}`];if(m)return d=m.contextGlobal.__require,!0===m.__isCompleted||!1===m.__isCompleted&&(m.dynamicExportGlobal({name:"pluginEnv",value:t}),h.isolatedContext[u]=d),d;var _,y=`gamePlugin_${u}`,A=f(u.slice(0,-5));_=v?new s.Z({name:y,secure:r,entry:[A]}):g;var b=e=>{if(e.__wxConfig=__wxConfig,_.setExportEnv(o()(o()({},e),{},{pluginEnv:t})),v)return _.init();_.setName(y),_.setEntry([A]),_.afterPreloadInit(),v=!0};return((0,c.G$)()||JSContext.isAsync())&&!0===n?i()((function*(){return yield(0,c.QT)(i()((function*(){(0,l.z)(_),yield b(__appServiceSDK__.getIsolatedGamePluginContextEnv(e)),d=_.contextGlobal.__require,_.__isCompleted=!1,p[u]=_})),"initGamePluginContext"),d}))():((0,c.QT)((()=>{(0,l.z)(_),b(__appServiceSDK__.getIsolatedGamePluginContextEnv(e)),d=_.contextGlobal.__require,_.__isCompleted=!0,p[u]=_}),"initGamePluginContext"),h.isolatedContext[u]=d,d)},y=(e,t,r)=>{var{__name__:n}=e,a=f(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,c.G$)()||JSContext.isAsync())&&!0===r?i()((function*(){return yield e.evaluateScriptFile(a),h[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(a),h[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},A=function(){var e=i()((function*(){var e,t,r=(e=__wxConfig.gamePlugins||__wxConfig.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push(o()(o()({},e[r]),{},{context:n,contexts:null}));var i=e[r].provider;"wx20afc706a711eefc"!==i&&"wx4d5893418b75cb20"!==i||t.push(o()(o()({},e[r]),{},{context:n,subContext:!0,contexts:null}))}));else{t.push(o()(o()({},e[r]),{},{context:{type:"gameContext"},contexts:null}));var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push(o()(o()({},e[r]),{},{context:{type:"gameContext"},subContext:!0,contexts:null}))}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return _(o()(o()({},e),{},{isPreload:!0}));case"gameContext":return n((0,u.eC)(),f(t));case"openDataContext":return n((0,d.r)(),f(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),b=()=>h},228:(e,t,r)=>{var n=r(176);JSContext&&JSContext.registerSyncMethod&&JSContext.registerSyncMethod("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));t?t.loadJsFiles(e.paths):wxNativeConsole.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)}))},76:(e,t,r)=>{r.d(t,{B:()=>n});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}}},356:e=>{e.exports=BabelRuntimeHelpers.asyncToGenerator},503:e=>{e.exports=BabelRuntimeHelpers.objectSpread2}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{initAppRelatedContexts:()=>c,initGameRelatedContexts:()=>u,getAppContext:()=>e.F,getGameContext:()=>t.eC,createGameOpenDataContext:()=>f,getGameOpenDataContext:()=>i.r,createIsolatedGamePlugin:()=>a.dr,injectGamePlugin:()=>a.qo,getGamePlugins:()=>a.hS,isIsolateContext:()=>o.N0,initGameJS:()=>p,initFunctionalPage:()=>d,getPool:()=>s.M,isValidGameIndependentSubpackagePath:()=>o.Qj,loadJsFiles:()=>g});r(146);var e=r(290),t=r(309),i=r(945),a=r(813),o=r(61),s=r(176),l=(r(228),r(495),Object.keys),c=function(t){(0,o.N0)();for(var r=l(t),n=0;n<r.length;n++){var i=r[n];o.xJ[i]=t[i]}(0,o.N0)()&&(0,o.QT)((function(){Protect.hijack(),(0,o.F)(),(0,s.z)((0,e.F)()),(0,e.E)(t)}),"initAppIsolatedContext"),__wxConfig.onReady((()=>{!(0,o.N0)()&&__wxConfig.plugins&&(Protect.overwriteSetPrototypeOf(),Protect.doNotWriteGlobalObjs())}))},u=()=>{var e;function r(){var e=__appServiceSDK__.getGameRelatedContextsExports(),r=e.game.FunctionalPage,n=__wxConfig.appLaunchInfo;if(r.parseCompletePath(n.path).isFunctionalPage&&r.VALID_SCENE.includes(n.scene))d(e);else if((0,o.c6)(n.scene)){var i=(0,o.Qj)(n.path,__wxConfig.subPackages);if(i){var a=(0,t.eC)(),s=i.root;s.endsWith(".js")||(s.endsWith("/")||(s=`${s}/`),s=`${s}game.js`),a.setEntry([s]),h(e,(e=>{e&&(console.error("run game independent subpackage fail",e),wxNativeConsole.error("run game independent subpackage fail",e),a.evaluateScriptFile("game.js"),Reporter.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else h(e)}else h(e)}(__wxConfig.preload||102==__wxConfig.preloadType)&&(e=__appServiceSDK__.getGameRelatedContextsExportsWx().game),(0,t.xC)(e),__wxConfig.onReady((function(){((0,o.G$)()||JSContext.isAsync())&&(0,o.N0)()?(0,a.K0)().then((()=>(r(),null))):r()}))};function d(e){(e=e||__appServiceSDK__.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function p(e){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,s.M)().length>0||h(e)}function h(e,r){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,o.N0)()&&(0,o.QT)((function(){(0,o.F)(),(0,s.z)((0,t.eC)());var n=(0,t.M)(e.game);n&&n.catch&&n.catch((e=>{"function"==typeof r&&r(e)}))}),"initGameIsolatedContext")}function f(e){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,o.QT)((function(){(0,s.z)((0,i.r)());var t=(0,i.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var g=()=>{}})(),__subContextEngine__=n})(),(()=>{"use strict";var e=(e,t,r)=>{r.d(t,{default:()=>re});var n=null,i=()=>null!==n,a=[];WeixinJSBridge.subscribe("batchGetPluginPermissionBytes",(e=>{n=e.data.pluginPermissionBytes,a.forEach((e=>e())),a=[]}));var o=e=>e.split("/",1)[0];function s(e,t){if(delete t.permissionBytes,void 0===t.pluginId)return t;var r=((e,t)=>{e=o(e);var r=n&&n[e]&&n[e][t];return null==r?r=[0,0,0]:"object"!=typeof r&&(r=[r,r,r]),r})(t.pluginId,e);return t.permissionBytes=r,t.privateData=JSON.stringify({pluginId:t.pluginId}),t}function l(e,t,r,n){r=parseInt(r,10),u(e,t,(e=>{n(e[0]===r)}))}function c(e,t,r,n){r=parseInt(r,10),u(e,t,(e=>{n(e[0]!==r)}))}function u(e,t,r){var s;s=()=>{e=o(e);var i=n&&n[e]&&n[e][t];null==i?i=[0,0,0]:"object"!=typeof i&&(i=[i,i,i]),r(i)},i()?s():a.push(s)}var d=BabelRuntimeHelpers.objectSpread2,p=r.n(d);function h(){var e,t,r=Function.prototype.call.bind(String.prototype.charAt),n=Function.prototype.call.bind(String.prototype.indexOf),i=(e=Function.prototype.call.bind(String.fromCharCode),t=String,function(...r){return e(t,...r)});return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,a){a.r(t),a.d(t,"memory",(function(){return p})),a.d(t,"sha1",(function(){return h})),a.d(t,"setSalt",(function(){return f})),a.d(t,"main",(function(){return g})),a.d(t,"__wbindgen_malloc",(function(){return v})),a.d(t,"__wbindgen_realloc",(function(){return m})),a.d(t,"__wbindgen_free",(function(){return _})),a.d(t,"__wbindgen_start",(function(){return y}));var o=new ArrayBuffer(8),s=new Int32Array(o);new Float32Array(o),new Float64Array(o);var l,c=new ArrayBuffer(1114112),u=(l=new Uint8Array(c),function(e,t){var a,o;if("undefined"==typeof Buffer)for(a=function(e){for(var t,a,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;c<e.length;)t=n(s,r(e,c++))<<18|n(s,r(e,c++))<<12|(a=n(s,r(e,c++)))<<6|(o=n(s,r(e,c++))),l+=64===a?i(t>>16&255):64===o?i(t>>16&255,t>>8&255):i(t>>16&255,t>>8&255,255&t);return l}(t),o=0;o<a.length;o++)l[e+o]=a.charCodeAt(o);else for(a=Buffer.from(t,"base64"),o=0;o<a.length;o++)l[e+o]=a[o]});u(1048576,"VHJpZWQgdG8gc2hyaW5rIHRvIGEgbGFyZ2VyIGNhcGFjaXR5c3JjL2xpYmFsbG9jL3Jhd192ZWMucnMAAAAQACQAAAAkABAAFwAAAF0CAAAJAAAAaW50ZXJuYWwgZXJyb3I6IGVudGVyZWQgdW5yZWFjaGFibGUgY29kZVQAEAAoAAAAJAAQABcAAAAKAgAAJwAAADAAAAAxAAAAMgAAADMAAAA0AAAANQAAADYAAAA3AAAAOAAAADkAAABhAAAAYgAAAGMAAABkAAAAZQAAAGYAAABzcmMvbGliY29yZS9zbGljZS9tb2QucnNhc3NlcnRpb24gZmFpbGVkOiBgKGxlZnQgPT0gcmlnaHQpYAogIGxlZnQ6IGBgLAogcmlnaHQ6IGBgOiDsABAALQAAABkBEAAMAAAAJQEQAAMAAABkZXN0aW5hdGlvbiBhbmQgc291cmNlIHNsaWNlcyBoYXZlIGRpZmZlcmVudCBsZW5ndGhzQAEQADQAAADUABAAGAAAAFoIAAAJAAAAY2Fubm90IGFjY2VzcyBhIFRMUyB2YWx1ZSBkdXJpbmcgb3IgYWZ0ZXIgaXQgaXMgZGVzdHJveWVkYWxyZWFkeSBib3Jyb3dlZGFscmVhZHkgbXV0YWJseSBib3Jyb3dlZAAAAAUAAAAAAAAAAQAAAAYAAAAHAAAAAAAAAAEAAAAIAAAACQAAAAAAAAABAAAACgAAACACEAAAAAAAIAIQAAAAAAAMAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAA0AAAAIAAAABAAAAA4AAAAPAAAAEAAAAAgAAAAEAAAAEQAAABIAAAAAAAAAAQAAABMAAABydXN0LWNyeXB0by9zcmMvY3J5cHRvdXRpbC5ycwAAAKgCEAAdAAAALAAAAAUAAABhc3NlcnRpb24gZmFpbGVkOiBkc3QubGVuKCkgPT0gNKgCEAAdAAAAQQAAAAUAAABhc3NlcnRpb24gZmFpbGVkOiBkc3QubGVuKCkgKiA0ID09IGlucHV0LmxlbigpAACoAhAAHQAAAFIAAAAFAAAAYXNzZXJ0aW9uIGZhaWxlZDogZHN0LmxlbigpID49IHNyYy5sZW4oKagCEAAdAAAAowAAAAkAAABOdW1lcmljIG92ZXJmbG93IG9jY3VyZWQuAAAAAAAAAHJ1c3QtY3J5cHRvL3NyYy9jcnlwdG91dGlsLnJzAAAAoAMQAB0AAABNAQAACQAAAKgCEAAdAAAAMQEAAAEAAABhc3NlcnRpb24gZmFpbGVkOiBpZHggPj0gc2VsZi5idWZmZXJfaWR4YXNzZXJ0aW9uIGZhaWxlZDogc2VsZi5idWZmZXJfaWR4ID09IDY0cnVzdC1jcnlwdG8vc3JjL3NoYTEucnMAAC8EEAAXAAAAhAAAAA4AAAB1bmtub3duIGljb3Nhcm91bmQgaW5kZXhAAAAAYXNzZXJ0aW9uIGZhaWxlZDogYChsZWZ0ID09IHJpZ2h0KWAKICBsZWZ0OiBgYCwKIHJpZ2h0OiBgYAAAdAQQAC0AAAChBBAADAAAAK0EEAABAAAALwQQABcAAABdAQAABQAAAC8EEAAXAAAAZAEAAAUAAABhc3NlcnRpb24gZmFpbGVkOiAoIXN0LmNvbXB1dGVkKRUAAAAXAAAABAAAAAQAAAAYAAAAGQAAABoAAAAbAAAAAAAAAAEAAAAcAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZXNyYy9saWJjb3JlL29wdGlvbi5yczQFEAArAAAAXwUQABUAAAB6AQAAFQAAAEFjY2Vzc0Vycm9yAB0AAAAQAAAABAAAAB4AAAAfAAAAIAAAAAwAAAAEAAAAIQAAACIAAAAEAAAABAAAACMAAAAkAAAAJQ=="),u(1050080,"L3J1c3RjLzQ1NjBlYTc4OGNiNzYwZjBhMzQxMjcxNTZjNzhlMjU1Mjk0OWY3MzQvc3JjL2xpYmNvcmUvZm10L21vZC5ycwAA4AUQAEYAAABjAQAAEwAAACYAAAAAAAAAAQAAACcAAABzcmMvbGliYWxsb2MvcmF3X3ZlYy5yc2NhcGFjaXR5IG92ZXJmbG93XwYQABEAAABIBhAAFwAAAAkDAAAFAAAAYSBmb3JtYXR0aW5nIHRyYWl0IGltcGxlbWVudGF0aW9uIHJldHVybmVkIGFuIGVycm9yQm9ycm93RXJyb3JCb3Jyb3dNdXRFcnJvciwAAAAAAAAAAQAAAC0AAABpbmRleCBvdXQgb2YgYm91bmRzOiB0aGUgbGVuIGlzICBidXQgdGhlIGluZGV4IGlzIAAA5AYQACAAAAAEBxAAEgAAAGNhbGxlZCBgT3B0aW9uOjp1bndyYXAoKWAgb24gYSBgTm9uZWAgdmFsdWVzcmMvbGliY29yZS9vcHRpb24ucnMoBxAAKwAAAFMHEAAVAAAAegEAABUAAAC7BhAAAAAAAFMHEAAVAAAApgQAAAUAAAA6IAAAuwYQAAAAAACYBxAAAgAAAHNyYy9saWJjb3JlL3Jlc3VsdC5ycwAAAKwHEAAVAAAAjQQAAAUAAABzcmMvbGliY29yZS9zbGljZS9tb2QucnNpbmRleCAgb3V0IG9mIHJhbmdlIGZvciBzbGljZSBvZiBsZW5ndGgg7AcQAAYAAADyBxAAIgAAANQHEAAYAAAAGQoAAAUAAABzbGljZSBpbmRleCBzdGFydHMgYXQgIGJ1dCBlbmRzIGF0IAA0CBAAFgAAAEoIEAANAAAA1AcQABgAAAAfCgAABQAAADB4MDAwMTAyMDMwNDA1MDYwNzA4MDkxMDExMTIxMzE0MTUxNjE3MTgxOTIwMjEyMjIzMjQyNTI2MjcyODI5MzAzMTMyMzMzNDM1MzYzNzM4Mzk0MDQxNDI0MzQ0NDU0NjQ3NDg0OTUwNTE1MjUzNTQ1NTU2NTc1ODU5NjA2MTYyNjM2NDY1NjY2NzY4Njk3MDcxNzI3Mzc0NzU3Njc3Nzg3OTgwODE4MjgzODQ4NTg2ODc4ODg5OTA5MTkyOTM5NDk1OTY5Nzk4OTl9IH0="),u(1050960,"c3JjL2xpYmNvcmUvZm10L21vZC5ycwAAUAkQABYAAABWBAAAKAAAAFAJEAAWAAAAYgQAABEAAABFcnJvcg==");var d=function(e,t,r){var n=new e.Int8Array(r),i=(new e.Int16Array(r),new e.Int32Array(r)),a=new e.Uint8Array(r),o=(new e.Uint16Array(r),new e.Uint32Array(r)),l=(new e.Float32Array(r),new e.Float64Array(r),e.Math.imul),c=(e.Math.fround,e.Math.abs,e.Math.clz32),u=(e.Math.min,e.Math.max,e.Math.floor,e.Math.ceil,e.Math.sqrt,t.abort),d=(e.NaN,e.Infinity,1048576),p=0;function h(e){var t=0,r=0,n=0,a=0,s=0,l=0,u=0,d=0,p=0,h=0,f=0,g=0;e:{t:{r:{if(e>>>0>=245){if(e>>>0>=4294901709)break t;if(a=-8&(e=e+11|0),!(d=i[262772]))break r;s=0-a|0,u=0,(e>>>=8)&&(u=31,a>>>0>16777215||(u=62+((a>>>(6-(e=c(e))&31)&1)-(e<<1)|0)|0));n:{i:{if(e=i[1051356+(u<<2)>>2]){for(n=a<<(31==(0|u)?0:25-(u>>>1)&31);;){if(!((r=-8&i[e+4>>2])>>>0<a>>>0||(r=r-a|0)>>>0>=s>>>0||(l=e,s=r,r))){s=0;break i}if(r=i[e+20>>2],e=i[16+((n>>>29&4)+e|0)>>2],t=r&&(0|r)!=(0|e)?r:t,n<<=1,!e)break}if(t){e=t;break i}if(l)break n}if(l=0,!(e=d&(0-(e=2<<(31&u))|e)))break r;if(!(e=i[1051356+(we(e&0-e)<<2)>>2]))break r}for(;l=(t=(r=(t=-8&i[e+4>>2])-a|0)>>>0<s>>>0&t>>>0>=a>>>0)?e:l,s=t?r:s,e=(t=i[e+16>>2])||i[e+20>>2];);if(!l)break r}if(s>>>0>=(e=i[262871])-a>>>0&&e>>>0>=a>>>0)break r;E(l);n:if(s>>>0>=16){if(i[l+4>>2]=3|a,i[4+(n=a+l|0)>>2]=1|s,i[s+n>>2]=s,s>>>0>=256){b(n,s);break n}r=1051092+((e=s>>>3)<<3)|0,t=i[262771],e=1<<(31&e),u=i[r+8>>2],t&e||(i[262771]=e|t,u=r),e=u,i[r+8>>2]=n,i[e+12>>2]=n,i[n+12>>2]=r,i[n+8>>2]=e}else e=a+s|0,i[l+4>>2]=3|e,i[4+(e=e+l|0)>>2]=1|i[e+4>>2];return l+8|0}n:{i:{if(!(3&(r=(n=i[262771])>>>(t=31&(e=(a=e>>>0<11?16:e+11&-8)>>>3))))){if(a>>>0<=o[262871])break r;if(r)break i;if(!(e=i[262772]))break r;for(t=i[1051356+(we(e&0-e)<<2)>>2],s=(-8&i[t+4>>2])-a|0,n=t;;){if(!(e=i[t+16>>2])&&!(e=i[t+20>>2]))break n;s=(r=(t=(-8&i[e+4>>2])-a|0)>>>0<s>>>0)?t:s,n=r?e:n,t=e}}s=(l=i[16+(e=1051084+((r=e+(1&(-1^r))|0)<<3)|0)>>2])+8|0,(0|(t=i[l+8>>2]))==(0|(e=e+8|0))?(f=1051084,g=Ee(-2,r)&n,i[f>>2]=g):(i[t+12>>2]=e,i[e+8>>2]=t),e=r<<3,i[l+4>>2]=3|e,i[4+(e=e+l|0)>>2]=1|i[e+4>>2];break t}return l=we(0-(e=(0-(e=2<<t)|e)&r<<t)&e),d=i[16+(e=1051084+(l<<3)|0)>>2],(0|(t=i[d+8>>2]))==(0|(e=e+8|0))?(f=1051084,g=Ee(-2,l)&n,i[f>>2]=g):(i[t+12>>2]=e,i[e+8>>2]=t),i[d+4>>2]=3|a,l=(e=l<<3)-a|0,i[4+(r=a+d|0)>>2]=1|l,i[e+d>>2]=l,(e=i[262871])&&(s=i[262873],n=1051092+((e>>>=3)<<3)|0,t=i[262771],e=1<<(31&e),u=i[n+8>>2],t&e||(i[262771]=e|t,u=n),e=u,i[n+8>>2]=s,i[e+12>>2]=s,i[s+12>>2]=n,i[s+8>>2]=e),i[262873]=r,i[262871]=l,d+8|0}return E(n),s>>>0>=16?(i[n+4>>2]=3|a,i[4+(r=a+n|0)>>2]=1|s,i[r+s>>2]=s,(e=i[262871])&&(d=i[262873],l=1051092+((e>>>=3)<<3)|0,t=i[262771],e=1<<(31&e),u=i[l+8>>2],t&e||(i[262771]=e|t,u=l),e=u,i[l+8>>2]=d,i[e+12>>2]=d,i[d+12>>2]=l,i[d+8>>2]=e),i[262873]=r,i[262871]=s):(e=a+s|0,i[n+4>>2]=3|e,i[4+(e=e+n|0)>>2]=1|i[e+4>>2]),n+8|0}r:{n:{i:{a:{if((r=i[262871])>>>0<a>>>0){if((e=i[262872])>>>0>a>>>0)break e;if(s=0,-1==(0|(e=Ie((t=a+65583|0)>>>16))))break t;if(!(p=e<<16))break t;if(t=(d=-65536&t)+i[262875]|0,i[262875]=t,e=i[262876],i[262876]=e>>>0>t>>>0?e:t,!(h=i[262874]))break a;for(e=1051508;;){if((0|p)==((r=i[e>>2])+(t=i[e+4>>2])|0))break i;if(!(e=i[e+8>>2]))break}break n}return l=i[262873],(t=r-a|0)>>>0<=15?(i[262873]=0,i[262871]=0,i[l+4>>2]=3|r,a=4+(e=r+l|0)|0,s=1|i[e+4>>2]):(i[262871]=t,e=a+l|0,i[262873]=e,i[e+4>>2]=1|t,i[r+l>>2]=t,s=3|a,a=l+4|0),i[a>>2]=s,l+8|0}for((e=i[262882])>>>0<=p>>>0&&e||(i[262882]=p),i[262883]=4095,i[262877]=p,e=0,i[262880]=0,i[262878]=d;t=8+(r=e+1051084|0)|0,i[r+16>>2]=t,i[r+20>>2]=t,256!=(0|(e=e+8|0)););i[262874]=p,e=d+-40|0,i[262872]=e,i[p+4>>2]=1|e,i[4+(e+p|0)>>2]=40,i[262881]=2097152;break r}if(!(i[e+12>>2]|p>>>0<=h>>>0|r>>>0>h>>>0)){i[e+4>>2]=t+d,r=(l=i[262874])+15&-8,i[262874]=r+-8,e=8+((t=d+i[262872]|0)+(l-r|0)|0)|0,i[262872]=e,i[r+-4>>2]=1|e,i[4+(t+l|0)>>2]=40,i[262881]=2097152;break r}}e=i[262882],i[262882]=e>>>0<p>>>0?e:p,n=d+p|0,e=1051508;n:{for(;;){if((0|n)!=i[e>>2]){if(e=i[e+8>>2])continue;break n}break}if(!i[e+12>>2]){i[e>>2]=p,i[e+4>>2]=d+i[e+4>>2],i[p+4>>2]=3|a,s=a+p|0,a=(n-p|0)-a|0;i:{a:{if((0|n)!=i[262874]){if(i[262873]==(0|n))break a;if(1==(3&(l=i[n+4>>2]))&&((r=-8&l)>>>0>=256?E(n):(0|(t=i[n+12>>2]))==(0|(e=i[n+8>>2]))?(f=1051084,g=i[262771]&Ee(-2,l>>>3),i[f>>2]=g):(i[e+12>>2]=t,i[t+8>>2]=e),a=r+a|0,n=r+n|0),i[n+4>>2]=-2&i[n+4>>2],i[s+4>>2]=1|a,i[a+s>>2]=a,a>>>0>=256){b(s,a);break i}r=1051092+((e=a>>>3)<<3)|0,t=i[262771],e=1<<(31&e),n=i[r+8>>2],t&e||(i[262771]=e|t,n=r),e=n,i[r+8>>2]=s,i[e+12>>2]=s,i[s+12>>2]=r,i[s+8>>2]=e;break i}i[262874]=s,e=i[262872]+a|0,i[262872]=e,i[s+4>>2]=1|e;break i}i[262873]=s,e=i[262871]+a|0,i[262871]=e,i[s+4>>2]=1|e,i[e+s>>2]=e}return p+8|0}}for(e=1051508;!((t=i[e>>2])>>>0<=h>>>0&&(n=t+i[e+4>>2]|0)>>>0>h>>>0);)e=i[e+8>>2];for(i[262874]=p,e=d+-40|0,i[262872]=e,i[p+4>>2]=1|e,i[4+(e+p|0)>>2]=40,i[262881]=2097152,i[(u=(e=(n+-32&-8)-8|0)>>>0<h+16>>>0?h:e)+4>>2]=27,l=i[262877],r=i[262878],t=i[262880],i[(e=u+16|0)>>2]=i[262879],i[e+4>>2]=t,i[u+8>>2]=l,i[u+12>>2]=r,i[262880]=0,i[262878]=d,i[262877]=p,i[262879]=u+8,e=u+28|0;i[e>>2]=7,n>>>0>(e=e+4|0)>>>0;);(0|u)!=(0|h)&&(i[u+4>>2]=-2&i[u+4>>2],e=u-h|0,i[h+4>>2]=1|e,i[u>>2]=e,e>>>0>=256?b(h,e):(r=1051092+((e>>>=3)<<3)|0,t=i[262771],e=1<<(31&e),n=i[r+8>>2],t&e||(i[262771]=e|t,n=r),e=n,i[r+8>>2]=h,i[e+12>>2]=h,i[h+12>>2]=r,i[h+8>>2]=e))}if(!((e=i[262872])>>>0<=a>>>0))break e}return s}return t=e-a|0,i[262872]=t,e=(r=i[262874])+a|0,i[262874]=e,i[e+4>>2]=1|t,i[r+4>>2]=3|a,r+8|0}function f(e,t,r){var o,s=0,l=0,c=0,p=0,h=0,f=0,g=0;d=o=d+-64|0,i[o+36>>2]=t,s=i[r+20>>2],i[o+52>>2]=s,n[o+56|0]=3,l=i[r+16>>2],i[o+44>>2]=l+(s<<3),i[o+8>>2]=0,i[o+12>>2]=32,i[o+32>>2]=e,i[o+24>>2]=0,i[o+16>>2]=0,i[o+48>>2]=l,i[o+40>>2]=l;e:{t:{r:{n:{if(!(c=i[r+8>>2])){if(h=i[r>>2],!(c=s>>>0>(f=i[r+4>>2])>>>0?f:s))break n;if(s=1,Ce[i[t+12>>2]](e,i[h>>2],i[h+4>>2]))break e;for(r=h+12|0,p=1;;){if(Ce[i[l+4>>2]](i[l>>2],o+8|0))break e;if(p>>>0>=c>>>0)break n;if(e=r+-4|0,t=i[r>>2],r=r+8|0,l=l+8|0,p=p+1|0,Ce[i[i[o+36>>2]+12>>2]](i[o+32>>2],i[e>>2],t))break}break e}if(h=i[r>>2],f=i[r+4>>2],g=(r=i[r+12>>2])>>>0>f>>>0?f:r){if(s=1,Ce[i[t+12>>2]](e,i[h>>2],i[h+4>>2]))break e;for(r=h+12|0,l=c+16|0,p=1;;){i[o+12>>2]=i[l+-8>>2],n[o+56|0]=a[l+16|0],i[o+8>>2]=i[l+-4>>2],t=0,s=0;i:{a:switch(i[l+8>>2]-1|0){default:e=i[l+12>>2],s=1;break i;case 0:if((c=i[l+12>>2])>>>0<(s=i[o+52>>2])>>>0){if(s=0,c=i[o+48>>2]+(c<<3)|0,41!=i[c+4>>2])break i;e=i[i[c>>2]>>2],s=1;break i}k(1051e3,c,s),u();case 1:break a;case 2:break i}(0|(c=i[o+40>>2]))!=i[o+44>>2]&&(i[o+40>>2]=c+8,41==i[c+4>>2]&&(e=i[i[c>>2]>>2],s=1))}i[o+20>>2]=e,i[o+16>>2]=s;i:{a:{o:{s:{l:{c:switch(i[l>>2]-1|0){case 1:if((0|(e=i[o+40>>2]))!=i[o+44>>2])break l;break i;case 2:break i;case 0:break c;default:break o}if((e=i[l+4>>2])>>>0>=(s=i[o+52>>2])>>>0)break s;if(e=i[o+48>>2]+(e<<3)|0,41!=i[e+4>>2])break i;s=i[i[e>>2]>>2];break a}if(i[o+40>>2]=e+8,41!=i[e+4>>2])break i;s=i[i[e>>2]>>2];break a}k(1051e3,e,s),u()}s=i[l+4>>2]}t=1}if(i[o+28>>2]=s,i[o+24>>2]=t,1==i[l+-16>>2]){if((e=i[l+-12>>2])>>>0>=(t=i[o+52>>2])>>>0)break t;s=i[o+48>>2]+(e<<3)|0}else{if((0|(s=i[o+40>>2]))==i[o+44>>2])break r;i[o+40>>2]=s+8}if(Ce[i[s+4>>2]](i[s>>2],o+8|0)){s=1;break e}if(p>>>0>=g>>>0)break n;if(e=r+-4|0,t=i[r>>2],r=r+8|0,l=l+36|0,s=1,p=p+1|0,Ce[i[i[o+36>>2]+12>>2]](i[o+32>>2],i[e>>2],t))break}break e}}if(f>>>0>p>>>0&&(s=1,e=(p<<3)+h|0,Ce[i[i[o+36>>2]+12>>2]](i[o+32>>2],i[e>>2],i[e+4>>2])))break e;s=0;break e}L(1050472),u()}k(1050984,e,t),u()}return d=o- -64|0,s}function g(e,t,r){var o=0,s=0,l=0,c=0,u=0,d=0,p=0,h=0,f=0,g=0,v=0,m=0;o=i[e+16>>2];e:{t:{r:{n:{if(1!=(0|(g=i[e+8>>2]))){if(o)break n;o=0|Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],t,r);break t}if(!o)break r}n:if(r){for(u=t+r|0,h=i[e+20>>2]+1|0,v=o=t;;){l=o+1|0;i:{a:{if((0|(s=n[0|o]))<=-1){if((0|l)!=(0|u)?(p=63&a[o+1|0],o=l=o+2|0):(p=0,o=u),d=(f=31&s)<<6|p,(m=255&s)>>>0<=223)break a;if((0|o)!=(0|u)?(d=63&a[0|o],s=l=o+1|0):(d=0,s=u),d=(p=p<<6|d)|f<<12,m>>>0<240)break a;if((0|s)!=(0|u)?(o=s+1|0,s=63&a[0|s]):(o=l,s=0),1114112!=(0|(s=s|f<<18&1835008|p<<6)))break i;break n}d=255&s}s=d,o=l}if(h=h+-1|0){if(c=(c-v|0)+o|0,v=o,(0|o)!=(0|u))continue;break n}break}1114112!=(0|s)&&(s=c,l=r,!(!c|(0|r)==(0|c))&&(o=0,n[t+c|0]<-64|c>>>0>=r>>>0)||(o=t),r=o?s:l,t=o||t)}else r=0;if(!g)break e}if(l=0,r)for(s=r,o=t;l=(128==(192&a[0|o]))+l|0,o=o+1|0,s=s+-1|0;);if(r-l>>>0>=(u=i[e+12>>2])>>>0)break e;if(c=0,l=0,r)for(s=r,o=t;l=(128==(192&a[0|o]))+l|0,o=o+1|0,s=s+-1|0;);s=u+(l-r|0)|0;r:{n:{i:switch((3==(0|(o=a[e+48|0]))?0:o)-1|0){case 1:break n;case 0:case 2:break i;default:break r}c=s,s=0;break r}c=s>>>1,s=s+1>>>1}o=c+1|0;r:{for(;;){if(!(o=o+-1|0))break r;if(Ce[i[i[e+28>>2]+16>>2]](i[e+24>>2],i[e+4>>2]))break}return 1}if(l=i[e+4>>2],o=1,!Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],t,r)){for(o=s+1|0,t=i[e+28>>2],e=i[e+24>>2];;){if(!(o=o+-1|0))return 0;if(Ce[i[t+16>>2]](e,l))break}return 1}}return o}return 0|Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],t,r)}function v(e){var t=0,r=0,n=0,a=0,o=0,s=0,l=0;r=(t=e+-8|0)+(e=-8&(a=i[e+-4>>2]))|0;e:{t:{r:{n:if(!(1&a)){if(!(3&a))break r;if(e=(a=i[t>>2])+e|0,(0|(t=t-a|0))==i[262873]){if(3!=(3&i[r+4>>2]))break n;return i[262871]=e,i[r+4>>2]=-2&i[r+4>>2],i[t+4>>2]=1|e,void(i[e+t>>2]=e)}a>>>0>=256?E(t):(0|(n=i[t+8>>2]))==(0|(o=i[t+12>>2]))?(s=1051084,l=i[262771]&Ee(-2,a>>>3),i[s>>2]=l):(i[n+12>>2]=o,i[o+8>>2]=n)}if(2&(a=i[r+4>>2]))i[r+4>>2]=-2&a,i[t+4>>2]=1|e,i[e+t>>2]=e;else{n:{if(i[262874]!=(0|r)){if((0|r)!=i[262873])break n;return i[262873]=t,e=i[262871]+e|0,i[262871]=e,i[t+4>>2]=1|e,void(i[e+t>>2]=e)}if(i[262874]=t,e=i[262872]+e|0,i[262872]=e,i[t+4>>2]=1|e,(0|t)==i[262873]&&(i[262871]=0,i[262873]=0),(r=i[262881])>>>0>=e>>>0)break r;if(!(e=i[262874]))break r;i:if(!((a=i[262872])>>>0<41))for(t=1051508;;){if((n=i[t>>2])+i[t+4>>2]>>>0>e>>>0&&n>>>0<=e>>>0)break i;if(!(t=i[t+8>>2]))break}if(n=4095,e=i[262879]){for(t=0;t=t+1|0,e=i[e+8>>2];);n=t>>>0>4095?t:4095}if(i[262883]=n,a>>>0<=r>>>0)break r;return void(i[262881]=-1)}if(e=(n=-8&a)+e|0,n>>>0>=256?E(r):(0|(n=i[r+12>>2]))==(0|(r=i[r+8>>2]))?(s=1051084,l=i[262771]&Ee(-2,a>>>3),i[s>>2]=l):(i[r+12>>2]=n,i[n+8>>2]=r),i[t+4>>2]=1|e,i[e+t>>2]=e,i[262873]==(0|t)){i[262871]=e;break r}}if(e>>>0<256)break t;if(b(t,e),e=i[262883]+-1|0,i[262883]=e,!e){if(e=i[262879])break e;return void(i[262883]=4095)}}return}return e=1051092+((r=e>>>3)<<3)|0,a=i[262771],r=1<<(31&r),n=i[e+8>>2],a&r||(i[262771]=r|a,n=e),r=n,i[e+8>>2]=t,i[r+12>>2]=t,i[t+12>>2]=e,void(i[t+8>>2]=r)}for(t=0;t=t+1|0,e=i[e+8>>2];);i[262883]=t>>>0>4095?t:4095}function m(e,t,r,o,s){var l,c,u=0,d=0,p=0,h=0;if(l=(u=1&(c=i[e>>2]))?43:1114112,h=s+u|0,4&c){if(r)for(p=r,u=t;d=(128==(192&a[0|u]))+d|0,u=u+1|0,p=p+-1|0;);h=(r+h|0)-d|0}else t=0;e:{t:{if(1!=i[e+8>>2]){if(B(e,l,t,r))break t;break e}if((u=i[e+12>>2])>>>0<=h>>>0){if(B(e,l,t,r))break t;break e}r:{if(!(8&c)){d=u-h|0,u=0;n:{i:{a:switch((3==(0|(p=a[e+48|0]))?1:p)-1|0){case 1:break i;case 0:case 2:break a;default:break n}u=d,d=0;break n}u=d>>>1,d=d+1>>>1}for(u=u+1|0;;){if(!(u=u+-1|0))break r;if(Ce[i[i[e+28>>2]+16>>2]](i[e+24>>2],i[e+4>>2]))break}return 1}if(n[e+48|0]=1,i[e+4>>2]=48,B(e,l,t,r))break t;d=u-h|0,u=0;n:{i:{a:switch((3==(0|(t=a[e+48|0]))?1:t)-1|0){case 1:break i;case 0:case 2:break a;default:break n}u=d,d=0;break n}u=d>>>1,d=d+1>>>1}u=u+1|0;n:{for(;;){if(!(u=u+-1|0))break n;if(Ce[i[i[e+28>>2]+16>>2]](i[e+24>>2],i[e+4>>2]))break}return 1}if(t=i[e+4>>2],Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],o,s))break t;for(d=d+1|0,r=i[e+28>>2],e=i[e+24>>2];;){if(!(d=d+-1|0))return 0;if(Ce[i[r+16>>2]](e,t))break}break t}if(u=i[e+4>>2],!B(e,l,t,r)&&!Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],o,s))for(d=d+1|0,t=i[e+28>>2],e=i[e+24>>2];;){if(!(d=d+-1|0))return 0;if(Ce[i[t+16>>2]](e,u))break}}return 1}return 0|Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],o,s)}function _(e,t,r,n){var a,o=0,s=0,l=0,c=0,p=0,h=0;d=a=d-32|0;e:{t:{r:{n:{i:{if((n&=255)>>>0<=3)switch(n-1|0){case 2:break t;case 1:break r;case 0:break n;default:break i}X(1049688,24,1049672),u()}l=Ee(o=i[t>>2],5),s=i[t+12>>2],n=i[t+8>>2],t=i[t+4>>2],c=Ee(l=1518500249+((l+i[r>>2]|0)+((s^n)&t^s)|0)|0,30),i[e+12>>2]=c,s=1518500249+(((s+(n^o&((t=Ee(t,30))^n))|0)+i[r+4>>2]|0)+Ee(l,5)|0)|0,p=e,h=Ee(s,30),i[p+8>>2]=h,o=1518500249+(((n+i[r+8>>2]|0)+(t^l&((n=Ee(o,30))^t))|0)+Ee(s,5)|0)|0,i[e+4>>2]=o,p=e,h=1518500249+(((t+i[r+12>>2]|0)+(n^s&(n^c))|0)+Ee(o,5)|0)|0,i[p>>2]=h;break e}s=i[4+(o=t+8|0)>>2],i[(n=a+8|0)>>2]=i[o>>2],i[n+4>>2]=s,n=i[t+4>>2],i[a>>2]=i[t>>2],i[a+4>>2]=n,i[a+28>>2]=i[r+12>>2]+1859775393,i[a+24>>2]=i[r+8>>2]+1859775393,i[a+20>>2]=i[r+4>>2]+1859775393,i[a+16>>2]=i[r>>2]+1859775393,S(e,a,a+16|0);break e}l=Ee(o=i[t>>2],5),s=i[t+12>>2],n=i[t+8>>2],t=i[t+4>>2],c=Ee(l=((l+i[r>>2]|0)+((s^n)&t^n&s)|0)-1894007588|0,30),i[e+12>>2]=c,s=(((s+(o&((t=Ee(t,30))^n)^t&n)|0)+i[r+4>>2]|0)+Ee(l,5)|0)-1894007588|0,p=e,h=Ee(s,30),i[p+8>>2]=h,o=(((n+i[r+8>>2]|0)+(l&((n=Ee(o,30))^t)^t&n)|0)+Ee(s,5)|0)-1894007588|0,i[e+4>>2]=o,p=e,h=(((t+i[r+12>>2]|0)+(s&(n^c)^n&c)|0)+Ee(o,5)|0)-1894007588|0,i[p>>2]=h;break e}s=i[4+(o=t+8|0)>>2],i[(n=a+8|0)>>2]=i[o>>2],i[n+4>>2]=s,n=i[t+4>>2],i[a>>2]=i[t>>2],i[a+4>>2]=n,i[a+28>>2]=i[r+12>>2]+-899497514,i[a+24>>2]=i[r+8>>2]+-899497514,i[a+20>>2]=i[r+4>>2]+-899497514,i[a+16>>2]=i[r>>2]+-899497514,S(e,a,a+16|0)}d=a+32|0}function y(e,t){var r=0,n=0,a=0,o=0,s=0,l=0;r=e+t|0;e:{t:{r:if(!(1&(n=i[e+4>>2]))){if(!(3&n))break t;if(t=(n=i[e>>2])+t|0,(0|(e=e-n|0))==i[262873]){if(3!=(3&i[r+4>>2]))break r;return i[262871]=t,i[r+4>>2]=-2&i[r+4>>2],i[e+4>>2]=1|t,void(i[r>>2]=t)}n>>>0>=256?E(e):(0|(a=i[e+8>>2]))==(0|(o=i[e+12>>2]))?(s=1051084,l=i[262771]&Ee(-2,n>>>3),i[s>>2]=l):(i[a+12>>2]=o,i[o+8>>2]=a)}if(2&(n=i[r+4>>2])){i[r+4>>2]=-2&n,i[e+4>>2]=1|t,i[e+t>>2]=t;break e}r:{if(i[262874]!=(0|r)){if((0|r)!=i[262873])break r;return i[262873]=e,t=i[262871]+t|0,i[262871]=t,i[e+4>>2]=1|t,void(i[e+t>>2]=t)}if(i[262874]=e,t=i[262872]+t|0,i[262872]=t,i[e+4>>2]=1|t,i[262873]!=(0|e))break t;return i[262871]=0,void(i[262873]=0)}if(t=(a=-8&n)+t|0,a>>>0>=256?E(r):(0|(a=i[r+12>>2]))==(0|(r=i[r+8>>2]))?(s=1051084,l=i[262771]&Ee(-2,n>>>3),i[s>>2]=l):(i[r+12>>2]=a,i[a+8>>2]=r),i[e+4>>2]=1|t,i[e+t>>2]=t,i[262873]!=(0|e))break e;i[262871]=t}return}t>>>0>=256?b(e,t):(t=1051092+((r=t>>>3)<<3)|0,n=i[262771],r=1<<(31&r),a=i[t+8>>2],n&r||(i[262771]=r|n,a=t),r=a,i[t+8>>2]=e,i[r+12>>2]=e,i[e+12>>2]=t,i[e+8>>2]=r)}function A(e,t){var r=0,n=0,a=0,o=0,s=0;return-65587-(e=e>>>0>16?e:16)>>>0<=t>>>0||(r=h(12+((a=t>>>0<11?16:t+11&-8)+e|0)|0))&&(t=r+-8|0,(n=e+-1|0)&r?(n=(-8&(s=i[(o=r+-4|0)>>2]))-(r=(e=(r=(r+n&0-e)-8|0)-t>>>0>16?r:e+r|0)-t|0)|0,3&s?(i[e+4>>2]=n|1&i[e+4>>2]|2,i[4+(n=e+n|0)>>2]=1|i[n+4>>2],i[o>>2]=r|1&i[o>>2]|2,i[e+4>>2]=1|i[e+4>>2],y(t,r)):(t=i[t>>2],i[e+4>>2]=n,i[e>>2]=t+r)):e=t,3&(t=i[e+4>>2])&&((r=-8&t)>>>0<=a+16>>>0||(i[e+4>>2]=a|1&t|2,t=e+a|0,a=r-a|0,i[t+4>>2]=3|a,i[4+(r=e+r|0)>>2]=1|i[r+4>>2],y(t,a))),n=e+8|0),n}function b(e,t){var r=0,n=0,a=0,o=0;i[e+16>>2]=0,i[e+20>>2]=0,o=e,n=0,(r=t>>>8)&&(n=31,t>>>0>16777215||(n=62+((t>>>(6-(r=c(r))&31)&1)-(r<<1)|0)|0)),a=n,i[o+28>>2]=a,o=1051356+(a<<2)|0;e:{t:{r:{n:{if((n=1<<(31&a))&(r=i[262772])){if(r=i[o>>2],(-8&i[r+4>>2])!=(0|t))break n;n=r;break r}i[262772]=r|n,i[o>>2]=e,i[e+24>>2]=o;break e}for(a=t<<(31==(0|a)?0:25-(a>>>1)&31);;){if(!(n=i[(o=16+((a>>>29&4)+r|0)|0)>>2]))break t;if(a<<=1,(-8&i[(r=n)+4>>2])==(0|t))break}}return t=i[n+8>>2],i[t+12>>2]=e,i[n+8>>2]=e,i[e+24>>2]=0,i[e+12>>2]=n,void(i[e+8>>2]=t)}i[o>>2]=e,i[e+24>>2]=r}i[e+12>>2]=e,i[e+8>>2]=e}function w(e,t,r){var o,s=0,l=0;d=o=d-80|0,a[e+96|0]||(i[o+76>>2]=e+8,function(e,t){var r;if(d=r=d-16|0,F(r+8|0,e,1),i[r+12>>2])return n[i[r+8>>2]]=128,64-i[e>>2]>>>0<8&&(O(e,64),N(r,e),I(i[t>>2],i[r>>2],i[r+4>>2])),O(e,56),void(d=r+16|0);k(1049536,0,0),u()}(s=e+28|0,o+76|0),F(o- -64|0,s,4),W(i[o+64>>2],i[o+68>>2],i[e+4>>2]),F(o+56|0,s,4),W(i[o+56>>2],i[o+60>>2],i[e>>2]),l=i[o+76>>2],N(o+48|0,s),I(l,i[o+48>>2],i[o+52>>2]),n[e+96|0]=1),j(o+40|0,t,r,0,4),W(i[o+40>>2],i[o+44>>2],i[e+8>>2]),j(o+32|0,t,r,4,8),W(i[o+32>>2],i[o+36>>2],i[e+12>>2]),j(o+24|0,t,r,8,12),W(i[o+24>>2],i[o+28>>2],i[e+16>>2]),j(o+16|0,t,r,12,16),W(i[o+16>>2],i[o+20>>2],i[e+20>>2]),j(o+8|0,t,r,16,20),W(i[o+8>>2],i[o+12>>2],i[e+24>>2]),d=o+80|0}function E(e){var t,r=0,n=0,a=0,o=0,s=0,l=0;t=i[e+24>>2];e:{t:{if((0|e)==(0|(r=i[e+12>>2]))){if(a=i[(r=e+20|0)>>2],n=i[(a?20:16)+e>>2])break t;r=0;break e}n=i[e+8>>2],i[n+12>>2]=r,i[r+8>>2]=n;break e}for(a=a?r:e+16|0;o=a,(n=i[(a=(r=n)+20|0)>>2])||(a=r+16|0,n=i[r+16>>2]),n;);i[o>>2]=0}e:if(t){n=1051356+(i[e+28>>2]<<2)|0;t:{if((0|e)==i[n>>2]){if(i[n>>2]=r,r)break t;return s=1051088,l=i[262772]&Ee(-2,i[e+28>>2]),void(i[s>>2]=l)}if(i[(i[t+16>>2]==(0|e)?16:20)+t>>2]=r,!r)break e}i[r+24>>2]=t,(n=i[e+16>>2])&&(i[r+16>>2]=n,i[n+24>>2]=r),(e=i[e+20>>2])&&(i[r+20>>2]=e,i[e+24>>2]=r)}}function C(e,t,r,n){var a,o,s=0,l=0,c=0;d=a=d+-64|0,l=1,s=i[n+12>>2],c=i[n+8>>2],o=i[n+4>>2],n=i[n>>2];e:{t:{if(1==i[262884]){if(l=i[262885]+1|0,i[262885]=l,l>>>0>2)break t}else i[262884]=1,i[262885]=1;if(ee(a+48|0,n,o,c,s),s=i[4+(n=a+56|0)>>2],i[(c=a+36|0)>>2]=i[n>>2],i[c+4>>2]=s,i[a+24>>2]=r,i[a+20>>2]=1049892,i[a+16>>2]=1,r=i[a+52>>2],i[a+28>>2]=i[a+48>>2],i[a+32>>2]=r,!((0|(r=i[262768]))<=-1)&&(r=r+1|0,i[262768]=r,(n=i[262770])&&(r=i[262769],Ce[i[t+16>>2]](a+8|0,e),s=i[a+12>>2],i[a+16>>2]=i[a+8>>2],i[a+20>>2]=s,Ce[i[n+12>>2]](r,a+16|0),r=i[262768]),i[262768]=r+-1,l>>>0<=1))break e}u()}d=r=d-16|0,i[r+12>>2]=t,i[r+8>>2]=e,u()}function I(e,t,r){var n;if(d=n=d-96|0,i[n+4>>2]=r,64==(0|r))return J(n+32|0,64),function(e,t){var r=0,n=0;for(n=16;n;)r=a[0|t]|a[t+1|0]<<8|a[t+2|0]<<16|a[t+3|0]<<24,i[e>>2]=r<<24|r<<8&16711680|r>>>8&65280|r>>>24,n=n+-1|0,t=t+4|0,e=e+4|0}(n+32|0,t),function(e,t){var r,n=0,a=0,o=0,s=0,l=0,c=0,u=0,p=0,h=0,f=0,g=0,v=0,m=0,y=0,A=0,b=0,w=0,E=0,C=0,I=0,S=0,T=0,x=0,P=0,k=0;d=r=d+-64|0,h=i[t>>2],l=i[t+4>>2],c=i[t+8>>2],u=i[t+12>>2],m=i[e>>2],f=i[e+8>>2],p=i[e+4>>2],i[r+44>>2]=i[e+12>>2],i[r+36>>2]=p,i[r+40>>2]=f,i[r+32>>2]=m,i[r+60>>2]=u,i[r+56>>2]=c,i[r+52>>2]=l,i[r+48>>2]=h+i[e+16>>2],_(r,r+32|0,r+48|0,0),y=i[t+16>>2],g=i[t+20>>2],C=i[t+24>>2],A=i[t+28>>2],o=i[4+(p=r+8|0)>>2],i[(a=f=r+40|0)>>2]=i[p>>2],i[a+4>>2]=o,a=i[r+4>>2],i[r+32>>2]=i[r>>2],i[r+36>>2]=a,i[r+60>>2]=A,i[r+56>>2]=C,i[r+52>>2]=g,P=r,k=Ee(m,30)+y|0,i[P+48>>2]=k,_(r+16|0,r+32|0,r+48|0,0),s=i[r+16>>2],m=i[r+20>>2],a=i[r+24>>2],o=i[t+32>>2],b=i[t+36>>2],w=i[t+40>>2],E=i[t+44>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=m,i[r+40>>2]=a,i[r+32>>2]=s,i[r+60>>2]=E,i[r+56>>2]=w,i[r+52>>2]=b,P=r,k=Ee(i[r>>2],30)+o|0,i[P+48>>2]=k,_(r+16|0,r+32|0,r+48|0,0),v=i[4+(a=m=r+24|0)>>2],I=i[a>>2],i[p>>2]=I,i[p+4>>2]=v,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,T=i[t+48>>2],a=i[t+52>>2],x=i[t+56>>2],t=i[t+60>>2],i[f>>2]=I,i[f+4>>2]=v,i[r+32>>2]=S,i[r+36>>2]=n,i[r+60>>2]=t,i[r+56>>2]=x,i[r+52>>2]=a,P=r,k=Ee(s,30)+T|0,i[P+48>>2]=k,_(r+16|0,r+32|0,r+48|0,0),v=i[r+16>>2],s=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=s,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),h=Ee(a^o^h^c,1),i[r+48>>2]=n+h,s=Ee(h^E^u^g,1),i[r+60>>2]=s,c=Ee(t^w^c^y,1),i[r+56>>2]=c,u=Ee(x^b^l^u,1),i[r+52>>2]=u,_(r+16|0,r+32|0,r+48|0,0),l=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=l,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=l,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),y=Ee(u^T^y^C,1),i[r+48>>2]=n+y,C=Ee(s^x^o^C,1),i[r+56>>2]=C,l=Ee(y^t^A^b,1),i[r+60>>2]=l,g=Ee(c^a^g^A,1),i[r+52>>2]=g,_(r+16|0,r+32|0,r+48|0,1),v=i[r+16>>2],A=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=A,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),o=Ee(g^h^o^w,1),i[r+48>>2]=n+o,w=Ee(l^c^w^T,1),i[r+56>>2]=w,A=Ee(o^s^a^E,1),i[r+60>>2]=A,b=Ee(C^u^E^b,1),i[r+52>>2]=b,_(r+16|0,r+32|0,r+48|0,1),E=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=E,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=E,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),E=Ee(b^y^x^T,1),i[r+48>>2]=n+E,x=Ee(A^C^h^x,1),i[r+56>>2]=x,T=Ee(E^l^t^u,1),i[r+60>>2]=T,t=Ee(w^g^t^a,1),i[r+52>>2]=t,_(r+16|0,r+32|0,r+48|0,1),v=i[r+16>>2],a=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=a,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),a=Ee(t^o^h^c,1),i[r+48>>2]=n+a,h=Ee(a^A^s^g,1),i[r+60>>2]=h,c=Ee(T^w^c^y,1),i[r+56>>2]=c,s=Ee(x^b^s^u,1),i[r+52>>2]=s,_(r+16|0,r+32|0,r+48|0,1),u=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=u,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=u,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),u=Ee(s^E^y^C,1),i[r+48>>2]=n+u,y=Ee(h^x^o^C,1),i[r+56>>2]=y,C=Ee(u^T^l^b,1),i[r+60>>2]=C,l=Ee(c^t^l^g,1),i[r+52>>2]=l,_(r+16|0,r+32|0,r+48|0,1),v=i[r+16>>2],g=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=g,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),o=Ee(l^a^o^w,1),i[r+48>>2]=n+o,w=Ee(C^c^E^w,1),i[r+56>>2]=w,g=Ee(o^h^t^A,1),i[r+60>>2]=g,b=Ee(y^s^A^b,1),i[r+52>>2]=b,_(r+16|0,r+32|0,r+48|0,2),A=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=A,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=A,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),E=Ee(b^u^x^E,1),i[r+48>>2]=n+E,x=Ee(g^y^a^x,1),i[r+56>>2]=x,A=Ee(E^C^s^T,1),i[r+60>>2]=A,t=Ee(w^l^t^T,1),i[r+52>>2]=t,_(r+16|0,r+32|0,r+48|0,2),v=i[r+16>>2],T=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=T,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),a=Ee(t^o^a^c,1),i[r+48>>2]=n+a,T=Ee(a^g^l^h,1),i[r+60>>2]=T,c=Ee(A^w^u^c,1),i[r+56>>2]=c,h=Ee(x^b^s^h,1),i[r+52>>2]=h,_(r+16|0,r+32|0,r+48|0,2),s=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=s,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=s,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),s=Ee(h^E^u^y,1),i[r+48>>2]=n+s,u=Ee(T^x^o^y,1),i[r+56>>2]=u,y=Ee(s^A^C^b,1),i[r+60>>2]=y,C=Ee(c^t^l^C,1),i[r+52>>2]=C,_(r+16|0,r+32|0,r+48|0,2),v=i[r+16>>2],l=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=l,i[r+40>>2]=n,i[r+32>>2]=v,n=Ee(i[r>>2],30),o=Ee(C^a^o^w,1),i[r+48>>2]=n+o,w=Ee(y^c^E^w,1),i[r+56>>2]=w,l=Ee(o^T^t^g,1),i[r+60>>2]=l,b=Ee(u^h^g^b,1),i[r+52>>2]=b,_(r+16|0,r+32|0,r+48|0,2),g=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=g,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=g,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(v,30),E=Ee(b^s^x^E,1),i[r+48>>2]=n+E,x=Ee(l^u^a^x,1),i[r+56>>2]=x,g=Ee(E^y^h^A,1),i[r+60>>2]=g,t=Ee(w^C^t^A,1),i[r+52>>2]=t,_(r+16|0,r+32|0,r+48|0,3),A=i[r+16>>2],v=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=v,i[r+40>>2]=n,i[r+32>>2]=A,n=Ee(i[r>>2],30),a=Ee(t^o^a^c,1),i[r+48>>2]=n+a,v=Ee(a^l^C^T,1),i[r+60>>2]=v,c=Ee(g^w^s^c,1),i[r+56>>2]=c,T=Ee(x^b^h^T,1),i[r+52>>2]=T,_(r+16|0,r+32|0,r+48|0,3),h=i[m+4>>2],I=i[m>>2],i[p>>2]=I,i[p+4>>2]=h,n=i[r+20>>2],S=i[r+16>>2],i[r>>2]=S,i[r+4>>2]=n,i[f>>2]=I,i[f+4>>2]=h,i[r+32>>2]=S,i[r+36>>2]=n,n=Ee(A,30),h=Ee(T^E^s^u,1),i[r+48>>2]=n+h,s=Ee(v^x^o^u,1),i[r+56>>2]=s,u=Ee(h^g^y^b,1),i[r+60>>2]=u,y=Ee(c^t^y^C,1),i[r+52>>2]=y,_(r+16|0,r+32|0,r+48|0,3),C=i[r+16>>2],A=i[r+20>>2],n=i[r+24>>2],i[r+44>>2]=i[r+28>>2],i[r+36>>2]=A,i[r+40>>2]=n,i[r+32>>2]=C,n=Ee(i[r>>2],30),o=Ee(y^a^o^w,1),i[r+48>>2]=n+o,w=Ee(u^c^E^w,1),i[r+56>>2]=w,c=Ee(o^v^t^l,1),i[r+60>>2]=c,b=Ee(s^T^l^b,1),i[r+52>>2]=b,_(r+16|0,r+32|0,r+48|0,3),o=i[m+4>>2],m=i[m>>2],i[p>>2]=m,i[p+4>>2]=o,p=i[r+20>>2],l=i[r+16>>2],i[r>>2]=l,i[r+4>>2]=p,i[f>>2]=m,i[f+4>>2]=o,i[r+32>>2]=l,i[r+36>>2]=p,f=Ee(b^h^x^E,1),P=r,k=Ee(f^u^g^T,1),i[P+60>>2]=k,P=r,k=Ee(c^s^a^x,1),i[P+56>>2]=k,P=r,k=Ee(w^y^t^g,1),i[P+52>>2]=k,P=r,k=Ee(C,30)+f|0,i[P+48>>2]=k,_(r+16|0,r+32|0,r+48|0,3),t=i[r+28>>2],f=i[r+24>>2],p=i[r+20>>2],i[e>>2]=i[e>>2]+i[r+16>>2],i[e+4>>2]=p+i[e+4>>2],i[e+8>>2]=f+i[e+8>>2],i[e+12>>2]=t+i[e+12>>2],P=e,k=i[e+16>>2]+Ee(i[r>>2],30)|0,i[P+16>>2]=k,d=r- -64|0}(e,n+32|0),void(d=n+96|0);i[n+20>>2]=1,i[n+52>>2]=2,i[n+36>>2]=3,i[n+40>>2]=0,i[n+32>>2]=1049776,i[n+12>>2]=1,i[n+24>>2]=n+4,i[n+28>>2]=1049712,i[n+48>>2]=n+8,i[n+16>>2]=n+28,i[n+8>>2]=n+24,function(e){var t,r,n,a;d=t=d-48|0,ee(t+32|0,i[262450],i[262451],i[262452],i[262453]),a=i[4+(r=t+40|0)>>2],i[(n=t+20|0)>>2]=i[r>>2],i[n+4>>2]=a,i[t+8>>2]=e,i[t+4>>2]=1049892,i[t>>2]=1,e=i[t+36>>2],i[t+12>>2]=i[t+32>>2],i[t+16>>2]=e,P(t),u()}(n+32|0),u()}function S(e,t,r){var n,a,o=0,s=0,l=0,c=0,u=0;n=(((s=i[t+12>>2])^(o=i[t+8>>2])^(l=i[t+4>>2]))+Ee(t=i[t>>2],5)|0)+i[r>>2]|0,a=Ee(n,30),i[e+12>>2]=a,s=((s+(o^(l=Ee(l,30))^t)|0)+i[r+4>>2]|0)+Ee(n,5)|0,c=e,u=Ee(s,30),i[c+8>>2]=u,o=((o=o+i[r+8>>2]|0)+((t=Ee(t,30))^l^n)|0)+Ee(s,5)|0,i[e+4>>2]=o,c=e,u=((l+i[r+12>>2]|0)+(s^t^a)|0)+Ee(o,5)|0,i[c>>2]=u}function T(e,t){var r=0,n=0;e:{t:{if((r=i[e+4>>2])-(n=i[e+8>>2])>>>0<t>>>0){if((t=t+n|0)>>>0<n>>>0)break e;if((0|(t=(n=r<<1)>>>0>t>>>0?n:t))<0)break e;if(!(r=r?ie(i[e>>2],r,1,t):le(t,1)))break t;i[e+4>>2]=t,i[e>>2]=r}return}he(t,1),u()}ge(),u()}function x(e,t,r,n){var a;d=a=d+-64|0,i[a+12>>2]=t,i[a+8>>2]=e,i[a+20>>2]=n,i[a+16>>2]=r,i[a+44>>2]=2,i[a+60>>2]=43,i[a+28>>2]=2,i[a+32>>2]=0,i[a+24>>2]=1050524,i[a+52>>2]=42,i[a+40>>2]=a+48,i[a+56>>2]=a+16,i[a+48>>2]=a+8,G(a+24|0,1050564),u()}function P(e){var t,r,n,a,o=0,s=0;d=t=d-48|0,r=oe(e+12|0),n=oe(i[e+8>>2]),s=i[r+4>>2],i[(o=t+8|0)>>2]=i[r>>2],i[o+4>>2]=s,s=i[t+12>>2],o=i[t+8>>2],a=i[r+8>>2],i[t+28>>2]=i[r+12>>2],i[t+24>>2]=a,i[t+16>>2]=o,i[t+20>>2]=s,i[t+36>>2]=0,i[t+32>>2]=n,C(t+32|0,1050008,i[e+8>>2],t+16|0),u()}function k(e,t,r){var n;d=n=d-48|0,i[n+4>>2]=r,i[n>>2]=t,i[n+28>>2]=2,i[n+44>>2]=40,i[n+12>>2]=2,i[n+16>>2]=0,i[n+8>>2]=1050392,i[n+36>>2]=40,i[n+24>>2]=n+32,i[n+40>>2]=n,i[n+32>>2]=n+4,G(n+8|0,e),u()}function D(e,t){var r;d=r=d-48|0,i[r+4>>2]=t,i[r>>2]=e,i[r+28>>2]=2,i[r+44>>2]=40,i[r+12>>2]=2,i[r+16>>2]=0,i[r+8>>2]=1050644,i[r+36>>2]=40,i[r+24>>2]=r+32,i[r+40>>2]=r+4,i[r+32>>2]=r,G(r+8|0,1050660),u()}function R(e,t){var r;d=r=d-48|0,i[r+4>>2]=t,i[r>>2]=e,i[r+28>>2]=2,i[r+44>>2]=40,i[r+12>>2]=2,i[r+16>>2]=0,i[r+8>>2]=1050712,i[r+36>>2]=40,i[r+24>>2]=r+32,i[r+40>>2]=r+4,i[r+32>>2]=r,G(r+8|0,1050728),u()}function O(e,t){var r,n;if(d=r=d-16|0,(n=i[e>>2])>>>0<=t>>>0)return j(r+8|0,e+4|0,64,n,t),J(i[r+8>>2],i[r+12>>2]),i[e>>2]=t,void(d=r+16|0);X(1049568,40,1049552),u()}function M(e){var t;for(d=t=d-32|0,i[t+24>>2]=e;U(t+16|0,t+24|0),1&n[t+16|0];);ce(t+8|0,i[e>>2],i[e+4>>2]),e=i[t+12>>2],i[t+24>>2]=i[t+8>>2],i[t+28>>2]=e,te(t+24|0),d=t+32|0}function L(e){var t,r,n,a,o,s;d=t=d-48|0,r=i[e+8>>2],n=i[e+12>>2],a=i[e+16>>2],o=i[e+20>>2],s=i[e>>2],e=i[e+4>>2],i[t+16>>2]=4,i[t+20>>2]=0,i[t+4>>2]=1,i[t+8>>2]=0,i[t+24>>2]=s,i[t+28>>2]=e,i[t>>2]=t+24,i[t+40>>2]=a,i[t+44>>2]=o,i[t+32>>2]=r,i[t+36>>2]=n,G(t,t+32|0),u()}function N(e,t){var r;if(d=r=d-16|0,64==i[t>>2])return i[t>>2]=0,Z(r+8|0,t+4|0,64,64),t=i[r+12>>2],i[e>>2]=i[r+8>>2],i[e+4>>2]=t,void(d=r+16|0);X(1049608,39,1049552),u()}function B(e,t,r,n){var a=0;if(1114112==(0|t)||(a=1,!Ce[i[i[e+28>>2]+16>>2]](i[e+24>>2],t))){if(!r)return 0;a=0|Ce[i[i[e+28>>2]+12>>2]](i[e+24>>2],r,n)}return a}function W(e,t,r){if(4==(0|t))return t=r<<8&16711680|r<<24|r>>>8&65280|r>>>24,n[0|e]=t,n[e+1|0]=t>>>8,n[e+2|0]=t>>>16,void(n[e+3|0]=t>>>24);X(1049304,32,1049288),u()}function F(e,t,r){var n,a=0;d=n=d-16|0,a=(a=r)+(r=i[t>>2])|0,i[t>>2]=a,j(n+8|0,t+4|0,64,r,a),t=i[n+12>>2],i[e>>2]=i[n+8>>2],i[e+4>>2]=t,d=n+16|0}function U(e,t){var r=0,o=0;t=i[t>>2],o=0,(0|(r=i[t+8>>2]))!=i[t+12>>2]&&(i[t+8>>2]=r+1,t=a[0|r],o=1),r=o,n[e+1|0]=t,n[0|e]=r}function V(e,t,r){var a;d=a=d-16|0,i[a+8>>2]=0,i[a>>2]=1,i[a+4>>2]=0,de(a,r-t>>>2),function(e,t,r){var a,o=0,s=0,l=0;for(d=a=d-16|0;(0|e)!=(0|t);)o=e+4|0,(e=i[e>>2])>>>0>=128?(i[a+12>>2]=0,s=r,l=a+12|0,e>>>0<=2047?(n[a+13|0]=63&e|128,n[a+12|0]=e>>>6&31|192,e=2):e>>>0<=65535?(n[a+14|0]=63&e|128,n[a+13|0]=e>>>6&63|128,n[a+12|0]=e>>>12&15|224,e=3):(n[a+15|0]=63&e|128,n[a+12|0]=e>>>18|240,n[a+14|0]=e>>>6&63|128,n[a+13|0]=e>>>12&63|128,e=4),se(s,l,e),e=o):(i[r+8>>2]==i[r+4>>2]&&de(r,1),n[i[r>>2]+i[r+8>>2]|0]=e,i[r+8>>2]=i[r+8>>2]+1,e=o);d=a+16|0}(t,r,a),i[e+8>>2]=i[a+8>>2],t=i[a+4>>2],i[e>>2]=i[a>>2],i[e+4>>2]=t,d=a+16|0}function j(e,t,r,n,a){e:{if(a>>>0>=n>>>0){if(r>>>0<a>>>0)break e;return i[e+4>>2]=a-n,void(i[e>>2]=t+n)}R(n,a),u()}D(a,r),u()}function G(e,t){var r,n,a,o,s;d=r=d-32|0,a=i[t>>2],o=i[t+4>>2],s=i[t+12>>2],i[(n=r+20|0)>>2]=i[t+8>>2],i[n+4>>2]=s,i[r+12>>2]=a,i[r+16>>2]=o,i[r+8>>2]=e,i[r+4>>2]=1050324,i[r>>2]=1,P(r),u()}function H(e){var t,r;e|=0,d=t=d-16|0,function(e){var t,r=0;d=t=d-32|0,i[4+(r=t+8|0)>>2]=0,i[r>>2]=1,i[t+24>>2]=0,r=i[t+12>>2],i[t+16>>2]=i[t+8>>2],i[t+20>>2]=r,se(t+16|0,1049136,0),i[e+8>>2]=i[t+24>>2],r=i[t+20>>2],i[e>>2]=i[t+16>>2],i[e+4>>2]=r,d=t+32|0}(t),i[e>>2]=0,r=i[t+4>>2],i[e+4>>2]=i[t>>2],i[e+8>>2]=r,i[e+12>>2]=i[t+8>>2],d=t+16|0}function Q(e,t,r,n,a){e:{if(r>>>0>=t>>>0){if(a>>>0>=r>>>0)break e;D(r,a),u()}R(t,r),u()}i[e+4>>2]=r-t,i[e>>2]=t+n}function $(e,t,r){var n;d=n=d-32|0,ne(n+16|0,t,r,r),Y(n+8|0,n+16|0),t=i[n+12>>2],i[e>>2]=i[n+8>>2],i[e+4>>2]=t,d=n+32|0}function z(e,t,r){var i=0;if(r)for(i=e;n[0|i]=a[0|t],i=i+1|0,t=t+1|0,r=r+-1|0;);return e}function Y(e,t){var r,n;d=r=d-16|0,(0|(n=i[t+8>>2]))!=i[t+4>>2]&&function(e,t){var r=0;e:{t:{r:{if((r=i[e+4>>2])>>>0>=t>>>0){if(t){if((0|t)==(0|r))break e;if(r=ie(i[e>>2],r,1,t))break r;he(t,1),u()}te(e),i[e>>2]=1,t=0;break t}L(1048636),u()}i[e>>2]=r}i[e+4>>2]=t}}(t,n),function(e,t,r){var n;d=n=d-16|0,i[n+12>>2]=r,i[n+8>>2]=t,i[e>>2]=i[n+8>>2],i[e+4>>2]=i[n+12>>2],d=n+16|0}(r+8|0,i[t>>2],i[t+4>>2]),t=i[r+12>>2],i[e>>2]=i[r+8>>2],i[e+4>>2]=t,d=r+16|0}function Z(e,t,r,n){var a;d=a=d-16|0,Q(a+8|0,0,n,t,r),t=i[a+12>>2],i[e>>2]=i[a+8>>2],i[e+4>>2]=t,d=a+16|0}function q(e,t,r){var n;return t|=0,r|=0,T(e=i[(e|=0)>>2],r),n=i[e+8>>2],i[e+8>>2]=n+r,z(i[e>>2]+n|0,t,r),0}function J(e,t){if(t)for(;n[0|e]=0,e=e+1|0,t=t+-1|0;);}function X(e,t,r){var n;d=n=d-16|0,i[n+12>>2]=t,i[n+8>>2]=e,C(n+8|0,1049204,0,r),u()}function K(e,t,r,n){n>>>0>=t>>>0?z(r,e,t):(X(1049416,40,1049400),u())}function ee(e,t,r,n,a){i[e+12>>2]=a,i[e+8>>2]=n,i[e+4>>2]=r,i[e>>2]=t}function te(e){i[e+4>>2]&&v(i[e>>2])}function re(e){i[4+(e|=0)>>2]=0,i[e+8>>2]=0,i[e>>2]=4,i[(e=e+12|0)>>2]=0,i[e+4>>2]=0}function ne(e,t,r,n){i[e+8>>2]=r,i[e+4>>2]=n,i[e>>2]=t}function ie(e,t,r,n){return function(e,t,r,n){e:{if(8<r>>>0){if(r=8<r>>>0?A(r,n):h(n))break e;return 0}return function(e,t){var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,p=0;t:if(!(t>>>0>4294901708)){r=t>>>0<11?16:t+11&-8,n=-8&(l=i[(s=e+-4|0)>>2]);r:{n:{i:{a:{o:{s:{if(3&l){if(o=n+(c=e+-8|0)|0,n>>>0>=r>>>0)break s;if((0|o)==i[262874])break o;if((0|o)==i[262873])break a;if(2&(l=i[o+4>>2]))break r;if((n=n+(u=-8&l)|0)>>>0>=r>>>0)break i;break r}if(r>>>0<256|n>>>0<(4|r)>>>0|n-r>>>0>=131073)break r;break n}if((t=n-r|0)>>>0<16)break n;i[s>>2]=r|1&l|2,i[4+(a=r+c|0)>>2]=3|t,i[o+4>>2]=1|i[o+4>>2],y(a,t);break n}if((n=n+i[262872]|0)>>>0<=r>>>0)break r;i[s>>2]=r|1&l|2,a=n-r|0,i[4+(t=r+c|0)>>2]=1|a,i[262872]=a,i[262874]=t;break n}if((n=n+i[262871]|0)>>>0<r>>>0)break r;(t=n-r|0)>>>0<=15?(i[s>>2]=n|1&l|2,i[4+(t=n+c|0)>>2]=1|i[t+4>>2],t=0):(i[s>>2]=r|1&l|2,i[4+(a=r+c|0)>>2]=1|t,i[(r=n+c|0)>>2]=t,i[r+4>>2]=-2&i[r+4>>2]),i[262873]=a,i[262871]=t;break n}t=n-r|0,u>>>0>=256?E(o):(0|(a=i[o+12>>2]))==(0|(o=i[o+8>>2]))?(d=1051084,p=i[262771]&Ee(-2,l>>>3),i[d>>2]=p):(i[o+12>>2]=a,i[a+8>>2]=o),t>>>0>=16?(i[s>>2]=r|1&i[s>>2]|2,i[4+(a=r+c|0)>>2]=3|t,i[4+(r=n+c|0)>>2]=1|i[r+4>>2],y(a,t)):(i[s>>2]=n|1&i[s>>2]|2,i[4+(t=n+c|0)>>2]=1|i[t+4>>2])}a=e;break t}if(r=h(t))return t=z(r,e,(a=(-8&(a=i[s>>2]))-(3&a?4:8)|0)>>>0>t>>>0?t:a),v(e),t}return a}(e,n)}return t=z(r,e,t>>>0>n>>>0?n:t),v(e),t}(e,t,r,n)}function ae(e,t){i[e+4>>2]=i[t+8>>2],i[e>>2]=i[t>>2]}function oe(e){return e||(L(1049972),u()),e}function se(e,t,r){!function(e,t,r){var n,a;d=n=d-16|0,de(e,r=r-t|0),a=i[e+8>>2],i[e+8>>2]=r+a,ae(n+8|0,e),function(e,t,r,n){var a;if(d=a=d-112|0,i[a+24>>2]=t,i[a+28>>2]=n,(0|t)==(0|n))return z(e,r,t),void(d=a+112|0);i[a+80>>2]=a+24,i[a+84>>2]=a+28,i[a+104>>2]=4,i[a+108>>2]=0,i[a+92>>2]=1,i[a+96>>2]=0,i[a+88>>2]=1048948,ce(a+16|0,a+80|0,1),e=i[a+20>>2],t=i[a+16>>2],ce(a+8|0,a+84|0,1),i[a+76>>2]=2,i[a+52>>2]=3,i[a+56>>2]=t,i[a+60>>2]=e,i[a+36>>2]=3,i[a+40>>2]=0,i[a+32>>2]=1048872,e=i[a+12>>2],i[a+64>>2]=i[a+8>>2],i[a+68>>2]=e,i[a+72>>2]=a+88,i[a+48>>2]=a+56,G(a+32|0,1048956),u()}(i[n+8>>2]+a|0,i[n+12>>2]-a|0,t,r),d=n+16|0}(e,t,t+r|0)}function le(e,t){return 8<t>>>0?A(t,e):h(e)}function ce(e,t,r){i[e+4>>2]=r,i[e>>2]=t}function ue(e,t,r){I(i[i[e>>2]>>2],t,r)}function de(e,t){!function(e,t,r){var n;d=n=d-16|0,function(e,t,r,n){var a,o=0;d=a=d-48|0,i[t+4>>2]-r>>>0>=n>>>0||(function(e,t,r,n){var a,o;d=a=d-16|0,o=e,(n=r+n|0)>>>0<r>>>0?(ce(a+8|0,n,0),r=i[a+8>>2],i[e+8>>2]=i[a+12>>2],t=1):(r=(t=i[t+4>>2]<<1)>>>0>n>>>0?t:n,t=0),i[o>>2]=t,i[e+4>>2]=r,d=a+16|0}(a+32|0,t,r,n),o=1,r=i[a+36>>2],1!=i[a+32>>2]?(0|r)<=-1?(ce(a+8|0,a,0),t=i[a+12>>2],i[e+4>>2]=i[a+8>>2],i[e+8>>2]=t):(n=a+16|0,o=i[t+4>>2],i[n>>2]=o,i[n+4>>2]=0!=(0|o),(n=(n=i[a+20>>2])?ie(i[t>>2],i[a+16>>2],n,r):le(r,1))||(he(r,1),u()),i[t+4>>2]=r,i[t>>2]=n,o=0):(ce(a,r,i[a+40>>2]),t=i[a+4>>2],i[e+4>>2]=i[a>>2],i[e+8>>2]=t)),i[e>>2]=o,d=a+48|0}(n,e,t,r);e:{if(1==i[n>>2]){if(!i[n+8>>2])break e;L(1048700),u()}return void(d=n+16|0)}ge(),u()}(e,i[e+8>>2],t)}function pe(e,t){return t|=0,0|function(e,t){var r,i=0,o=0,s=0,c=0,u=0,h=0,f=0,g=0,v=0;if(d=r=d-48|0,o=39,e>>>0<1e4)i=e;else for(;i=be(e,c),v=s=p,f=(u=(r+9|0)+o|0)-4|0,s=e-Ae(i,s)|0,h=a[0|(h=1050746+((g=((65535&s)>>>0)/100|0)<<1)|0)]|a[h+1|0]<<8,n[0|f]=h,n[f+1|0]=h>>>8,u=u+-2|0,s=1050746+((s-l(g,100)&65535)<<1)|0,s=a[0|s]|a[s+1|0]<<8,n[0|u]=s,n[u+1|0]=s>>>8,o=o+-4|0,s=!c&e>>>0>99999999|c>>>0>0,e=i,c=v,s;);return(0|i)>99&&(c=(o=o+-2|0)+(r+9|0)|0,e=1050746+(((e=i)-l(i=((65535&e)>>>0)/100|0,100)&65535)<<1)|0,e=a[0|e]|a[e+1|0]<<8,n[0|c]=e,n[c+1|0]=e>>>8),(0|i)>=10?(e=(o=o+-2|0)+(r+9|0)|0,i=a[0|(i=1050746+(i<<1)|0)]|a[i+1|0]<<8,n[0|e]=i,n[e+1|0]=i>>>8):n[(o=o+-1|0)+(r+9|0)|0]=i+48,e=m(t,1050299,0,(r+9|0)+o|0,39-o|0),d=r+48|0,e}(i[(e|=0)>>2],t)}function he(e,t){var r;r=e,e=i[262767],Ce[e||22](r,t),u()}function fe(e,t,r){return g(r,e,t)}function ge(){L(1050224),u()}function ve(e){return p=1468863706,-1546811115}function me(e){}function _e(){}function ye(e,t){var r,n;r=0|e,n=0|t,s[0]=r,s[1]=n}function Ae(e,t){var r,n=0,i=0;return r=l(n=e>>>16,0),e=65535&(i=(i=l(n,1e4))+((n=l(65535&e,1e4))>>>16)|0),p=((r+l(t,1e4)|0)+(i>>>16)|0)+(e>>>16)|0,65535&n|e<<16}function be(e,t){var r=0,n=0,i=0,a=0,o=0,s=0,u=0;if(!t)return ye((t=e)-l(e=(e>>>0)/1e4|0,1e4)|0,0),p=0,e;if(i=0-(o=51-c(t)|0)|0,r=31&(n=63&o),32<=n>>>0?(n=0,a=t>>>r):(n=t>>>r,a=((1<<r)-1&t)<<32-r|e>>>r),r=31&(i&=63),32<=i>>>0?(t=e<<r,e=0):(t=(1<<r)-1&e>>>32-r|t<<r,e<<=r),o)for(;i=n<<1|a>>>31,a=(n=a<<1|t>>>31)-(r=1e4&(s=(a=0-(i+(9999<n>>>0)|0)|0)>>31))|0,n=i-(n>>>0<r>>>0)|0,t=t<<1|e>>>31,e=u|e<<1,u=s&=1,o=o+-1|0;);return ye(a,n),p=t<<1|e>>>31,s|e<<1}function we(e){return e?31-c(e+-1^e)|0:32}function Ee(e,t){var r=0;return(-1>>>(r=31&t)&e)<<r|((r=e)&-1<<(e=0-t&31))>>>e}var Ce=[null,function(e,t){return t|=0,e=i[(e|=0)>>2],(16&a[0|t])>>>4?0|function(e,t){var r,a=0,o=0;for(d=r=d-128|0,a=i[e>>2],e=0;o=15&a,n[127+(e+r|0)|0]=o>>>0<10?48|o:o+87|0,e=e+-1|0,a>>>=4;);return(a=e+128|0)>>>0>=129&&(R(a,128),u()),e=m(t,1050744,2,128+(e+r|0)|0,0-e|0),d=r+128|0,e}(e,t):(32&a[0|t])>>>5?0|function(e,t){var r,a=0,o=0;for(d=r=d-128|0,a=i[e>>2],e=0;o=15&a,n[127+(e+r|0)|0]=o>>>0<10?48|o:o+55|0,e=e+-1|0,a>>>=4;);return(a=e+128|0)>>>0>=129&&(R(a,128),u()),e=m(t,1050744,2,128+(e+r|0)|0,0-e|0),d=r+128|0,e}(e,t):0|pe(e,t)},function(e,t){e|=0;var r,n,a=0,o=0,s=0;return d=r=d-32|0,n=i[28+(t|=0)>>2],t=i[t+24>>2],s=i[4+(o=e+16|0)>>2],i[(a=r+24|0)>>2]=i[o>>2],i[a+4>>2]=s,s=i[4+(o=e+8|0)>>2],i[(a=r+16|0)>>2]=i[o>>2],i[a+4>>2]=s,a=i[e+4>>2],i[r+8>>2]=i[e>>2],i[r+12>>2]=a,e=f(t,n,r+8|0),d=r+32|0,0|e},function(e,t){return t|=0,0|fe(i[(e|=0)>>2],i[e+4>>2],t)},function(e,t){var r;return t|=0,d=r=d-16|0,ae(r+8|0,i[(e|=0)>>2]),e=fe(i[r+8>>2],i[r+12>>2],t),d=r+16|0,0|e},me,function(e,t){return e|=0,d=e=d-16|0,function(e,t){var r;r=0|Ce[i[i[t+28>>2]+12>>2]](i[t+24>>2],1049996,11),n[e+5|0]=0,n[e+4|0]=r,i[e>>2]=t}(e+8|0,t|=0),t=function(e){var t=0,r=0,o=0;return t=a[e+4|0],a[e+5|0]&&(r=255&t,o=e,t=1,r||(t=i[e>>2],r=i[i[t+28>>2]+12>>2],e=i[t+24>>2],t=4&a[0|t]?0|Ce[r](e,1050946,1):0|Ce[r](e,1050947,2)),n[o+4|0]=t),0!=(255&t)}(e+8|0),d=e+16|0,0|t},me,function(e,t){return 0|Ce[i[i[28+(t|=0)>>2]+12>>2]](i[t+24>>2],1050299,11)},me,function(e,t){return 0|Ce[i[i[28+(t|=0)>>2]+12>>2]](i[t+24>>2],1050310,14)},H,function(){return 0|(i[262757]?1051024:function(){var e,t,r=0,n=0,a=0;return d=e=d-32|0,H(e),a=i[262759],i[(r=e+24|0)>>2]=i[262758],i[r+4>>2]=a,a=i[262756],r=i[262757],n=i[e+4>>2],i[262756]=i[e>>2],i[262757]=n,t=i[4+(n=e+8|0)>>2],i[262758]=i[n>>2],i[262759]=t,i[e+16>>2]=a,i[e+20>>2]=r,i[e+20>>2]&&te(e+16|4),d=e+32|0,1051024}())},me,function(e,t){e|=0;var r=0,n=0,a=0;r=i[(t|=0)>>2],i[t>>2]=0;e:{if(n=e,r){if(a=i[t+4>>2],!(t=le(8,4)))break e;i[t+4>>2]=a,i[t>>2]=r,r=1049224}else t=1,r=1049240;return i[n+4>>2]=r,void(i[e>>2]=t)}he(8,4),u()},function(e,t){var r;e|=0,r=i[(t|=0)>>2],i[e+4>>2]=r?1049224:1049240,i[e>>2]=r?t:1},me,function(e){return p=286299353,1890621284},me,function(e){return p=1757840133,-801715452},re,function(){return 0|(i[262762]?1051048:function(){var e,t,r=0,n=0,a=0;return d=e=d-48|0,re(e),i[e+40>>2]=i[262766],r=i[262765],i[(n=e+32|0)>>2]=i[262764],i[n+4>>2]=r,r=i[262762],n=i[262763],a=i[e+4>>2],i[262762]=i[e>>2],i[262763]=a,t=i[4+(a=e+8|0)>>2],i[262764]=i[a>>2],i[262765]=t,i[262766]=i[e+16>>2],i[e+24>>2]=r,i[e+28>>2]=n,r&&i[4+(r=e+24|0)>>2]&&v(i[r>>2]),d=e+48|0,1051048}())},function(e,t){},me,q,function(e,t){t|=0;var r,a=0;d=r=d-16|0,a=e=i[(e|=0)>>2];e:{t:{r:{if(t>>>0>=128){if(i[r+12>>2]=0,t>>>0<2048)break r;if(t>>>0<65536){n[r+14|0]=63&t|128,n[r+13|0]=t>>>6&63|128,n[r+12|0]=t>>>12&15|224,t=3;break t}n[r+15|0]=63&t|128,n[r+12|0]=t>>>18|240,n[r+14|0]=t>>>6&63|128,n[r+13|0]=t>>>12&63|128,t=4;break t}(0|(a=i[e+8>>2]))==i[e+4>>2]&&(T(e,1),a=i[e+8>>2]),n[a+i[e>>2]|0]=t,i[e+8>>2]=i[e+8>>2]+1;break e}n[r+13|0]=63&t|128,n[r+12|0]=t>>>6&31|192,t=2}T(a,t),a=i[e+8>>2],i[e+8>>2]=a+t,z(a+i[e>>2]|0,r+12|0,t)}return d=r+16|0,0},function(e,t){e|=0,t|=0;var r,n=0,a=0;return d=r=d-32|0,i[r+4>>2]=i[e>>2],a=i[4+(n=t+16|0)>>2],i[(e=r+24|0)>>2]=i[n>>2],i[e+4>>2]=a,a=i[4+(n=t+8|0)>>2],i[(e=r+16|0)>>2]=i[n>>2],i[e+4>>2]=a,e=i[t+4>>2],i[r+8>>2]=i[t>>2],i[r+12>>2]=e,e=f(r+4|0,1049868,r+8|0),d=r+32|0,0|e},me,ve,function(e){var t;!(t=i[4+(e|=0)>>2])|!i[e+8>>2]||v(t)},function(e,t){e|=0;var r,n=0,a=0,o=0,s=0;d=r=d+-64|0,(n=i[4+(t|=0)>>2])||(n=i[t>>2],i[r+32>>2]=0,i[r+24>>2]=1,i[r+28>>2]=0,i[r+36>>2]=r+24,o=i[4+(a=n+16|0)>>2],i[(s=r+56|0)>>2]=i[a>>2],i[s+4>>2]=o,o=i[4+(a=n+8|0)>>2],i[(s=r+48|0)>>2]=i[a>>2],i[s+4>>2]=o,a=i[n+4>>2],i[r+40>>2]=i[n>>2],i[r+44>>2]=a,f(r+36|0,1049868,r+40|0),i[(a=r+16|0)>>2]=i[r+32>>2],n=i[r+28>>2],i[r+8>>2]=i[r+24>>2],i[r+12>>2]=n,!(n=i[t+4>>2])|!i[t+8>>2]||v(n),o=i[r+12>>2],i[(n=t+4|0)>>2]=i[r+8>>2],i[n+4>>2]=o,i[n+8>>2]=i[a>>2],n=i[n>>2]),i[t+4>>2]=1,a=i[t+12>>2],o=i[(t=t+8|0)>>2],i[t>>2]=0,i[t+4>>2]=0,(t=le(12,4))||(he(12,4),u()),i[t+8>>2]=a,i[t+4>>2]=o,i[t>>2]=n,i[e+4>>2]=1050028,i[e>>2]=t,d=r- -64|0},function(e,t){e|=0;var r,n,a=0,o=0,s=0,l=0;d=r=d+-64|0,n=4+(t|=0)|0,i[t+4>>2]||(o=i[t>>2],i[r+32>>2]=0,i[r+24>>2]=1,i[r+28>>2]=0,i[r+36>>2]=r+24,l=i[4+(a=o+16|0)>>2],i[(s=r+56|0)>>2]=i[a>>2],i[s+4>>2]=l,l=i[4+(a=o+8|0)>>2],i[(s=r+48|0)>>2]=i[a>>2],i[s+4>>2]=l,a=i[o+4>>2],i[r+40>>2]=i[o>>2],i[r+44>>2]=a,f(r+36|0,1049868,r+40|0),i[(o=r+16|0)>>2]=i[r+32>>2],a=i[r+28>>2],i[r+8>>2]=i[r+24>>2],i[r+12>>2]=a,!(a=i[t+4>>2])|!i[t+8>>2]||v(a),t=i[r+12>>2],i[n>>2]=i[r+8>>2],i[n+4>>2]=t,i[n+8>>2]=i[o>>2]),i[e+4>>2]=1050028,i[e>>2]=n,d=r- -64|0},te,function(e){return p=-679582923,428379921},me,q,function(e,t){return t|=0,function(e,t){var r,a=0;d=r=d-16|0,a=e;e:{t:{r:{if(t>>>0>=128){if(i[r+12>>2]=0,t>>>0<2048)break r;if(t>>>0<65536){n[r+14|0]=63&t|128,n[r+13|0]=t>>>6&63|128,n[r+12|0]=t>>>12&15|224,t=3;break t}n[r+15|0]=63&t|128,n[r+12|0]=t>>>18|240,n[r+14|0]=t>>>6&63|128,n[r+13|0]=t>>>12&63|128,t=4;break t}(0|(a=i[e+8>>2]))==i[e+4>>2]&&(T(e,1),a=i[e+8>>2]),n[a+i[e>>2]|0]=t,i[e+8>>2]=i[e+8>>2]+1;break e}n[r+13|0]=63&t|128,n[r+12|0]=t>>>6&31|192,t=2}T(a,t),a=i[e+8>>2],i[e+8>>2]=a+t,z(a+i[e>>2]|0,r+12|0,t)}d=r+16|0}(i[(e|=0)>>2],t),0},function(e,t){e|=0,t|=0;var r,n=0,a=0;return d=r=d-32|0,i[r+4>>2]=i[e>>2],a=i[4+(n=t+16|0)>>2],i[(e=r+24|0)>>2]=i[n>>2],i[e+4>>2]=a,a=i[4+(n=t+8|0)>>2],i[(e=r+16|0)>>2]=i[n>>2],i[e+4>>2]=a,e=i[t+4>>2],i[r+8>>2]=i[t>>2],i[r+12>>2]=e,e=f(r+4|0,1050044,r+8|0),d=r+32|0,0|e},me,function(e,t){return 0|Ce[i[i[28+(t|=0)>>2]+12>>2]](i[t+24>>2],1051016,5)},pe,pe,function(e,t){return 0|g(t|=0,i[(e|=0)>>2],i[e+4>>2])},function(e,t){return t|=0,0|Ce[i[i[4+(e|=0)>>2]+12>>2]](i[e>>2],t)},me,ve];function Ie(t){t|=0;var s=0|r.byteLength/65536,c=s+t|0;if(s<c&&c<65536){var u=new ArrayBuffer(l(c,65536)),d=new e.Int8Array(u);d.set(n),n=d,n=new e.Int8Array(u),new e.Int16Array(u),i=new e.Int32Array(u),a=new e.Uint8Array(u),new e.Uint16Array(u),o=new e.Uint32Array(u),new e.Float32Array(u),new e.Float64Array(u),r=u}return s}return{memory:Object.create(Object.prototype,{grow:{value:Ie},buffer:{get:function(){return r}}}),sha1:function(e,t,r){var n;e|=0,d=n=d-80|0,$(n+24|0,t|=0,r|=0),function(e,t,r){var n;d=n=d-16|0,i[n+12>>2]=r,i[n+8>>2]=t,function(e,t){var r;d=r=d-32|0,function(e,t){var r,n,o=0;d=r=d-176|0,(n=0|Ce[i[262284]]())?(function(e){var t;i[e+8>>2]=1732584193,i[e+12>>2]=-271733879,i[e>>2]=0,i[e+4>>2]=0,i[e+24>>2]=-1009589776,i[(t=e+16|0)>>2]=-1732584194,i[t+4>>2]=271733878,J(e+28|0,69)}(r+8|0),(0|(o=i[n>>2]+1|0))<=0&&(x(1049045,24,r+128|0,1049088),u()),i[n>>2]=o,i[r+164>>2]=3,i[r+148>>2]=2,i[r+132>>2]=2,i[r+136>>2]=0,i[r+128>>2]=1049120,i[r+172>>2]=n,i[r+168>>2]=n+4,i[r+160>>2]=t,i[r+156>>2]=4,i[r+144>>2]=r+152,i[r+152>>2]=r+168,function(e,t){var r,n,a=0,o=0,s=0,l=0;if(d=r=d-48|0,l=i[t>>2],o=(n=i[t+4>>2])<<3)for(a=l+4|0;s=i[a>>2]+s|0,a=a+8|0,o=o+-8|0;);e:{t:{r:{n:{if(i[t+20>>2]){if(n||(k(1050152,0,0),u()),!i[l+4>>2]&&s>>>0<=15||!((a=s+s|0)>>>0>=s>>>0)){o=1,a=0,s=r+8|0;break n}}else a=s;if((0|a)<=-1)break r;if(s=r+8|0,a){if(!(o=le(a,1)))break t}else o=1,a=0}if(i[r+16>>2]=0,i[r+12>>2]=a,i[r+8>>2]=o,i[r+20>>2]=r+8,o=i[4+(a=t+16|0)>>2],i[(l=r+40|0)>>2]=i[a>>2],i[l+4>>2]=o,o=i[4+(a=t+8|0)>>2],i[(l=r+32|0)>>2]=i[a>>2],i[l+4>>2]=o,a=i[t+4>>2],i[r+24>>2]=i[t>>2],i[r+28>>2]=a,f(r+20|0,1050044,r+24|0))break e;return t=i[s+4>>2],i[e>>2]=i[s>>2],i[e+4>>2]=t,i[e+8>>2]=i[s+8>>2],void(d=r+48|0)}ge(),u()}he(a,1),u()}x(1050248,51,r+24|0,1050168),u()}(r+112|0,r+128|0),ae(r,r+112|0),function(e,t,r){var n,o,s;d=n=d-16|0,a[e+96|0]&&(X(1049832,32,1049816),u()),o=e,s=function(e,t,r){var n,a,o=0;if(n=1+(o=(r>>>29)+t|0)|0,a=o,!((0|(r=(o=(r<<=3)+e|0)>>>0<r>>>0?n:a))==(0|t)&o>>>0<e>>>0|r>>>0<t>>>0))return p=r,o;(function(){var e;d=e=d-48|0,i[e+12>>2]=25,i[e+8>>2]=1049472,i[e+36>>2]=1,i[e+20>>2]=1,i[e+24>>2]=0,i[e+16>>2]=1050496,i[e+44>>2]=42,i[e+32>>2]=e+40,i[e+40>>2]=e+8,G(e+16|0,1050504),u()})(),u()}(i[e>>2],i[e+4>>2],r),i[o>>2]=s,i[e+4>>2]=p,i[n+12>>2]=e+8,function(e,t,r,n){var a,o=0,s=0,l=0;d=a=d+-64|0,i[a+60>>2]=n;e:{if(n=i[e>>2]){if((o=64-n|0)>>>0>r>>>0){j(a+32|0,e+4|0,64,n,r+n|0),K(t,r,i[a+32>>2],i[a+36>>2]);break e}Z(a+48|0,t,r,o),n=i[a+52>>2],s=i[a+48>>2],j(a+40|0,l=e+4|0,64,i[e>>2],64),K(s,n,i[a+40>>2],i[a+44>>2]),i[e>>2]=0,ue(a+60|0,l,64)}for(n=r-o|0;!(n>>>0<=63);)Q(a+8|0,s=o,o=o- -64|0,t,r),ue(a+60|0,i[a+8>>2],i[a+12>>2]),n=n+-64|0;Q(a+24|0,o,r,t,r),t=i[a+28>>2],r=i[a+24>>2],j(a+16|0,e+4|0,64,0,n),K(r,t,i[a+16>>2],i[a+20>>2]),r=n}i[e>>2]=i[e>>2]+r,d=a- -64|0}(e+28|0,t,r,n+12|0),d=n+16|0}(r+8|0,i[r>>2],i[r+4>>2]),te(r+112|0),t=i[r+172>>2],i[t>>2]=i[t>>2]+-1,function(e,t){var r,n,o=0;d=r=d-48|0,function(e,t){var r;d=r=d-16|0,i[r+8>>2]=0,i[r>>2]=1,i[r+4>>2]=0,function(e,t){var r,n=0;de(e,t),r=i[e>>2],t&&(J(r+(n=i[e+8>>2])|0,t),i[e+8>>2]=t+n)}(r,t),i[e+8>>2]=i[r+8>>2],t=i[r+4>>2],i[e>>2]=i[r>>2],i[e+4>>2]=t,d=r+16|0}(r+16|0,20),ae(r+8|0,r+16|0),w(t,i[r+8>>2],i[r+12>>2]),i[(t=r+40|0)>>2]=i[r+24>>2],o=i[r+20>>2],i[r+32>>2]=i[r+16>>2],i[r+36>>2]=o,o=i[r+36>>2],n=i[t>>2],t=i[r+32>>2],i[r+44>>2]=n+t,i[r+40>>2]=t,i[r+36>>2]=o,i[r+32>>2]=t,function(e,t){var r,n=0,o=0,s=0;d=r=d+-64|0,o=i[4+(n=t+8|0)>>2],s=r+8|0,n=i[n>>2],i[s>>2]=n,i[s+4>>2]=o,o=i[t+4>>2],i[r>>2]=i[t>>2],i[r+4>>2]=o;e:{t:{if(i[r+12>>2]!=(0|n)){if(i[r+8>>2]=n+1,function(e,t){var r;d=r=d-16|0,i[r+12>>2]=i[1048724+((15&t)<<2)>>2],i[r+8>>2]=i[1048724+((240&t)>>>2)>>2],V(e,r+8|0,r+16|0),d=r+16|0}(r+16|0,a[0|n]),i[r+16>>2])break t}else i[r+16>>2]=0;if(i[e+8>>2]=0,i[e>>2]=1,i[e+4>>2]=0,M(r),!i[r+16>>2])break e;te(r+16|0);break e}i[(t=r+40|0)>>2]=i[r+24>>2],n=i[r+20>>2],i[r+32>>2]=i[r+16>>2],i[r+36>>2]=n,o=i[4+(n=r+8|0)>>2],i[(s=r+56|0)>>2]=i[n>>2],i[s+4>>2]=o,n=i[r+4>>2],i[r+48>>2]=i[r>>2],i[r+52>>2]=n,function(e,t){var r,n,o,s=0;d=r=d-16|0,o=i[4+(n=t+8|0)>>2],i[(s=r+8|0)>>2]=i[n>>2],i[s+4>>2]=o,s=i[t+4>>2],i[r>>2]=i[t>>2],i[r+4>>2]=s,function(e,t){var r,n,o,s=0;for(d=r=d+-64|0,o=i[4+(s=e+8|0)>>2],i[(n=r+24|0)>>2]=i[s>>2],i[n+4>>2]=o,s=i[e+4>>2],i[r+16>>2]=i[e>>2],i[r+20>>2]=s,e=r+56|0;(0|(s=i[r+24>>2]))!=i[r+28>>2];)i[r+24>>2]=s+1,s=a[0|s],i[r+52>>2]=i[1049140+((15&s)<<2)>>2],i[r+48>>2]=i[1049140+(s>>>2&60)>>2],V(r+32|0,r+48|0,e),i[e>>2]=i[r+40>>2],s=i[r+36>>2],i[r+48>>2]=i[r+32>>2],i[r+52>>2]=s,ae(r+8|0,r+48|0),se(t,i[r+8>>2],i[r+12>>2]),te(r+48|0);M(r+16|0),d=r- -64|0}(r,e),d=r+16|0}(r+32|0,r+48|0),i[e+8>>2]=i[t>>2],t=i[r+36>>2],i[e>>2]=i[r+32>>2],i[e+4>>2]=t}d=r- -64|0}(e,r+32|0),d=r+48|0}(e,r+8|0)):i[e>>2]=0,d=r+176|0}(r+8|0,t),i[r+8>>2]||(x(1048972,57,r+24|0,1049072),u()),t=i[r+12>>2],i[e>>2]=i[r+8>>2],i[e+4>>2]=t,i[e+8>>2]=i[r+16>>2],d=r+32|0}(e,n+8|0),d=n+16|0}(n+32|0,t=i[n+24>>2],r=i[n+28>>2]),r&&v(t),i[(t=n+56|0)>>2]=i[n+40>>2],r=i[n+36>>2],i[n+48>>2]=i[n+32>>2],i[n+52>>2]=r,ae(n+16|0,n+48|0),i[n+72>>2]=i[t>>2],t=i[n+52>>2],i[n+64>>2]=i[n+48>>2],i[n+68>>2]=t,Y(n+8|0,n- -64|0),t=i[n+12>>2],i[e>>2]=i[n+8>>2],i[e+4>>2]=t,d=n+80|0},setSalt:function(e,t){var r;d=r=d-48|0,$(r+8|0,e|=0,t|=0),e=i[r+12>>2],ne(r+16|0,i[r+8>>2],e,e),i[r+40>>2]=i[r+24>>2],e=i[r+20>>2],i[r+32>>2]=i[r+16>>2],i[r+36>>2]=e,function(e){var t,r;d=t=d-16|0,i[t+8>>2]=i[e+8>>2],r=i[e+4>>2],i[t>>2]=i[e>>2],i[t+4>>2]=r,function(e){var t,r;d=t=d-32|0,i[t+16>>2]=i[e+8>>2],r=i[e+4>>2],i[t+8>>2]=i[e>>2],i[t+12>>2]=r,function(e){var t,r,n=0,a=0;return d=r=d-32|0,(t=0|Ce[i[262284]]())?(i[(n=r+16|0)>>2]=i[e+8>>2],a=i[e+4>>2],i[r+8>>2]=i[e>>2],i[r+12>>2]=a,i[t>>2]&&(x(1049029,16,r+24|0,1049104),u()),i[t>>2]=-1,te(t+4|0),i[t+12>>2]=i[n>>2],e=i[r+12>>2],i[t+4>>2]=i[r+8>>2],i[t+8>>2]=e,i[t>>2]=i[t>>2]+1,e=0):(te(e),e=1),d=r+32|0,e}(t+8|0)&&(x(1048972,57,t+24|0,1049072),u()),d=t+32|0}(t),d=t+16|0}(r+32|0),d=r+48|0},main:_e,__wbindgen_malloc:function(e){if(!((e|=0)>>>0>4294967292)){if(!e)return 4;if(e=le(e,(e>>>0<4294967293)<<2))return 0|e}u()},__wbindgen_realloc:function(e,t,r){if(e|=0,!((t|=0)>>>0>4294967292)&&(e=ie(e,t,4,r|=0)))return 0|e;u()},__wbindgen_free:function(e,t){(t|=0)&&v(e|=0)},__wbindgen_start:_e}}({Math:Math,Int8Array:Int8Array,Uint8Array:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},{abort:function(){throw new Error("abort")}},c),p=d.memory,h=d.sha1,f=d.setSalt,g=d.main,v=d.__wbindgen_malloc,m=d.__wbindgen_realloc,_=d.__wbindgen_free,y=d.__wbindgen_start},function(e,t,r){function n(){}function i(){}r.r(t),n.prototype.encode=function(e){for(var t=[],r=e.length,n=0;n<r;){var i=e.codePointAt(n),a=0,o=0;for(i<=127?(a=0,o=0):i<=2047?(a=6,o=192):i<=65535?(a=12,o=224):i<=2097151&&(a=18,o=240),t.push(o|i>>a),a-=6;a>=0;)t.push(128|i>>a&63),a-=6;n+=i>=65536?2:1}return t},i.prototype.decode=function(e){if(void 0===e)return"";for(var t="",r=0;r<e.length;){var n=e[r],i=0,a=0;if(n<=127?(i=0,a=255&n):n<=223?(i=1,a=31&n):n<=239?(i=2,a=15&n):n<=244&&(i=3,a=7&n),e.length-r-i>0)for(var o=0;o<i;)a=a<<6|63&(n=e[r+o+1]),o+=1;else a=65533,i=e.length-r;t+=String.fromCodePoint(a),r+=i+1}return t},r.d(t,"sha1",(function(){return h})),r.d(t,"setSalt",(function(){return f})),r.d(t,"main",(function(){return g})),r.d(t,"memory",(function(){return m}));var a=0,o=new n("utf-8"),s="function"==typeof o.encodeInto?function(e,t){return o.encodeInto(e,t)}:function(e,t){var r=o.encode(e);return t.set(r),{read:e.length,written:r.length}},l=null;function c(){return null!==l&&l.buffer===v.memory.buffer||(l=new Uint8Array(v.memory.buffer)),l}function u(e){for(var t=e.length,r=v.__wbindgen_malloc(t),n=c(),i=0;i<t;i++){var o=e.charCodeAt(i);if(o>127)break;n[r+i]=o}if(i!==t){0!==i&&(e=e.slice(i)),r=v.__wbindgen_realloc(r,t,t=i+3*e.length);var l=c().subarray(r+i,r+t);i+=s(e,l).written}return a=i,r}var d=null,p=new i("utf-8",{ignoreBOM:!0,fatal:!0});function h(e){v.sha1(8,u(e),a);var t,r,n=(null!==d&&d.buffer===v.memory.buffer||(d=new Int32Array(v.memory.buffer)),d),i=(t=n[2],r=n[3],p.decode(c().subarray(t,t+r))).slice();return v.__wbindgen_free(n[2],1*n[3]),i}function f(e){v.setSalt(u(e),a)}function g(){v.main()}p.decode();var v=r(0),m=v.memory;v.__wbindgen_start()}])}var f,g=Function.prototype.call,v=g.bind(String.prototype.indexOf),m=g.bind(String.prototype.slice),_=g.bind(Array.prototype.sort),y=g.bind(Number.prototype.toString),A=g.bind(Object.prototype.toString),b=Object.keys,w=Array.isArray||function(e){return"[object Array]"===A(e)},E=e=>{if("string"==typeof e)return e;if("number"==typeof e){var t=y(e,10),r=v(t,".");return r>0&&(t=m(t,0,r+5)),t}if("boolean"==typeof e)return!0===e?"true":"false";if(w(e)){for(var n="",i=0;i<e.length;i++)n+=E(e[i])+";";return`[${n}]`}if("object"==typeof e){var a="",o=b(e);_(o);for(var s=0;s<o.length;++s)a+=o[s]+":"+E(e[o[s]])+";";return`{${a}}`}return""},C=({apiName:e,args:t,argsList:r,seq:n})=>{for(var i=e,a=0;a<r.length;a++)i+="|"+E(t[r[a]]);return i+=n},I=JSON.parse('{"i":{"createRequestTask":["__skipDomainCheck__","url"],"installDownloadTask":["downloadId"],"downloadAppInternal":["appUrl"],"addDownloadTaskStraight":["taskName","taskUrl","fileMd5"],"getInstallState":["packageName","packageNameArray"],"setClipboardData":["data"],"getClipboardData":[],"navigateBackApplication":[]}}'),S=Math.floor,T=Math.random,x=()=>{var e;f=h(),e=(({bits:e,PRNG:t=T})=>{for(var r=S(e/16),n="",i=0;i<r;++i)n+="0123456789abcdef"[S(16*t())];return n})({bits:256}),f.setSalt(e)},P=e=>I.i[e],k=0,D=(e,t)=>{var r=p()({},t);if(void 0!==r.apiSignature)return r;if(void 0===P(e))return r;var n=C({apiName:e,args:r,argsList:I.i[e],seq:k});return r.apiSignature=f.sha1(n),r.apiSigningSeq=k,k+=1,r},R=0,O=1,M=2,L=3,N={[O]:"sign error",[M]:"sign seq error",[L]:"sign missing"},B=new Set,W=Function.prototype.call,F=W.bind(Set.prototype.has),U=W.bind(Set.prototype.add);function V(e,t,r,n){var i=`api sign failed: ${N[e]}; apiName: ${t}; args: ${JSON.stringify(r)}; signature: ${n}`;throw new Error(i)}var j=Object.create(null);function G(){return{invoke(e,t,r,n){if(((e,t)=>{if(void 0===P(e))return R;null!==t.apiSigningSeq&&void 0!==t.apiSigningSeq&&null!==t.apiSignature&&void 0!==t.apiSignature||V(L,e,t,"not checked"),t.apiSigningSeq=parseInt(t.apiSigningSeq,10),F(B,t.apiSigningSeq)&&V(M,e,t,"not checked"),U(B,t.apiSigningSeq);var r=C({apiName:e,args:t,argsList:I.i[e],seq:t.apiSigningSeq}),n=f.sha1(r);n!==t.apiSignature&&V(O,e,t,n)})(e,t),void 0===t.pluginId)return WeixinJSBridge.invoke(e,t,r,n);if(i()){var a=s(e,t);return WeixinJSBridge.invoke(e,a,r,n)}return function(e,t,r){delete t.permissionBytes,void 0===t.pluginId&&r(t),u(t.pluginId,e,(e=>{t.permissionBytes=e,t.privateData=JSON.stringify({pluginId:t.pluginId}),r(t)}))}(t,(t=>{WeixinJSBridge.invoke(e,t,r,n)}))},on:(e,t)=>j[e]instanceof Array?(j[e].push(t),null):(j[e]=null,WeixinJSBridge.on(e,t)),publish:(e,t,r)=>WeixinJSBridge.publish(e,t,r),subscribe:(e,t)=>WeixinJSBridge.subscribe(e,t)}}var H=!1,Q=[],$=[],z=function(e){$.push(e)},Y=function(e){Q.push(e),H||(this.bridge.on("onSubPackageReady",(e=>{$.forEach((t=>{"function"==typeof t&&t(void 0,e)})),Q.forEach((t=>{"function"==typeof t&&t(void 0,e)}))})),H=!0)};function Z(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]}var q=(e,t)=>{if(!t)return null;if(t=t.split("."),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("parseKeyChain keyChain is unexpected");if(!t.length)return null;for(var r=t[t.length-1],n=e,i=0;i<t.length-1;i++){if(!n)return null;n=n[t[i]]}return[n,r]},J=(e,{stringify:t=JSON.stringify,parse:r=JSON.parse,arrayBufferProto:n=ArrayBuffer.prototype,violateConvention:i=!1}={})=>{if(!e)return e;var a=typeof e;if("function"===a)throw new Error("[Safeway] not allow to pass function.");if("object"!==a)return e.valueOf();var o,s=Object.keys(e),l={};if(i)((e,t,r)=>{if(null==e)return e;var n=(e,i,a=[])=>{for(var o in e){var s=e[o];if("[object Object]"===Object.prototype.toString.call(s)||"[object Array]"===Object.prototype.toString.call(s))a.push(o),n(s,i,a);else if(void 0!==s&&"[object ArrayBuffer]"===Object.prototype.toString.call(s)&&void 0!==s.byteLength){var l=Array.prototype.concat.call(a,o).join(".");Object.setPrototypeOf(s,r),t[l]=s}}};n(e,t)})(e,l,n);else for(var c=0;c<s.length;c++){var u=s[c],d=e[u];void 0!==d&&"ArrayBuffer"===Z(d)&&void 0!==d.byteLength&&(Object.setPrototypeOf(d,n),l[u]=d)}try{o=r(t(e))}catch(e){throw new Error(`[Safeway] data clone error ${e.toString()}`)}for(var p=Object.keys(l),h=0;h<p.length;h++){var f=p[h];if(i){var g=q(o,f);if(!g)continue;var[v,m]=g;v[m]=l[f]}else o[f]=l[f]}return o};function X(e,t,r=!1){return function(...n){for(var i=[],a=0;a<n.length;a++)i[a]=J(n[a],{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto,violateConvention:r});t.apply(this,i)}}function K(e,t,{cloneArgs:r=!0,violateConvention:n=!1}={}){return function(...i){for(var a=[],o=0;o<i.length;o++)"function"==typeof i[o]?a[o]=new X(e,i[o],n):a[o]=r?J(i[o],{parse:JSON.parse,stringify:JSON.stringify,arrayBufferProto:ArrayBuffer.prototype,violateConvention:n}):i[o];var s=t.apply(this,a);return J(s,{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto})}}function ee(e,t,r,n=!0,i=!1){for(var a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=e[s];if("function"!=typeof l)throw new Error(`Export value of Safeway must be a function, key ${s} func ${typeof l}`);r&&void 0!==__subContextEngine__&&__subContextEngine__.isIsolateContext()?t[s]=new K(r,l,{cloneArgs:n,violateConvention:i}):t[s]=l}}function te(e){var t=G(),r={create:(e,t)=>WeixinWorker.create(e,t),onWorkerMsg:e=>WeixinWorker.onWorkerMsg(e),postMsgToWorker:(e,t,r)=>WeixinWorker.postMsgToWorker(e,t,r),terminate:e=>WeixinWorker.terminate(e)},n={ifIs:l,ifIsNot:c};ee(t,t,e,{cloneArgs:!1}),ee(r,r,e,!0,!0),ee(n,n,e),this.bridge=t,this.worker=r,this.apiSign=(x(),{makeApiSign:D}),this.pluginPermissionBytes=n,ee({onSubpackageReady:Y,beforeSubpackageReady:z},this,e)}var re=class{constructor(e){te.call(this,e)}static splitOnBridgeListener(e){return function(e){return null===j[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(j[e]=[],WeixinJSBridge.on(e,((...t)=>{var r=j[e];for(var n of r)if(!1===n(...t))break})),t=>{j[e].unshift(t)})}(e)}}},t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},r={};e(0,r,t),Safeway=r.default})();var __safeway__=new Safeway,__sclEngine__;(()=>{var e={821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{exparser:()=>a,onThemeChange:()=>m,onViewportResize:()=>_,timestamp:()=>A,timestampMs:()=>b,getEngineConfig:()=>w,getWindowWidth:()=>E,getWindowHeight:()=>C,getTheme:()=>I,getDevicePixelRatio:()=>S,getSafeArea:()=>T,invoke:()=>x,subscribe:()=>P,timeoutCallback:()=>k});var n=r(995),i=r(404);n.globalOptions.publicProperties=!0,n.globalOptions.renderingMode="full",n.globalOptions.classPrefix="",n.globalOptions.templateEngine=i.GlassEaselTemplate;var a=n,o=WeixinJSBridge,s=[],l=[],c=0,u=0,d=0,p=null,h=null,f={};["onViewDidResize","onAppRouteResized","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange"].forEach((e=>{f[e]=Safeway.splitOnBridgeListener(e)}));var g=e=>e?{left:e.left,top:e.top,right:Math.max(c-e.right,0),bottom:Math.max(u-e.bottom,0)}:e,v=e=>{c=e.size.framesetWidth||e.size.screenWidth,u=e.size.framesetHeight||e.size.screenHeight,h=g(r.g.__wxConfig.safeArea),s.forEach((e=>{e()}))};f.onViewDidResize(v),f.onAppRouteResized(v),f.onThemeChange((e=>{p!==e.theme&&r.g.__wxConfig.darkmode&&(p=e.theme,n.triggerRender((()=>{l.forEach((e=>e({theme:p})))})))}));var m=function(e){l.push(e)},_=function(e){s.push(e)},y=function(){d&&c&&u||o.invoke("getSystemInfo",{},(e=>{d=e.pixelRatio,c&&u||(c=e.framesetWidth||e.screenWidth,u=e.framesetHeight||e.screenHeight),h=g(e.safeArea)}))},A=function(){return Math.floor(Date.now()/1e3)},b=function(){return Date.now()%1e3},w=function(){return{relativeToParentContent:!1}},E=function(){return y(),c},C=function(){return y(),u},I=function(){return function(){if(!p){var e=r.g.__wxConfig,{darkmode:t}=e;p=t?e.theme:"light"}}(),p||"light"},S=function(){return d},T=function(){return h},x=function(e,t,r){o.invoke(e,t,(e=>{r&&r.exec(e)}))},P=function(e,t){f[e]((e=>{if(t)return t.exec(e)}))},k=function(e,t){t&&setTimeout((e=>{t.exec(e)}),e)}},57:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,J:()=>i});var n=[],i=[]},404:(e,t,r)=>{e.exports=(()=>{"use strict";var e={674:(e,t,n)=>{n.r(t),n.d(t,{GlassEaselTemplate:()=>I});var i,a=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(!0===r)return!0;if(!r)continue;if(a(r))return!0}return!1},o=function(e,t,n,i,o,s,l){if("object"==typeof e){var c=[],u=function(e,t){var n=e;return r(995).safeCallback("Template Function",n,null,t)},d=function(r){if(void 0===c[r]){var i=(0,e.I[r])(t,n,d,u);c[r]=void 0===i?null:i}return c[r]},p=!0===i||e.L(i,o,d);if(l||!0===p||p&&a(p)){var h=e.F(t,n,d,u),f=null;if(e.M){var g=e.M;f=[];for(var v=0;v<g.length;v+=1){var m=g[v];if("number"==typeof m)if(0===v){if(!s[m]){f=null;break}f.push.apply(f,s[m])}else{var _=d(m);f.push("number"==typeof _?_:_.toString())}else f.push(m)}}return[h,p,f]}}else if(l)return[e,void 0,null];return null},s=function(e,t,n,i){if("object"==typeof e){var a=[],o=function(e,t){var n=e;return r(995).safeCallback("Template Function",n,null,t)},s=function(r){if(void 0===a[r]){var i=(0,e.I[r])(t,n,s,o);a[r]=void 0===i?null:i}return a[r]},l=e.F(t,n,s,o),c=null;if(e.M){var u=e.M;c=[];for(var d=0;d<u.length;d+=1){var p=u[d];if("number"==typeof p)if(0===d){if(!i[p]){c=null;break}c.push.apply(c,i[p])}else{var h=s(p);c.push("number"==typeof h?h:h.toString())}else c.push(p)}}return[l,c]}return[e,null]},l=function(e){return null==e?"":e.toString()};!function(e){e[e.ATTR=0]="ATTR"}(i||(i={}));var c,u=function(e){return e.indexOf("-")<=0?e:e.replace(/-[a-z]/g,(function(e){return e[1].toUpperCase()}))},d=function(e,t,n,a,o,s,c){var d=r(995),p=d.dataUtils.deepCopy(n);if(e instanceof d.VirtualNode&&"slot"===e.is&&"name"===t)return d.Element.setSlotName(e,l(p)),!1;if("id"===t)return e.id=l(p),!1;if("slot"===t)return e.slot=l(p),!1;if("class"===t){if(s)e.hasExternalClass("class")?e.setExternalClass("class",l(p)):e.class=l(p);else e.class=l(p);return!1}if(s){var h=u(t);if(d.Component.hasPublicProperty(e,h))return o.scheduleReplace([h],p,null),!0;if("model:"===t.slice(0,6)){a||console.warn('Cannot apply reverse binding to property "'+t+'" because the binding expression is not a valid lvalue');var f=h.slice(6);if(d.Component.hasPublicProperty(e,f))return o.scheduleReplace([f],p,null),c.push([f,a]),!0}}if("style"===t)return e.setNodeStyle(l(p),i.ATTR),!1;if(/^data:/.test(t)){var g=t.slice(5);return e.dataset[g]=p,!1}if(/^data-/.test(t)){g=u(t.slice(5).toLowerCase());return e.dataset[g]=p,!1}var v=/^(capture-)?(mut-)?(bind|catch):?(.+)$/.exec(t);if(v){var m=l(p);return e.addListener(v[4],(function(t){var r,n=e.ownerShadowRoot.getHostNode();if("object"==typeof n){var i=d.Element.getMethodCaller(n)||n,a=i[m];"function"==typeof a&&(r=a.call(i,t))}return r})),!1}return/^mark:/.test(t)?(e.setMark(t.slice(5),p),!1):s&&e.hasExternalClass(t)?(e.setExternalClass(t,l(p)),!1):e instanceof d.NativeNode&&("boolean"==typeof p?!0===p?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,l(p)),!1)},p=function(e,t,n,i,a,l,c){var u;e.dataset=e.dataset||{};var p=!1,h=[],f=r(995),g=e instanceof f.Component,v=g?f.Component.getDataProxy(e):null;for(var m in t)if(Object.prototype.hasOwnProperty.call(t,m)){var _=t[m],y=void 0,A=null;if(c){var b=o(_,n,i,l,c,a,!1);if(!b)continue;y=b[0],A=b[2]}else y=(u=s(_,n,i,a))[0],A=u[1];d(e,m,y,A,v,g,h)&&(p=!0)}if(p&&v.doUpdates(null,!0),g)for(var w=function(t){var r=h[t],n=r[0],i=r[1];e.setPropertyChangeListener(n,(function(t){var r=e.ownerShadowRoot.getHostNode(),n=f.Component.getDataProxy(r);n.scheduleReplace(i,t,null),n.doUpdates(null,!1)}))},E=0;E<h.length;E+=1)w(E)},h=function(e,t,n,i){e.dataset=e.dataset||{};var a=[],o=r(995),l=e instanceof o.Component,c=l?o.Component.getDataProxy(e):null,u=s(n,i,null,null),p=u[0],h=u[1];if(d(e,t,p,h,c,l,a)&&c.doUpdates(null,!0),l)for(var f=function(t){var r=a[t],n=r[0],i=r[1];e.setPropertyChangeListener(n,(function(t){var r=e.ownerShadowRoot.getHostNode(),n=o.Component.getDataProxy(r);n.scheduleReplace(i,t,null),n.doUpdates(null,!1)}))},g=0;g<a.length;g+=1)f(g)},f=function(e,t,r){for(var n=function(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r];n?Object.prototype.hasOwnProperty.call(t,n)?e[r]=void 0:t[l(n)]=r:Number.isNaN(n)&&(e[r]=void 0)}return t}(e),i=function(e){for(var t={},r=[],n=0;n<e.length;n+=1){var i=e[n];i?Object.prototype.hasOwnProperty.call(t,i)?(e[n]=void 0,r.push(n)):t[l(i)]=n:(Number.isNaN(i)&&(e[n]=void 0),r.push(n))}return[t,r]}(t),a=i[0],o=i[1],s=[],c=new Array(e.length),u=new Array(e.length),d=[],p=[],h=0,f=0,g=0;g<e.length;g+=1){var v=e[g];if(v)if(Object.prototype.hasOwnProperty.call(a,v)){var m=a[l(v)];s.push(t[m]),c[g]=r[m],u[g]=g!==m}else d.push(g-f),f+=1,s.push(null),c[g]=null;else if(h<o.length){m=o[h];s.push(t[m]),c[g]=r[m],h+=1,u[g]=g!==m}else d.push(g-f),f+=1,s.push(null),c[g]=null}for(var _=0,y=[],A=0;A<t.length;){for(var b=t[A],w=s[_];null===w;)w=s[_+=1];_>=s.length?(p.push({oldIndex:n[l(b)],index:A,pos:-1}),_+=1,A+=1):w===b?(y.push(_),_+=1,A+=1):b?(w?a[l(w)]===A+1?p.push({oldIndex:n[l(b)],index:A,pos:_}):(w=s[_+=1])===b?(y.push(_),_+=1):(_-=1,p.push({oldIndex:n[l(b)],index:A,pos:_})):p.push({oldIndex:n[l(b)],index:A,pos:_}),A+=1):_+=1}var E=0;for(g=0;g<p.length;g+=1){var C=p[g].pos;if(-1===C)break;for(;E<y.length&&C>y[E];)E+=1;E>=y.length?p[g].pos=-1:p[g].pos=y[E]}return{children:c,indexChanged:u,removes:d,inserts:p}};!function(e){e[e.PURE=0]="PURE",e[e.IF=1]="IF",e[e.FOR=2]="FOR",e[e.TEMPLATE_IS=3]="TEMPLATE_IS",e[e.SHADOW_ROOT=4]="SHADOW_ROOT",e[e.SLOT=5]="SLOT",e[e.INCLUDE=6]="INCLUDE",e[e.BLOCK_SLOT=7]="BLOCK_SLOT"}(c||(c={}));var g=function(e,t,r,n,i,a,o){if(r)for(var c=0;c<r.length;c+=1){var u=r[c];if(null!=u)if(void 0===u.S){var d=v(e,u,n,i,a,null,o);t.appendChild(d)}else{var p=s(u.S,n,i,a)[0];d=o.createTextNode(l(p));t.appendChild(d)}}},v=function(e,t,n,i,a,o,u){var d=null;if(void 0!==t.V){var h=t;if(h.V===c.IF){var f="wx:if",v=u.createVirtualNode(f);v.__templateArgs={},(M=r(995)).Element.setInheritSlots(v);for(var m=h.B,_=0;_<m.length;_+=1){var y=m[_];if(s(y.B,n,i,a)[0]){g(e,v,y.C,n,i,a,u),v.__templateArgs.key=_;break}}return v}if(h.V===c.FOR){f="wx:for";var A=u.createVirtualNode(f);A.__templateArgs={},(M=r(995)).Element.setInheritSlots(A);var b=A.__templateArgs.keyList=[],w=h.K,E=function(t,r,o){"*this"===w?b.push(t):b.push(null==t?void 0:t[w]);var s=u.createVirtualNode("wx:for-item");M.Element.setInheritSlots(s),i.push(t),i.push(r),a.push(o),a.push(null),g(e,s,h.C,n,i,a,u),a.pop(),a.pop(),i.pop(),i.pop(),A.appendChild(s)},C=s(h.L,n,i,a),I=C[0],S=C[1];if(I instanceof Array)for(_=0;_<I.length;_+=1)S&&S.push(_),E(I[_],_,S),S&&S.pop();else if("object"==typeof I)for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(S&&S.push(T),E(I[T],T,S),S&&S.pop());else if("string"==typeof I)for(_=0;_<I.length;_+=1)S&&S.push(_),E(I[_],_,S),S&&S.pop();else if("number"==typeof I)for(_=0;_<I;_+=1)S&&S.push(_),E(_,_,S),S&&S.pop();return A}if(h.V===c.TEMPLATE_IS){var x=u.createVirtualNode("template");x.__templateArgs={},(M=r(995)).Element.setInheritSlots(x);var P=s(h.N,n,i,a)[0],k=x.__templateArgs.key=l(P),D=e(k);if(D){var R=s(h.D,n,i,a)[0];g(e,x,D.C,R,[],[],u)}return x}if(h.V===c.INCLUDE){var O=u.createVirtualNode("include");return(M=r(995)).Element.setInheritSlots(O),O}if(h.V===c.SHADOW_ROOT){var M=r(995);d=u=M.ShadowRoot.create(o)}else if(h.V===c.SLOT){var L=d=u.createVirtualNode("slot"),N=s(h.N,n,i,a)[0];(M=r(995)).Element.setSlotName(L,l(N))}else if(h.V===c.BLOCK_SLOT){L=d=u.createVirtualNode("virtual");var B=s(h.N,n,i,a)[0];L.slot=l(B)}else if(h.V===c.PURE){L=d=u.createVirtualNode("virtual");(M=r(995)).Element.setInheritSlots(L)}}else{var W=(F=t).T;d=u.tagNameUsed(W)||W.indexOf("-")>=0?u.createComponent(W,void 0,F.G):u.createNativeNode(W)}if(d instanceof(M=r(995)).Element){var F,U=t.SD;if(void 0!==U){d.__templateArgs||(d.__templateArgs={});var V=s(U,n,i,a)[0];d.__templateArgs.scopeData=V}if((F=t).EA)for(var j in F.EA)d.setAttribute(j,F.EA[j]);var G=F.A;G&&p(d,G,n,i,a);var H=t.C;H&&g(e,d,H,n,i,a,u)}return d},m=function(e,t,r,n,i,a,s,c,u){if(r)for(var d=0;d<r.length;d+=1){var p=r[d];if(null!=p)if(void 0===p.S)_(e.childNodes[d],t,p,n,i,a,s,c,u);else{var h=o(p.S,n,i,a,s,c,!1);if(h){var f=h[0];e.childNodes[d].textContent=l(f)}}}},_=function(e,t,n,i,a,s,u,d,h){if(void 0!==n.V){var y=n;if(y.V===c.IF){for(var A=function(n,o){var s=h.createVirtualNode("wx:if");s.__templateArgs={},r(995).Element.setInheritSlots(s),s.__templateArgs.key=n,o&&g(t,s,o,i,a,d,h),e.parentNode.replaceChild(s,e)},b=y.B,w=0;w<b.length;w+=1){var E=b[w];if(o(E.B,i,a,s,u,d,!0)[0])return void(e.__templateArgs.key===w?_(e,t,E,i,a,s,u,d,h):A(w,E.C))}return void(-1!==e.__templateArgs.key&&A(-1))}if(y.V===c.FOR){var C=e.__templateArgs.keyList,I=e.__templateArgs.keyList=[],S=y.K,T=function(e){"*this"===S?I.push(e):I.push(null==e?void 0:e[S])},x=function(e,r,n,o,l,c){a.push(e),a.push(r),u.push(n),u.push(!!l||void 0),d.push(o),d.push(null);var p=y.C;m(c,t,p,i,a,s,u,d,h),d.pop(),d.pop(),u.pop(),u.pop(),a.pop(),a.pop()},P=o(y.L,i,a,s,u,d,!0),k=P[0],D=P[1],R=P[2],O=!1,M=[];if(k instanceof Array)for(w=0;w<k.length;w+=1)T(k[w]),M.push({item:k[w],index:w});else if("object"==typeof k)for(var L in O=!0,k)T(k[L]),M.push({item:k[L],index:L});else if("string"==typeof k)for(w=0;w<k.length;w+=1)T(k[w]),M.push({item:k[w],index:w});else if("number"==typeof k)for(w=0;w<k;w+=1)T(w),M.push({item:w,index:w});var N=f(C,I,M),B=N.children,W=N.indexChanged,F=N.inserts,U=N.removes;for(w=0;w<B.length;w+=1){var V=B[w];if(V){var j=void 0;!0===D?j=!0:D&&(j=D[V.index]),R&&R.push(V.index),x(V.item,V.index,j,R,O||W[w],e.childNodes[w]),R&&R.pop()}}return void function(e,t,r,n,i,a){for(var o=r.childNodes,s=[],l=0;l<t.length;l+=1){var c=t[l];s.push({node:void 0!==c.oldIndex?o[c.oldIndex]:null,before:c.pos>=0?o[c.pos]:void 0,index:c.index})}for(l=0;l<e.length;l+=1){var u=o[h=e[l]];r.removeChild(u)}for(l=0;l<s.length;l+=1){var d=s[l],p=d.before,h=d.index;if(null===(u=s[l].node)){var f=n[h],g=f.item,v=f.index;i&&i.push(v),u=a(g,v,i),i&&i.pop()}r.insertBefore(u,p)}}(U,F,e,M,R,(function(e,n,o){var s=h.createVirtualNode("wx:for-item");return r(995).Element.setInheritSlots(s),a.push(e),a.push(n),d.push(o),d.push(null),g(t,s,y.C,i,a,d,h),d.pop(),d.pop(),a.pop(),a.pop(),s}))}if(y.V===c.TEMPLATE_IS){if((Z=o(y.N,i,a,s,u,d,!1))&&e.__templateArgs.key!==Z[0]){var G=v(t,y,i,a,d,null,h);e.parentNode.replaceChild(G,e)}else{var H=e.__templateArgs.key,Q=t(H),$=o(y.D,i,a,s,u,d,!0),z=$[0],Y=$[1];m(e,t,Q.C,z,[],Y,[],[],h)}return}if(y.V===c.SLOT){if(Z=o(y.N,i,a,s,u,d,!1))(q=r(995)).Element.setSlotName(e,l(Z[0]))}else{if(y.V===c.INCLUDE)return;var Z;y.V===c.BLOCK_SLOT&&(Z=o(y.N,i,a,s,u,d,!1))&&(e.slot=l(Z[0]))}}var q=r(995);if(e instanceof q.Element){var J=n.A;J&&p(e,J,i,a,d,s,u),(B=n.C)&&m(e,t,B,i,a,s,u,d,h)}},y=function(){return{P:"",C:[{V:c.SLOT,N:"",C:[]}]}},A=function(){function e(e,t,n,i){if(this.data=t,this.innerData=n,"string"==typeof e.template){var a=r(995);this.genObjectGroup=a.precompileTemplate(e.template).content[""]}else{var o=e.template||{content:y};this.genObjectGroup=o.content}this.updateMode=""}return e.create=function(t,r,n,i){return new e(t,r,n,i)},e.prototype.createInstance=function(e,t){var n=new b;n.template=this;var i=n.template.genObjectGroup("");n.genObject={V:c.SHADOW_ROOT,C:i.C},n.bindingMap=i.BM;var a=r(995);n.data=a.dataUtils.deepCopy(this.data),n.idMap=Object.create(null);var o=Object.create(null);o[""]=null;var s=w(e,n.genObject,n.data,n.idMap,o);if(null===o[""]&&s.childNodes.length>0){var l=document.createElement("virtual");s.appendChild(l),o[""]=l}return n.shadowRoot=s,n.slots=o,n.listeners=[],n},e}(),b=function(){function e(){}return e.prototype.updateValues=function(e,t,r,n,i,a){if(!this.bindingMapInstance){var o={};for(var c in this.bindingMap)if(Object.prototype.hasOwnProperty.call(this.bindingMap,c)){for(var u=this.bindingMap[c],d=new Array(u.length),p=0;p<u.length;p+=1){for(var h=u[p],f=e.shadowRoot,g=this.genObject,v=null,m=0;m<h.length;m+=1){var _=h[m];if("number"!=typeof _){v=_;break}f=f.childNodes[_],g=g.C[_]}var y=null===v?g.S:g.A[v];v&&("id"===v||v.indexOf(":")>=0)?d[p]=[f,"illegal-update:"+v,y]:d[p]=[f,v,y]}o[c]=d}this.bindingMapInstance=o}var A=this.bindingMapInstance;for(p=0;p<r.length;p+=1){var b=A[r[p][0]];if(void 0!==b)for(m=0;m<b.length;m+=1){var w=b[m],E=w[0],C=(v=w[1],y=w[2],s(y,t,null,null)[0]);null!==v?"boolean"==typeof C?!0===C?E.setAttribute(v,""):E.removeAttribute(v):E.setAttribute(v,l(C)):E.textContent=l(C)}}},e}(),w=function(e,t,n,i,a){var o,u=!1;if(void 0!==t.V){var d=t;if(d.V===c.SHADOW_ROOT&&(o=document.createDocumentFragment(),u=!0),d.V===c.SLOT)return a[""]=document.createElement("virtual")}else{var p=t,h=p.T;o=document.createElement(h);var f=p.A,g=function(t){if(!Object.prototype.hasOwnProperty.call(f,t))return"continue";var a=f[t],c=s(a,n,null,null)[0];if("id"===t)i[l(c)]=o;else{var u=t.split(":",2),d=u[0],p=u[1];if(p){if("bind"===d){var h=l(c);r(995).addListenerToElement(o,p,(function(t){var r;if("object"==typeof e){var n=e[h];"function"==typeof n&&(r=n.call(e,t))}return r}))}}else"boolean"==typeof c?!0===c?o.setAttribute(t,""):o.removeAttribute(t):o.setAttribute(d,l(c))}};for(var v in f)g(v)}var m=t.C;if(1===m.length&&m[0].V===c.SLOT)u||(a[""]=o);else for(var _=0;_<m.length;_+=1){var y=m[_];if(void 0===y.S){var A=w(e,y,n,i,a);o.appendChild(A)}else{var b=s(y.S,n,null,null)[0];A=document.createTextNode(l(b));o.appendChild(A)}}return o},E=function(){return{P:"",C:[{V:c.SLOT,N:"",C:[]}]}},C=function(e,t,n){for(var i=e.childNodes,a=0;a<i.length;a+=1){var o=i[a];o instanceof r(995).Element&&(o.__id&&(t[o.__id]=o),void 0!==o.__slotName&&(n[o.__slotName]=o),C(o,t,n))}},I=function(){function e(e,t,n,i){if(this.data=t,this.innerData=n,"string"==typeof e.template){var a=r(995);this.genObjectGroup=a.precompileTemplate(e.template).content[""],this.updateMode=""}else{var o=e.template||{content:E};this.genObjectGroup=o.content,this.updateMode=o.updateMode||""}}return e.create=function(t,r,n,i){return"native"===i.renderingMode?new A(t,r,n,i):new e(t,r,n,i)},e.prototype.createInstance=function(e,t){var n=new S;n.template=this;var i=n.template.genObjectGroup("");n.genObject={V:c.SHADOW_ROOT,C:i.C},""!==this.updateMode&&"bindingMap"!==this.updateMode||(n.bindingMap=i.BM,"bindingMap"===this.updateMode&&(n.forceBindingMapUpdate=!0));var a=r(995);return n.data=a.dataUtils.deepCopy(this.data),n.idMap=Object.create(null),n.slots=Object.create(null),n.shadowRoot=v(n.template.genObjectGroup,n.genObject,this.innerData,[],[],e,null),C(n.shadowRoot,n.idMap,n.slots),n.listeners=[],n},e}(),S=function(){function e(){}return e.prototype.updateValues=function(e,t,r,n,i,a){if(this.forceBindingMapUpdate)this.tryBindingMapUpdate(e,t,r);else if(!(r.length<=1&&this.bindingMap&&this.tryBindingMapUpdate(e,t,r))){for(var o=Object.create(null),s=0;s<r.length;s+=1)for(var l=r[s],c=o,u=0;u<l.length;u+=1){var d=l[u];if(!0===c[d])break;if(u===l.length-1){c[d]=!0;break}c[d]||(c[d]=Object.create(null)),c=c[d]}_(this.shadowRoot,this.template.genObjectGroup,this.genObject,t,[],o,[],[],e.shadowRoot)}},e.prototype.tryBindingMapUpdate=function(e,t,r){if(!this.bindingMapInstance){var n={};for(var i in this.bindingMap)if(Object.prototype.hasOwnProperty.call(this.bindingMap,i)){for(var a=this.bindingMap[i],o=new Array(a.length),c=0;c<a.length;c+=1){for(var u=a[c],d=e.shadowRoot,p=this.genObject,f=null,g=0;g<u.length;g+=1){var v=u[g];if("number"!=typeof v){f=v;break}d=d.childNodes[v],p=p.C[v]}var m=null===f?p.S:p.A[f];o[c]=[d,f,m]}n[i]=o}this.bindingMapInstance=n}var _=this.bindingMapInstance;for(c=0;c<r.length;c+=1){if(1!==(y=r[c]).length)return!1;if(void 0===(A=_[y[0]]))return!1}for(c=0;c<r.length;c+=1){var y,A=_[(y=r[c])[0]];for(g=0;g<A.length;g+=1){var b=A[g],w=b[0];f=b[1],m=b[2];if(null!==f)h(w,f,m,t);else{var E=s(m,t,null,null)[0];w.textContent=l(E)}}}return!0},e}()}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(674)})()},995:e=>{var t=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,r,n){var i=n(1),a=n(3),o=n(5),s=n(6),l=n(7),c=n(8),u=n(9),d=n(15),p=n(12),h=n(17),f=n(18),g=n(19),v=n(16),m=n(10),_=n(20),y=n(14),A=n(21),b=n(4),w=n(13),E=n(22);r.FreeTmpl=E,r.precompileTemplate=E.precompiler?E.precompiler.compile:null,r.precompiler=E.precompiler?E.precompiler:null,r.HtmlLLParser=E.htmlParser?E.htmlParser:null,r.LLParser=i,r.dataPath=l,r.dataUtils=o,r.Event=s,r.Element=u,r.TextNode=p,r.NativeNode=h,r.VirtualNode=f,r.ShadowRoot=g,r.Behavior=c,r.Component=d,r.Observer=m,r.DataGroup=v,r.ElementIterator=_,r.FakeDomElement=y,r.registerBehavior=c.create,r.registerElement=d.register,r.createElement=d.create,r.createTextNode=p.create,r.createVirtualNode=f.create,r.appendChild=u.appendChild,r.insertBefore=u.insertBefore,r.removeChild=u.removeChild,r.replaceChild=u.replaceChild,r.addListenerToElement=s.addListenerToElement,r.removeListenerFromElement=s.removeListenerFromElement,r.triggerEvent=s.triggerEvent,r.triggerRender=A.triggerRender,r.safeCallback=a.safeCallback,r.addGlobalErrorListener=a.addGlobalErrorListener,r.removeGlobalErrorListener=a.removeGlobalErrorListener,r.addGlobalWarningListener=a.addGlobalWarningListener,r.removeGlobalWarningListener=a.removeGlobalWarningListener,r.globalOptions=b,r.globalState=w,d._setDefaultTemplateEngine(E);var C=r.updateDefaultComponent=function(){delete d._list[""],d.register({is:"",options:{writeOnly:!0,allowInWriteOnly:!0,lazyRegistration:!1,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1}})};C(),r.initBackend=function(){C()};var I=function(e){var r="";if(e instanceof t.Element&&(e.id&&(r+=' id="'+e.id+'"'),e.slot&&(r+=' slot="'+e.slot+'"'),e.__slotName&&(r+=' name="'+e.__slotName+'"'),e.classList&&(r+=' class="'+e.class+'"'),"dom"===b.documentBackend&&e.$$&&e.$$.getAttribute("style")&&(r+=' style="'+e.$$.getAttribute("style")+'"')),e instanceof t.VirtualNode)return r;if(e instanceof t.Component)return d.listPublicProperties(e).forEach((function(t){r+=" "+t+"="+JSON.stringify(e[t])})),r;for(var n=e.attributes,i=0;i<n.length;i++)r+=" "+n[i].name+'="'+n[i].value+'"';return r},S=r.dumpElementToString=function(e,r,n){var i=null;"dom"===b.documentBackend&&(i=window);var a=0,o="";for(a=n=n||0;a;a--)o+="  ";var s="";if(e instanceof t.Element)s+=o+"<"+("dom"===b.documentBackend&&e.$$?e.$$.tagName.toLowerCase()+":":"")+e.is+I(e)+">",s+=e instanceof t.VirtualNode?" [Exp-Virtual]":e instanceof t.NativeNode?" [Exp-Native]":" [Exp-Component]",s+="\n"+S(r?e.__wxSlotChildren:e.childNodes,r,n+1);else if(e instanceof t.TextNode)s+=o+e.textContent+" [Exp-Text]\n";else if(i&&i.HTMLElement&&e instanceof i.HTMLElement)s+=o+"<"+e.tagName.toLowerCase()+I(e)+"> [DOM-Element]",s+="\n"+S(r&&e.__wxSlotChildren||e.childNodes,r,n+1);else if(i&&i.Text&&e instanceof i.Text)s+=o+e.textContent+" [DOM-Text]\n";else if(void 0!==e.length)for(a=0;a<e.length;a++)s+=S(e[a],r,n);else s=o+"[unknown node]\n";return s};r.dumpElement=function(e,t){console.log(S(e,t))}},function(e,t,r){var n=null,i=function(){},a=i.stats={all:0,copyIn:0,parse:0,constructOut:0},o=function(e){return n.llparser_create_descriptor(e,1)},s=function(e,t){var r=n.llparser_create_descriptor(e,0),i=!1;"^"===t[0]&&(i=!0);for(var a=i?1:0;a<t.length;a++){var o=t.charCodeAt(a);if("-"===t[a+1]){var s=t.charCodeAt(a+2);o<=s?(n.llparser_descriptor_add_range(r,o,s),a+=2):n.llparser_descriptor_add_char(r,o)}else n.llparser_descriptor_add_char(r,o)}return i&&n.llparser_descriptor_revert(r),r};i.create=function(e,t,a){n||(n=r(2));var l=new i;a=a||16384;var c=l._llp=n.llparser_create(a,128,128),u={},d={},p="";for(p in u.ALL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_all(u.ALL),u.NULL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_nil(u.NULL),e)u[p]=o(c);for(p in e)for(var h=e[p],f=u[p],g=0;g<h.length;g++){for(var v=h[g].id,m=h[g].states,_=[],y=0;y<m.length;y++){var A=m[y];u[A]||(u[A]=s(c,A)),_.push(u[A])}var b=0;"_raw"===v?b=1:"_jump"===v?b=65536:"_blank"===v&&(b=65537);var w=n.llparser_add_rule(c,b,f,_.length,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]);0===b&&(d[w]=t[v])}return n.llparser_prepare(c),l._inputPtr=n.llparser_get_input_buffer(c),l._resultPtr=n.llparser_get_result(c),l._stateIdMap=u,l._ruleCbMap=d,l._charCountLimit=a,l};i.prototype.parse=function(e,t){var r=Date.now();(function(e,t,r,n){for(var i=n>e.length?e.length:n,a=0;a<i;a++)t[r+a]=e.charCodeAt(a);t[r+i]=0})(t,new Uint16Array(n.memory.buffer),this._inputPtr>>1,this._charCountLimit),a.copyIn=a.copyIn+Date.now()-r,r=Date.now();var i=n.llparser_parse(this._llp,this._stateIdMap[e]);if(a.parse=a.parse+Date.now()-r,r=Date.now(),i)throw new Error("Parsing failed at character position "+(i-1)+' near "'+t.slice(i-20,i)+'"');var o=function(e,t,r,n,i){for(var a=[],o={i:0,r:0,n:!1,cc:-1,c:[]},s=o,l=i.pos,c=!1,u=!1,d=!1;;){var p=t[l],h=t[l+1];if(h<0?(u=!0,h=-h-1):u=!1,p>=0){d=!0;var f=r.slice(p,h);s.c.push(f),c=u}else{if(-1===p&&0===h)break;d=!1;var g=-p,v=h,m={i:s.c.length-(c?1:0),r:g,n:u,cc:v,c:[]};if(c){var _=s.c.length-1,y=s.c[_];m.c.push(y),s.c[_]=m}else s.c.push(m);a.push(s),s=m,c=!1}if(!d||!c)for(;s.c.length===s.cc;){c=s.n;var A=a.pop();if(A.c[s.i]=n[s.r].call(e,s.c),s=A,c)break}l+=2}return o.c[0]}(this,new Int32Array(n.memory.buffer),t,this._ruleCbMap,{pos:this._resultPtr>>2});return a.constructOut=a.constructOut+Date.now()-r,o},i.prototype.destroy=function(){n.llparser_destroy(this._llp)},e.exports=i},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e,t,r){return m.llparser_create(e,t,r)}function i(e){m.llparser_destroy(e)}function a(e,t){return m.llparser_create_descriptor(e,t)}function o(e){m.llparser_descriptor_set_all(e)}function s(e){m.llparser_descriptor_set_nil(e)}function l(e,t){m.llparser_descriptor_add_char(e,t)}function c(e,t,r){m.llparser_descriptor_add_range(e,t,r)}function u(e){m.llparser_descriptor_revert(e)}function d(e,t,r,n,i,a,o,s,l,c,u,d){return m.llparser_add_rule(e,t,r,n,i,a,o,s,l,c,u,d)}function p(e){m.llparser_prepare(e)}function h(e,t){return m.llparser_parse(e,t)}function f(e){return m.llparser_get_input_buffer(e)}function g(e){return m.llparser_get_result(e)}function v(){m.wasm_main()}r.r(t),r.d(t,"llparser_create",(function(){return n})),r.d(t,"llparser_destroy",(function(){return i})),r.d(t,"llparser_create_descriptor",(function(){return a})),r.d(t,"llparser_descriptor_set_all",(function(){return o})),r.d(t,"llparser_descriptor_set_nil",(function(){return s})),r.d(t,"llparser_descriptor_add_char",(function(){return l})),r.d(t,"llparser_descriptor_add_range",(function(){return c})),r.d(t,"llparser_descriptor_revert",(function(){return u})),r.d(t,"llparser_add_rule",(function(){return d})),r.d(t,"llparser_prepare",(function(){return p})),r.d(t,"llparser_parse",(function(){return h})),r.d(t,"llparser_get_input_buffer",(function(){return f})),r.d(t,"llparser_get_result",(function(){return g})),r.d(t,"wasm_main",(function(){return v})),r.d(t,"memory",(function(){return _}));var m=r(1),_=m.memory;m.__wbindgen_start()},function(e,t,r){"use strict";r.r(t),r.d(t,"memory",(function(){return a})),r.d(t,"rust_calloc",(function(){return o})),r.d(t,"rust_free",(function(){return s})),r.d(t,"llparser_create",(function(){return l})),r.d(t,"llparser_destroy",(function(){return c})),r.d(t,"llparser_create_descriptor",(function(){return u})),r.d(t,"llparser_descriptor_set_all",(function(){return d})),r.d(t,"llparser_descriptor_set_nil",(function(){return p})),r.d(t,"llparser_descriptor_add_char",(function(){return h})),r.d(t,"llparser_descriptor_add_range",(function(){return f})),r.d(t,"llparser_descriptor_revert",(function(){return g})),r.d(t,"llparser_add_rule",(function(){return v})),r.d(t,"llparser_prepare",(function(){return m})),r.d(t,"llparser_parse",(function(){return _})),r.d(t,"llparser_get_input_buffer",(function(){return y})),r.d(t,"llparser_get_result",(function(){return A})),r.d(t,"wasm_main",(function(){return b})),r.d(t,"__wbindgen_start",(function(){return w}));var n=new ArrayBuffer(1114112),i=function(e,t,r){function n(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0;r=(t=e+-8|0)+(e=-8&(i=f[e+-4>>2]))|0;e:{t:{r:{n:{i:if(!(1&i)){if(!(3&i))break n;if(e=(i=f[t>>2])+e|0,(0|(t=t-i|0))==f[262246]){if(3!=(3&f[r+4>>2]))break i;return f[262244]=e,f[r+4>>2]=-2&f[r+4>>2],f[t+4>>2]=1|e,void(f[e+t>>2]=e)}i>>>0>=256?s(t):(0|(n=f[t+8>>2]))==(0|(a=f[t+12>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[n+12>>2]=a,f[a+8>>2]=n)}if(2&(i=f[r+4>>2]))f[r+4>>2]=-2&i,f[t+4>>2]=1|e,f[e+t>>2]=e;else{i:{if(f[262247]!=(0|r)){if((0|r)!=f[262246])break i;return f[262246]=t,e=f[262244]+e|0,f[262244]=e,f[t+4>>2]=1|e,void(f[e+t>>2]=e)}if(f[262247]=t,e=f[262245]+e|0,f[262245]=e,f[t+4>>2]=1|e,(0|t)==f[262246]&&(f[262244]=0,f[262246]=0),(r=f[262254])>>>0>=e>>>0)break n;if(!(e=f[262247]))break n;a:if(!((i=f[262245])>>>0<41))for(t=1049e3;;){if((n=f[t>>2])+f[t+4>>2]>>>0>e>>>0&&n>>>0<=e>>>0)break a;if(!(t=f[t+8>>2]))break}if(n=4095,e=f[262252]){for(t=0;t=t+1|0,e=f[e+8>>2];);n=t>>>0>4095?t:4095}if(f[262256]=n,i>>>0<=r>>>0)break n;return void(f[262254]=-1)}if(e=(n=-8&i)+e|0,n>>>0>=256?s(r):(0|(n=f[r+12>>2]))==(0|(r=f[r+8>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[r+12>>2]=n,f[n+8>>2]=r),f[t+4>>2]=1|e,f[e+t>>2]=e,f[262246]==(0|t)){f[262244]=e;break n}}if(e>>>0<256)break r;if(o(t,e),e=f[262256]+-1|0,f[262256]=e,!e){if(e=f[262252])break t;e=4095;break e}}return}return e=1048584+((r=e>>>3)<<3)|0,i=f[262144],r=1<<(31&r),n=f[e+8>>2],i&r||(f[262144]=r|i,n=e),r=n,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,void(f[t+8>>2]=r)}for(t=0;t=t+1|0,e=f[e+8>>2];);e=t>>>0>4095?t:4095}f[262256]=e}function i(e,t,r,n,a){var o;if(A=o=A-48|0,f[o+44>>2]=e,f[o+40>>2]=t,f[o+36>>2]=r,f[o+32>>2]=n,f[o+28>>2]=a,f[f[o+40>>2]>>2]!=f[o+36>>2])for(f[f[o+40>>2]>>2]=f[o+36>>2],f[o+24>>2]=f[f[o+40>>2]+136>>2],f[o+20>>2]=1&(0!=f[o+28>>2]^-1^-1);f[o+24>>2];){for(f[o+20>>2]||(f[o+28>>2]=f[o+24>>2]),f[o+16>>2]=f[f[f[o+24>>2]>>2]+8>>2],1==f[f[o+16>>2]+4>>2]&&i(f[o+44>>2],f[o+16>>2],f[o+36>>2],f[o+32>>2],f[o+28>>2]),f[o+12>>2]=0;!(f[o+12>>2]>=128);)g[f[o+12>>2]+(f[o+16>>2]+8|0)|0]&&(m[f[o+28>>2]>>2]>=m[f[o+32>>2]+(f[o+12>>2]<<2)>>2]&&f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]||(f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]=f[f[o+28>>2]>>2])),f[o+12>>2]=f[o+12>>2]+1;f[o+24>>2]=f[f[o+24>>2]+4>>2]}A=o+48|0}function a(e,t,r,n){var i;for(f[44+(i=A-48|0)>>2]=e,f[i+40>>2]=t,f[i+36>>2]=r,f[i+32>>2]=n,f[i+28>>2]=f[f[i+40>>2]+136>>2];f[i+28>>2];){if(f[i+24>>2]=f[f[f[i+28>>2]>>2]+8>>2],f[i+24>>2]==f[i+40>>2])for(f[i+20>>2]=f[f[f[i+28>>2]>>2]+12>>2],f[i+16>>2]=0;!(f[i+16>>2]>=128);){e:{if(1!=f[f[i+20>>2]+4>>2]){if(!g[f[i+16>>2]+(f[i+20>>2]+8|0)|0])break e}else if(f[i+12>>2]=f[f[i+44>>2]+32>>2]+((f[i+20>>2]-f[f[i+44>>2]+24>>2]|0)/140<<9),!f[f[i+12>>2]+(f[i+16>>2]<<2)>>2])break e;m[f[i+28>>2]>>2]>=m[f[i+32>>2]+(f[i+16>>2]<<2)>>2]&&f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]||(f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]=f[f[i+28>>2]>>2])}f[i+16>>2]=f[i+16>>2]+1}f[i+28>>2]=f[f[i+28>>2]+4>>2]}}function o(e,t){var r=0,n=0,i=0,a=0;f[e+16>>2]=0,f[e+20>>2]=0,i=e,r=0,(n=t>>>8)&&(r=31,t>>>0>16777215||(r=62+((t>>>(6-(n=y(n))&31)&1)-(n<<1)|0)|0)),f[i+28>>2]=r,i=1048848+(r<<2)|0;e:{t:{r:{n:{if((a=f[262145])&(n=1<<(31&r))){if(n=f[i>>2],(-8&f[n+4>>2])!=(0|t))break n;r=n;break r}f[262145]=n|a,f[i>>2]=e,f[e+24>>2]=i;break e}for(i=t<<(31==(0|r)?0:25-(r>>>1)&31);;){if(!(r=f[(a=16+((i>>>29&4)+n|0)|0)>>2]))break t;if(i<<=1,n=r,(-8&f[r+4>>2])==(0|t))break}}return t=f[r+8>>2],f[t+12>>2]=e,f[r+8>>2]=e,f[e+24>>2]=0,f[e+12>>2]=r,void(f[e+8>>2]=t)}f[a>>2]=e,f[e+24>>2]=n}f[e+12>>2]=e,f[e+8>>2]=e}function s(e){var t,r=0,n=0,i=0,a=0,o=0,s=0;t=f[e+24>>2];e:{t:{if((0|e)==(0|(r=f[e+12>>2]))){if(i=f[(r=e+20|0)>>2],n=f[(i?20:16)+e>>2])break t;r=0;break e}n=f[e+8>>2],f[n+12>>2]=r,f[r+8>>2]=n;break e}for(i=i?r:e+16|0;a=i,(n=f[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=f[r+16>>2]),n;);f[a>>2]=0}e:if(t){n=1048848+(f[e+28>>2]<<2)|0;t:{if((0|e)==f[n>>2]){if(f[n>>2]=r,r)break t;return o=1048580,s=f[262145]&d(f[e+28>>2]),void(f[o>>2]=s)}if(f[(f[t+16>>2]==(0|e)?16:20)+t>>2]=r,!r)break e}f[r+24>>2]=t,(n=f[e+16>>2])&&(f[r+16>>2]=n,f[n+24>>2]=r),(e=f[e+20>>2])&&(f[r+20>>2]=e,f[e+24>>2]=r)}}function l(e,t){return 0|function(e){var t;return!(t=function(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0,h=0,g=0,v=0,_=0;e:{t:{r:{if(e>>>0>=245){if(e>>>0>=4294901709)break t;if(i=-8&(e=e+11|0),!(h=f[262145]))break r;r=0-i|0,c=0,(e>>>=8)&&(c=31,i>>>0>16777215||(c=62+((i>>>(6-(e=y(e))&31)&1)-(e<<1)|0)|0));n:{i:{if(e=f[1048848+(c<<2)>>2]){for(a=i<<(31==(0|c)?0:25-(c>>>1)&31);;){if(!((l=-8&f[e+4>>2])>>>0<i>>>0||(l=l-i|0)>>>0>=r>>>0||(n=e,r=l))){r=0;break i}if(l=f[e+20>>2],e=f[16+((a>>>29&4)+e|0)>>2],t=l&&(0|l)!=(0|e)?l:t,a<<=1,!e)break}if(t){e=t;break i}if(n)break n}if(n=0,!(e=(0-(e=2<<(31&c))|e)&h))break r;if(!(e=f[1048848+(u(e&0-e)<<2)>>2]))break r}for(;n=(l=(a=(t=-8&f[e+4>>2])-i|0)>>>0<r>>>0&t>>>0>=i>>>0)?e:n,r=l?a:r,e=(t=f[e+16>>2])||f[e+20>>2];);if(!n)break r}if(r>>>0>=(e=f[262244])-i>>>0&&e>>>0>=i>>>0)break r;s(n);n:if(r>>>0>=16){if(f[n+4>>2]=3|i,f[4+(t=n+i|0)>>2]=1|r,f[t+r>>2]=r,r>>>0>=256){o(t,r);break n}e=1048584+((r>>>=3)<<3)|0,a=f[262144],r=1<<(31&r),c=f[e+8>>2],a&r||(f[262144]=r|a,c=e),r=c,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=r}else e=r+i|0,f[n+4>>2]=3|e,f[4+(e=e+n|0)>>2]=1|f[e+4>>2];return n+8|0}n:{i:{if(!(3&(e=(t=f[262144])>>>(n=31&(r=(i=e>>>0<11?16:e+11&-8)>>>3))))){if(i>>>0<=m[262244])break r;if(e)break i;if(!(e=f[262145]))break r;for(t=f[1048848+(u(e&0-e)<<2)>>2],r=(-8&f[t+4>>2])-i|0,a=t;;){if(!(e=f[t+16>>2])&&!(e=f[t+20>>2]))break n;r=(t=(n=(-8&f[e+4>>2])-i|0)>>>0<r>>>0)?n:r,a=t?e:a,t=e}}r=(e=f[1048592+(l=(n=r+(1&(-1^e))|0)<<3)>>2])+8|0,(0|(a=f[e+8>>2]))==(0|(l=l+1048584|0))?(v=1048576,_=d(n)&t,f[v>>2]=_):(f[a+12>>2]=l,f[l+8>>2]=a),t=n<<3,f[e+4>>2]=3|t,f[4+(e=e+t|0)>>2]=1|f[e+4>>2];break t}return n=u(0-(e=(r=e<<n)&(0-(e=2<<n)|e))&e),e=f[1048592+(a=n<<3)>>2],(0|(r=f[e+8>>2]))==(0|(a=a+1048584|0))?(v=1048576,_=d(n)&t,f[v>>2]=_):(f[r+12>>2]=a,f[a+8>>2]=r),a=e+8|0,f[e+4>>2]=3|i,r=(t=n<<3)-i|0,f[4+(l=e+i|0)>>2]=1|r,f[e+t>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r,a}return s(a),r>>>0>=16?(f[a+4>>2]=3|i,f[4+(l=i+a|0)>>2]=1|r,f[r+l>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r):(e=r+i|0,f[a+4>>2]=3|e,f[4+(e=e+a|0)>>2]=1|f[e+4>>2]),a+8|0}r:{n:{i:{a:{if((t=f[262244])>>>0<i>>>0){if((e=f[262245])>>>0>i>>>0)break e;if(r=0,-1==(0|(t=p((e=i+65583|0)>>>16))))break t;if(!(n=t<<16))break t;if(e=(a=-65536&e)+f[262248]|0,f[262248]=e,t=f[262249],f[262249]=t>>>0>e>>>0?t:e,!(r=f[262247]))break a;for(e=1049e3;;){if((0|n)==((t=f[e>>2])+(l=f[e+4>>2])|0))break i;if(!(e=f[e+8>>2]))break}break n}return e=f[262246],(n=t-i|0)>>>0<=15?(f[262246]=0,f[262244]=0,f[e+4>>2]=3|t,i=4+(t=e+t|0)|0,r=1|f[t+4>>2]):(f[262244]=n,r=e+i|0,f[262246]=r,f[r+4>>2]=1|n,f[e+t>>2]=n,r=3|i,i=e+4|0),f[i>>2]=r,e+8|0}for((e=f[262255])>>>0<=n>>>0&&e||(f[262255]=n),e=0,f[262256]=4095,f[262251]=a,f[262250]=n,f[262253]=0;t=e+1048584|0,f[e+1048592>>2]=t,f[e+1048596>>2]=t,256!=(0|(e=e+8|0)););f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}if(!(f[e+12>>2]|n>>>0<=r>>>0|t>>>0>r>>>0)){f[e+4>>2]=a+l,t=(e=f[262247])+15&-8,f[262247]=t+-8,r=8+((n=a+f[262245]|0)+(e-t|0)|0)|0,f[262245]=r,f[t+-4>>2]=1|r,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}}e=f[262255],f[262255]=e>>>0<n>>>0?e:n,t=n+a|0,e=1049e3;n:{for(;;){if((0|t)!=f[e>>2]){if(e=f[e+8>>2])continue;break n}break}if(!f[e+12>>2]){f[e>>2]=n,f[e+4>>2]=a+f[e+4>>2],f[n+4>>2]=3|i,a=n+i|0,i=(t-n|0)-i|0;i:{a:{if((0|t)!=f[262247]){if(f[262246]==(0|t))break a;if(1==(3&(e=f[t+4>>2]))&&((r=-8&e)>>>0>=256?s(t):(0|(l=f[t+12>>2]))==(0|(c=f[t+8>>2]))?(v=1048576,_=f[262144]&d(e>>>3),f[v>>2]=_):(f[c+12>>2]=l,f[l+8>>2]=c),i=r+i|0,t=t+r|0),f[t+4>>2]=-2&f[t+4>>2],f[a+4>>2]=1|i,f[i+a>>2]=i,i>>>0>=256){o(a,i);break i}e=1048584+((t=i>>>3)<<3)|0,r=f[262144],t=1<<(31&t),c=f[e+8>>2],r&t||(f[262144]=t|r,c=e),r=c,f[e+8>>2]=a,f[r+12>>2]=a,f[a+12>>2]=e,f[a+8>>2]=r;break i}f[262247]=a,e=f[262245]+i|0,f[262245]=e,f[a+4>>2]=1|e;break i}f[262246]=a,e=f[262244]+i|0,f[262244]=e,f[a+4>>2]=1|e,f[e+a>>2]=e}return n+8|0}}for(e=1049e3;!((t=f[e>>2])>>>0<=r>>>0&&(l=t+f[e+4>>2]|0)>>>0>r>>>0);)e=f[e+8>>2];for(f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152,f[(t=(e=(l+-32&-8)-8|0)>>>0<r+16>>>0?r:e)+4>>2]=27,e=f[262250],c=f[262251],g=f[262253],f[(h=t+16|0)>>2]=f[262252],f[h+4>>2]=g,f[t+8>>2]=e,f[t+12>>2]=c,f[262251]=a,f[262250]=n,f[262252]=t+8,f[262253]=0,e=t+28|0;f[e>>2]=7,l>>>0>(e=e+4|0)>>>0;);(0|t)!=(0|r)&&(f[t+4>>2]=-2&f[t+4>>2],e=t-r|0,f[r+4>>2]=1|e,f[t>>2]=e,e>>>0>=256?o(r,e):(e=1048584+((t=e>>>3)<<3)|0,n=f[262144],t=1<<(31&t),c=f[e+8>>2],n&t||(f[262144]=t|n,c=e),t=c,f[e+8>>2]=r,f[t+12>>2]=r,f[r+12>>2]=e,f[r+8>>2]=t))}if(r=0,!((e=f[262245])>>>0<=i>>>0))break e}return r}return t=e-i|0,f[262245]=t,n=(e=f[262247])+i|0,f[262247]=n,f[n+4>>2]=1|t,f[e+4>>2]=3|i,e+8|0}(e))|!(3&g[t+-4|0])||function(e,t){if(t)for(;h[0|e]=0,e=e+1|0,t=t+-1|0;);}(t,e),t}(_(e|=0,t|=0))}function c(){}function u(e){return e?31-y(e+-1^e)|0:32}function d(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}function p(t){t|=0;var n=0|r.byteLength/65536,i=n+t|0;if(n<i&&i<65536){var a=new ArrayBuffer(_(i,65536)),o=new e.Int8Array(a);o.set(h),h=o,h=new e.Int8Array(a),new e.Int16Array(a),f=new e.Int32Array(a),g=new e.Uint8Array(a),v=new e.Uint16Array(a),m=new e.Uint32Array(a),new e.Float32Array(a),new e.Float64Array(a),r=a}return n}var h=new e.Int8Array(r),f=(new e.Int16Array(r),new e.Int32Array(r)),g=new e.Uint8Array(r),v=new e.Uint16Array(r),m=new e.Uint32Array(r),_=(new e.Float32Array(r),new e.Float64Array(r),e.Math.imul),y=(e.Math.fround,e.Math.abs,e.Math.clz32),A=(e.Math.min,e.Math.max,e.Math.floor,e.Math.ceil,e.Math.sqrt,e.NaN,e.Infinity,1048576);return{memory:Object.create(Object.prototype,{grow:{value:p},buffer:{get:function(){return r}}}),rust_calloc:l,rust_free:function(e){n(e|=0)},llparser_create:function(e,t,r){return 0|function(e,t,r){var n,i,a;return A=n=A-32|0,f[n+28>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,e=n,t=f[n+28>>2]?f[n+28>>2]:256,f[e+28>>2]=t,e=n,t=f[n+24>>2]?f[n+24>>2]:256,f[e+24>>2]=t,e=n,t=f[n+20>>2]?f[n+20>>2]:256,f[e+20>>2]=t,i=n,a=l(((((((_(f[n+24>>2],140)+52|0)+_(f[n+20>>2],44)|0)+(f[n+24>>2]<<9)|0)+(f[n+24>>2]<<9)|0)+_(f[n+20>>2],f[n+24>>2]<<3)|0)+(f[n+28>>2]<<1)|0)+(f[n+28>>2]<<3)|0,1),f[i+16>>2]=a,f[f[n+16>>2]+12>>2]=f[n+28>>2],f[f[n+16>>2]+16>>2]=f[n+24>>2],f[f[n+16>>2]+20>>2]=f[n+20>>2],f[f[n+16>>2]+4>>2]=0,f[f[n+16>>2]>>2]=0,f[f[n+16>>2]+8>>2]=0,f[n+12>>2]=f[n+16>>2]+52,f[f[n+16>>2]+24>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+24>>2],140),f[f[n+16>>2]+28>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+20>>2],44),f[f[n+16>>2]+32>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+36>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+40>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+20>>2],f[n+24>>2]<<3),f[f[n+16>>2]+44>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+28>>2]<<1),f[f[n+16>>2]+48>>2]=f[n+12>>2],A=n+32|0,f[n+16>>2]}(e|=0,t|=0,r|=0)},llparser_destroy:function(e){!function(e){var t;A=t=A-16|0,f[t+12>>2]=e,n(f[t+12>>2]),A=t+16|0}(e|=0)},llparser_create_descriptor:function(e,t){return 0|function(e,t){var r,n;return f[12+(r=A-16|0)>>2]=e,f[r+8>>2]=t,t=f[f[r+12>>2]+24>>2],n=f[r+12>>2],e=f[n+4>>2],f[n+4>>2]=e+1,f[r+4>>2]=t+_(e,140),f[f[r+4>>2]+4>>2]=f[r+8>>2]?1:0,f[r+4>>2]}(e|=0,t|=0)},llparser_descriptor_set_all:function(e){var t;e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-1,h[f[t+12>>2]+135|0]=1},llparser_descriptor_set_nil:function(e){var t;e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-2,h[f[t+12>>2]+8|0]=1},llparser_descriptor_add_char:function(e,t){!function(e,t){var r;f[12+(r=A-16|0)>>2]=e,f[r+8>>2]=t,h[f[r+8>>2]+(f[r+12>>2]+8|0)|0]=1}(e|=0,t|=0)},llparser_descriptor_add_range:function(e,t,r){!function(e,t,r){var n;for(f[12+(n=A-16|0)>>2]=e,f[n+8>>2]=t,f[n+4>>2]=r,f[n>>2]=f[n+8>>2];!(f[n>>2]>f[n+4>>2]);)h[f[n>>2]+(f[n+12>>2]+8|0)|0]=1,f[n>>2]=f[n>>2]+1}(e|=0,t|=0,r|=0)},llparser_descriptor_revert:function(e){!function(e){var t;for(f[12+(t=A-16|0)>>2]=e,f[t+8>>2]=1;!(f[t+8>>2]>=127);)h[f[t+8>>2]+(f[t+12>>2]+8|0)|0]=1&(0!=g[f[t+8>>2]+(f[t+12>>2]+8|0)|0]^-1),f[t+8>>2]=f[t+8>>2]+1}(e|=0)},llparser_add_rule:function(e,t,r,n,i,a,o,s,l,c,u,d){return 0|function(e,t,r,n,i,a,o,s,l,c,u,d){var p;return A=p=A+-64|0,f[p+60>>2]=e,f[p+56>>2]=t,f[p+52>>2]=r,f[p+48>>2]=n,f[p+44>>2]=i,f[p+40>>2]=a,f[p+36>>2]=o,f[p+32>>2]=s,f[p+28>>2]=l,f[p+24>>2]=c,f[p+20>>2]=u,f[p+16>>2]=d,t=f[f[p+60>>2]+28>>2],r=f[p+60>>2],e=f[r>>2],f[r>>2]=e+1,f[p+12>>2]=t+_(e,44),f[f[p+12>>2]>>2]=f[p+52>>2],f[f[p+12>>2]+4>>2]=f[p+48>>2],f[p+48>>2]>0&&(f[f[p+12>>2]+8>>2]=f[p+44>>2]),f[p+48>>2]>1&&(f[f[p+12>>2]+12>>2]=f[p+40>>2]),f[p+48>>2]>2&&(f[f[p+12>>2]+16>>2]=f[p+36>>2]),f[p+48>>2]>3&&(f[f[p+12>>2]+20>>2]=f[p+32>>2]),f[p+48>>2]>4&&(f[f[p+12>>2]+24>>2]=f[p+28>>2]),f[p+48>>2]>5&&(f[f[p+12>>2]+28>>2]=f[p+24>>2]),f[p+48>>2]>6&&(f[f[p+12>>2]+32>>2]=f[p+20>>2]),f[p+48>>2]>7&&(f[f[p+12>>2]+36>>2]=f[p+16>>2]),f[f[p+12>>2]+40>>2]=f[p+56>>2],f[p+48>>2]>0&&function(e,t,r){var n;f[28+(n=A-32|0)>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,f[n+16>>2]=(f[n+20>>2]-f[f[n+28>>2]+24>>2]|0)/140,1==f[f[n+20>>2]+4>>2]&&(t=f[f[n+28>>2]+40>>2],r=f[n+28>>2],e=f[r+8>>2],f[r+8>>2]=e+1,f[n+12>>2]=t+(e<<3),f[f[n+12>>2]>>2]=f[n+24>>2],f[f[n+12>>2]+4>>2]=f[f[n+20>>2]+136>>2],f[f[n+20>>2]+136>>2]=f[n+12>>2])}(f[p+60>>2],f[p+12>>2],f[p+52>>2]),A=p- -64|0,f[p+12>>2]}(e|=0,t|=0,r|=0,n|=0,i|=0,a|=0,o|=0,s|=0,l|=0,c|=0,u|=0,d|=0)},llparser_prepare:function(e){!function(e){var t;for(A=t=A-32|0,f[t+28>>2]=e,f[t+24>>2]=0;!(f[t+24>>2]>=f[f[t+28>>2]+4>>2]);)f[t+20>>2]=f[f[t+28>>2]+24>>2]+_(f[t+24>>2],140),1==f[f[t+20>>2]+4>>2]&&i(f[t+28>>2],f[t+20>>2],f[t+20>>2],f[f[t+28>>2]+32>>2]+(f[t+24>>2]<<9)|0,0),f[t+24>>2]=f[t+24>>2]+1;for(f[t+16>>2]=0;!(f[t+16>>2]>=f[f[t+28>>2]+4>>2]);)f[t+12>>2]=f[f[t+28>>2]+24>>2]+_(f[t+16>>2],140),1==f[f[t+12>>2]+4>>2]&&(f[f[t+12>>2]>>2]=0,a(f[t+28>>2],f[t+12>>2],f[t+12>>2],f[f[t+28>>2]+36>>2]+(f[t+16>>2]<<9)|0)),f[t+16>>2]=f[t+16>>2]+1;A=t+32|0}(e|=0)},llparser_parse:function(e,t){return 0|function(e,t){var r,n,i;return A=r=A-32|0,f[r+24>>2]=e,f[r+20>>2]=t,f[r+16>>2]=0,f[r+12>>2]=0,n=r,i=function e(t,r,n,i,a,o,s){var l,c=0,u=0;A=l=A-96|0,f[l+88>>2]=t,f[l+84>>2]=r,f[l+80>>2]=n,f[l+76>>2]=i,f[l+72>>2]=a,f[l+68>>2]=o,f[l+64>>2]=s,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1);e:if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0))f[l+92>>2]=-1;else if(1==f[f[l+84>>2]+4>>2])if(f[l+56>>2]=f[f[l+76>>2]>>2],f[l+52>>2]=f[f[l+72>>2]>>2],f[l+48>>2]=0,f[l+44>>2]=0,f[l+40>>2]=f[f[l+88>>2]+32>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+36>>2]=0,!f[f[l+40>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+40>>2]+508>>2]?f[f[l+40>>2]>>2]&&(f[l+36>>2]=f[f[l+40>>2]>>2]):f[l+36>>2]=f[f[l+40>>2]+508>>2]:f[l+36>>2]=f[f[l+40>>2]+(f[l+60>>2]<<2)>>2],f[l+36>>2]){for(f[l+68>>2]||f[f[l+36>>2]+40>>2]||(f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2),f[l+32>>2]=0;f[l+32>>2]<f[f[l+36>>2]+4>>2];){if(f[l+28>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+36>>2]+40>>2]|f[f[l+36>>2]+40>>2]==(f[l+32>>2]+65536|0)||(f[l+28>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+36>>2]+8|0)+(f[l+32>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+28>>2],f[l+64>>2]),f[c+24>>2]=u,f[l+24>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+36>>2]+40>>2]!=(f[l+32>>2]+65536|0)||(f[l+44>>2]=f[l+24>>2]),f[l+32>>2]=f[l+32>>2]+1}for(f[l+68>>2]||(f[f[l+36>>2]+40>>2]?1==f[f[l+36>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+36>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+36>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1));;){if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0)){f[l+92>>2]=-1;break e}if(f[l+20>>2]=f[f[l+88>>2]+36>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+16>>2]=0,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1),!f[f[l+20>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+20>>2]+508>>2]||(f[l+16>>2]=f[f[l+20>>2]+508>>2]):f[l+16>>2]=f[f[l+20>>2]+(f[l+60>>2]<<2)>>2],!f[l+16>>2])break;for(f[l+68>>2]||(f[f[l+16>>2]+40>>2]?65536!=f[f[l+16>>2]+40>>2]&&(f[f[l+72>>2]>>2]=f[l+52>>2]):(f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]=(0-f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]|0)-1,f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2)),f[l+12>>2]=1;f[l+12>>2]<f[f[l+16>>2]+4>>2];){if(f[l+8>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+16>>2]+40>>2]|f[f[l+16>>2]+40>>2]==(f[l+12>>2]+65536|0)||(f[l+8>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+16>>2]+8|0)+(f[l+12>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+8>>2],f[l+64>>2]),f[c+4>>2]=u,f[l+4>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+16>>2]+40>>2]!=(f[l+12>>2]+65536|0)||(f[l+44>>2]=f[l+4>>2]),f[l+12>>2]=f[l+12>>2]+1}f[l+68>>2]||(f[f[l+16>>2]+40>>2]?1==f[f[l+16>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+16>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+16>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1))}f[l+92>>2]=f[l+44>>2]}else f[l+92>>2]=-1;else{if(f[l+60>>2]&&(-1==f[f[l+84>>2]+4>>2]&&(t=f[l+76>>2],f[t>>2]=f[t>>2]+1),!f[f[l+84>>2]+4>>2])){if(!g[f[l+60>>2]+(f[l+84>>2]+8|0)|0]){f[l+92>>2]=-1;break e}t=f[l+76>>2],f[t>>2]=f[t>>2]+1}f[l+68>>2]||(r=f[f[l+76>>2]>>2],n=f[f[l+84>>2]+4>>2],i=f[f[l+88>>2]+48>>2],a=f[l+72>>2],t=f[a>>2],f[a>>2]=t+1,f[i+(t<<2)>>2]=r-(-2==(0|n)?0:1),r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r),f[l+92>>2]=f[f[l+72>>2]>>2]-1}return A=l+96|0,f[l+92>>2]}(f[r+24>>2],f[r+20>>2],f[f[r+24>>2]+44>>2],r+12|0,r+16|0,0,f[f[r+24>>2]+12>>2]<<1),f[n+8>>2]=i,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=-1,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=0,v[f[f[r+24>>2]+44>>2]+(f[r+12>>2]<<1)>>1]|f[r+8>>2]<0?f[r+28>>2]=f[r+12>>2]+1:f[r+28>>2]=0,A=r+32|0,f[r+28>>2]}(e|=0,t|=0)},llparser_get_input_buffer:function(e){var t;return e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+44>>2]},llparser_get_result:function(e){var t;return e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+48>>2]},wasm_main:c,__wbindgen_start:c}}({Math:Math,Int8Array:Int8Array,Uint8Array:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},0,n),a=i.memory,o=i.rust_calloc,s=i.rust_free,l=i.llparser_create,c=i.llparser_destroy,u=i.llparser_create_descriptor,d=i.llparser_descriptor_set_all,p=i.llparser_descriptor_set_nil,h=i.llparser_descriptor_add_char,f=i.llparser_descriptor_add_range,g=i.llparser_descriptor_revert,v=i.llparser_add_rule,m=i.llparser_prepare,_=i.llparser_parse,y=i.llparser_get_input_buffer,A=i.llparser_get_result,b=i.wasm_main,w=i.__wbindgen_start}])},function(e,t,r){var n=r(4),i=function(e){this.empty=!0,this._type=e,this._arr=[],this._index=0};i.create=function(e){return new i(e)},i.prototype.add=function(e){var t=this._index++;return this._arr.push({id:t,func:e}),this.empty=!1,t},i.prototype.remove=function(e){var t=this._arr,r=0;if("function"==typeof e)for(r=0;r<t.length;r++){var n=t[r].func;if(n===e)return t.splice(r,1),this.empty=!t.length,n}else for(r=0;r<t.length;r++)if(t[r].id===e){var i=t[r].func;return t.splice(r,1),this.empty=!t.length,i}return null},i.prototype.call=function(e,t,r){for(var n=this._arr,i=!1,a=0;a<n.length;a++){!1===o(this._type,n[a].func,e,t,r)&&(i=!0)}if(i)return!1};var a=function(e,t){if(!t.type||!1!==s.call(null,[e,t])){if(n.throwGlobalError)throw e;console.error(e.stack)}},o=i.safeCallback=function(e,t,r,n,i){try{return t.apply(r,n)}catch(s){var o="[Exparser] [Error] [Component] "+(e||"Error Listener")+" Error @ ";r&&r.is&&(o+=r.is),o+="#"+(t.name||"(anonymous)"),i&&i.triggerLifeTime("error",[s]),a(s,{message:o,type:e,element:r,method:t,args:n})}},s=i.create();i.addGlobalErrorListener=function(e){return s.add(e)},i.removeGlobalErrorListener=function(e){return s.remove(e)};var l=null;i.addGlobalWarningListener=function(e){return(l=i.create()).add(e)},i.removeGlobalWarningListener=function(e){if(l){var t=l.remove(e);return l.empty&&(l=null),t}return null},i.hasGlobalWarningListeners=function(){return!!l},i.triggerWarning=function(e){var t="[Exparser] [Warning] [Component] "+e;l.call(null,[t],null)},e.exports=i},function(e,t){var r={lazyRegistration:!0,publicProperties:!1,availability:null,domain:"",writeOnly:!1,allowInWriteOnly:!1,classPrefix:null,styleScope:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,separateInnerData:!0,innerDataExclude:null,listenerChangeLifeTimes:!1,randomizeTagName:!1,virtualHost:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,documentBackend:"undefined"!=typeof window&&"undefined"!=typeof document?"dom":"none",hasDOMBackend:!("undefined"==typeof window||"undefined"==typeof document),customContext:null};e.exports=r},function(e,t){var r=Object.prototype.hasOwnProperty,n=function(e,t){var i=typeof e;if("object"===i&&null!==e){var a=t?t.get(e):void 0;if(void 0!==a)return a;if(e instanceof Array){a=[],t&&t.set(e,a);for(var o=0;o<e.length;o++)a[o]=n(e[o],t)}else for(var s in a={},t&&t.set(e,a),e)r.call(e,s)&&(a[s]=n(e[s],t));return a}if("symbol"!==i)return e};t.deepCopy=function(e,t){var r=t&&"undefined"!=typeof WeakMap?new WeakMap:null;return n(e,r)}},function(e,t,r){var n=r(3),i=(Object.prototype.hasOwnProperty,function(){});i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}});var a=null;i._setElementSystem=function(e){a=e,i._setElementSystem=null};var o=null;i._setComponent=function(e){o=e,i._setComponent=null};var s=Date.now();i.setInitTimeStamp=function(e){return s=void 0===e?Date.now():e},i.getInitTimeStamp=function(e){return s},i.create=function(e,t,r){var n=(r=r||{}).originalEvent,a=r.extraFields||{},o=Date.now()-s,l=new i;for(var c in l.currentTarget=null,l.type=e,l.timeStamp=o,l.mark=null,l.detail=t,l.bubbles=!!r.bubbles,l.composed=!!r.composed,l.__originalEvent=n,l.__hasCapture=!!r.capturePhase,l.__stopped=!1,l.__dispatched=!1,a)l[c]=a[c];return l},i.prototype.preventDefault=function(){this.__originalEvent&&this.__originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.__stopped=!0},i.prototype.isStopped=function(){return!!this.__stopped},i.prototype.markMutated=function(){this.__mutatedMarked=!0},i.prototype.mutatedMarked=function(){return!!this.__mutatedMarked};var l=function(e,t,r,n){for(var i=e,o=e instanceof a?e.collectMarks():{},s=[],l=[],c=e;c;){if(i!==c&&(s.push(e),e=c,l.push(o),o=e instanceof a?e.collectMarks():{}),i=c.parentNode,!1===n(c,e,o))return;if(c.__wxHost){if(r)break;e=s.pop()||c.__wxHost,o=l.pop()||(e instanceof a?e.collectMarks():{}),i=c=c.__wxHost}else{var u=!0;c instanceof a&&(u=!1),c=u||r?c.parentNode:c.__wxSlotParent}}};i.dispatchEvent=function(e,t){if(!t.__dispatched){t.__dispatched=!0,e.__wxElement&&e.__wxHost!==e.__wxElement&&((e=e.__wxElement).shadowRoot instanceof a&&(e=e.shadowRoot)),t.target=e instanceof a?e.__methodCaller:e;var r=function(e,r,n){if(!(r&&r.length&&t.mutatedMarked())){var i=t.currentTarget=n instanceof a?n.__methodCaller:n,s=e.call(i,[t],n instanceof o?n:void 0);r&&r.length&&t.markMutated(),!1===s&&(t.__originalEvent&&t.__originalEvent.preventDefault(),t.__stopped=!0)}},n=t.type,i=!t.composed;if(t.__hasCapture){var s=[];l(e,0,i,(function(e,t,r){return e.__wxCaptureEvents&&e.__wxCaptureEvents[n]&&s.push([e,t,r]),!0}));for(var c=s.length-1;c>=0;c--){var u=s[c],d=u[0],p=u[1];t.target=p instanceof a?p.__methodCaller:p,t.mark=u[2];var h=d.__wxCaptureMutated&&d.__wxCaptureMutated[n];if(r(d.__wxCaptureEvents[n],h,d),t.__stopped)break}}if(t.target=e instanceof a?e.__methodCaller:e,!t.__stopped){var f=!t.bubbles;l(e,0,i,(function(e,i,o){t.target=i instanceof a?i.__methodCaller:i,t.mark=o;var s=e.__wxMutated&&e.__wxMutated[n];return e.__wxEvents&&e.__wxEvents[n]&&r(e.__wxEvents[n],s,e),!f&&!t.__stopped}))}}},i.triggerEvent=function(e,t,r,n){var a=i.create(t,r,n);i.dispatchEvent(e,a)},i.addListenerToElement=function(e,t,r,i){var a=i&&i.mutated;if(a){var s=r;r=function(e){if(!e.mutatedMarked()){var t=Array.prototype.slice.call(arguments);return s.apply(this,t)}}}var l=void 0;return i&&(i.useCapture||i.capture)?(e.__wxCaptureEvents||(e.__wxCaptureEvents=Object.create(null)),e.__wxCaptureEvents[t]||(e.__wxCaptureEvents[t]=n.create("Event Listener")),l=e.__wxCaptureEvents[t].add(r),a&&(e.__wxCaptureMutated||(e.__wxCaptureMutated=Object.create(null)),e.__wxCaptureMutated[t]||(e.__wxCaptureMutated[t]=[]),e.__wxCaptureMutated[t].push(l))):(e.__wxEvents||(e.__wxEvents=Object.create(null)),e.__wxEvents[t]||(e.__wxEvents[t]=n.create("Event Listener")),l=e.__wxEvents[t].add(r),a&&(e.__wxMutated||(e.__wxMutated=Object.create(null)),e.__wxMutated[t]||(e.__wxMutated[t]=[]),e.__wxMutated[t].push(l))),e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!0,t,r,i]),l},i.removeListenerFromElement=function(e,t,r,n){var i=null;if(n&&(n.useCapture||n.capture))e.__wxCaptureEvents&&e.__wxCaptureEvents[t]&&(i=e.__wxCaptureEvents[t].remove(r)),e.__wxCaptureMutated&&e.__wxCaptureMutated[t]&&-1!==(a=e.__wxCaptureMutated[t].indexOf(r))&&e.__wxCaptureMutated[t].splice(a,1);else if(e.__wxEvents&&e.__wxEvents[t]&&(i=e.__wxEvents[t].remove(r)),e.__wxMutated&&e.__wxMutated[t]){var a;-1!==(a=e.__wxMutated[t].indexOf(r))&&e.__wxMutated[t].splice(a,1)}i&&e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!1,t,i,n])},e.exports=i},function(e,t,r){var n=r(1),i=" \n\r\t\f",a=null;t.parseMultiPaths=function(e){return a||(a=n.create({MULTIPLE_PATHS:[{id:"arrayConcat",states:["MULTIPLE_PATHS",",","SINGLE_PATH"]},{id:"array",states:["SINGLE_PATH"]}],SINGLE_PATH:[{id:"arrayConcat",states:["SINGLE_PATH",".","VAR_NAME"]},{id:"arrayConcat",states:["SINGLE_PATH","[","INT","]"]},{id:"array",states:["VAR_NAME"]},{id:"_jump",states:["SINGLE_PATH",i]}],VAR_NAME:[{id:"_blank",states:[i,"VAR_NAME"]},{id:"_jump",states:["VAR_NAME",i]},{id:"_raw",states:["*","*"]},{id:"_raw",states:["_a-zA-Z$","VAR_NAME_AFTER"]}],VAR_NAME_AFTER:[{id:"_raw",states:["_a-zA-Z0-9$","VAR_NAME_AFTER"]},{id:"_raw",states:["NULL"]}],INT:[{id:"_blank",states:[i,"INT"]},{id:"_jump",states:["INT",i]},{id:"toNumber",states:["0-9","INT_AFTER"]}],INT_AFTER:[{id:"_raw",states:["0-9","INT_AFTER"]},{id:"_raw",states:["NULL"]}]},{arrayConcat:function(e){return e[0].push(e[2]),e[0]},array:function(e){return e},toNumber:function(e){return parseInt(e[0]+e[1],10)}})),a.parse("MULTIPLE_PATHS",e)},t.parseSinglePath=function(e){for(var t=e.length,r=[],n="",i=0,a=!1,o=!1,s=0;s<t;s++){var l=e[s];if("\\"===l)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1]||"\\"===e[s+1])?(n+=e[s+1],s++):n+="\\";else if("."===l)n&&(r.push(n),n="");else if("["===l){if(n&&(r.push(n),n=""),0===r.length)throw new Error("The path string should not start with []: "+e);o=!0,a=!1}else if("]"===l){if(!a)throw new Error("There should be digits inside [] in the path string: "+e);o=!1,r.push(i),i=0}else if(o){if(l<"0"||l>"9")throw new Error("Only digits (0-9) can be put inside [] in the path string: "+e);a=!0,i=10*i+l.charCodeAt(0)-48}else n+=l}if(n&&r.push(n),0===t)throw new Error("The path string should not be empty");return r}},function(e,t,r){var n=r(3),i=r(4),a=r(7),o=["created","ready","cacheAttached","attached","moved","detached","route","saved","restored","error","listenerChanged","performanceData"],s=[String,Number,Boolean,Object,Array,null],l=function(){},c=a.parseMultiPaths,u=function(){};u.matchTypeWithValue=function(e,t){if(e===String){if("string"!=typeof t)return!1}else if(e===Number){if(!Number.isFinite(t))return!1}else if(e===Boolean){if("boolean"!=typeof t)return!1}else if(e===Object){if(null===t||t.constructor!==Object)return!1}else if(e===Array){if(null===t||t.constructor!==Array)return!1}else if(void 0===t)return!1;return!0};var d=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t},p=function(e){var t={};for(var r in e)t[r]=e[r];return t},h=function(e,t){for(var r in t)hasOwnProperty.call(e,r)?(n.hasGlobalWarningListeners()&&"_"===r.charAt(0)&&n.triggerWarning('data field "'+r+'" from different behaviors is overriding or merging.'),"object"!=typeof e[r]||"object"!=typeof t[r]||null===t[r]||t[r]instanceof Array?e[r]=t[r]:(e[r]instanceof Array?e[r]=d(e[r]):e[r]=p(e[r]),h(e[r],t[r]))):e[r]=t[r]};u.create=function(e){var t=new u;return t.is=e.is||"",t.using=e.using||{},t.generics=e.generics||{},t.template=e.template,t.externalClasses=e.externalClasses||[],t.data="object"==typeof e.data?{}:null,t.properties=Object.create(null),t.methods=Object.create(null),t.listeners=Object.create(null),t.relations=Object.create(null),t.ancestors=[],t.initiator=e.initiator,t.lifetimes=Object.create(null),t.pageLifetimes=Object.create(null),t.observers=[],t.options={publicProperties:!!(e.options&&void 0!==e.options.publicProperties?e.options.publicProperties:i.publicProperties)},t.definitionFilter=e.definitionFilter,t._unprepared=e,(e.options&&void 0!==e.options.lazyRegistration?e.options.lazyRegistration:i.lazyRegistration)||u.prepare(t),e.is&&(u._list[e.is]=t),t},u.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.ancestors,i="",a=0;for(a=0;a<(t.behaviors||[]).length;a++){var d=t.behaviors[a],p=d;for(i in"string"==typeof p&&(p=u._list[d],n.hasGlobalWarningListeners()&&(p instanceof u||n.triggerWarning('behavior "'+d+'" is not found (when preparing behavior "'+e.is+'").'))),p._unprepared&&u.prepare(p),"object"==typeof p.data&&(null===e.data?e.data=p.data:h(e.data,p.data)),p.generics){var f=p.generics[i];"object"!=typeof f&&(f={}),e.generics[i]={default:f.default}}for(i in p.properties)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.properties[i]=p.properties[i];for(i in p.relations)e.relations[i]=p.relations[i];for(i in p.methods)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.methods[i]=p.methods[i];for(var g=0;g<p.ancestors.length;g++)r.indexOf(p.ancestors[g])<0&&r.push(p.ancestors[g])}for(i in"object"==typeof t.data&&(null===e.data?e.data=t.data:h(e.data,t.data)),t.properties){n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").');var v=t.properties[i];s.indexOf(v)>=0?v={type:v}:s.indexOf(v.type)<0&&v.optionalTypes&&v.optionalTypes.length>0&&(v.type=v.optionalTypes[0]),n.hasGlobalWarningListeners()&&s.indexOf(v.type)<0&&n.triggerWarning('the type of property "'+i+'" is illegal (when preparing behavior "'+e.is+'").'),void 0===v.value&&(v.type===String?v.value="":v.type===Number?v.value=0:v.type===Boolean?v.value=!1:v.type===Array?v.value=[]:v.value=null),e.properties[i]={type:v.type,optionalTypes:v.optionalTypes,value:v.value,filter:v.filter,observer:v.observer,public:!!(void 0===v.public?e.options.publicProperties:v.public),availability:v.availability,observeAssignments:!!v.observeAssignments}}if(t.lifetimes&&"object"==typeof t.lifetimes)for(i in t.lifetimes)e.lifetimes[i]=t.lifetimes[i];for(a=0;a<o.length;a++)void 0===e.lifetimes[o[a]]&&(e.lifetimes[o[a]]=t[o[a]]);for(i in t.listeners)e.listeners[i]=t.listeners[i];var m=t.observers;if(m instanceof Array)for(a=0;a<m.length;a++){var _=m[a];e.observers.push({paths:c(_.fields||"**"),observer:_.observer})}else for(i in m)e.observers.push({paths:c(i),observer:m[i]});if(t.pageLifetimes&&"object"==typeof t.pageLifetimes)for(i in t.pageLifetimes)e.pageLifetimes[i]=t.pageLifetimes[i];for(i in t.relations){var y=t.relations[i];e.relations[i]={target:y.target||i,type:y.type,linked:y.linked||l,linkChanged:y.linkChanged||l,unlinked:y.unlinked||l,linkFailed:y.linkFailed||l}}for(i in t.methods)"function"==typeof t.methods[i]&&(n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.methods[i]=t.methods[i]);r.push(e)}},u._list=Object.create(null),u.prototype.hasBehavior=function(e){this._unprepared&&u.prepare(this);for(var t=0;t<this.ancestors.length;t++)if(e instanceof u){if(this.ancestors[t]===e)return!0}else if(this.ancestors[t]===u._list[e])return!0;return!1},u.prototype._getAllListeners=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var n=this.ancestors[r];for(var i in n.listeners)Object.prototype.hasOwnProperty.call(e,i)?e[i].push(n.listeners[i]):e[i]=[n.listeners[i]]}return e},u.prototype._addObserversToDataProxy=function(e){for(var t=this.ancestors,r=0;r<t.length;r++)for(var n=this.ancestors[r].observers,i=0;i<n.length;i++){var a=n[i];e.addObserver(a.observer,a.paths)}},u.prototype._getAllLifeTimeFuncs=function(){var e={},t=this.ancestors;o.forEach((function(t){e[t]=n.create("Lifetime Method")}));for(var r=0;r<t.length;r++){var i=t[r];for(var a in i.lifetimes)i.lifetimes[a]&&(e[a]||(e[a]=n.create("Lifetime Method")),e[a].add(i.lifetimes[a]))}return e},u.prototype._getAllPageLifeTimeFuncs=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var i=t[r];for(var a in i.pageLifetimes)i.pageLifetimes[a]&&(e[a]||(e[a]=n.create("Page Lifetime Method")),e[a].add(i.pageLifetimes[a]))}return e},u.callDefinitionFilter=function(e){var t=e.definitionFilter,r=[];return e.behaviors instanceof Array&&e.behaviors.forEach((function(t){(t="string"==typeof t?u._list[t]:t)&&t.definitionFilter&&(r.push(t.definitionFilter),t.definitionFilter.call(null,e))})),"function"==typeof t?function(e){t(e,r)}:null},e.exports=u},function(e,t,r){var n=r(3),i=r(6),a=r(10),o=r(11),s=r(12),l=r(14),c=r(4),u=r(13),d=function(e){p(this,e||null)};d.prototype=Object.create(Object.prototype,{constructor:{value:d,writable:!0,configurable:!0},id:{get:function(){return this.__id},set:function(e){var t=String(e);if(this.__id!==t){if(this.__id=t,this.ownerShadowRoot){var r=this.ownerShadowRoot.__wxHost;r.__idCacheDirty=!0,this.__domElement&&r.__componentOptions.writeIdToDOM&&("dom"===c.documentBackend?this.__domElement.id=t:"custom"===c.documentBackend&&this.__domElement.setId(t))}c.writeExtraInfoToAttr&&this.__domElement&&"dom"===c.documentBackend&&this.__domElement.setAttribute("exparser:info-attr-id",t),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"id"})}},configurable:!0},slot:{get:function(){return this.__slot},set:function(e){if(e=String(e),this.__slot!==e){if(this.__inheritSlots)return void(n.hasGlobalWarningListeners()&&n.triggerWarning('slots-inherited nodes do not support "slot" attribute.'));this.__slot=e,b(this),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"slot"})}},configurable:!0},attributes:{get:function(){var e=[];if(!this.__attributes)return e;for(var t in this.__attributes)e.push({name:t,value:this.__attributes[t]});return e},set:function(){},configurable:!0},class:{get:function(){return this.classList.getClassNames()},set:function(e){this.classList&&this.classList.setClassNames(e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"class"})},configurable:!0},style:{get:function(){return this.__domElement?this.__domElement.style:null},set:function(e){return P.call(this,e)},configurable:!0}}),i._setElementSystem(d),o._setElementSystem(d);var p=d.initialize=function(e,t,r){e.__id="",e.__slot="",e.__virtual=!1,e.__inheritSlots=!1,e.__attributes=null,e.__marks=null,e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=r,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=t,e.__autoDestroy=!0,e.$$=t,t&&(t.__wxElement=e)};d._clone=function(e,t,r,n){if(e.__id=t.__id,e.__slot=t.__slot,e.__virtual=t.__virtual,e.__inheritSlots=t.__inheritSlots,e.__marks=t.__marks?{}:null,t.__marks)for(var i in t.__marks)e.__marks[i]=t.__marks[i];for(var a in e.__attributes=Object.create(null),t.__attributes)e.__attributes[a]=t.__attributes[a];e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=n,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=r,e.$$=r,r&&(r.__wxElement=e)},d.prototype.setAutoDestroy=function(e){this.__autoDestroy=!!e},d.prototype.destroy=function(){"custom"!==c.documentBackend||this.__virtual||(this.__domElement.release(),this.__domElement=null)};var h=function(e){if(!e.parentNode||e.parentNode.__attached){var t=function(e){if(e instanceof d){e.__attached=!0,e.__lifeTimeFuncs&&e.__lifeTimeFuncs.attached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("attached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"attached"}),e.shadowRoot instanceof d&&t(e.shadowRoot);for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n])}};t(e)}},f=function(e){if(e.__attached){var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__attached=!1,e.__autoDestroy&&e.destroy(),e.__lifeTimeFuncs&&e.__lifeTimeFuncs.detached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("detached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"detached"})}else e.__autoDestroy&&e.destroy()};t(e)}},g=function(e){if(!e.__attached)return h(e);var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__lifeTimeFuncs&&e.__lifeTimeFuncs.moved.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("moved")}};t(e)},v=function(e,t,r){if(e.__childObservers&&!e.__childObservers.empty||e.__subtreeObserversCount){var n,i=[r];n="add"===t?{type:"childList",target:e,addedNodes:i}:"remove"===t?{type:"childList",target:e,removedNodes:i}:{type:"childList",target:e,addedNodes:i,removedNodes:i},a._callObservers(e,"__childObservers",n)}},m=function(e,t){if(e instanceof d&&(!t.__wxHost.__idCacheDirty||!t.__slotCacheDirty)){var r=function(e){e.__id&&(t.__wxHost.__idCacheDirty=!0),void 0!==e.__slotName&&(t.__slotCacheDirty=!0);for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof d&&r(a)}};r(e)}};d._updateIdMap=function(e){var t=e.shadowRoot;if(e.__idCacheDirty){e.__idCacheDirty=!1;var r=e.__idCache=Object.create(null),n=function(e){e.__id&&(r[e.__id]||(r[e.__id]=e));for(var t=e.childNodes,i=0;i<t.length;i++)t[i]instanceof d&&n(t[i])};n(t)}};var _=function(e){if(e.__hostAssociated&&e.__slotCacheDirty){e.__slotCacheDirty=!1;var t,r=e.__wxHost,i=Object.create(null);t=void 0!==r.__singleSlot?{"":r.__singleSlot}:r.__slots;var a=function(e){void 0!==e.__slotName&&(i[e.__slotName]?n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+e.__slotName+'" duplication is found under a single shadow root. The first one was accepted.'):i[e.__slotName]=e);for(var t=e.childNodes,r=0;r<t.length;r++)t[r]instanceof d&&a(t[r])};a(e),void 0!==r.__singleSlot?r.__singleSlot!==i[""]&&(i[""]&&(i[""].__wxSlotChildren=r.childNodes),y(r,i,t,!0),r.__singleSlot&&(r.__singleSlot.__wxSlotChildren=[]),r.__singleSlot=i[""]||null):(y(r,i,t,!1),r.__slots=i)}},y=function(e,t,r,n){var i=e.childNodes,a=0;if(n){var o=t[""];if(o)for(;a<i.length;a++)w(o,i[a],null,!1,!1,!1,-1);else if(o=r[""])for(;a<i.length;a++)w(o,null,i[a],!0,!1,!1,a)}else{var s=function(e){for(var n=0;n<e.length;n++){var i=e[n],a=i.__slot||"",o=t[a];o?w(o,i,null,!1,!0,!0):(o=r[a])&&w(o,null,i,!0,!0,!0),i.__inheritSlots&&s(i.childNodes)}};s(i)}},A=function(e,t,r,n){for(var i=function(e,t,n){var a=e.childNodes,o=0;for(t&&(o=a.indexOf(t)+(n?0:1));o<a.length;o++){var s=a[o];if(s.__slot===r)return s;if(s.__inheritSlots){var l=i(s,null,!1);if(l)return l}}return null};t!==e;t=t.parentNode){var a=i(t.parentNode,t,n);if(a)return a;n=!1}return null},b=function(e){for(var t=e.parentNode;t&&t.__inheritSlots;)t=t.parentNode;if(t&&void 0===t.__singleSlot){var r=e.__slot||"",i=t.__slots[r];if(i){var a=A(t,e,r,!1);w(i,e,a,!1,!0,!0)}else n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+r+'" is not found.'),(i=e.__wxSlotParent)&&w(i,null,e,!0,!0,!0)}},w=function(e,t,r,n,i,a,o){if(n&&(r.__wxSlotParent=null),i&&(o=e.__wxSlotChildren.indexOf(r)),t){var s=t.__wxSlotParent;if(t.__wxSlotParent=e,s&&a){var l=s.__wxSlotChildren.indexOf(t);s.__wxSlotChildren.splice(l,1),s===e&&l<o&&o--}}var u=!1;(t&&t.__backendExtracted||r&&r.__backendExtracted)&&(u=!0),"dom"===c.documentBackend?u||function(e,t,r,n,i){var a=e;if(a instanceof d){for(;a.__virtual;){var o=a.__wxSlotParent;if(!o){a=null;break}if(t&&!r){var s=o.__wxSlotChildren.indexOf(a);r=o.__wxSlotChildren[s+1]}a=o}a instanceof d&&(a=a.__domElement)}if(a){var l=n,c=null,u=null;if(t)if(t.__virtual){var p=document.createDocumentFragment(),h=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?h(r):p.appendChild(r.__domElement)}};h(t),c=p}else c=t.__domElement;if(r)if(r.__virtual){var f=e,g=0;if(n){var v=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?v(r):a.removeChild(r.__domElement)}};v(r),l=!1,g=i+1}else f=r.__wxSlotParent,g=r===t?i:f.__wxSlotChildren.indexOf(r);if(t){var m=function(e,t){for(;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];if(!r.__virtual)return r;var n=m(r,0);if(n)return n}};r=null;for(var _=f;!(r=m(_,g))&&_.__virtual;_=_.__wxSlotParent)g=_.__wxSlotParent.__wxSlotChildren.indexOf(_)+1;r&&(u=r.__domElement)}}else u=r.__domElement;l?c?a.replaceChild(c,u):a.removeChild(u):c&&(u?a.insertBefore(c,u):a.appendChild(c))}else if(t&&t.__wxSlotParent){var y=function(e){if(e.__virtual)for(var t=0;t<e.__wxSlotChildren.length;t++)y(e.__wxSlotChildren[t]);else{var r=e.__domElement;r&&r.parentNode&&r.parentNode.removeChild(r)}};y(t)}}(e,t,r,n,o):"custom"===c.documentBackend&&function(e,t,r,n,i){var a=e;if(a instanceof d){for(;a.__virtual;){var o=a.__wxSlotParent;if(!o){a=null;break}if(t&&!r){var s=o.__wxSlotChildren.indexOf(a);r=o.__wxSlotChildren[s+1]}a=o}a instanceof d&&(a=a.__domElement)}if(a)if(!t||r||t.__virtual){var l=c.customContext.createElement("fragment",""),u=0,p=-1;if(t){var h=function(e){if(e.__virtual)for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];h(r)}else l.appendChild(e.__domElement)};h(t)}if(r){var f=e,g=0,v=null;if(n){var m=function(e){if(e.__virtual){for(var t=0,r=0;r<e.__wxSlotChildren.length;r++)t+=m(e.__wxSlotChildren[r]);return t}return v||(v=e),1};u=m(r),g=i+1}else f=r.__wxSlotParent,g=r===t?i:f.__wxSlotChildren.indexOf(r);if(t&&!v)for(var _=function(e,t){for(;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];if(!r.__virtual)return r;var n=_(r,0);if(n)return n}return null},y=f;!(v=_(y,g))&&y.__virtual;y=y.__wxSlotParent)g=y.__wxSlotParent.__wxSlotChildren.indexOf(y)+1;v&&(p=a.findChildPosition(v.__domElement))}a.splice(p,u,l),l.release()}else a.appendChild(t.__domElement);else if(t&&t.__wxSlotParent){for(var A=t.__wxSlotParent;A.__virtual&&(A=A.__wxSlotParent););if(A){var b=null,w=function(e){if(e.__virtual){for(var t=0,r=0;r<e.__wxSlotChildren.length;r++)t+=w(e.__wxSlotChildren[r]);return t}return b||(b=e),1};A.__domElement.splice(A.__domElement.findChildPosition(b.__domElement),w(t),null)}}}(e,t,r,n,o),c.writeExtraInfoToAttr&&"dom"===c.documentBackend&&(n&&r instanceof d&&r.__domElement&&r.__domElement.removeAttribute("exparser:info-in-slot-of"),t instanceof d&&t.__domElement&&(void 0!==e.__slotName&&e.ownerShadowRoot?t.__domElement.setAttribute("exparser:info-in-slot-of",e.ownerShadowRoot.__wxHost.__componentInstanceId):t.__domElement.removeAttribute("exparser:info-in-slot-of"))),i&&(-1===o&&(o=e.__wxSlotChildren.length),t?e.__wxSlotChildren.splice(o,n?1:0,t):e.__wxSlotChildren.splice(o,n?1:0))},E=function(e,t){for(var r=e.childNodes,n=0;n<r.length;n++){var i=r[n];t(e,i),i.__inheritSlots&&E(i,t)}},C=d.insertChildToElement=function(e,t,r,i){if(void 0!==e.__slotName)return!1;var o=r>=0?e.childNodes[r]:null;i&&t===o&&(i=!1);var s=null,l=e,c=e;if(t){s=t.parentNode,t.parentNode=e;var u=e.__subtreeObserversCount;if(s){var d=s.childNodes.indexOf(t);s.childNodes.splice(d,1),s===e&&d<r&&r--,u-=s.__subtreeObserversCount}u&&a._updateSubtreeCaches(t,u)}for(var p=e;p&&p.__inheritSlots;)p=p.parentNode;for(var y=!p||!p.__slots,b=!y||e.__inheritSlots,C=s;C&&C.__inheritSlots;)C=C.parentNode;var I=!C||!C.__slots,S=!I||s&&s.__inheritSlots;if(y)void 0!==e.__singleSlot&&(l=c=e.__singleSlot,n.hasGlobalWarningListeners()&&(l||n.triggerWarning("slot is not found."))),l?w(l,t,o,i,b,S,r):t.__wxSlotParent&&w(t.__wxSlotParent,null,t,!0,S,!1),t&&!I&&t.__inheritSlots&&E(t,(function(e,t){w(e,t,null,!1,!0,!0,-1)}));else{var T="";if(t&&(T=t.__slot||"",l=p.__slots[T]||null,n.hasGlobalWarningListeners()&&(l||n.triggerWarning('slot "'+T+'" is not found.'))),o&&(c=p.__slots[o.__slot||""]||null),o&&c&&i&&w(c,null,o,i,!0,!1),t)if(l){var x=o?A(p,o,T,!i):A(p,e,T,!1);w(l,t,x,!1,!0,S)}else t.__wxSlotParent&&w(t.__wxSlotParent,null,t,!0,S,!1);o&&i&&o.__inheritSlots&&E(o,(function(e,t){w(e,t,null,!1,!0,!0,-1)})),t&&t.__inheritSlots&&E(t,(function(t,r){var a=r.__slot||"",s=p.__slots[a]||null;if(s){var l=o?A(p,o,a,!i):A(p,e,a,!1);w(s,r,l,!1,!0,!0)}else n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+a+'" is not found.'),r.__wxSlotParent&&w(r.__wxSlotParent,null,r,!0,!0,!1)}))}return i&&(e.__subtreeObserversCount&&a._updateSubtreeCaches(o,-e.__subtreeObserversCount),o.parentNode=null),-1===r&&(r=e.childNodes.length),t?e.childNodes.splice(r,i?1:0,t):e.childNodes.splice(r,i?1:0),e.ownerShadowRoot&&(i&&m(o,e.ownerShadowRoot),t&&m(t,e.ownerShadowRoot),_(e.ownerShadowRoot)),i&&(f(o),v(e,"remove",o)),t&&(s?g(t):h(t),s===e?v(e,"move",t):(s&&v(s,"remove",t),v(e,"add",t))),!0},I=function(e,t,r,n){if(t&&e.ownerShadowRoot!==t.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");var i=n?r:t,a=-1;return r&&(a=e.childNodes.indexOf(r))<0?null:C(e,t,a,n)?i:null};d._attachShadowRoot=function(e){var t=e.__wxHost;t.__wxSlotChildren=[e],w(t,e,null,!1,!1,0),e.__hostAssociated=!0,_(e)},d.appendChild=function(e,t){return I(e,t,null,!1)},d.insertBefore=function(e,t,r){return I(e,t,r,!1)},d.removeChild=function(e,t){return I(e,null,t,!0)},d.replaceChild=function(e,t,r){return I(e,t,r,!0)},d.prototype.appendChild=function(e){return I(this,e,null,!1)},d.prototype.insertBefore=function(e,t){return I(this,e,t,!1)},d.prototype.removeChild=function(e){return I(this,null,e,!0)},d.prototype.replaceChild=function(e,t){return I(this,e,t,!0)};var S=function(e){var t=!0,r=!0;if(e instanceof d?(e.__backendExtracted=!0,e.$$=e.__domElement=null,r=!1):e instanceof s&&(e.__backendExtracted=!0,e.$$=e.__domElement=null,t=!1,r=!1),t&&e.__wxSlotChildren)for(var n=0;n<e.__wxSlotChildren.length;n++){var i=e.__wxSlotChildren[n];S(i)}else if(r&&e.childNodes)for(var a=0;a<e.childNodes.length;a++)S(e.childNodes[a])};d.extractBackend=function(e){if(e.__backendExtracted)return null;var t=e.__domElement;return S(e),t};var T=function(e,t){if(!t){var r=l.toElement(e.__domElement);return e.$$=e.__domElement=r,r}if(e.__domElement.tagName.toUpperCase()===t.tagName)e.$$=e.__domElement=t;else{var n=l.toElement(e.__domElement);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null},x=function(e,t,r){var n=e instanceof d&&e.__virtual,i=t?t.childNodes[r]:void 0,a=!0,o=!0,l=null;if(e instanceof d)e.__backendExtracted=!1,n||(l=T(e,i)),o=!1;else if(e instanceof s)e.__backendExtracted=!1,l=function(e,t){if(!t){var r=document.createTextNode(e.textContent);return e.$$=e.__domElement=r,r}if(void 0!==t.textContent)t.textContent=e.textContent,e.$$=e.__domElement=t;else{var n=document.createTextNode(e.textContent);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null}(e,i),a=!1,o=!1;else{var c=document.createDocumentFragment();if(c.__wxSlotChildren=e.__wxSlotChildren,i&&i.childNodes)for(;i.childNodes.length;)c.appendChild(i.childNodes[0]);l=function(e,t){if(!t)return e;for(;e.childNodes&&t.childNodes&&t.childNodes.length;)e.appendChild(t.childNodes[0]);return t.parentNode.replaceChild(e,t),null}(e,i),e=c}l?(t.appendChild(l),i=l):i=t?t.childNodes[r]:void 0;var u=0;if(a&&e.__wxSlotChildren)for(var p=0;p<e.__wxSlotChildren.length;p++){var h=e.__wxSlotChildren[p];if(n)r=x(h,t,r);else if(h.asShadowRoot){for(var f=0;f<h.asShadowRoot.childNodes.length;f++)u=x(h.asShadowRoot.childNodes[f],i,u);e.shadowRoot=i,i.__wxHost=e,e.__wxSlotChildren[0]=i,i.__wxSlotParent=e,e.__singleSlot===h&&(e.__singleSlot=i)}else u=x(h,i,u)}else if(o&&e.childNodes)for(var g=0;g<e.childNodes.length;g++)u=x(e.childNodes[g],i,u);if(n)return r;for(;i.childNodes.length>u;)i.removeChild(i.childNodes[u]);return r+1};d.injectBackend=function(e,t){if(e.__backendExtracted){var r=document.createDocumentFragment();r.appendChild(t),x(e,r,0)}},d.prototype.triggerEvent=function(e,t,r){i.triggerEvent(this,e,t,r)},d.prototype.dispatchEvent=function(e){i.dispatchEvent(this,e)},d.prototype.addListener=function(e,t,r){i.addListenerToElement(this,e,t,r)},d.prototype.removeListener=function(e,t,r){i.removeListenerFromElement(this,e,t,r)},d.setMethodCaller=function(e,t){e.__methodCaller=t},d.getMethodCaller=function(e){return e.__methodCaller},d.prototype.getAttribute=function(e){if(!this.__attributes)return null;var t=this.__attributes[e];return void 0===t?null:t},d.prototype.setAttribute=function(e,t){this.__attributes||(this.__attributes=Object.create(null)),t=String(t),this.__attributes[e]!==t&&(this.__attributes[e]=t,this.__domElement&&this.__domElement.setAttribute&&this.__domElement.setAttribute(e,t))},d.prototype.setStyle=function(e){this.__domElement&&"custom"===c.documentBackend&&this.__domElement.setStyle(e)},d.prototype.removeAttribute=function(e){this.__attributes&&(delete this.__attributes[e],this.__domElement&&"dom"===c.documentBackend&&this.__domElement.removeAttribute(e))},d.prototype.getBoundingClientRect=function(){return this.__domElement?this.__domElement.getBoundingClientRect():{left:0,top:0,width:0,height:0}},d.prototype.setMark=function(e,t){this.__marks||(this.__marks={}),this.__marks[e]=t},d.prototype.collectMarks=function(){for(var e={},t=this;t;t=t.parentNode)if(t.__marks)for(var r in t.__marks)hasOwnProperty.call(e,r)||(e[r]=t.__marks[r]);return e};var P=d.prototype.setNodeStyle=function(e,t){if(this.__styleSegments[t||0]!==e){this.__styleSegments[t||0]=e;var r=this.__styleSegments.join(";");if(this.__domElement&&this.ownerShadowRoot&&this.ownerShadowRoot.__childrenPropsFilter){var n=this.ownerShadowRoot.__childrenPropsFilter.style;if("function"==typeof n)return void("dom"===c.documentBackend?this.__domElement.setAttribute("style",n.call(this,r)):"custom"===c.documentBackend&&this.__domElement.setStyle(n.call(this,r)))}this.__domElement&&("dom"===c.documentBackend?this.__domElement.setAttribute("style",r):"custom"===c.documentBackend&&this.__domElement.setStyle(r)),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"style"})}};d.replaceDocumentElement=function(e,t,r){e.__attached||("dom"===c.documentBackend?t.parentNode.replaceChild(e.__domElement,t):"custom"===c.documentBackend&&t.replaceChild(e.__domElement,r),h(e))},d.pretendAttached=function(e){e.__attached||h(e)},d.pretendDetached=function(e){e.__attached&&f(e)},d.isAttached=function(e){return e.__attached},d.setSlotName=function(e,t){if(t=null==t?"":String(t),void 0===e.__slotName){if(0!==e.childNodes.length||0!==e.__wxSlotChildren.length)return;e.__wxSlotChildren=[]}e.__slotName=t,e.ownerShadowRoot&&(e.ownerShadowRoot.__slotCacheDirty=!0,_(e.ownerShadowRoot))},d.setInheritSlots=function(e){e.__singleSlot||e.__slots||e.__wxSlotChildren.length||(e.__wxSlotChildren=[],e.__inheritSlots=!0)},d.getInheritSlots=function(e){return e.__inheritSlots};var k=function(e,t){var r=e.match(/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!r)return null;var n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t||""}:null},D=d.parseSelector=function(e){for(var t=String(e||"").split(","),r=[],n=!1,i=0;i<t.length;i++){for(var a=t[i].split(/( |\t|>+)/g),o=[],s="",l=0;l<a.length;l++){var c=a[l];if(c&&" "!==c&&"\t"!==c)if(">"!==c[0]){var u=k(c,s);if(s="",!u)break;o.push(u)}else{if(""!==s)break;s=c,">>>"===c&&(n=!0)}}l===a.length&&o.length&&r.push(o)}return r.length?{crossShadow:n,union:r}:null},R=function(e,t,r,n,i){if(t===e)return!1;var a=r[n],o=!0;a.id&&a.id!==t.__id&&(o=!1);for(var s=a.classes,l=0;o&&l<s.length;l++)t.classList.contains(s[l])||(o=!1);if(!o&&">"===i)return!1;var c=t;if(o&&0===n){if(null===e)return!0;for(c=c.parentNode;c;c=c.parentNode)if(c===e)return!0;if(">>>"!==i)return!1;c=t,o=!1}var u=o?a.relation:i;do{c.parentNode?c=c.parentNode:">>>"===u?c=c.__wxHost:">>>"===i?(o=!1,c=c.__wxHost):c=null,c===e&&(c=null)}while(c&&c.__virtual);if(!c)return!1;if(o){if(R(e,c,r,n-1,u))return!0;if(">>>"!==i)return!1}return R(e,c,r,n,i)},O=function(e,t,r){if(r.__virtual)return!1;for(var n=e.union,i=0;i<n.length;i++){var a=n[i];if(R(t,r,a,a.length-1,">"))return!0}return!1},M=function(e,t,r,n,i){if(O(t,r,n)&&(e.push(n),i))return!0;if(n.shadowRoot&&t.crossShadow&&((n.ownerShadowRoot?n.ownerShadowRoot.__wxHost.__componentOptions.domain:c.domain)===n.__componentOptions.domain&&M(e,t,r,n.shadowRoot,i)&&i))return!0;for(var a=n.childNodes,o=0;o<a.length;o++)if(a[o]instanceof d&&M(e,t,r,a[o],i)&&i)return!0;return!1};d.prototype.querySelector=function(e){var t="object"==typeof e?e:D(e);if(!t)return null;var r=[];return M(r,t,this,this,!0),r[0]||null},d.prototype.querySelectorAll=function(e){var t="object"==typeof e?e:D(e),r=[];return t?(M(r,t,this,this,!1),r):[]},d.matchSelector=function(e,t){var r="object"==typeof e?e:D(e);return!!r&&O(r,null,t)},d.prototype.matchSelector=function(e,t){var r="object"==typeof e?e:D(e);return!!r&&O(r,this,t)},e.exports=d},function(e,t,r){var n=r(3),i=function(){};i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),i.create=function(e){var t=new i;return t._cb=e,t._noSubtreeCb=function(t){t.target===this&&e.call(this,t)},t._binded=[],t},i.prototype.observe=function(e,t){var r=0,i=(t=t||{}).subtree?this._cb:this._noSubtreeCb;t.properties&&(e.__propObservers||(e.__propObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__propObservers,id:e.__propObservers.add(i),subtree:t.subtree?e:null}),r++),t.childList&&(e.__childObservers||(e.__childObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__childObservers,id:e.__childObservers.add(i),subtree:t.subtree?e:null}),r++),t.characterData&&(e.__textObservers||(e.__textObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__textObservers,id:e.__textObservers.add(i),subtree:t.subtree?e:null}),r++),t.subtree&&a(e,r),t.attachStatus&&(e.__attachedObservers||(e.__attachedObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__attachedObservers,id:e.__attachedObservers.add(i),subtree:null}))},i.prototype.disconnect=function(){for(var e=this._binded,t=0;t<e.length;t++){var r=e[t];r.funcArr.remove(r.id),r.subtree&&a(r.subtree,-1)}this._binded=[]};var a=i._updateSubtreeCaches=function(e,t){e.__subtreeObserversCount+=t;var r=e.childNodes;if(r)for(var n=0;n<r.length;n++)a(r[n],t)};i._callObservers=function(e,t,r){do{e[t]&&e[t].call(e,[r]),e=e.parentNode}while(e&&e.__subtreeObserversCount)},i._callSingleObserver=function(e,t,r){e[t]&&e[t].call(e,[r])},e.exports=i},function(e,t,r){var n=r(4),i=function(){},a=/(~|\^+)?-?[_0-9a-z][-_0-9a-z]*/gi,o=null;i._setElementSystem=function(e){o=e,i._setElementSystem=null};var s=Object.prototype.hasOwnProperty;i.create=function(e,t){var r=new i;for(var n in r._prefix="",r._addOriginalClass=!1,r._alias=t,r._resolvedAlias={},t)r._resolvedAlias[n]="";return r._rawNames=[],r._elem=e,r._owner=null,r._prevGenNames="",r};var l=function(e){var t="",r=e._rawNames,n=e._prefix,i=e._owner?e._owner._resolvedAlias:null,a=e._addOriginalClass;n&&(n+="--");for(var o=0;o<r.length;o++){var l=r[o];if(o&&(t+=" "),i&&s.call(i,l))t+=i[l];else if("~"===l[0])t+=l.slice(1);else if("^"===l[0]){l=l.slice(1);for(var c=e._owner||null;"^"===l[0];)l=l.slice(1),c=c?c._owner:null;var u=c?c._prefix:"";u&&(u+="--"),t+=u+l}else a&&(t+=l+" "),t+=n+l}return t},c=function(e){var t=e._elem.__domElement;if(t){var r=l(e);if("dom"===n.documentBackend)r?t.setAttribute("class",r):t.removeAttribute("class");else if("custom"===n.documentBackend){if(e._prevGenNames===r)return;e._prevGenNames=r,t.setClass(r)}}},u=function(e){var t=e.classList;t instanceof i&&(t._alias&&d(t),c(t));for(var r=e.childNodes,n=0;n<r.length;n++)r[n]instanceof o&&u(r[n])},d=function(e){var t=e._owner;if(!t)return!1;var r=!1;for(var n in e._alias){var i=e._alias[n],a=[];if(i)for(var l=0;l<i.length;l++){var c=i[l];if(s.call(t._alias,c)){var d=t._resolvedAlias[c];a.push(d)}else{var p=e._prefix&&c?e._prefix+"--"+c:c;a.push(p)}}var h=a.join(" ");e._resolvedAlias[n]!==h&&(r=!0,e._resolvedAlias[n]=h)}r&&e._elem.shadowRoot instanceof o&&u(e._elem.shadowRoot)};i.prototype.toggle=function(e,t){var r=this._rawNames.indexOf(e);void 0===t&&(t=r<0),t?r<0&&(this._rawNames.push(e),c(this)):r>=0&&(this._rawNames.splice(r,1),c(this))},i.prototype.contains=function(e){for(var t=this._rawNames,r=0;r<t.length;r++){var n=t[r];if("~"===n[0]){if(n.slice(1)===e)return!0}else if("^"===n[0]){for(var i=1;"^"===n[i];)i++;if(n.slice(i)===e)return!0}else if(n===e)return!0}return!1},i.prototype._setOwnerOptions=function(e,t,r){var n=this._prefix;this._prefix=t,n!==t&&(this._addOriginalClass=r,this._owner=e,this._alias&&d(this),c(this))},i.prototype._setAlias=function(e,t){var r=this._owner,n=String(t).match(a);this._alias[e]=n;var i=[];if(n)for(var o=0;o<n.length;o++){var l=n[o];r&&s.call(r._alias,l)?i.push(r._resolvedAlias[l]):i.push(this._prefix?this._prefix+"--"+l:l)}this._resolvedAlias[e]=i.join(" "),u(this._elem.shadowRoot)},i.prototype.setClassNames=function(e){e=null==e?"":String(e),this._rawNames=e.match(a)||[],c(this)},i.prototype.getClassNames=function(){return l(this)},i.prototype.getPrefix=function(){return this._prefix},i.prototype.getAddOriginalClass=function(){return this._addOriginalClass},e.exports=i},function(e,t,r){var n=r(10),i=r(4),a=r(13),o=function(){};o.prototype=Object.create(Object.prototype,{constructor:{value:o,writable:!0,configurable:!0}});var s=o._advancedCreate=function(e,t){var r=new o;r.__slot="";var n=null;return a.backendExtractedDefault||"dom"!==i.documentBackend?"custom"===i.documentBackend?((n=i.customContext.createElement("text","")).setText(e||""),n.textContent=e,n.__wxElement=r):r.__textContent=e:(n=document.createTextNode(e||"")).__wxElement=r,r.$$=r.__domElement=n,r.__backendExtracted=a.backendExtractedDefault,r.__subtreeObserversCount=0,r.__autoDestroy=!0,r.parentNode=null,r.ownerShadowRoot=t,r};o.create=function(e){return s(e,null)},o.prototype.setAutoDestroy=function(e){this.__autoDestroy=!!e},o.prototype.destroy=function(){"custom"===i.documentBackend&&(this.__domElement.release(),this.__domElement=null)},Object.defineProperty(o.prototype,"textContent",{get:function(){return this.__domElement?this.__domElement.textContent:this.__textContent},set:function(e){if(e=String(e),this.__domElement){if(this.__domElement.textContent===e)return;this.__domElement.textContent=e,"custom"===i.documentBackend&&this.__domElement.setText(e)}else{if(this.__textContent===e)return;this.__textContent=e}(this.__textObservers&&!this.__textObservers.empty||this.__subtreeObserversCount)&&n._callObservers(this,"__textObservers",{type:"characterData",target:this})}}),e.exports=o},function(e,t){t.backendExtractedDefault=!1,t.enableBackendExtractedDefault=function(){t.backendExtractedDefault=!0},t.disableBackendExtractedDefault=function(){t.backendExtractedDefault=!1}},function(e,t){var r=function(e){this.tagName=e,this.id="",this.attrs={}};r.toElement=function(e){var t=document.createElement(e.tagName);for(var r in e.id&&(t.id=e.id),e.attrs)t.setAttribute(r,e.attrs[r]);return t},r.fromElement=function(e){var t=new r(e.tagName);t.id=e.id;for(var n=e.attributes,i=0;i<n.length;i++)t.attrs[n[i].name]=n[i].value;return t},r.prototype.cloneNode=function(){var e=new r;for(var t in e.id=this.id,this.attrs)e.attrs[t]=this.attrs[t];return e},r.prototype.removeAttribute=function(e,t){delete this.attrs[e]},r.prototype.setAttribute=function(e,t){this.attrs[e]=t},r.prototype.getAttribute=function(e){return this.attrs[e]},e.exports=r},function(e,t,r){var n=r(3),i=r(5),a=r(16),o=r(6),s=r(8),l=r(9),c=r(17),u=r(10),d=r(11),p=r(14),h=r(4),f=r(13),g=r(7),v=o.addListenerToElement,m=g.parseSinglePath,_=i.deepCopy,y=function(){};y.prototype=Object.create(l.prototype,{constructor:{value:y,writable:!0,configurable:!0},data:{get:function(){return this.__dataProxy._data},set:function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace([r],e[r]);t.doUpdates()},configurable:!0},$:{get:function(){return l._updateIdMap(this),this.__idCache},set:function(){}}});var A=function(){};A.prototype=Object.create(Object.prototype),o._setComponent(y);var b=null;y._setDefaultTemplateEngine=function(e){b=e,y._setDefaultTemplateEngine=null};var w=function(e,t,r){if(r)for(var i=0;i<r.length;i++)if(s.matchTypeWithValue(r[i],e))return e;return t===String?null==e?(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <String> but get null value. Used empty string instead."),""):(n.hasGlobalWarningListeners()&&"object"==typeof e&&n.triggerWarning("property received type-uncompatible value: expected <String> but got object-typed value. Forcely converted."),String(e)):t===Number?isFinite(e)?Number(e):(n.hasGlobalWarningListeners()&&("number"==typeof e?n.triggerWarning("property received type-uncompatible value: expected <Number> but got NaN or Infinity. Used 0 instead."):n.triggerWarning("property received type-uncompatible value: expected <Number> but got non-number value. Used 0 instead.")),0):t===Boolean?!!e:t===Array?e instanceof Array?e:(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."),[]):t===Object?"object"==typeof e?e:(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <Object> but got non-object value. Used null instead."),null):void 0===e?null:e};a.setPropUpdater((function(e,t,r,i){var a=e[0],o=this.__propData[a];if(r=w(r,t.type,t.optionalTypes),!(!t.availability||function(e,t,r,i){var a=[e.ownerShadowRoot?e.ownerShadowRoot.__wxHost.__componentOptions.domain:void 0,i?void 0:r];return!!n.safeCallback("Availablity Controller",t,e.__methodCaller,a,e)}(this,t.availability,r,i)))return n.hasGlobalWarningListeners()&&n.triggerWarning('the new value for property "'+a+'" in component "'+(this.is||"")+'" is currently not available. The value is not changed.'),o;if(t.filter){var s=n.safeCallback("Property Filter",t.filter,this.__methodCaller,i?[]:[r,o,e],this);void 0!==s&&(r=s)}return this.__domElement&&this.__componentOptions.reflectToAttributes&&this.__propPublic[a]&&function(e,t,r){if("dom"===h.documentBackend){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),i=typeof r;"boolean"===i?r?e.__domElement.setAttribute(n,""):e.__domElement.removeAttribute(n):"object"===i?e.__domElement.setAttribute(n,JSON.stringify(r)):e.__domElement.setAttribute(n,r)}}(this,a,r),r})),a.setPropObserver((function(e,t,r,i,a,o){if(i.observeAssignments||e!==t){var s=r[0];this.__propertyChangeListeners&&this.__propertyChangeListeners[s]&&!o&&n.safeCallback("Property Observer",this.__propertyChangeListeners[s],this.__methodCaller,[e],this),i.observer&&n.safeCallback("Property Observer",i.observer,this.__methodCaller,a?[]:[e,t,r],this),i.public&&(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&u._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:s})}}));var E=function(e,t,r){t.__relationLinks||(t.__relationLinks={});for(var n=t.__relationLinks[r]=[],i=0;i<e.length;i++)n.push(null)},C=function(e,t,r,i,a){for(var o=y.prototype.hasBehavior,l="parent"===i,c="shadowHost"===i,u=0;u<e.length;u++){var d,p=e[u];if(d="object"!=typeof p.target?s._list[p.target]:p.target){var h=t[u],f=null;if(!a)for(var g=c?r.ownerShadowRoot&&r.ownerShadowRoot.__wxHost:r.parentNode;g;g=c?g.ownerShadowRoot&&g.ownerShadowRoot.__wxHost:g.parentNode)if(!g.__virtual){if(o.call(g,d)){var v;v=l?g.__relationMap.child:c?g.__relationMap.shadowContent:g.__relationMap.descendant;for(var m=0;m<v.length;m++){var _,A=v[m];if((_="object"!=typeof A.target?s._list[A.target]:A.target)&&o.call(r,_)){f={parent:g,relation:A};break}}}if(l||f)break}t[u]=f,!h||f&&h.parent===f.parent||(n.safeCallback("Relation Unlinked Callback",h.relation.unlinked,h.parent.__methodCaller,[r.__methodCaller],h.parent),n.safeCallback("Relation Unlinked Callback",p.unlinked,r.__methodCaller,[h.parent.__methodCaller],r)),!f||h&&h.parent===f.parent||(n.safeCallback("Relation Linked Callback",f.relation.linked,f.parent.__methodCaller,[r.__methodCaller],f.parent),n.safeCallback("Relation Linked Callback",p.linked,r.__methodCaller,[f.parent.__methodCaller],r)),h&&f&&h.parent===f.parent&&(n.safeCallback("Relation Link Changed Callback",f.relation.linkChanged,f.parent.__methodCaller,[r.__methodCaller],f.parent),n.safeCallback("Relation Link Changed Callback",p.linkChanged,r.__methodCaller,[f.parent.__methodCaller],r)),a||f||n.safeCallback("Relation Link Failed Callback",p.linkFailed,r.__methodCaller,[],r)}}},I=function(e,t,r){if(e instanceof l){var n=0,i=null;if(e instanceof y){for(e.__pageLifeTimeFuncs[t]&&e.__pageLifeTimeFuncs[t].call(e.__methodCaller,r||[]),i=e.childNodes,n=0;n<i.length;n++)I(i[n],t,r);e=e.shadowRoot}for(i=e.childNodes,n=0;n<i.length;n++)I(i[n],t,r)}};y._list={},y.register=function(e){var t=e.options||{},r=s.create(e),n=void 0!==t.classPrefix?t.classPrefix:h.classPrefix;null!=n||(n=r.is||"");var i=new A;return i._unprepared=r,i.is=e.is||"",i.behavior=r,i.protoFunc=null,i.props=null,i.template=null,i.innerEvents=null,i.generics=r.generics,i.initiator=r.initiator||null,i.options={availability:t.availability||h.availability,domain:t.domain||h.domain,writeOnly:!!(void 0!==t.writeOnly?t.writeOnly:h.writeOnly),allowInWriteOnly:!!(void 0!==t.allowInWriteOnly?t.allowInWriteOnly:h.allowInWriteOnly),classPrefix:n,styleScope:t.styleScope||h.styleScope,addGlobalClass:!!(void 0!==t.addGlobalClass?t.addGlobalClass:h.addGlobalClass),templateEngine:t.templateEngine||h.templateEngine||b,renderingMode:t.renderingMode||h.renderingMode,multipleSlots:!!(void 0!==t.multipleSlots?t.multipleSlots:h.multipleSlots),reflectToAttributes:!!(void 0!==t.reflectToAttributes?t.reflectToAttributes:h.reflectToAttributes),writeFieldsToNode:!!(void 0!==t.writeFieldsToNode?t.writeFieldsToNode:h.writeFieldsToNode),writeIdToDOM:!!(void 0!==t.writeIdToDOM?t.writeIdToDOM:h.writeIdToDOM),separateInnerData:!!(void 0!==t.separateInnerData?t.separateInnerData:h.separateInnerData),innerDataExclude:t.innerDataExclude||h.innerDataExclude,listenerChangeLifeTimes:!!(void 0!==t.listenerChangeLifeTimes?t.listenerChangeLifeTimes:h.listenerChangeLifeTimes),randomizeTagName:!!(void 0!==t.randomizeTagName?t.randomizeTagName:h.randomizeTagName),virtualHost:!!(void 0!==t.virtualHost?t.virtualHost:h.virtualHost)},r._unprepared||y.prepare(i),void 0!==e.is&&(y._list[r.is]=i),i},y.isPrepared=function(e){return!e._unprepared},y.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.options,i={};t._unprepared&&s.prepare(t),r.writeOnly&&(i.data={value:null});var o=e.props={};Object.keys(t.properties).forEach((function(e){var n=t.properties[e];o[e]={type:n.type,optionalTypes:n.optionalTypes,value:n.value,filter:"function"==typeof n.filter?n.filter:null==n.filter?null:t.methods[n.filter],observer:"function"==typeof n.observer?n.observer:null==n.observer?null:t.methods[n.observer],public:n.public,availability:n.availability,observeAssignments:n.observeAssignments},r.writeFieldsToNode&&(i[e]={enumerable:!0,get:function(){return this.__propData[e]},set:function(t){var r=this.__dataProxy;r.scheduleReplace([e],t),r.doUpdates()}})}));var l=function(){};e.protoFunc=l;var c=l.prototype=Object.create(y.prototype,i);if(c.is=e.is,c.__componentOptions=r,c.__using=t.using,e.dataGroupObserverTree=a._createObserverTree(o),t._addObserversToDataProxy(e.dataGroupObserverTree),c.__behavior=t,r.writeFieldsToNode)for(var u in t.methods)c[u]=t.methods[u];c.__lifeTimeFuncs=t._getAllLifeTimeFuncs(),c.__pageLifeTimeFuncs=t._getAllPageLifeTimeFuncs();var d=t.relations,p=c.__relationMap={};for(var h in d){var f=d[h],g=f.type;p[g]?p[g].push(f):p[g]=[f]}var v=[];p.parent&&v.push((function(e){C(this.__relationMap.parent,this.__relationLinks.parent,this,"parent","detached"===e)})),p.ancestor&&v.push((function(e){C(this.__relationMap.ancestor,this.__relationLinks.ancestor,this,"ancestor","detached"===e)})),p.shadowHost&&v.push((function(e){C(this.__relationMap.shadowHost,this.__relationLinks.shadowHost,this,"shadowHost","detached"===e)})),e.relationHandler=function(e){for(var t=0;t<v.length;t++)v[t].call(this,e)};var m={},_={},A=t.data,b="";for(b in A)_[b]=A[b];for(b in o){var w=o[b];n.hasGlobalWarningListeners()&&void 0!==_[b]&&n.triggerWarning('data field "'+b+'" is overwritten by property with the same name.'),_[b]=w.value,m[b]=w.public}var E=_,I=r.separateInnerData,S=r.innerDataExclude;if(S){for(var T in E={},_)S.test(T)||(E[T]=_[T]);I||(_=E)}var x=r.templateEngine;e.template=x.create(t,_,E,r),c.__propPublic=m;var P=t._getAllListeners(),k=e.innerEvents=[];for(var D in P){for(var R=P[D],O=D.indexOf("."),M=D.slice(O+1),L=O<1?"":D.slice(0,O),N=[],B=0;B<R.length;B++){var W=R[B];"function"!=typeof W&&(W=null==W?null:t.methods[W]),N.push(W)}k.push({id:L,name:M,funcs:N})}}};var S=1,T=Object.prototype.hasOwnProperty,x=function(e,t){return function(r){return e.call(t.__methodCaller,r,t)}},P=y._advancedCreate=function(e,t,r,i,o){var s=t;s._unprepared&&y.prepare(s);var c=s.options;!c.availability||function(e,t,r){var i=[t?t.__wxHost.__componentOptions.domain:void 0];return!!n.safeCallback("Availablity Controller",r,e,i)}(s,r,c.availability)||(n.hasGlobalWarningListeners()&&n.triggerWarning('the component "'+(s.is||"")+'" is currently not available. The default component is used instead.'),s=y._list[""]);var u=new(0,s.protoFunc),g=s.generics;u.__generics=g?function(e,t,r){var i={};for(var a in e){var o=e[a],s=t[a];"object"!=typeof s&&(s=y._list[s]),"object"!=typeof s&&null!=o.default&&(s=y._list[o.default]),n.hasGlobalWarningListeners()&&(s||n.triggerWarning('generic "'+a+'" is not instantiated. The default component is used instead.')),s&&(i[a]=s)}if(n.hasGlobalWarningListeners())for(var l in t)void 0===e[l]&&n.triggerWarning('generic "'+l+'" is not defined. It will be ignored.');return i}(g,i||{}):{};var m=null,A=h.documentBackend;if(c.virtualHost){m=null;"dom"===h.documentBackend&&(m=void 0),l.initialize(u,m,r),u.__virtual=!0}else"dom"===A?(m=f.backendExtractedDefault?new p(e):document.createElement(e),l.initialize(u,m,r)):"custom"===A?(m=h.customContext.createElement("empty",e),l.initialize(u,m,r)):l.initialize(u,null,r);var b=0,w=u.__externalClassAlias={};if(s.behavior.externalClasses){var C=s.behavior.externalClasses;for(b=0;b<C.length;b++)w[C[b]]=null}if(u.classList=d.create(u,w),r){var I=r.__wxHost;m&&"custom"===A&&I.__componentOptions.styleScope&&m.setStyleScope(I.__componentOptions.styleScope),u.classList._setOwnerOptions(I.classList,I.__componentOptions.classPrefix,I.__componentOptions.addGlobalClass),h.writeExtraInfoToAttr&&m&&m.setAttribute("exparser:info-class-prefix",I.__componentOptions.classPrefix&&I.__componentOptions.classPrefix+"--")}"dom"===A&&h.writeExtraInfoToAttr&&m&&(u.__componentInstanceId=S++,m.setAttribute("exparser:info-component-id",u.__componentInstanceId));var T=u.__templateInstance=s.template.createInstance(u,o);u.__propData=T.data;var P=c.separateInnerData;u.__innerData=P?_(u.__propData):null;var k=c.innerDataExclude;if(P&&k){var D={};for(var R in u.__innerData)k.test(R)||(D[R]=u.__innerData[R]);u.__innerData=D}u.__dataProxy=a._advancedCreate(u,u.__propData,u.__innerData,k,s.dataGroupObserverTree,(function(e,t,r,n){u.__templateInstance.updateValues(u,P?u.__innerData:u.__propData,e,t,r,n)})),T.beforeMergeValues&&u.__dataProxy.setBeforeMergeCb((function(e,t,r){u.__templateInstance.beforeMergeValues(e,t,r)})),T.beforeUpdateValues&&u.__dataProxy.setBeforeUpdateCb((function(e){u.__templateInstance.beforeUpdateValues(u,P?u.__innerData:u.__propData,e)})),c.writeOnly&&u.__dataProxy.setHidingValue(!0),u.__idCacheDirty=!1,u.__idCache=T.idMap,null===T.slots[""]&&(T.slots[""]=m),s.options.multipleSlots?u.__slots=T.slots:(u.__singleSlot=T.slots[""]||null,u.__singleSlot&&(u.__singleSlot.__wxSlotChildren=u.childNodes)),T.shadowRoot instanceof l?(u.shadowRoot=T.shadowRoot,l._attachShadowRoot(T.shadowRoot)):m instanceof p?(u.shadowRoot=m,m.__wxHost=u,u.__domElement.asShadowRoot=T.shadowRoot,u.__wxSlotChildren=[m],m.__wxSlotParent=u):(u.shadowRoot=m,m.__wxHost=u,""!==h.documentBackend&&u.__domElement.appendChild(T.shadowRoot),u.__wxSlotChildren=[m],m.__wxSlotParent=u);for(var O=T.listeners,M=0;M<O.length;M++){var L=O[M];v(L.target,L.name,x(L.func,u))}var N=s.innerEvents;for(b=0;b<N.length;b++){var B=N[b],W=B.id?"this"===B.id?u:u.__idCache[B.id]:u.shadowRoot;if(W)for(var F=B.name,U=B.funcs,V=0;V<U.length;V++)v(W,F,x(U[V],u))}var j=u.__relationMap;return j.parent&&(E(j.parent,u,"parent"),u.__relationHandler=s.relationHandler),j.ancestor&&(E(j.ancestor,u,"ancestor"),u.__relationHandler=s.relationHandler),j.shadowHost&&(E(j.shadowHost,u,"shadowHost"),u.__relationHandler=s.relationHandler),u.__propertyChangeListeners=null,"custom"===A&&m&&m.associateComponent(u),s.initiator&&n.safeCallback("Component Initiator",s.initiator,u.__methodCaller,[],u),u.__lifeTimeFuncs.created.call(u.__methodCaller,[],u),u};y.createWithGenerics=function(e,t,r,i){return"object"==typeof e?P(e.is,e,null,r,i):e?e.indexOf("-")<0&&!t?c.create(e):(n.hasGlobalWarningListeners()&&(t||T.call(y._list,e)||"virtual"===e||n.triggerWarning('component "'+e+'" is not found. The default component is used instead.')),P(e.toLowerCase(),t||T.call(y._list,e)&&y._list[e]||y._list[""],null,r,i)):P("virtual",y._list[""],null,r,i)},y.create=function(e,t,r){return y.createWithGenerics(e,t,null,r)},y.listProperties=function(e){var t=[];for(var r in e.__propPublic)void 0!==e.__propPublic[r]&&t.push(r);return t},y.listPublicProperties=function(e){var t=[];for(var r in e.__propPublic)!0===e.__propPublic[r]&&t.push(r);return t},y.hasProperty=function(e,t){return void 0!==e.__propPublic[t]},y.hasPublicProperty=function(e,t){return!0===e.__propPublic[t]},y.getMethodsFromDef=function(e){return e.behavior._unprepared&&s.prepare(e.behavior),e.behavior.methods},y.getMethod=function(e,t){return e.__behavior.methods[t]},y.getComponentOptions=function(e){return e.__componentOptions},y.prototype.triggerLifeTime=function(e,t){this.__lifeTimeFuncs[e].call(this.__methodCaller,t||[])},y.prototype.triggerPageLifeTime=function(e,t){I(this,e,t)},y.prototype.hasBehavior=function(e){return"object"!=typeof e&&Object.prototype.hasOwnProperty.call(this.__using,e)&&(e=this.__using[e]),!!this.__behavior&&this.__behavior.hasBehavior(e)},y.prototype.getRootBehavior=function(){return this.__behavior},y.prototype.getRelationNodes=function(e){var t=this.__behavior.relations[e];if(!t)return null;if("parent"===t.type||"ancestor"===t.type||"shadowHost"===t.type){for(var r=this.__relationMap[t.type],n=0;n<r.length&&r[n]!==t;n++);return this.__relationLinks[t.type][n]?[this.__relationLinks[t.type][n].parent]:[]}return function(e,t){var r=[],n=t.type,i="child"===n,a="shadowContent"===n,o=function(n){for(var s=n.childNodes,c=0;c<s.length;c++){var u=s[c];if(u instanceof l)if(u.__virtual)o(u);else{var d;if(u.__relationLinks)if(d=i?u.__relationLinks.parent:a?u.__relationLinks.shadowHost:u.__relationLinks.ancestor)for(var p=0;p<d.length;p++){var h=d[p];if(h&&h.parent===e&&h.relation===t){r.push(u);break}}a&&u instanceof y&&o(u.shadowRoot),i||o(u)}}};return o(a?e.shadowRoot:e),r}(this,t)},y.prototype.hasExternalClass=function(e){return T.call(this.__externalClassAlias,e)},y.prototype.setExternalClass=function(e,t){this.classList._setAlias(e,t)},y.prototype.setPropertyChangeListener=function(e,t){this.__propertyChangeListeners||(this.__propertyChangeListeners={}),this.__propertyChangeListeners[e]=t},y.prototype.replaceDataOnPath=function(e,t){this.__dataProxy.scheduleReplace(e,t)},y.prototype.isInnerDataExcluded=function(e){var t=this.__componentOptions.innerDataExclude;return!!t&&t.test(e)},y.getInnerData=function(e){return e.__innerData},y.getDataProxy=function(e){return e.__dataProxy},y.replaceWholeData=function(e,t,r){e.__propData=t,e.__dataProxy.replaceWholeData(t,r)},y.prototype.applyDataUpdates=function(){this.__dataProxy.doUpdates()},y.prototype.setData=function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace(m(r),e[r]);t.doUpdates()},e.exports=y},function(e,t,r){var n=r(3),i=r(5),a=null,o=null,s=Object.prototype.hasOwnProperty,l=i.deepCopy,c=function(e,t,r,n,i,a){this._data=t,this._innerData=r,this._innerDataExclude=n,this._comp=e,this._updateCb=a,this._beforeMergeCb=null,this._beforeUpdateCb=null,this._hidingValue=!1,this._changes=[],this._doingUpdates=null,this._propFields=i._propFields,this._observers=i._observers,this._observerTree=i._observerTree,this._relatedObserverTreeObj=i,this._observerStatus=[]};c._advancedCreate=function(e,t,r,n,i,a){return new c(e,t,r,n,i,a)};var u=function(e){this._propFields=e,this._observerIdInc=0,this._observers=[],this._observerTree={}};c._createObserverTree=function(e){return new u(e)},c.create=function(e,t,r){var n=new u({});return new c({__methodCaller:e},t,null,null,n,r)},c.setPropUpdater=function(e){a=e},c.setPropObserver=function(e){o=e},c.prototype.replaceWholeData=function(e,t){this._data=e},c.prototype.setHidingValue=function(e){this._hidingValue=!!e},c.prototype.setBeforeMergeCb=function(e){this._beforeMergeCb=e},c.prototype.setBeforeUpdateCb=function(e){this._beforeUpdateCb=e};var d=function(e,t,r){for(var i=e,a=0;a<t.length;a++){var o=t[a];if("**"===o)return n.hasGlobalWarningListeners()&&a!==t.length-1&&n.triggerWarning('"**" can only be used at the end of a path descriptor.'),i["**"]||(i["**"]=[]),void i["**"].push(r);i[o]||(i[o]={}),i=i[o]}i["~"]||(i["~"]=[]),i["~"].push(r)},p=function(e,t,r){for(var n=0;n<t.length;n++)d(e,t[n],r)},h=function(e,t,r){for(var n=e,i=0,a="";i<t.length&&"**"!==(a=t[i]);i++){if(!n)return;n=n[a]}var o="**"===a?n["**"]:n["~"];if(o)for(i=0;i<o.length;i++)if(o[i]===r){o.splice(i,1);break}},f=function(e,t,r){for(var n=0;n<t.length;n++)h(e,t[n],r)};u.prototype.addObserver=function(e,t){var r=this._observerIdInc++;return this._observers[r]={pathObj:t,func:e},p(this._observerTree,t,r),r},u.prototype.removeObserver=function(e){var t=this._observers[e];f(this._observerTree,t.pathObj,e),this._observers[e]=null},u.prototype.moveObserver=function(e,t){var r=this._observers[e];f(this._observerTree,r.pathObj,e),r.pathObj=t,p(this._observerTree,t,e)},c.prototype.getObserverTree=function(){return this._relatedObserverTreeObj};var g=function(e,t,r){for(var i=[],a=r.pathObj,o=0;o<a.length;o++){for(var s=a[o],l=t,c=0;c<s.length;c++){var u=s[c];if("**"===u)break;if("object"!=typeof l){l=void 0;break}l=l[u]}i[o]=l}n.safeCallback("Data Observer",r.func,e.__methodCaller,i,e)},v=function(e,t){var r=null,n=0;for(var i in e)if("~"!==i)if("**"!==i)v(e[i],t);else for(r=e["**"],n=0;n<r.length;n++)t[r[n]]=!0;else for(r=e["~"],n=0;n<r.length;n++)t[r[n]]=!0},m=function(e,t,r){for(var n=e,i=0;i<r.length;i++){if(n["**"])for(var a=n["**"],o=0;o<a.length;o++){t[a[o]]=!0}var l=r[i];if("number"==typeof l){if(!s.call(n,l)){n=null;break}}else if(!/^[_a-zA-Z]/.test(l)||!s.call(n,l)){n=null;break}n=n[l]}n&&v(n,t)},_=function(e,t,r,n,i){for(var a=0;a<e.length;a++){var o=e[a],s=t[a];s&&s&&(t[a]=!1,g(r,i?void 0:n,o))}};c.prototype.scheduleReplace=function(e,t,r){this._changes.push([e,t,r])},c.prototype.setChanges=function(e){this._changes=e},c.prototype.getChanges=function(){return this._changes},c.prototype.doUpdates=function(e,t){var r=this._propFields,n=this._comp,i=this._hidingValue,c=this._innerDataExclude,u=!!this._doingUpdates,d=this._relatedObserverTreeObj._observerIdInc,p=null,h=null,f=null;d?(u||(this._doingUpdates={changedPaths:[],changedValues:[],combinedChanges:[],changesTotal:0}),p=this._doingUpdates.changedPaths,h=this._doingUpdates.changedValues,f=this._doingUpdates.combinedChanges):(p=[],h=[],f=[]);var g=this._changes;this._changes=[];var v=[];this._beforeMergeCb&&this._beforeMergeCb(g,v,e);for(var y=0;y<g.length;y++){var A=g[y],b=A[0],w=A[1],E=w,C=void 0,I=b[0],S=!!c&&c.test(I),T=r[I];if(T&&1===b.length)C=this._data[I],w=a.call(this._comp,b,T,w,this._hidingValue),S||(this._innerData?(E=l(w),v[y]||(this._innerData[I]=E)):E=w,A[1]=E),S&&!this._innerData||(this._data[I]=w);else{var x=this._data,P=I,k=null,D=1;if(!S||this._innerData){for(;D<b.length;D++)"number"==typeof(k=b[D])&&isFinite(k)?s.call(x,P)&&x[P]instanceof Array||(x[P]=[]):(!s.call(x,P)||null===x[P]||"object"!=typeof x[P]||x[P]instanceof Array)&&(x[P]={}),x=x[P],P=k;x[P]=w}if(this._innerData&&(x=this._innerData,P=I,!S)){for(D=1;D<b.length;D++)"number"==typeof(k=b[D])&&isFinite(k)?s.call(x,P)&&x[P]instanceof Array||(x[P]=[]):(!s.call(x,P)||null===x[P]||"object"!=typeof x[P]||x[P]instanceof Array)&&(x[P]={}),x=x[P],P=k;E=l(w),v[y]||(x[P]=E),A[1]=E}}m(this._observerTree,this._observerStatus,b),S||(p.push(b),h.push([E,C,w]),f.push(A)),d&&(this._doingUpdates.changesTotal+=1)}if(!u){if(this._beforeUpdateCb&&this._beforeUpdateCb(e),d){var R=0;do{R=this._doingUpdates.changesTotal,_(this._observers,this._observerStatus,n,this._data,i)}while(R!==this._doingUpdates.changesTotal);this._doingUpdates=null}this._updateCb(p,h,f,e);for(var O=0;O<h.length;O++){var M=h[O];if(M){var L=p[O],N=r[L[0]];N&&o.call(n,M[2],M[1],L,N,i,t)}}}},e.exports=c},function(e,t,r){var n=r(9),i=r(11),a=r(14),o=r(4),s=r(13),l=function(){};l.prototype=Object.create(n.prototype,{constructor:{value:l,writable:!0,configurable:!0}});var c=l._advancedCreate=function(e,t){var r=new l;r.is=e.toLowerCase();var c=null;if("dom"===o.documentBackend?c=s.backendExtractedDefault?new a(e):document.createElement(e):"custom"===o.documentBackend&&(c=o.customContext.createElement("image"===e?e:"empty",e)),n.initialize(r,c,t),r.classList=i.create(r,null),"custom"===o.documentBackend&&c.associateComponent(r),t){var u=t.__wxHost;c&&"custom"===o.documentBackend&&u.__componentOptions.styleScope&&c.setStyleScope(u.__componentOptions.styleScope),r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.create=function(e){return c(e,null)};var u=l._advancedClone=function(e,t){var r=new l;r.is=e.is;var c=null;if(e.__domElement&&("dom"===o.documentBackend?c=e.__domElement instanceof a?s.backendExtractedDefault?e.__domElement.cloneNode():a.toElement(e.__domElement):s.backendExtractedDefault?a.fromElement(e.__domElement):document.importNode?document.importNode(e.__domElement,!1):e.__domElement.cloneNode(!1):"custom"===o.documentBackend&&(c=e.__domElement.cloneNode())),n._clone(r,e,c,t),r.classList=i.create(r,null),"custom"===o.documentBackend&&c.associateComponent(r),t){var u=t.__wxHost;r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.cloneNode=function(e){return u(e,null)},e.exports=l},function(e,t,r){var n=r(9),i=r(4),a=function(e,t){o(this,e,t)};a.prototype=Object.create(n.prototype);var o=a.initialize=function(e,t,r){e.is=t||"";var a=null;"dom"!==i.documentBackend&&"custom"!==i.documentBackend||(a=void 0),n.initialize(e,a,r),e.__virtual=!0};a._advancedCreate=function(e,t){return new a(e,t)},a.create=function(e){return new a(e,null)},e.exports=a},function(e,t,r){var n=r(9),i=r(15),a=r(18),o=r(17),s=r(12),l=Object.prototype.hasOwnProperty,c=function(e){a.initialize(this,"shadow",this),this.__hostAssociated=!1,this.__wxHost=e,this.__childrenPropsFilter=null,this.__slotCacheDirty=!1};c.prototype=Object.create(a.prototype),c.create=function(e){var t=new c(e);if(e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(t.__childrenPropsFilter)for(var r in e.ownerShadowRoot.__childrenPropsFilter)t.__childrenPropsFilter[r]||(t.__childrenPropsFilter[r]=e.ownerShadowRoot.__childrenPropsFilter[r]);else t.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;return t};c.prototype.createTextNode=function(e){return s._advancedCreate(e,this)},c.prototype.createNativeNode=function(e){return o._advancedCreate(e,this)},c.prototype.cloneNativeNode=function(e){return o._advancedClone(e,this)},c.prototype.createVirtualNode=function(e){return a._advancedCreate(e,this)},c.prototype.createComponent=function(e,t,r,n){var a=null;a=void 0===t?e:t;var o=this.__wxHost;return"object"!=typeof a&&(l.call(o.__using,a)?a=o.__using[a]:l.call(o.__generics,a)&&(a=o.__generics[a]),"object"!=typeof a&&(a=i._list[a]||i._list[""])),r&&(r=function(e,t){var r={};for(var n in e){var a=e[n];"object"!=typeof a&&(l.call(t.__using,a)?a=t.__using[a]:l.call(t.__generics,a)&&(a=t.__generics[a]||i._list[""]),r[n]=a)}return r}(r,o)),"object"==typeof e&&(e=a.is),o.__componentOptions.randomizeTagName&&(e=function(){for(var e=Date.now(),t="exparser-",r=0;r<8;r++){var n=(e+Math.floor(26*Math.random()))%26;e=Math.floor(e/26),t+="abcdefghijklmnopqrstuvwxyz"[n]}return t}()),o.__componentOptions.writeOnly&&!a.options.allowInWriteOnly&&(a=i._list[""]),i._advancedCreate(e,a,this,r,n)},c.prototype.tagNameUsed=function(e){var t=this.__wxHost;return!!l.call(t.__using,e)||!!l.call(t.__generics,e)},c.prototype.getHostNode=function(){return this.__wxHost},c.prototype.getElementById=function(e){return n._updateIdMap(this.__wxHost),this.__wxHost.__idCache[e]},e.exports=c},function(e,t,r){var n=r(9),i=r(12),a=function(){};a.create=function(e,t,r){var o=new a;if(!(e instanceof n||e instanceof i))throw new Error("ElementIterator can only be used for exparser.Element or exparser.TextNode");o._elem=e,o._elemTypeLimit=r||n;var s=t.split("-");if("shadow"===s[0])o._composed=!1;else{if("composed"!==s[0])throw new Error("Unrecognized iterator type: "+t);o._composed=!0}if("ancestors"===s[1])o._relation="ancestors",o._order=0;else{if("descendants"!==s[1])throw new Error("Unrecognized iterator type: "+t);if(o._relation="descendants","root"!==s[2])throw new Error("Unrecognized iterator type: "+t);if("first"===s[3])o._order=-1;else{if("last"!==s[3])throw new Error("Unrecognized iterator type: "+t);o._order=1}}return o};var o=function(e,t,r,n,i){if(n<0&&e instanceof t&&!1===i(e))return!1;var a=r&&e.__wxSlotChildren||e.childNodes;if(a)for(var s=0;s<a.length;s++)if(!1===o(a[s],t,r,n,i))return!1;return!(n>0&&e instanceof t&&!1===i(e))};a.prototype.forEach=function(e){return"ancestors"===this._relation?function(e,t,r,n){for(;e;e=r&&(e.__wxSlotParent||e.__wxHost)||e.parentNode)if(e instanceof t&&!1===n(e))return!1;return!0}(this._elem,this._elemTypeLimit,this._composed,e):o(this._elem,this._elemTypeLimit,this._composed,this._order,e)},e.exports=a},function(e,t,r){var n=r(4),i=r(3),a=!1,o=[],s=function(e){var t=o;o=[],a=!0,n.customContext.render((function(){a=!1,o.length&&(n.hasDOMBackend&&"function"==typeof requestAnimationFrame?requestAnimationFrame(s):setTimeout(s,16));for(var e=0;e<t.length;e++)"function"==typeof t[e]&&i.safeCallback("render",t[e],null,[])}))};t.triggerRender=function(e){"custom"===n.documentBackend&&(o.push(e||null),a||1!==o.length||(n.hasDOMBackend&&"function"==typeof requestAnimationFrame?requestAnimationFrame(s):setTimeout(s,16)))}},function(e,t,r){(function(t){var n=r(4),i=r(3),a=r(9),o=r(17),s=r(12),l=r(19),c=r(15),u=r(24),d=r(25),p=function(){};p.prototype=Object.create(Object.prototype,{constructor:{value:p,writable:!0,configurable:!0}});var h=function(){};h.prototype=Object.create(Object.prototype,{constructor:{value:h,writable:!0,configurable:!0}});var f=null;p.precompiler=f,p.htmlParser=null;var g=function(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))},v=Object.prototype.hasOwnProperty,m=function(e,t){if(null!==e&&"object"==typeof e&&v.call(e,t))return e[t]},_=function(e,t,r,n){if(v.call(t,r)){var a=t[r];if("function"==typeof a)return i.safeCallback("Template Method",a,e,n)}},y={t:1,n:'"slot"',v:!0,sn:"",a:[],c:[],p:null},A=function(e,t,r){e.classList.toggle(t,!!r)},b=function(e,t,r){e[t]=r},w=function(e,t,r){var n=e.__dataProxy;n.scheduleReplace([t],r),n.doUpdates()},E=function(e,t,r){e.class=r},C=function(e,t,r){"dom"===n.documentBackend?e.setAttribute("style",r):"custom"===n.documentBackend&&e.setStyle(r)},I=function(e,t,r){e.setAttribute("class",r)},S=function(e,t,r){e.textContent=r},T=function(e,t,r){e.dataset||(e.dataset={}),e.dataset[t]=r},x={$:function(e,t,r){!0===r?e.setAttribute(t,""):!1===r||null==r?e.removeAttribute(t):e.setAttribute(t,r)},":":b,c:A,s:function(e,t,r){var n=e.style;n&&(n[t]=r)},d:T},P=function(e,t,r){return[{t:1,n:"slot",v:!0,sn:"",a:[],c:[]}]};p.create=function(e,r,n,a){var o=void 0===e.template?P:e.template,s=o;"function"!=typeof o&&(void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node?s=p.precompileAndGetCreator(o):(i.hasGlobalWarningListeners()&&i.triggerWarning("Non-precompiled template is not usable in this environment. Empty template is used instead."),s=P));var l=Object.create(p.prototype);return l._initValuesJSON=JSON.stringify(n),l._dataJSON=r!==n?JSON.stringify(r):null,l._tagTreeRoot=k(s,n,e.methods,a),l._renderingMode=a.renderingMode,l};var k=function(e,t,r,i){var a="native"===i.renderingMode,s=a,l=!1,c=Object.create(null);a&&!n.hasDOMBackend&&(e=P);var u={},p=e(m,_,r),h=function(e){for(var r=0;r<e.length;r++){var i=e[r];if(3!==i.t){var c=i.n,p=!(a||"string"==typeof c&&c.indexOf("-")<0);"slot"===c&&""===i.sn&&(l=!0),i.n=c;var f=i.st;f&&f.e&&(f.o=C,s&&(f.v=f.e(t,u,null)));var v=i.cl;v&&v.e&&(v.o=a?I:E,s&&(v.v=v.e(t,u,null)));var m=null;p||(i.p=m=a?document.createElement(i.n):o.create(i.n),f&&void 0!==f.v&&("dom"===n.documentBackend?m.setAttribute("style",f.v):"custom"===n.documentBackend&&m.__domElement.setStyle(f.v)),a&&v&&void 0!==v.v&&m.setAttribute("class",v.v));for(var _=i.a,y=0;y<_.length;y++){var T=_[y];if(T.d)a||d[T.n].register(T.n,T,i);else{a||("bind"===T.n.slice(0,4)?(T.evCatch=!1,T.ev=g(T.n.slice(4)),":"===T.ev[0]&&(T.ev=T.ev.slice(1))):"catch"===T.n.slice(0,5)&&(T.evCatch=!0,T.ev=g(T.n.slice(5)),":"===T.ev[0]&&(T.ev=T.ev.slice(1))));var P=T.o;if(p)P?T.o="&"===P?x[":"]:x[P]:(T.o=x[":"],T.n=g(T.n)),T.o===b&&(T.o=w),s&&T.e&&(T.v=T.e(t,u,null));else if(!T.ev){var k=x;T.o=P?"&"===P?k[":"]:k[P]:k.$,s?(T.e&&(T.v=T.e(t,u,null)),(T.o!==A||a)&&T.o(m,T.n,T.v)):T.e||T.o(m,T.n,T.v)}}}h(i.c),a&&(1!==i.c.length||void 0===i.c[0].sn||i.c[0].compressed||(i.sn=i.c[0].sn,i.compressed=!0,i.c.pop()))}else i.e&&(i.o=S,i.c=s?i.e(t,u,null):"")}};return h(p,c,!0),a&&(l||p.push(y),1!==p.length||""!==p[0].sn||p[0].compressed||p.pop()),p},D=function(e,t){return function(r){if(this[e](r),t)return!1}},R=function(e,t,r,i,o,s,l,p){for(var h=null,f=0,g=null,v=0;v<e.length;v++){var m=l,_=e[v];if(3===_.t)h=_.e?t.createTextNode(_.e(i,o,null)):t.createTextNode(_.c),_.e&&u.addBindings(s,m,_.b,h,_),a.appendChild(r,h);else{var y=_.cl,E=_.st,C=_.a,I=!1;for(f=0;f<C.length;f++)if((g=C[f]).d){var S=d[g.n].create(g.n,g,_,i,o,s,m,p,t,R,r);if(d[g.n].requireBlock){h=S,a.appendChild(r,h),I=!0;break}}if(I)continue;if(_.v)h=t.createVirtualNode(_.n);else if(_.p){for(h=t.cloneNativeNode(_.p),f=0;f<C.length;f++)(g=C[f]).d||(g.ev?p(h,g.ev,g.v,g.evCatch):g.o===b?h.__domElement&&(g.o(h.__domElement,g.n,g.e(i,o,null)),u.addBindings(s,m,g.b,h.__domElement,g)):(g.e&&g.o(h,g.n,g.e(i,o,null)),(g.e||g.o===A||g.o===T)&&u.addBindings(s,m,g.b,h,g)));E&&E.e&&("dom"===n.documentBackend?h.setAttribute("style",E.e(i,o,null)):"custom"===n.documentBackend&&h.__domElement.setStyle(E.e(i,o,null)),u.addBindings(s,m,E.b,h,E))}else{if(_.cpf){var x={},P=t.__wxHost;for(var k in _.cpf)!function(e){var t=_.cpf[e];x[e]=P.__behavior.methods[t]}(k);t.__childrenPropsFilter=x}for(h=t.createComponent(_.n,void 0,_.g,void 0),f=0;f<C.length;f++)if(!(g=C[f]).d){var D=g.v;g.o===w&&c.hasPublicProperty(h,g.n)?(g.e&&(D=g.e(i,o,null),u.addBindings(s,m,g.b,h,g)),g.e?w(h,g.n,D):h.__behavior.properties[g.n].type===Boolean?w(h,g.n,!0):w(h,g.n,D)):g.ev?p(h,g.ev,D,g.evCatch):g.o!==w&&(g.e&&(D=g.e(i,o,null),u.addBindings(s,m,g.b,h,g)),g.o(h,g.n,D))}E&&(E.e?("dom"===n.documentBackend?h.__domElement.setAttribute("style",E.e(i,o,null)):"custom"===n.documentBackend&&h.__domElement.setStyle(E.e(i,o,null)),u.addBindings(s,m,E.b,h.__domElement,E)):"dom"===n.documentBackend?h.__domElement.setAttribute("style",E.v):"custom"===n.documentBackend&&h.__domElement.setStyle(E.v))}_.id&&(h.id=_.id),y&&(y.e?h.class=y.e(i,o,null):h.class=y.v,y.o&&u.addBindings(s,m,y.b,h,y)),_.sl&&(h.slot=_.sl),void 0!==_.sn&&a.setSlotName(h,_.sn),a.appendChild(r,h),R(_.c,t,h,i,o,s,m,p)}}},O=function(e,t,r){for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof s||(a.__id&&(t[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),O(a,t,r))}},M=function(e,t,r,n,i,a){for(var o=null,s=0,l=null,c=0;c<e.length;c++){var d=e[c];if(void 0===d.n)o=document.createTextNode(d.c),d.e&&u.addBindings(i,a,d.b,o,d),t.appendChild(o);else{var p=d.cl,h=d.st,f=d.a;for(o=d.v?document.createElement("virtual"):document.importNode?document.importNode(d.p,!1):d.p.cloneNode(!1),s=0;s<f.length;s++)(l=f[s]).e&&u.addBindings(i,a,l.b,o,l);t.appendChild(o),d.id&&(r[d.id]=o),p&&p.e&&u.addBindings(i,a,p.b,o,p),h&&h.e&&u.addBindings(i,a,h.b,o,h),void 0!==d.sn&&(n[d.sn]=o),M(d.c,o,r,n,i,a)}}};p.prototype.createInstance=function(e){var t=Object.create(h.prototype),r=JSON.parse(this._initValuesJSON),i=null===this._dataJSON?r:JSON.parse(this._dataJSON),a=Object.create(null),o=Object.create(null),s=[],c=u.create("",null,null,null,null,[],(function(e,t){})),d=null;if("native"===this._renderingMode)"dom"===n.documentBackend&&(d=document.createDocumentFragment()),M(this._tagTreeRoot,d,a,o,c,{}),o[""]||(o[""]=null);else{if(d=l.create(e),e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(d.__childrenPropsFilter)for(var p in e.ownerShadowRoot.__childrenPropsFilter)d.__childrenPropsFilter[p]||(d.__childrenPropsFilter[p]=e.ownerShadowRoot.__childrenPropsFilter[p]);else d.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;R(this._tagTreeRoot,d,d,r,{},c,{},(function(e,t,r,n){d.__wxHost?e.addListener(t,D(r,n).bind(d.__wxHost)):s.push({target:e,name:t,func:D(r,n)})})),O(d,a,o)}return t.data=i,t.shadowRoot=d,t.idMap=a,t.slots=o,t.listeners=s,t._topScope=c,t},h.prototype.updateValues=function(e,t,r){for(var n=a.getMethodCaller(e),i=0;i<r.length;i++){var o=r[i];u.updateBinding(this._topScope,o,t,{},n)}},e.exports=p}).call(t,r(23))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(){f&&p&&(f=!1,p.length?h=p.concat(h):g=-1,h.length&&o())}function o(){if(!f){var e=i(a);f=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,f=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,h=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||f||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){var r={create:function(e,t,r,i,a,o,s){for(var l={inc:1,name:e,exp:i,lp:a,scopes:{},targets:{},children:null,lu:s,__scopeBinded:[]},c=0;c<o.length;c++){var u=o[c];null===u[0]?n(t,u,null,l):n(r[u[0]],u,null,l)}return l},proxyTopScope:function(e){var t={inc:1,linked:e,scopes:{},targets:{},children:null,__scopeBinded:[]};return n(e,[null],null,t),t},proxySubScopes:function(e){var t={};for(var r in e)t[r]={inc:1,linked:e[r],scopes:{},targets:{},children:null,__scopeBinded:[]},n(e[r],[null],null,t[r]);return t}},n=r.addBinding=function(e,t,r,n){for(var i=e,a=1;a<t.length;a++){var o=t[a];i.children||(i.children=Object.create(null));var s=i.children;s[o]||(s[o]={scopes:{},targets:{},children:null}),i=s[o]}var l=e.inc++;return r?i.targets[l]=[r,n]:(i.scopes[l]=n,n.__scopeBinded.push([i,l])),l};r.addBindings=function(e,t,r,i,a){for(var o=0;o<r.length;o++){var s=r[o];s[0]?n(t[s[0]],s,i,a):n(e,s,i,a)}},r.updateLvaluePath=function(e,t){e.lp=t},r.removeBindingsForScope=function(e){for(var t=e.__scopeBinded,r=0;r<t.length;r++){var n=t[r];delete n[0].scopes[n[1]]}};var i=function(e,t,r,n,i){if(e.linked)a(e,t,r,n,i);else{var o=n[e.name];n[e.name]=e.exp(r,n,i),a(e,t,r,n,i),n[e.name]=o}},a=r.updateBinding=function(e,t,r,n,a){for(var o=e,s=0,l=0;l<t.length;l++){for(s in o.scopes)i(o.scopes[s],t,r,n,a);var c=t[l];if(!o.children)return;var u=o.children;if(!u[c])return;o=u[c]}var d=function(e){for(s in e.targets){var t=e.targets[s],o=t[1];o.o(t[0],o.n,o.e(r,n,a))}for(s in e.scopes)i(e.scopes[s],[],r,n,a);for(s in e.children)d(e.children[s])};d(o)};e.exports=r},function(e,t,r){e.exports={if:r(26),elif:r(26),else:r(26),for:r(28),key:r(29),"for-index":r(30),"for-item":r(31),alias:r(32)}},function(e,t,r){var n=r(24),i=r(27).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u,d){var p=c.createVirtualNode("wx:"+e);p.__wxIfCondValue=!0,p.__wxIfNextNode=null,p.__wxIfHasTrueCond=!0;var h=null;"if"!==e&&("wx:if"!==(h=d.childNodes[d.childNodes.length-1]).is&&"wx:elif"!==h.is?h=null:h.__wxIfNextNode=p),r.id&&(p.id=r.id);var f=p.__wxIfUpdateNode=function(){var e=p.__wxIfCondValue;if(h&&h.__wxIfHasTrueCond&&(e=!1),e&&!p.childNodes.length){var t=n.proxyTopScope(o),d=n.proxySubScopes(s);p.__wxTopScope=t,p.__wxSubScopes=d,u(r.c,c,p,i,a,t,d,l)}else if(!e&&p.childNodes.length){for(var f in n.removeBindingsForScope(p.__wxTopScope),p.__wxSubScopes)n.removeBindingsForScope(p.__wxSubScopes[f]);for(;p.childNodes.length;)p.removeChild(p.childNodes[0])}p.__wxIfNextNode&&p.__wxIfNextNode.__wxIfUpdateNode()},g=function(e){p.__wxIfCondValue=!!e,p.__wxIfHasTrueCond=p.__wxIfCondValue||h&&h.__wxIfHasTrueCond,f()};return"else"===e?g(!0):(n.addBindings(o,s,t.b,p,{e:t.d,o:function(e,t,r){g(r)}}),g(t.d(i,a,null))),p}}},function(e,t){t.TAG_TYPES={TAG_START:1,TAG_END:-1,TEXT:3,COMMENT:8},t.RUNTIME_NAMES={MEMBER:"m",CALL:"f",METHODS:"e",CALLER:"c",TOP_SCOPE:"t",SUB_SCOPE:"s"};var r=t.STRING_UNESCAPE_MAP={n:"\n",r:"\r",b:"\b",f:"\f",t:"\t",v:"\v",'"':'"',"'":"'","\\":"\\","\r":"\r","\n":"\n"},n=t.STRING_ESCAPE_MAP={},i="";for(var a in r)n[r[a]]=a,i+=r[a];t.STRING_ESCAPE_REGEXP=new RegExp("["+i+"]","g")},function(e,t,r){var n=(r(18),r(24)),i=r(27).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,addDefaultAttrs:[{n:"wx:for-index",v:"index"},{n:"wx:for-item",v:"item"}],register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=r._wxForIndex||"index",p=r._wxForItem||"item",h=r._wxKey,f=c.createVirtualNode("wx:for:list");r.id&&(f.id=r.id),n.create("",o,s,(function(e,r,n){var i=t.d(e,r,null);return y(i,e,r,n),i}),t.l,t.b);var g=function(e,t,i,a,h){var g=c.createVirtualNode("wx:for:item"),v=n.proxyTopScope(o),m=n.proxySubScopes(s);g.__wxTopScope=v,g.__wxSubScopes=m,g.__wxForToRemove=!1,g.__wxForKeyStr="";var _=n.create(d,v,m,null,null,[]),y=n.create(p,v,m,null,[i],[]);return m[d]=_,m[p]=y,t[d]=i,t[p]=a,u(r.c,c,g,e,t,v,m,l),void 0===h?f.appendChild(g):f.insertBefore(g,h),g},v=function(e,t,r,a,o,s){var l=e.__wxSubScopes[p];n.updateLvaluePath(l,[a]),o&&(s?f.insertBefore(e,s):f.appendChild(e));var c=e.__wxSubScopes[d];r[d]=a,n.updateBinding(c,[],i,r,t)},m=function(e,t,r,i,a,o){i[p]=a,n.updateBinding(e.__wxSubScopes[p],t,r,i,o)},_=function(e){for(var t in n.removeBindingsForScope(e.__wxTopScope),f.__wxSubScopes)n.removeBindingsForScope(e.__wxSubScopes[t]);f.removeChild(e)},y=function(e,t,r,n){var i="",a=e;"object"==typeof e&&null!==e||(a=[]);var o={};for(i in r)o[i]=r[i];var s=0;if(h){var l=[],c=e instanceof Array,u=[];if(!c){var d=a;for(i in a=[],d)a.push(d[i]),u.push(i)}for(s=0;s<a.length;s++)l.push(String(a[s][h]));if(0===a.length)for(;f.childNodes.length;)_(f.childNodes[0]);else{var p=Object.create(null),y=Object.create(null),A=f.childNodes,b=null,w="";for(s=0;s<A.length;s++)p[w=(b=A[s]).__wxForKeyStr]>=0?(_(b),s--):(p[w]=s,y[w]=b,b.__wxForToRemove=!0);var E=-1,C=0,I=1,S=[];for((C=p[a[0][h]])>=0||(C=-1),A[C]&&(A[C].__wxForToRemove=!1),s=1;s<a.length;s++)(I=p[a[s][h]])>=0&&(E<C&&(C<I||E>I)&&(S.push(A[C]),E=C),A[C=I]&&(A[C].__wxForToRemove=!1));for(E<C&&S.push(A[C]),s=0;s<A.length;s++)(b=A[s]).__wxForToRemove&&(_(b),s--);var T=S.shift(),x=0;for(s=0;s<a.length;s++){var P=a[s],k=y[P[h]];if(y[P[h]]=null,k){var D=!0;if(k===T){for(;A[x]!==T;)x++;x++,T=S.shift(),D=!1}v(b=k,n,o,c?s:u[s],D,A[x]),D&&A[x]===b&&x++,m(b,[],t,o,a[s],n)}else b=g(t,o,c?s:u[s],a[s],A[x]),x++,b.__wxForKeyStr=String(P[h])}}}else{for(;f.childNodes.length;)_(f.childNodes[0]);if(e instanceof Array)for(s=0;s<a.length;s++)g(t,o,s,a[s]);else for(i in a)g(t,o,i,a[i])}};return y(t.d(i,a,null),i,a,null),f}}},function(e,t){e.exports={attachedToBlock:!0,register:function(e,t,r){r._wxKey=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForIndex=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForItem=t.d},create:function(){}}},function(e,t,r){var n=r(24),i=r(27).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=t.s[0],p=n.create(d,o,s,t.d,t.l,t.b),h={},f="";for(f in s)h[f]=s[f];h[d]=p;var g={};for(f in a)g[f]=a[f];g[d]=t.d(i,a,null);var v=c.createVirtualNode("wx:alias");return r.id&&(v.id=r.id),u(r.c,c,v,i,g,o,h,l),v}}}]);e.exports=t},446:(e,t,r)=>{var n=r(821);e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){var n=null;"undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?n=NativeGlobal.WebAssembly:"undefined"!=typeof WebAssembly&&(n=WebAssembly),t.wasm_initialize=function(e,i){var a=e.bin,o=new n.Memory({initial:16}),s={js:{mem:o},"./exparser_scl_backend_bg.js":r(3)},l=function(e){for(var r in e.instance.exports)t[r]=e.instance.exports[r];t.memory||(t.memory=o),t.wasm_initialize=null,i(t)},c=n.instantiate(a,s);"function"==typeof c.then?c.then(l):l(c)}},function(e,t,r){"use strict";function n(){}function i(){}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),n.prototype.encode=function(e){for(var t=[],r=e.length,n=0;n<r;){var i=e.codePointAt(n),a=0,o=0;for(i<=127?(a=0,o=0):i<=2047?(a=6,o=192):i<=65535?(a=12,o=224):i<=2097151&&(a=18,o=240),t.push(o|i>>a),a-=6;a>=0;)t.push(128|i>>a&63),a-=6;n+=i>=65536?2:1}return t},i.prototype.decode=function(e){if(void 0===e)return"";for(var t="",r=0;r<e.length;){var n=e[r],i=0,a=0;if(n<=127?(i=0,a=255&n):n<=223?(i=1,a=31&n):n<=239?(i=2,a=15&n):n<=244&&(i=3,a=7&n),e.length-r-i>0)for(var o=0;o<i;)a=a<<6|63&(n=e[r+o+1]),o+=1;else a=65533,i=e.length-r;t+=String.fromCodePoint(a),r+=i+1}return t}},function(e,t,r){"use strict";r.r(t),r.d(t,"setErrorListener",(function(){return i})),r.d(t,"consoleErrorReport",(function(){return a}));var n=null,i=function(e){n=e},a=function(e){if(n){var t=e.split("\nStack:\n",2)[0].trim();n(new Error(t))}else console.error(e)}},function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"wasm_main",(function(){return x})),r.d(t,"compileStyleSheetToJson",(function(){return M})),r.d(t,"compileStyleSheetToBincode",(function(){return L})),r.d(t,"BoundingClientRect",(function(){return N})),r.d(t,"Callback",(function(){return B})),r.d(t,"Context",(function(){return W})),r.d(t,"Element",(function(){return F})),r.d(t,"Listener",(function(){return U})),r.d(t,"ScrollPosition",(function(){return V})),r.d(t,"StyleSheetGroup",(function(){return j})),r.d(t,"__wbg_instanceof_ExparserElement_74ace43f429ed53b",(function(){return G})),r.d(t,"__wbg_invoke_e595dd16845dff2f",(function(){return H})),r.d(t,"__wbindgen_object_drop_ref",(function(){return Q})),r.d(t,"__wbg_subscribe_76e57ecbbf87c182",(function(){return $})),r.d(t,"__wbg_setTimeout_73cd22a52998d9f8",(function(){return z})),r.d(t,"__wbg_timeoutCallback_5a0fccae410eec7e",(function(){return Y})),r.d(t,"__wbg_triggerRender_8291f7e41c9ba309",(function(){return Z})),r.d(t,"__wbg_triggerEvent_fe8e7714c046228c",(function(){return q})),r.d(t,"__wbindgen_json_parse",(function(){return J})),r.d(t,"__wbindgen_json_serialize",(function(){return X})),r.d(t,"__wbg_getTheme_6ee867e661a1fe00",(function(){return K})),r.d(t,"__wbg_getWindowWidth_5d3459d21d0fb732",(function(){return ee})),r.d(t,"__wbg_getWindowHeight_5055bbf1cbab7ad7",(function(){return te})),r.d(t,"__wbg_getDevicePixelRatio_bad18211fbb2a2d3",(function(){return re})),r.d(t,"__wbg_getSafeArea_e02a51c464e82ae4",(function(){return ne})),r.d(t,"__wbg_getEngineConfig_d071336fb0f35c81",(function(){return ie})),r.d(t,"__wbindgen_object_clone_ref",(function(){return ae})),r.d(t,"__wbg_new_59cb74e423758ede",(function(){return oe})),r.d(t,"__wbg_stack_558ba5917b466edd",(function(){return se})),r.d(t,"__wbg_error_4bb6c2a97407129a",(function(){return le})),r.d(t,"__wbindgen_string_new",(function(){return ce})),r.d(t,"__wbg_debug_733679f61d937b18",(function(){return ue})),r.d(t,"__wbg_error_c81c8d172df3cb18",(function(){return de})),r.d(t,"__wbg_info_23f7f04053448bbc",(function(){return pe})),r.d(t,"__wbg_log_8485ead621ceded9",(function(){return he})),r.d(t,"__wbg_warn_eb158fa0859088bf",(function(){return fe})),r.d(t,"__wbindgen_debug_string",(function(){return ge})),r.d(t,"__wbindgen_throw",(function(){return ve}));var i=r(1),a=r(2),o=r(0);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=new Array(32).fill(void 0);function p(e){return d[e]}d.push(void 0,null,!0,!1);var h=d.length;function f(e){var t=p(e);return function(e){e<36||(d[e]=h,h=e)}(e),t}var g=new(void 0===i.a?(0,e.require)("util").TextDecoder:i.a)("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();var v=null;function m(){return null!==v&&v.buffer===o.memory.buffer||(v=new Uint8Array(o.memory.buffer)),v}function _(e,t){return g.decode(m().subarray(e,e+t))}function y(e){h===d.length&&d.push(d.length+1);var t=h;return h=d[t],d[t]=e,t}var A=0,b=new(void 0===i.b?(0,e.require)("util").TextEncoder:i.b)("utf-8"),w="function"==typeof b.encodeInto?function(e,t){return b.encodeInto(e,t)}:function(e,t){var r=b.encode(e);return t.set(r),{read:e.length,written:r.length}};function E(e,t,r){if(void 0===r){var n=b.encode(e),i=t(n.length);return m().subarray(i,i+n.length).set(n),A=n.length,i}for(var a=e.length,o=t(a),s=m(),l=0;l<a;l++){var c=e.charCodeAt(l);if(c>127)break;s[o+l]=c}if(l!==a){0!==l&&(e=e.slice(l)),o=r(o,a,a=l+3*e.length);var u=m().subarray(o+l,o+a);l+=w(e,u).written}return A=l,o}var C=null;function I(){return null!==C&&C.buffer===o.memory.buffer||(C=new Int32Array(o.memory.buffer)),C}function S(e){return function(){try{return e.apply(this,arguments)}catch(e){o.__wbindgen_exn_store(y(e))}}}function T(e){return function(){throw new Error("".concat(e," is not defined"))}}function x(){o.wasm_main()}function P(e){return null==e}function k(e,t){var r=t(1*e.length);return m().set(e,r/1),A=e.length,r}var D=32;function R(e){if(1==D)throw new Error("out of js stack");return d[--D]=e,D}function O(e,t){if(!(e instanceof t))throw new Error("expected instance of ".concat(t.name));return e.ptr}function M(e,t){try{var r=o.__wbindgen_add_to_stack_pointer(-16),n=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),i=A,a=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),s=A;o.compileStyleSheetToJson(r,n,i,a,s);var l=I()[r/4+0],c=I()[r/4+1];return _(l,c)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(l,c)}}function L(e,t){try{var r=o.__wbindgen_add_to_stack_pointer(-16),n=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),i=A,a=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),s=A;o.compileStyleSheetToBincode(r,n,i,a,s);var l=I()[r/4+0],c=I()[r/4+1],u=(d=l,p=c,m().subarray(d/1,d/1+p)).slice();return o.__wbindgen_free(l,1*c),u}finally{o.__wbindgen_add_to_stack_pointer(16)}var d,p}var N=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_boundingclientrect_free(e)}},{key:"left",get:function(){return o.__wbg_get_boundingclientrect_left(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_left(this.ptr,e)}},{key:"top",get:function(){return o.__wbg_get_boundingclientrect_top(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_top(this.ptr,e)}},{key:"width",get:function(){return o.__wbg_get_boundingclientrect_width(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_width(this.ptr,e)}},{key:"height",get:function(){return o.__wbg_get_boundingclientrect_height(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_height(this.ptr,e)}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}}]),e}(),B=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_callback_free(e)}},{key:"exec",value:function(e){try{var t=this.__destroy_into_raw();o.callback_exec(t,R(e))}finally{d[D++]=void 0}}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}}]),e}(),W=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_context_free(e)}},{key:"getWindowWidth",value:function(){return o.context_getWindowWidth(this.ptr)}},{key:"getWindowHeight",value:function(){return o.context_getWindowHeight(this.ptr)}},{key:"getDevicePixelRatio",value:function(){return o.context_getDevicePixelRatio(this.ptr)}},{key:"getTheme",value:function(){try{var e=o.__wbindgen_add_to_stack_pointer(-16);o.context_getTheme(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return _(t,r)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(t,r)}}},{key:"appendStyleSheet",value:function(e){var t=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;return o.context_appendStyleSheet(this.ptr,t,r)>>>0}},{key:"appendStyleSheetJson",value:function(e,t){var r=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A,i=P(t)?0:E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),a=A;return o.context_appendStyleSheetJson(this.ptr,r,n,i,a)>>>0}},{key:"appendStyleSheetBincode",value:function(e,t){var r=k(e,o.__wbindgen_malloc),n=A,i=P(t)?0:E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),a=A;return o.context_appendStyleSheetBincode(this.ptr,r,n,i,a)>>>0}},{key:"replaceStyleSheet",value:function(e,t){var r=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A;o.context_replaceStyleSheet(this.ptr,e,r,n)}},{key:"replaceStyleSheetJson",value:function(e,t,r){var n=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),i=A,a=P(r)?0:E(r,o.__wbindgen_malloc,o.__wbindgen_realloc),s=A;o.context_replaceStyleSheetJson(this.ptr,e,n,i,a,s)}},{key:"replaceStyleSheetBincode",value:function(e,t,r){var n=k(t,o.__wbindgen_malloc),i=A,a=P(r)?0:E(r,o.__wbindgen_malloc,o.__wbindgen_realloc),s=A;o.context_replaceStyleSheetBincode(this.ptr,e,n,i,a,s)}},{key:"clearStyleSheets",value:function(){o.context_clearStyleSheets(this.ptr)}},{key:"render",value:function(e){try{o.context_render(this.ptr,R(e))}finally{d[D++]=void 0}}},{key:"bindRootNode",value:function(e){O(e,F),o.context_bindRootNode(this.ptr,e.ptr)}},{key:"getRootNode",value:function(){var e=o.context_getRootNode(this.ptr);return 0===e?void 0:F.__wrap(e)}},{key:"createElement",value:function(e,t){var r=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A,i=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),a=A,s=o.context_createElement(this.ptr,r,n,i,a);return F.__wrap(s)}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}},{key:"create",value:function(){var t=o.context_create();return e.__wrap(t)}},{key:"getNodeUnderPoint",value:function(e,t){var r=o.context_getNodeUnderPoint(e,t);return F.__wrap(r)}},{key:"getExparserElementByViewId",value:function(e){return f(o.context_getExparserElementByViewId(e))}}]),e}(),F=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_element_free(e)}},{key:"release",value:function(){var e=this.__destroy_into_raw();o.element_release(e)}},{key:"associateComponent",value:function(e){o.element_associateComponent(this.ptr,y(e))}},{key:"cloneNode",value:function(){var t=o.element_cloneNode(this.ptr);return e.__wrap(t)}},{key:"equal",value:function(t){return O(t,e),0!==o.element_equal(this.ptr,t.ptr)}},{key:"getParentNode",value:function(){var t=o.element_getParentNode(this.ptr);return 0===t?void 0:e.__wrap(t)}},{key:"getChildNode",value:function(t){var r=o.element_getChildNode(this.ptr,t);return 0===r?void 0:e.__wrap(r)}},{key:"appendChild",value:function(t){O(t,e),o.element_appendChild(this.ptr,t.ptr)}},{key:"insertChild",value:function(t,r){O(t,e),o.element_insertChild(this.ptr,t.ptr,r)}},{key:"removeChild",value:function(e){o.element_removeChild(this.ptr,e)}},{key:"replaceChild",value:function(t,r){O(t,e),o.element_replaceChild(this.ptr,t.ptr,r)}},{key:"splice",value:function(t,r,n){O(n,e),o.element_splice(this.ptr,t,r,n.ptr)}},{key:"findChildPosition",value:function(t){return O(t,e),o.element_findChildPosition(this.ptr,t.ptr)}},{key:"length",value:function(){return o.element_length(this.ptr)>>>0}},{key:"getBoundingClientRect",value:function(){var e=o.element_getBoundingClientRect(this.ptr);return 0===e?void 0:N.__wrap(e)}},{key:"getScrollPosition",value:function(){var e=o.element_getScrollPosition(this.ptr);return V.__wrap(e)}},{key:"setScrollPosition",value:function(e,t,r){o.element_setScrollPosition(this.ptr,!P(e),P(e)?0:e,!P(t),P(t)?0:t,!P(r),P(r)?0:r)}},{key:"setId",value:function(e){var t=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;o.element_setId(this.ptr,t,r)}},{key:"setClass",value:function(e){var t=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;o.element_setClass(this.ptr,t,r)}},{key:"setStyle",value:function(e){var t=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;o.element_setStyle(this.ptr,t,r)}},{key:"setStyleScope",value:function(e){var t=P(e)?0:E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;o.element_setStyleScope(this.ptr,t,r)}},{key:"setAttribute",value:function(e,t){var r=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A,i=E(t,o.__wbindgen_malloc,o.__wbindgen_realloc),a=A;o.element_setAttribute(this.ptr,r,n,i,a)}},{key:"getAttribute",value:function(e){try{var t=o.__wbindgen_add_to_stack_pointer(-16),r=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A;o.element_getAttribute(t,this.ptr,r,n);var i=I()[t/4+0],a=I()[t/4+1];return _(i,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(i,a)}}},{key:"setText",value:function(e){var t=E(e,o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;o.element_setText(this.ptr,t,r)}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}}]),e}(),U=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_listener_free(e)}},{key:"exec",value:function(e){try{return 0!==o.listener_exec(this.ptr,R(e))}finally{d[D++]=void 0}}},{key:"release",value:function(){var e=this.__destroy_into_raw();o.__wbg_callback_free(e)}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}}]),e}(),V=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_scrollposition_free(e)}},{key:"scrollLeft",get:function(){return o.__wbg_get_boundingclientrect_left(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_left(this.ptr,e)}},{key:"scrollTop",get:function(){return o.__wbg_get_boundingclientrect_top(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_top(this.ptr,e)}},{key:"scrollWidth",get:function(){return o.__wbg_get_boundingclientrect_width(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_width(this.ptr,e)}},{key:"scrollHeight",get:function(){return o.__wbg_get_boundingclientrect_height(this.ptr)},set:function(e){o.__wbg_set_boundingclientrect_height(this.ptr,e)}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}}]),e}(),j=function(){function e(){s(this,e)}return c(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();o.__wbg_stylesheetgroup_free(e)}}]),e}(),G=function(e){return p(e)instanceof n.exparser.Element},H=S((function(e,t,r,i){n.invoke(_(e,t),f(r),0===i?void 0:B.__wrap(i))})),Q=function(e){f(e)},$=S((function(e,t,r){n.subscribe(_(e,t),0===r?void 0:U.__wrap(r))})),z=function(e,t){return setTimeout(p(e),t>>>0)},Y=function(e,t){n.timeoutCallback(e>>>0,B.__wrap(t))},Z="function"==typeof n.exparser.triggerRender?n.exparser.triggerRender:T("__exparserSclEngine__.exparser.triggerRender"),q=function(e,t,r,i,a){n.exparser.triggerEvent(p(e),_(t,r),f(i),f(a))},J=function(e,t){return y(JSON.parse(_(e,t)))},X=function(e,t){var r=p(t),n=E(JSON.stringify(void 0===r?null:r),o.__wbindgen_malloc,o.__wbindgen_realloc),i=A;I()[e/4+1]=i,I()[e/4+0]=n},K=function(e){var t=E(n.getTheme(),o.__wbindgen_malloc,o.__wbindgen_realloc),r=A;I()[e/4+1]=r,I()[e/4+0]=t},ee="function"==typeof n.getWindowWidth?n.getWindowWidth:T("__exparserSclEngine__.getWindowWidth"),te="function"==typeof n.getWindowHeight?n.getWindowHeight:T("__exparserSclEngine__.getWindowHeight"),re="function"==typeof n.getDevicePixelRatio?n.getDevicePixelRatio:T("__exparserSclEngine__.getDevicePixelRatio"),ne=function(){return y(n.getSafeArea())},ie=function(){return y(n.getEngineConfig())},ae=function(e){return y(p(e))},oe=function(){return y(new Error)},se=function(e,t){var r=E(p(t).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),n=A;I()[e/4+1]=n,I()[e/4+0]=r},le=function(e,t){try{Object(a.consoleErrorReport)(_(e,t))}finally{o.__wbindgen_free(e,t)}},ce=function(e,t){return y(_(e,t))},ue=function(e){console.debug(p(e))},de=function(e){Object(a.consoleErrorReport)(p(e))},pe=function(e){console.info(p(e))},he=function(e){console.log(p(e))},fe=function(e){console.warn(p(e))},ge=function(e,t){var r=E(function e(t){var r=u(t);if("number"==r||"boolean"==r||null==t)return"".concat(t);if("string"==r)return'"'.concat(t,'"');if("symbol"==r){var n=t.description;return null==n?"Symbol":"Symbol(".concat(n,")")}if("function"==r){var i=t.name;return"string"==typeof i&&i.length>0?"Function(".concat(i,")"):"Function"}if(Array.isArray(t)){var a=t.length,o="[";a>0&&(o+=e(t[0]));for(var s=1;s<a;s++)o+=", "+e(t[s]);return o+"]"}var l,c=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!(c.length>1))return toString.call(t);if("Object"==(l=c[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):l}(p(t)),o.__wbindgen_malloc,o.__wbindgen_realloc),n=A;I()[e/4+1]=n,I()[e/4+0]=r},ve=function(e,t){throw new Error(_(e,t))}}.call(this,r(5)(e))},function(e,t,r){var n=r(2),i=r(0);e.exports=r(3);var a=function(){e.exports.memory=i.memory,"function"==typeof i.__wbindgen_start?i.__wbindgen_start():"function"==typeof i.wasm_main&&i.wasm_main()},o=null;e.exports.wasm_initialize=function(e,t){void 0===t&&(t=e,e=void 0),i.wasm_initialize?o?o.push(t):(o=[t],i.wasm_initialize(e,(function(){a();var e=o;o=null,e.forEach((function(e){e()}))}))):t&&setTimeout(t,0)},i.wasm_initialize||a(),e.exports.setErrorListener=n.setErrorListener},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}])},668:(e,t,r)=>{r(57).J.push("AftQA21wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLW1hc2ttcC1idWJibGUtYWN0aW9uLXNoZWV0LS1tZW51bXAtYnViYmxlLWFjdGlvbi1zaGVldC0tY2VsbG1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGxfX2hvdmVybXAtYnViYmxlLWFjdGlvbi1zaGVldC0tY2VsbC1pbWdtcC1idWJibGUtYWN0aW9uLXNoZWV0LS1jZWxsLWRlc2NtcC1idWJibGUtYWN0aW9uLXNoZWV0LS1mb290bXAtYnViYmxlLWFjdGlvbi1zaGVldC0tYnV0dG9uc2FmZS1hcmVhLWluc2V0LWJvdHRvbW1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWJ1dHRvbl9fYmVmb3JlbXAtYnViYmxlLWFjdGlvbi1zaGVldC0tYnV0dG9uX19jb250ZW50bXAtYnViYmxlLWFjdGlvbi1zaGVldC0tYnV0dG9uX19ob3Zlcm1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNvbnRlbnRtcC1idWJibGUtYWN0aW9uLXNoZWV0LS1jb250ZW50bXAtYnViYmxlLWFjdGlvbi1zaGVldC0tbWVudW1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWJ1YmJsZS1hY3Rpb24tc2hlZXQtLWNlbGxfX2hvdmVybXAtYnViYmxlLWFjdGlvbi1zaGVldC0tY2VsbC1kZXNjbXAtYnViYmxlLWFjdGlvbi1zaGVldC0tYnV0dG9ubXAtYnViYmxlLWFjdGlvbi1zaGVldC0tYnV0dG9uX19iZWZvcmVtcC1idWJibGUtYWN0aW9uLXNoZWV0LS1idXR0b25fX2NvbnRlbnRtcC1idWJibGUtYWN0aW9uLXNoZWV0LS1idXR0b25fX2hvdmVy+8ADFi4ODAEKAAAAAAMBABwAABAcBQIDAC8CAAAAAC4CAAAAAC0CAAAAADACAAAAAAAAWA4MAQocABwAAwEcHAAAEEYOJgMAIgPt7e3/AgIALwIAAAAALgIAAAAAKAIAAApDJwgAAIA/MwIAAMBBNAIAAMBBMgIAAMBBMQIAAMBBAQMACAEADQYAAAAWDgwBCjgAOAADATgcAAAQBAECAgAAAFgODAEKVABUAAMBVCoAABBGDCYDACcCAABgQigCAABgQjMCAABAQTQCAABAQTICAABAQTECAABAQSID/////0UCAABAQUYCAABAQUcCAABAQUgCAABAQQAAIxgWARR+AH4AAwF+KgEKqACoAAMBqCMAACAHASID7Ozs/wAAHw4MAQrLAMsAAwHLIAAAEA0CJwIAAABCKAIAAABCAAAoDgwBCusA6wADAeshAAAQFgQWAgAAIEETAwAAAIAYAgA3AgAAAEEAACIUEgEQ+wwBAPsMAQAFAfsMARwAABAKAgICACcIAACAPwAAKxQSARD7KAEA+ygBAAUB+ygBHgAAEBMDAgIANAkB+0YBFgAAIgP/////AABHFBIBEPtcAQD7XAEABQH7XAEmAAAQLwcCAwAvAgAAAAAtAgAAAAAuAgAAAAAoAgAAgD8iAwAAABpJAQoBAwAAgD8AAAA/AABSFBIBEPuCAQD7ggEABQH7ggEnAAAQOgsmAwAzAgAAAAA0AgAAAAAyAgAAgEExAgAAgEEYAgAWAgAAiEEXAgAAYEIeAwATAwAAAOYoAgAAYEIAAB8UEgEQ+6kBAPupAQAFAfupASUAABAHASID7Ozs/wAAHxQSARD7zgEA+84BAAUB+84BHwAAEAcBJwMAAMhCAQAfFBIBEPvtAQD77QEABQH77QEfAAAQBwEnBAAAyEIBAR8UEgEQ+wwCAPsMAgAFAfsMAhwAABAHASIDERER/wECHxQSARD7KAIA+ygCAAUB+ygCKgAAEAcBIgMfHx//AQIvJCIBIPtSAgD7UgIABQH7UgIqARD7fAIA+3wCAAUB+3wCIwAAIAcBIgM3Nzf/AQIfFBIBEPufAgD7nwIABQH7nwIhAAAQBwETA////4ABAh8UEgEQ+8ACAPvAAgAFAfvAAh4AABAHASIDHx8f/wECHxQSARD73gIA+94CAAUB+94CJgAAEAcBIgP///8NAQIfFBIBEPsEAwD7BAMABQH7BAMnAAAQBwETA////8wBAh8UEgEQ+ysDAPsrAwAFAfsrAyUAABAHASIDNzc3/wECKAMMAAAJAQcAAAQBAgEADAAACQEHAAAEAQICAAwAAAkBBwAABAEJAgA=")},574:(e,t,r)=>{r(57).J.push("AfvjAW1wLWRpYWxvZy0tcm9vdG1wLWRpYWxvZy0tbWFza21wLWRpYWxvZy0tbWFza19faW5tcC1kaWFsb2ctLWNvbnRhaW5lcm1wLWRpYWxvZy0tY29udGVudG1wLWRpYWxvZy0tY29udGVudF9faW5tcC1kaWFsb2ctLWhlYWRtcC1kaWFsb2ctLXRpdGxlbXAtZGlhbG9nLS1ib2R5bXAtZGlhbG9nLS1mb290bXAtZGlhbG9nLS1mb290bXAtZGlhbG9nLS1mb290X19hZnRlcm1wLWRpYWxvZy0tYnV0dG9ubXAtZGlhbG9nLS1idXR0b25fX2FjdGl2ZW1wLWRpYWxvZy0tYnV0dG9uX19hZnRlcm1wLWRpYWxvZy0tYnV0dG9uX19maXJzdC1jaGlsZF9fYWZ0ZXJtcC1kaWFsb2ctLWJ1dHRvbl9fZGVmYXVsdG1wLWRpYWxvZy0tY29udGVudG1wLWRpYWxvZy0tYm9keW1wLWRpYWxvZy0tYnV0dG9ubXAtZGlhbG9nLS1idXR0b25fX2RlZmF1bHRtcC1kaWFsb2ctLWJ1dHRvbl9fYWN0aXZlbXAtZGlhbG9nLS1mb290X19hZnRlcm1wLWRpYWxvZy0tYnV0dG9uX19hZnRlcvvqAxc5DgwBCgAAAAADAQAPAAAQJwkoBAAAyEInAwAAyEIBAwAWAgAAgEEDAgAEAgAIAwAKAgAVAEB6RAAASw4MAQoPAA8AAwEPDwAAEDkLAgMALwIAAAAALgIAAAAALQIAAAAAMAIAAAAAIgMAAACZFAAAAABKAwECAEsCAchMAwEDAE0CAQAAABgODAEKHgAeAAMBHhMAABAGARQAAIA/AAA3DgwBCjEAMQADATEUAAAQJQgCAwAvAgAAAAAuAgAAAAAtAgAAAAAwAgAAAAABAwANAQAKAgAAAF0ODAEKRQBFAAMBRRIAABBLECID/////xgCAEUCAAAAQUYCAAAAQUcCAAAAQUgCAAAAQQMCAAQCAAEDAAgDACcCAACgQxQAAAAASgMBAgBLAgHITAMBAwBNAgEAAAAYDgwBClcAVwADAVcWAAAQBgEUAACAPwAAMQ4MAQptAG0AAwFtDwAAEB8FNwIAAABCNQIAAMBBOAIAAAAANgIAAMBBKAIAAMBBAAAcDgwBCnwAfAADAXwQAAAQCgIZAgAWAgAAiEEAACsODAEKjACMAAMBjA8AABAZBDECAADAQTICAADAQRYCAACIQRMDAAAAgAAAFg4MAQqbAJsAAwGbDwAAEAQBAQMAAAAoDgwBCqoAqgADAaoPAAAQFgQCAgAoAgAAYEIXAgAAYEIWAgAAiEEAAEEODAEKuQC5AAMBuRYAABAvBwIDAC0CAAAAAC8CAAAAAC4CAAAAACgCAACAPyIDAAAAGkkBCgEDAACAPwAAAD8AACcODAEKzwDPAAMBzxEAABAVBQECAA4AAIA/EwNXa5X/GQIAAgIAAAAZDgwBCuAA4AADAeAZAAAQBwEiA+zs7P8AAEEODAEK+QD5AAMB+RgAABAvBwIDAC0CAAAAAC8CAACAPycCAACAPzACAAAAACIDAAAAGkkBCgEDAAAAPwAAgD8AABwUEgEQ+xEBAPsRAQAFAfsRASUAABAEAQEBAAAAHxQSARD7NgEA+zYBAAUB+zYBGgAAEAcBEwMAAADmAAAlFBIBEPtQAQD7UAEABQH7UAESAAAQDQIiAx4eHv8TA/////8BACUUEgEQ+2IBAPtiAQAFAftiAQ8AABANAiIDHh4e/xMD////gAEAHxQSARD7cQEA+3EBAAUB+3EBEQAAEAcBEwN9kKn/AQAfFBIBEPuCAQD7ggEABQH7ggEaAAAQBwETA////5kBAB8UEgEQ+5wBAPucAQAFAfucARkAABAHASIDNzc3/wEAMCUjAhD7tQEA+7UBAAUB+7UBFgAAEPvLAQD7ywEABQH7ywEYAAAQBwEiA////w0BAA4BDAAACQEHAAAEAQkCAA==")},81:(e,t,r)=>{r(57).J.push("Aft3Am1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tY29udGVudHNhZmUtYXJlYS1pbnNldC1ib3R0b21tcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWhlYWRtcC1oYWxmLXNjcmVlbi1kaWFsb2ctLXRpdGxlbXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1ib2R5bXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1mb290bXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1idXR0b25tcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWJ1dHRvbm1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYnV0dG9uX19hY3RpdmVtcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWJ1dHRvbl9fcHJpbWFyeW1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYnV0dG9uX19wcmltYXJ5bXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1idXR0b25fX2FjdGl2ZW1wLWhhbGYtc2NyZWVuLWRpYWxvZy0taGVhZG1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYm9keW1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYnV0dG9ubXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1idXR0b25tcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWJ1dHRvbl9fYWN0aXZlbXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1idXR0b25fX3ByaW1hcnltcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWJ1dHRvbl9fcHJpbWFyeW1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYnV0dG9uX19hY3RpdmX7gwIPPg4MAQoAAAAAAwEAHgAAECwIJgMAOAkBHhYAABgCADMCAADAQTQCAADAQTICAADAQTECAADAQScIAACAPwAAJQ4MAQo0ADQAAwE0GwAAEBMDNwIAAABBLAIAAEBCEwMAAADmAAAcDgwBCk8ATwADAU8cAAAQCgIZAgAWAgAAiEEAAC4ODAEKawBrAAMBaxsAABAcBSYDADECAADAQTICAADAQRYCAACIQRMDAAAA5gAAKw4MAQqGAIYAAwGGGwAAEBkGJgMAAQMAAgIANwIAAMBBFgIAAIhBDQEAAABqDgwBCqEAoQADAaEdAAAQWBEmAwAoAgAAIEInAgAA8EIXAgAAIEJFAgAAgEBGAgAAgEBHAgAAgEBIAgAAgEAiA/Ly8v8BAgATAwauVv8ZAgACAgAfAgAAgD8YAgA1AgAAAEE2AgAAAEEAABsQDgEMvgC+AAUCvh3bJQAAIAcBIgPm5ub/AAAlFBIBEPsAAQD7AAEABQH7AAEmAAAQDQIiAwfBYP8TA/////8AACMYFgEU+yYBAPsmAQAJAvsmASb7TAElAAAgBwEiAwauVv8AAB8UEgEQ+3EBAPtxAQAFAftxARsAABAHARMD////zAEAHxQSARD7jAEA+4wBAAUB+4wBGwAAEAcBEwP////MAQAlFBIBEPunAQD7pwEABQH7pwEdAAAQDQIiA////xQTA9bW1v8BACMYFgEU+8QBAPvEAQAJAvvEAR374QElAAAgBwEiA////yABACUUEgEQ+wYCAPsGAgAFAfsGAiYAABANAiIDB8Fg/xMD/////wEAIxgWART7LAIA+ywCAAkC+ywCJvtSAiUAACAHASIDBq5WmQEADgEMAAAJAQcAAAQBCQIA")},741:(e,t,r)=>{r(57).J.push("AfsIAW1wLWhhbGYtc2NyZWVuLXBvcHVwLS1yb290bXAtaGFsZi1zY3JlZW4tcG9wdXAtLW1hc2ttcC1oYWxmLXNjcmVlbi1wb3B1cC0tbWFza19faW5tcC1oYWxmLXNjcmVlbi1wb3B1cC0tY29udGFpbmVybXAtaGFsZi1zY3JlZW4tcG9wdXAtLWNvbnRhaW5lcl9faW5tcC1oYWxmLXNjcmVlbi1wb3B1cC0tY29udGVudG1wLWhhbGYtc2NyZWVuLXBvcHVwLS1jb250ZW50bXAtaGFsZi1zY3JlZW4tcG9wdXAtLWNvbnRlbnRtcC1oYWxmLXNjcmVlbi1wb3B1cC0tY29udGVudPu9AQkwDgwBCgAAAAADAQAaAAAQHgYoBAAAyEInAwAAyEIWAgAAgEEDAgAEAgAVAEB6RAAASw4MAQoaABoAAwEaGgAAEDkLAgMALwIAAAAALgIAAAAALQIAAAAAMAIAAAAAIgMAAACZFAAAAABKAwECAEsCAchMAwEDAE0CAQAAABgODAEKNAA0AAMBNB4AABAGARQAAIA/AABYDgwBClIAUgADAVIfAAAQRg0CAwBKAwEBAEsCAchMAwEBAE0CAQAnCAAAgD8vCAAAgD8tAgAAAAAuAgAAAABJAQwBAgIAAAAACAAAAAABAwAIAQANAQAAACIODAEKcQBxAAMBcSMAABAQAUkBDAECAgAAAAAIAACAvwAAVQ4MAQqUAJQAAwGUHQAAEEMNJgMAJwMAAMhCIgP/////EwMAAAD/RQIAAEBBRgIAAEBBRwIAAEBBSAIAAEBBAgIAOAIAAEDBNAIAAEBBAwIABAIAAAAZDgwBCrEAsQADAbEdAAAQBwEnAwAAyEIBABkODAEKzgDOAAMBzh0AABAHAScEAADIQgEBHw4MAQrrAOsAAwHrHQAAEA0CIgMZGRn/EwP/////AQIoAwwAAAkBBwAABAECAQAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQkCAA==")},161:(e,t,r)=>{r(57).J.push("AftpBG1wLWhvcml6b25hbC1idWJibGUtLXJvb3RtcC1ob3Jpem9uYWwtYnViYmxlLS1tYXNrbXAtaG9yaXpvbmFsLWJ1YmJsZS0tbWFza19faW5tcC1ob3Jpem9uYWwtYnViYmxlLS1jb250ZW50bXAtaG9yaXpvbmFsLWJ1YmJsZS0tY2xvc2UtY29udGFpbmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY2xvc2UtY29udGFpbmVyX19pbm1wLWhvcml6b25hbC1idWJibGUtLWNsb3NlLWJ0bm1wLWhvcml6b25hbC1idWJibGUtLWNsb3NlLWJ0bi1pbWdtcC1ob3Jpem9uYWwtYnViYmxlLS1jbG9zZS1idG5fX2hvdmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY29udGVudC1jb250YWluZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1tZW51LWNvbnRhaW5lcm1wLWhvcml6b25hbC1idWJibGUtLW1lbnUtY29udGFpbmVyX19pbm1wLWhvcml6b25hbC1idWJibGUtLW1lbnVtcC1ob3Jpem9uYWwtYnViYmxlLS1tZW51LWJlZm9yZW1wLWhvcml6b25hbC1idWJibGUtLW1lbnUtaW5uZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1tZW51LWFmdGVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY2VsbG1wLWhvcml6b25hbC1idWJibGUtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWhvcml6b25hbC1idWJibGUtLWNlbGwtaW1nLWNvbnRhaW5lcm1wLWhvcml6b25hbC1idWJibGUtLWNlbGxfX2hvdmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY2VsbC1pbWdtcC1ob3Jpem9uYWwtYnViYmxlLS1jZWxsLWRlc2NtcC1ob3Jpem9uYWwtYnViYmxlLS1jZWxsLWltZy1jb250YWluZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1jZWxsLWltZy1jb250YWluZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1jZWxsX19ob3Zlcm1wLWhvcml6b25hbC1idWJibGUtLWNlbGwtZGVzY21wLWhvcml6b25hbC1idWJibGUtLW1lbnUtaW5uZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1tZW51LWlubmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY2xvc2UtY29udGFpbmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tbWVudS1jb250YWluZXJtcC1ob3Jpem9uYWwtYnViYmxlLS1jb250ZW50LWNvbnRhaW5lcm1wLWhvcml6b25hbC1idWJibGUtLWNsb3NlLWNvbnRhaW5lcm1wLWhvcml6b25hbC1idWJibGUtLW1lbnUtY29udGFpbmVybXAtaG9yaXpvbmFsLWJ1YmJsZS0tY29udGVudC1jb250YWluZXL7WQUeMA4MAQoAAAAAAwEAGQAAEB4GKAQAAMhCJwMAAMhCFgIAAIBBAwIABAIAFQBAekQAAEsODAEKGQAZAAMBGRkAABA5CwIDAC8CAAAAAC4CAAAAAC0CAAAAADACAAAAACIDAAAA2RQAAAAASgMBAgBLAgHITAMBAwBNAgEAAAAYDgwBCjIAMgADATIdAAAQBgEUAACAPwAAIg4MAQpPAE8AAwFPHAAAEBADAQMAKAQAAMhCJwMAAMhCAAA9DgwBCmsAawADAWskAAAQKwcCAgAoBAAAyEJKAwEBAEsCAchMAwEBAE0CAQBJAQwBAggAAIC/AgAAAAAAACIODAEKjwCPAAMBjygAABAQAUkBDAECCAAAAAACAAAAAAAAbQ4MAQq3ALcAAwG3HgAAEFsRJgMAAgMALQIAAJhCMAIAABRCKAIAAABCJwIAAABCMwIAAIBANAIAAIBAMgIAAIBAMQIAAIBARQIAAIBBRgIAAIBBRwIAAIBBSAIAAIBBAwIABAIAIgM+PD//AAAfDgwBCtUA1QADAdUiAAAQDQIoAgAAwEEnAgAAwEEAABkODAEK9wD3AAMB9yUAABAHASIDNzc3/wAAHxQSARD7HAEA+xwBAAUB+xwBJgAAEAcBKAQAAMhCAABAFBIBEPtCAQD7QgEABQH7QgEjAAAQKAYoBAAAyEJKAwEBAEsCAchMAwEBAE0CAQBJAQwBAggAAIA/AgAAAAAAACgUEgEQ+2UBAPtlAQAFAftlAScAABAQAUkBDAECCAAAAAACAAAAAAAAJRQSARD7jAEA+4wBAAUB+4wBGQAAEA0DKAgAAIA/AQMACAEAAAAeFBIBEPulAQD7pQEABQH7pQEgAAAQBgEOAACAPwAALRQSARD7xQEA+8UBAAUB+8UBHwAAEBUFDgAAAAAoCAAAgD8BAwAIAwANBAAAAB4UEgEQ++QBAPvkAQAFAfvkAR8AABAGAQ4AAEBAAAAcFBIBEPsDAgD7AwIABQH7AwIZAAAQBAECAgAAAF4UEgEQ+xwCAPscAgAFAfscAicAABBGDCYDACcCAABgQigCAABgQjMCAABAQTQCAABAQTICAABAQTECAABAQSID/////0UCAABAQUYCAABAQUcCAABAQUgCAABAQQAALyQiASD7QwIA+0MCAAUB+0MCJwEQ+2oCAPtqAgAFAftqAiAAACAHASID7Ozs/wAAJRQSARD7igIA+4oCAAUB+4oCHQAAEA0CJwIAAABCKAIAAABCAAA0FBIBEPunAgD7pwIABQH7pwIeAAAQHAUWAgAAIEETA////4AYAgA3AgAAAEEoAgAAYEEAAB8UEgEQ+8UCAPvFAgAFAfvFAicAABAHASIDHx8f/wAALyQiASD77AIA++wCAAUB++wCJwEQ+xMDAPsTAwAFAfsTAyAAACAHASIDNzc3/wAAHxQSARD7MwMA+zMDAAUB+zMDHgAAEAcBEwP///+AAAAoFBIBEPtRAwD7UQMABQH7UQMfAAAQEAMmAwAzAgAAiEI0AgAAwEEBACgUEgEQ+3ADAPtwAwAFAftwAx8AABAQAyYDADMCAAAwQjQCAADAQQEBNSUjAhD7jwMA+48DAAUB+48DJAAAEPuzAwD7swMABQH7swMjAAAQDAIOAACAPxACAAAAAAECHxQSARD71gMA+9YDAAUB+9YDJgAAEAcBJwIAAK9DAQI1JSMCEPv8AwD7/AMABQH7/AMkAAAQ+yAEAPsgBAAFAfsgBCMAABAMAicCAAAeQw4AAAAAAQMkFBIBEPtDBAD7QwQABQH7QwQmAAAQDAIOAACAPxACAAAAAAEDPQQOAAALAQkAAAYBBwAAr0MOAAALAQkAAAYBCAAAr0MOAAALAQkAAAYBBADAJkQOAAALAQkAAAYBBQDAJkQ=")},431:(e,t,r)=>{r(57).J.push("AftzAWF1dGhvcml6ZS0tcm9vdGF1dGhvcml6ZS0tbWFza2F1dGhvcml6ZS0tbWFzay1pbmF1dGhvcml6ZS0tY29udGFpbmVyYXV0aG9yaXplLS1jb250ZW50YXV0aG9yaXplLS1jb250ZW50LWluYXV0aG9yaXplLS1oZWFkYXV0aG9yaXplLS1pY29uYXV0aG9yaXplLS10aXRsZWF1dGhvcml6ZS0tYm9keWF1dGhvcml6ZS0tYXBwbHktaW5mb2F1dGhvcml6ZS0tYnV0dG9uc2F1dGhvcml6ZS0tYnV0dG9uYXV0aG9yaXplLS1jYW5jZWxhdXRob3JpemUtLWNvbmZpcm1hdXRob3JpemUtLWNvbnRhaW5lcmF1dGhvcml6ZS0tY29udGFpbmVyYXV0aG9yaXplLS1jb250ZW50YXV0aG9yaXplLS10aXRsZWF1dGhvcml6ZS0tYXBwbHktaW5mb2F1dGhvcml6ZS0tY2FuY2Vs++4DFTkODAEKAAAAAAMBAA8AABAnCSgEAADIQicDAADIQgEDABYCAACAQQMCAAQCAAgDAAoCABUAQHpEAAA8DgwBCg8ADwADAQ8PAAAQKggnCAAAgD8oCAAAgD8iAwAAAP8UAAAAAEoDAQIASwIByEwDAQEATQIBAAAAGA4MAQoeAB4AAwEeEgAAEAYBFM3MzD4AAD0ODAEKMAAwAAMBMBQAABArBwMCAAQCACgIAACAPwIDAC0IAAAAPzACAABAwUkBDAECCAAAAL8CAAAAAAAAfA4MAQpEAEQAAwFEEgAAEGoUAQMACAMASgMBAQBLAgHITAMBAQBNAgEAMwIAAAAANAIAAAAAMgIAAMBBMQIAAMBBJwgAAIA/KAIAAHpDRQIAAEBBRgIAAEBBRwIAAEBBSAIAAEBBIgP/////AgMALwgAAIA/LQIAAAAAAAAiDgwBClYAVgADAVYVAAAQEAFJAQwBAgIAAAAACAAAgL8AAB8ODAEKawBrAAMBaw8AABANAygCAACAQgEDAAoCAAAAHw4MAQp6AHoAAwF6DwAAEA0CJwIAAMBBKAIAAMBBAAA+DgwBCokAiQADAYkQAAAQLAg1AgAAAEEUZmZmPxMDAAAA/xYCAABwQRkCACgCAACoQRcCAACoQQ4AAIA/AAAhDgwBCpkAmQADAZkPAAAQDwMOAACAPwgDADcCAACAQAAAMw4MAQqoAKgAAwGoFQAAECEGFGZmZj8WAgAAiEETAwAAAP8ZAgAoAmZmvkEXAmZmvkEAAEAODAEKvQC9AAMBvRIAABAuCicIAACAPygCAAAgQgIDADACAACcQi0CAAAAABYCAACIQRkCAAEDAAgBAA0BAAAAWA4MAQrPAM8AAwHPEQAAEEYMJwIAAPBCKAIAACBCFwIAACBCGAIANwIAAAAAOAIAAAAANgIAAABBNQIAAABBRQIAAIBARgIAAIBARwIAAIBASAIAAIBAAAAfDgwBCuAA4AADAeARAAAQDQIiA/Ly8v8TAwfBYP8AAB8ODAEK8QDxAAMB8RIAABANAiIDBMFg/xMD/////wAAHxQSARD7AwEA+wMBAAUB+wMBFAAAEAcBJwMAAMhCAQAfFBIBEPsXAQD7FwEABQH7FwEUAAAQBwEnBAAAyEIBAR8UEgEQ+ysBAPsrAQAFAfsrARIAABAHASIDLCws/wECJBQSARD7PQEA+z0BAAUB+z0BEAAAEAwCFM3MTD8TA/////8BAiQUEgEQ+00BAPtNAQAFAftNARUAABAMAhTNzEw/EwP/////AQIlFBIBEPtiAQD7YgEABQH7YgERAAAQDQIiA////xQTA/////8BAigDDAAACQEHAAAEAQIBAAwAAAkBBwAABAECAgAMAAAJAQcAAAQBCQIA")},930:(e,t,r)=>{r(57).J.push("AfuGBHd4LXZpZXdkZXZpY2UtbWVzc2FnZWRldmljZS1tZXNzYWdlLS1yb290ZGV2aWNlLW1lc3NhZ2UtLW1hc2tkZXZpY2UtbWVzc2FnZS0tbWFzay1hY3RpdmVkZXZpY2UtbWVzc2FnZS0tcG9wLWJveGRldmljZS1tZXNzYWdlLS1wb3AtYm94LWFjdGl2ZWRldmljZS1tZXNzYWdlLS1wb3AtaW5uZXJkZXZpY2UtbWVzc2FnZS0tcG9wLWlubmVyLWluZGV2aWNlLW1lc3NhZ2UtLXBvcC1pbm5lci1sZWZ0ZGV2aWNlLW1lc3NhZ2UtLXRpdGxlLWJveGRldmljZS1tZXNzYWdlLS1hdmF0YXJkZXZpY2UtbWVzc2FnZS0tY2VudGVyLXRleHRkZXZpY2UtbWVzc2FnZS0tbGlzdC1ib3hkZXZpY2UtbWVzc2FnZS0tbGlzdC1pdGVtZGV2aWNlLW1lc3NhZ2UtLWNoZWNrZGV2aWNlLW1lc3NhZ2UtLXVuY2hlY2tkZXZpY2UtbWVzc2FnZS0tbmFtZWRldmljZS1tZXNzYWdlLS1ub3RpY2VkZXZpY2UtbWVzc2FnZS0tYWN0aW9uLWJveGRldmljZS1tZXNzYWdlLS1idG5kZXZpY2UtbWVzc2FnZS0tY2FuY2VsZGV2aWNlLW1lc3NhZ2UtLWNvbmZpcm1kZXZpY2UtbWVzc2FnZS0tZGlzYWJsZWRldmljZS1tZXNzYWdlLS1oYW5kLW92ZXJkZXZpY2UtbWVzc2FnZS0tYm90dG9tLWJveGRldmljZS1tZXNzYWdlLS1wb3AtaW5uZXItcmlnaHRkZXZpY2UtbWVzc2FnZS0tYmFjay1hcnJvd2RldmljZS1tZXNzYWdlLS1ub3RpY2UtdGl0bGVkZXZpY2UtbWVzc2FnZS0tbm90aWNlLWJvcmRlcmRldmljZS1tZXNzYWdlLS1ub3RpY2UtZGV0YWlsLWxpc3RkZXZpY2UtbWVzc2FnZS0tbm90aWNlLWRldGFpbC1pdGVtZGV2aWNlLW1lc3NhZ2UtLW5vdGljZS1kZXRhaWwtaXRlbS1rZXlkZXZpY2UtbWVzc2FnZS0tbm90aWNlLWRldGFpbC1pdGVtLXZhbHVlZGV2aWNlLW1lc3NhZ2UtLXBvcC1ib3hkZXZpY2UtbWVzc2FnZS0tdGl0bGUtYm94ZGV2aWNlLW1lc3NhZ2UtLWNlbnRlci10ZXh0ZGV2aWNlLW1lc3NhZ2UtLW5hbWVkZXZpY2UtbWVzc2FnZS0tY2FuY2VsZGV2aWNlLW1lc3NhZ2UtLWRpc2FibGVkZXZpY2UtbWVzc2FnZS0tYm90dG9tLWJveGRldmljZS1tZXNzYWdlLS1ub3RpY2UtdGl0bGVkZXZpY2UtbWVzc2FnZS0tbm90aWNlLWJvcmRlcmRldmljZS1tZXNzYWdlLS1ub3RpY2UtZGV0YWlsLWl0ZW0ta2V5ZGV2aWNlLW1lc3NhZ2UtLW5vdGljZS1kZXRhaWwtaXRlbS12YWx1ZfthCCweFhQBEgAHBwABAAEKBwAHAAMBBw4AABEEASYDAAAAIg4MAQoVABUAAwEVFAAAEBADJwMAAMhCKAQAAMhCAgIAAABLDgwBCikAKQADASkUAAAQOQsCAwAtAgAAAAAuAgAAAAAvAgAAAAAwAgAAAABKAwECAEsCAchMAwEBAE0CAQAiAwAAAP8UAAAAAAAAGA4MAQo9AD0AAwE9GwAAEAYBFAAAAD8AAHMODAEKWABYAAMBWBcAABBhEQIDAC0CAAAAAC4CAAAAADACAAAAACcIAACAPyID/////0UCAAAgQUYCAAAgQUcCAAAgQUgCAAAgQUkBDAECAgAAAAAIAACAP0oDAQEASwIByEwDAQEATQIBAAMCAAQCAAAAIg4MAQpvAG8AAwFvHgAAEBABSQEMAQICAAAAAAgK16M8AAA9DgwBCo0AjQADAY0ZAAAQKwcnCAAAAEABAwBKAwEBAEsCAchMAwEBAE0CAQBJAQwBAgIAAAAAAgAAAAAAACIODAEKpgCmAAMBphwAABAQAUkBDAECCAAAAL8CAAAAAAAAQg4MAQrCAMIAAwHCHgAAEDAKDgAAgD8BAwAIAwANAgAKAgAnCAAAgD8zAgAAyEE0AgAAyEEyAgAAyEExAgAAyEEAACIODAEK4ADgAAMB4BkAABAQBAEDAAoCAA0CACcIAACAPwAAPQ4MAQr5APkAAwH5FgAAECsHJwIAAMhBKAIAAMhBRQgAAAA/RggAAAA/RwgAAAA/SAgAAAA/NgIAAABBAABJFBIBEPsPAQD7DwEABQH7DwEbAAAQMQoBAwAKAgANAgAnCAAAgD8ZAgAWAgAAiEE3AgAAIEI2AgAAAAA4AgAAoEE1AgAAAAAAAB8UEgEQ+yoBAPsqAQAFAfsqARgAABAHAScIAACAPwAAPRQSARD7QgEA+0IBAAUB+0IBGQAAECUIJwgAAIA/EwOYmJr/FgIAAIhBKAIAAHBCAgIAAQMACgIADQIAAABDFBIBEPtbAQD7WwEABQH7WwEVAAAQKwYnAgAAyEEoAgAAyEECAwAvCAAAAD9JAQwBAgIAAAAACAAAAL8tAgAAAAAAAJcUEgEQ+3ABAPtwAQAFAftwARcAABB/FicCAACwQSgCAACwQUUIAAAAP0YIAAAAP0cIAAAAP0gIAAAAPzkCAACAPzwCAACAPz8CAACAP0ICAACAPzoBAD0BAEABAEMBADsDmJia/z4DmJia/0EDmJia/0QDmJia/wIDAC8IAAAAP0kBDAECAgAAAAAIAAAAvy0CAAAAAAAAHxQSARD7hwEA+4cBAAUB+4cBFAAAEAcBNQIAACBCAABDFBIBEPubAQD7mwEABQH7mwEWAAAQKwYnAgAAyEEoAgAAyEECAwAvCAAAAD9JAQwBAgIAAAAACAAAAL8uAgAAAAAAAEYUEgEQ+7EBAPuxAQAFAfuxARoAABAuCScIAACAPwEDAAoCAA0GADcCAAAgQjYCAAAAADgCAADIQTUCAAAAABYCAACIQQAARhQSARD7ywEA+8sBAAUB+8sBEwAAEC4JJwIAAAJDKAIAACBCRQIAAMBARgIAAMBARwIAAMBASAIAAMBAAQMACgIADQEAAAAlFBIBEPveAQD73gEABQH73gEWAAAQDQIiAwAAAA0TAwfBYP8AACUUEgEQ+/QBAPv0AQAFAfv0ARcAABANAiIDB8Fg/xMD/////wAAJRQSARD7CwIA+wsCAAUB+wsCFwAAEA0CIgMAAAANEwOYmJr/AAAeFBIBEPsiAgD7IgIABQH7IgIZAAAQBgEUmpkZPwAANBQSARD7OwIA+zsCAAUB+zsCGgAAEBwGJwgAAIA/AQMACgIADQEAEwNBW5T/FgIAAIhBAAA8FBIBEPtVAgD7VQIABQH7VQIfAAAQJAYOAACAPycIAACAPzMCAADIQTQCAADIQTICAADIQTECAADIQQAAJRQSARD7dAIA+3QCAAUB+3QCGgAAEA0CJwIAAOBBKAIAAOBBAAA3FBIBEPuOAgD7jgIABQH7jgIcAAAQHwcnCAAAgD8BAwAKAgANAQAWAgAAkEEZAgA4AgAAoEEAACsUEgEQ+6oCAPuqAgAFAfuqAh0AABATAycIAACAPygCAACAPyID9/f3/wAAHxQSARD7xwIA+8cCAAUB+8cCIgAAEAcBJwgAAIA/AABGFBIBEPvpAgD76QIABQH76QIiAAAQLgknCAAAgD8BAwAKAgANAgA3AgAAQEE4AgAAQEE2AgAAAAA1AgAAAAAWAgAAYEEAACgUEgEQ+wsDAPsLAwAFAfsLAyYAABAQAzYCAADwQRMDmJia/xsCAAAAHhQSARD7MQMA+zEDAAUB+zEDKAAAEAYBFAAAgD8AAB8UEgEQ+1kDAPtZAwAFAftZAxcAABAHASIDHh4e/wEAJBQSARD7cAMA+3ADAAUB+3ADGQAAEAwCFM3MTD8TA/////8BAB8UEgEQ+4kDAPuJAwAFAfuJAxsAABAHARMD////zAEAHxQSARD7pAMA+6QDAAUB+6QDFAAAEAcBEwP///9NAQAlFBIBEPu4AwD7uAMABQH7uAMWAAAQDQIiA////xQTA/////8BAB8UEgEQ+84DAPvOAwAFAfvOAxcAABAHASID////FAEAHxQSARD75QMA++UDAAUB++UDGgAAEAcBEwP///9NAQAfFBIBEPv/AwD7/wMABQH7/wMcAAAQBwETA/////8BAB8UEgEQ+xsEAPsbBAAFAfsbBB0AABAHASID////DQEAHxQSARD7OAQA+zgEAAUB+zgEJgAAEAcBEwP///9NAQAfFBIBEPteBAD7XgQABQH7XgQoAAAQBwETA/////8BAA4BDAAACQEHAAAEAQkCAA==")},172:(e,t,r)=>{r(57).J.push("AedmcmFtZXNldC0taGlkZGVuZnJhbWVzZXQtLXJvb3RmcmFtZXNldC0tdGFic2ZyYW1lc2V0LS1wYW5lbHNmcmFtZXNldC0tbGVmdC1wYW5lbGZyYW1lc2V0LS1sZWZ0LXBhZ2VmcmFtZXNldC0tcmlnaHQtcGFuZWxmcmFtZXNldC0tcmlnaHQtcGxhY2Vob2xkZXJmcmFtZXNldC0tcmlnaHQtcGFnZWZyYW1lc2V0LS1yaWdodC1wYWdlLWluZnJhbWVzZXQtLWxlZnQtcGFuZWxmcmFtZXNldC0tcmlnaHQtcGFuZWz72AEMFg4MAQoAAAAAAwEAEAAAEAQBBwIAAAAcDgwBChAAEAADARAOAAAQCgIBAwAoBAAAyEIAAB8ODAEKHgAeAAMBHg4AABANAycCAABwQgMCAAQCAAAAGw4MAQosACwAAwEsEAAAEAkCDgAAgD8BAwAAADEODAEKPAA8AAMBPBQAABAfBScCAADPQzcCAAAAADgCAAAAADYCAACAPzUCAACAPwAALg4MAQpQAFAAAwFQEwAAEBwFAgMALQIAAAAALwIAAAAAJwgAAIA/KAgAAIA/AAAYDgwBCmMAYwADAWMVAAAQBgEOAACAPwAAMQ4MAQp4AHgAAwF4GwAAEB8EAgMALQgAAAA/LwgAAAA/SQEMAQIIAAAAvwgAAAC/AABRDgwBCpMAkwADAZMUAAAQPwoCAwAtAgAAAAAvAgAAAAAnCAAAgD8oCAAAgD9JAQwBAggAAIA/AgAAAABKAwEBAEsEAfuQAUwDAQQATQIBAAAAIg4MAQqnAKcAAwGnFwAAEBABSQEMAQICAAAAAAIAAAAAAAAWDgwBCr4AvgADAb4UAAAQBAEnAQABAC4ODAEK0gDSAAMB0hUAABAcBQIDAC0CAAAAAC8CAAAAACcIAACAPygIAACAPwEAEAEOAAALAQkAAAYBBQBAJ0Q=")},261:(e,t,r)=>{r(57).J.push("AZhuYXZpZ2F0ZS10by1tcC0tYm9keW5hdmlnYXRlLXRvLW1wLS1ib2R5LXBsYWNlaG9sZGVybmF2aWdhdGUtdG8tbXAtLWxvZ29uYXZpZ2F0ZS10by1tcC0tbmFtZW5hdmlnYXRlLXRvLW1wLS1kZXNjbmF2aWdhdGUtdG8tbXAtLW5hbWVuYXZpZ2F0ZS10by1tcC0tZGVzY/syAQcoDgwBCgAAAAADAQAUAAAQFgUBAwAzAgAAwEE0AgAAQEEIAwAKAgAAABkODAEKFAAUAAMBFCAAABAHATMCAACAQQAAQw4MAQo0ADQAAwE0FAAAEDEJKAIAAEBCJwIAAEBCOAIAAABBRQIAAMBBRgIAAMBBRwIAAMBBSAIAAMBBAwIABAIAAAA9DgwBCkgASAADAUgUAAAQKwgQAQABAgATAwAAAOYWAgAAiEEXAgAAsEE3AgAAAEEoAgAAsEEnCAAAgD8AADcODAEKXABcAAMBXBQAABAlBxABAAECABMDAAAATRYCAABgQRcCAACgQSgCAACgQScIAACAPwAAGQ4MAQpwAHAAAwFwFAAAEAcBEwP////mAQAZDgwBCoQAhAADAYQUAAAQBwETA////00BAA4BDAAACQEHAAAEAQkCAA==")},426:(e,t,r)=>{r(57).J.push("AfuuAXNoYXJlLWltYWdlLS1tYXNrc2hhcmUtaW1hZ2UtLW1hc2tfX2luc2hhcmUtaW1hZ2UtLWNvbnRhaW5lcnNoYXJlLWltYWdlLS1sYW5kc2NhcGUtY29udGFpbmVyc2hhcmUtaW1hZ2UtLWNvbnRhaW5lcl9faW5zaGFyZS1pbWFnZS0tbGFuZHNjYXBlLWNvbnRhaW5lcl9faW5zaGFyZS1pbWFnZS0tY29udGFpbmVyc2FmZS1hcmVhLWluc2V0LWxlZnRzYWZlLWFyZWEtaW5zZXQtYm90dG9tc2FmZS1hcmVhLWluc2V0LXJpZ2h0c2hhcmUtaW1hZ2UtLWxhbmRzY2FwZS1jb250YWluZXJzaGFyZS1pbWFnZS0tc2Nyb2xsZXItY29udGFpbmVyc2hhcmUtaW1hZ2UtLXNjcm9sbGVyc2hhcmUtaW1hZ2UtLWltZ3NoYXJlLWltYWdlLS1pbWctd3JhcHBlcnNoYXJlLWltYWdlLS1jb250YWluZXJzaGFyZS1pbWFnZS0tc2Nyb2xsZXJzaGFyZS1pbWFnZS0taW1nLXdyYXBwZXL70gINSw4MAQoAAAAAAwEAEQAAEDkLAgMALwIAAAAALgIAAAAALQIAAAAAMAIAAAAAIgMAAADZFAAAAABKAwECAEsCAchMAwEDAE0CAQAAABgODAEKEQARAAMBERUAABAGARQAAIA/AAA+GRcCCiYAJgADASYWAAAKPAA8AAMBPCAAABAhCBQAAAAASgMBAgBLAgHITAMBAwBNAgEAAQMACAEADQEAAAAjGRcCClwAXAADAVwaAAAKdgB2AAMBdiQAABAGARQAAIA/AAA6DgwBCpoAmgADAZoWAAAQKAcmAwACAwAvAgAAAAAtCQGwFAAAMAkBxBYAAC4JAdoVAAA0AgAAQkMAAB8ODAEK7wDvAAMB7yAAABANAicIAACAPygIAACAPwAAWBQSARD7DwEA+w8BAAUB+w8BHwAAEEAMJwgAAIA/MwIAAAAANAIAAAAAMgIAAAAAMQIAAAAANwIAAAAAOAIAAAAANgIAAAAANQIAAAAAAQMACAMADQEAAABVFBIBEPsuAQD7LgEABQH7LgEVAAAQPQonCAAAgD8sCAAAgD8zAgAAAAA0AgAAAAAyAgAAAAAxAgAAAAA3AgAAAAA4AgAAAAA2AgAAAAA1AgAAAAAAADcUEgEQ+0MBAPtDAQAFAftDARAAABAfBkUCAABAQUYCAABAQUcCAABAQUgCAABAQQMCAAQCAAAAPxQSARD7UwEA+1MBAAUB+1MBGAAAECcHJgMAMwIAADBCNAIAAABCMQIAAABCMgIAAABCJwgAAIA/DwAAAAAAACUUEgEQ+2sBAPtrAQAFAftrARYAABANAjQCAAAAADACAAAAAAEAJRQSARD7gQEA+4EBAAUB+4EBFQAAEA0CJwgAAIA/LAQAAMhCAQA6FBIBEPuWAQD7lgEABQH7lgEYAAAQIgYmAwAzAgAAwEE0AgAAwEExAgAAAAAyAgAAAAAnCAAAgD8BAA4BDAAACQEHAAAEAQICAA==")},13:(e,t,r)=>{r(57).J.push("ATN0b2FzdC0tcm9vdHRvYXN0LS1jb250ZW50dG9hc3QtLWxvYWRpbmd0b2FzdC0tdGl0bGXLBCgODAEKAAAAAAMBAAsAABAWBScDAADIQigEAADIQgEDAAoCAA0BAAAAVQ4MAQoLAAsAAwELDgAAEEMMKAIAADBCMwIAAAAANAIAAAAAMgIAAKBBMQIAAKBBRQIAAABBRgIAAABBRwIAAABBSAIAAABBIgNMTEz/CgIAAQMAAAAlDgwBChkAGQADARkOAAAQEwMnAgAAgEEoAgAAgEE2AgAAgEAAACQODAEKJwAnAAMBJwwAABASAxRmZmY/FgIAAGBBEwP/////AAABAA==")},164:(e,t,r)=>{r(57).J.push("AftGBHVzZXItcHJvZmlsZS0tcm9vdHVzZXItcHJvZmlsZS0taGlkZXVzZXItcHJvZmlsZS0tbWFza3VzZXItcHJvZmlsZS0tbWFzay1pbnVzZXItcHJvZmlsZS0tY29udGFpbmVydXNlci1wcm9maWxlLS1jb250ZW50dXNlci1wcm9maWxlLS1jb250ZW50LWludXNlci1wcm9maWxlLS1oZWFkdXNlci1wcm9maWxlLS1ib2R5dXNlci1wcm9maWxlLS1idXR0b25zdXNlci1wcm9maWxlLS1pY29udXNlci1wcm9maWxlLS10aXRsZXVzZXItcHJvZmlsZS0tYXBwbHktaW5mb3VzZXItcHJvZmlsZS0tc3BsaXQtbGluZXVzZXItcHJvZmlsZS0taW5mby1pdGVtLWFkZHVzZXItcHJvZmlsZS0taW5mby1pdGVtLWFkZF9fcGx1c3VzZXItcHJvZmlsZS0taW5mby1pdGVtLWFkZF9fdGV4dHVzZXItcHJvZmlsZS0taW5mby1pdGVtdXNlci1wcm9maWxlLS1pbmZvLWl0ZW1fX2xlZnR1c2VyLXByb2ZpbGUtLWluZm8taXRlbV9fYXZhdGFydXNlci1wcm9maWxlLS1pbmZvLWl0ZW1fX2Rlc2NfX3dycHVzZXItcHJvZmlsZS0taW5mby1pdGVtX19uaWNrbmFtZXVzZXItcHJvZmlsZS0taW5mby1pdGVtX19kZXNjdXNlci1wcm9maWxlLS1pbmZvLWl0ZW1fX3JpZ2h0dXNlci1wcm9maWxlLS1pY29uLWNoZWNrZWR1c2VyLXByb2ZpbGUtLWV4Y2VlZC10aXB1c2VyLXByb2ZpbGUtLXVzZS1vdGhlci1hdmF0YXJ1c2VyLXByb2ZpbGUtLWJ1dHRvbnVzZXItcHJvZmlsZS0tY2FuY2VsdXNlci1wcm9maWxlLS1jb25maXJtdXNlci1wcm9maWxlLS1leGNlZWQtdGlwdXNlci1wcm9maWxlLS1jb250YWluZXJ1c2VyLXByb2ZpbGUtLWNvbnRhaW5lcnVzZXItcHJvZmlsZS0taGVhZHVzZXItcHJvZmlsZS0tYnV0dG9uc3VzZXItcHJvZmlsZS0tY29udGVudHVzZXItcHJvZmlsZS0tdGl0bGV1c2VyLXByb2ZpbGUtLWluZm8taXRlbV9fbmlja25hbWV1c2VyLXByb2ZpbGUtLWluZm8taXRlbV9fZGVzY3VzZXItcHJvZmlsZS0taW5mby1pdGVtLWFkZF9fdGV4dHVzZXItcHJvZmlsZS0tYXBwbHktaW5mb3VzZXItcHJvZmlsZS0tdXNlLW90aGVyLWF2YXRhcnVzZXItcHJvZmlsZS0tY2FuY2VsdXNlci1wcm9maWxlLS1leGNlZWQtdGlwdXNlci1wcm9maWxlLS1zcGxpdC1saW5l+0kILTkODAEKAAAAAAMBABIAABAnCSgEAADIQicDAADIQgEDABYCAABgQQMCAAQCAAgDAAoCABUAQHpEAAAZDgwBChIAEgADARISAAAQBwEoAgAAAAAAADwODAEKJAAkAAMBJBIAABAqCCcIAACAPygIAACAPyIDAAAA/xQAAAAASgMBAgBLAgHITAMBAQBNAgEAAAAYDgwBCjYANgADATYVAAAQBgEUAAAAPwAAPQ4MAQpLAEsAAwFLFwAAECsHAwIABAIAKAgAAIA/AgMALQgAAAA/MAIAAEDBSQEMAQIIAAAAvwIAAAAAAAB/DgwBCmIAYgADAWIVAAAQbRUBAwAnCAAAgD8mAwAzAgAAAAA0AgAAAAAyAgAAwEExAgAAwEEIAwBKAwEBAEsCAchMAwEBAE0CAQA0AgAAQEFFAgAAQEFGAgAAQEFHAgAAQEFIAgAAQEEiA/////8CAwAvCAAAgD8tAgAAAAAAACIODAEKdwB3AAMBdxgAABAQAUkBDAECAgAAAAAIAACAvwAAKw4MAQqPAI8AAwGPEgAAEBkFNwIAAABCOAIAAIBBKAIAAMBBAQMACgIAAAAhDgwBCqEAoQADAaESAAAQDwMOAACAPwgDADQCAABCQwAARg4MAQqzALMAAwGzFQAAEDQLNQIAAMBBJwgAAIA/KAIAACBCAgMAMAIAAMRCLQIAAAAAFgIAAIhBGQIAAQMACAEADQEAAAA3DgwBCsgAyAADAcgSAAAQJQYnAgAAwEEoAgAAwEFFCAAAAD9GCAAAAD9HCAAAAD9ICAAAAD8AAD4ODAEK2gDaAAMB2hMAABAsCDUCAAAgQRRmZmY/EwMAAAD/FgIAAHBBGQIAKAIAAKhBFwIAAKhBDgAAgD8AAEUODAEK7QDtAAMB7RgAABAzCScIAACAPygCAABAQhRmZmY/FgIAAIhBEwMAAAD/GQIAFwJmZr5BNwIAAABBOAIAAIBBAAArFBIBEPsFAQD7BQEABQH7BQEYAAAQEwMnCAAAgD8oAgAAgD8iAwAAAA0AACUUEgEQ+x0BAPsdAQAFAfsdARsAABANAygCAACAQgEDAAoCAAAAMRQSARD7OAEA+zgBAAUB+zgBIQAAEBkEJwIAAMBBKAIAAMBBNQIAAABBNgIAAIBBAAA2FBIBEPtZAQD7WQEABQH7WQEhAAAQHgUOAACAPygCAADAQRcCAADAQRYCAACIQRMDAAAA5gAAKBQSARD7egEA+3oBAAUB+3oBFwAAEBAEKAIAAIBCAQMACgIADQQAAAAqFBIBEPuRAQD7kQEABQH7kQEdAAAQEgQoCAAAgD8BAwAKAgAOAACAPwAARhQSARD7rgEA+64BAAUB+64BHwAAEC4IAQUANgIAAABBJwIAACBCKAIAACBCRQIAAIBARgIAAIBARwIAAIBASAIAAIBAAAAtFBIBEPvNAQD7zQEABQH7zQEiAAAQFQUBAwAoCAAAgD8IAwANAQAOAACAPwAAMRQSARD77wEA++8BAAUB++8BIQAAEBkEKAIAAMBBFwIAAMBBEwMAAADmFgIAAIhBAAA8FBIBEPsQAgD7EAIABQH7EAIdAAAQJAY3AgAAAEAoAgAAoEEXAgAAoEEWAgAAYEETAwAAAP8UmpmZPgAAOhQSARD7LQIA+y0CAAUB+y0CHgAAECIIJwIAAMBBKAIAAMBBAwIABAIANgIAAABBAQMACgIADQEAAAAlFBIBEPtLAgD7SwIABQH7SwIaAAAQDQInAgAAwEEoAgAAwEEAAD0UEgEQ+2UCAPtlAgAFAftlAhgAABAlBicIAACAPygCAACgQRcCAACgQTcCAAAAQRYCAABgQRMDAAAATQAAPRQSARD7fQIA+30CAAUB+30CHgAAECUGJwgAAIA/KAIAAKBBFwIAAKBBNwIAAABBFgIAAGBBEwNZa5X/AABeFBIBEPubAgD7mwIABQH7mwIUAAAQRgwnAgAA8EIoAgAAIEIXAgAAIEIYAgA3AgAAAAA4AgAAAAA2AgAAAEE1AgAAAEFFAgAAgEBGAgAAgEBHAgAAgEBIAgAAgEAAACUUEgEQ+68CAPuvAgAFAfuvAhQAABANAiIDAAAADRMDB8Fg/wAAJRQSARD7wwIA+8MCAAUB+8MCFQAAEA0CIgMHwWD/EwP/////AAAfFBIBEPvYAgD72AIABQH72AIYAAAQBwETAwAAAE0AAB8UEgEQ+/ACAPvwAgAFAfvwAhcAABAHAScDAADIQgEAHxQSARD7BwMA+wcDAAUB+wcDFwAAEAcBJwQAAMhCAQEfFBIBEPseAwD7HgMABQH7HgMSAAAQBwE3AgAAwEEBAR8UEgEQ+zADAPswAwAFAfswAxUAABAHATACAABUQgEBHxQSARD7RQMA+0UDAAUB+0UDFQAAEAcBIgMeHh7/AQIkFBIBEPtaAwD7WgMABQH7WgMTAAAQDAIUzcxMPxMD/////wECHxQSARD7bQMA+20DAAUB+20DIQAAEAcBEwP////MAQIfFBIBEPuOAwD7jgMABQH7jgMdAAAQBwETA////00BAh8UEgEQ+6sDAPurAwAFAfurAyEAABAHARMD////zAECJBQSARD7zAMA+8wDAAUB+8wDGAAAEAwCFM3MTD8TA/////8BAh8UEgEQ++QDAPvkAwAFAfvkAx4AABAHARMDfZCp/wECJRQSARD7AgQA+wIEAAUB+wIEFAAAEA0CIgP///8UEwP/////AQIfFBIBEPsWBAD7FgQABQH7FgQYAAAQBwETA////00BAh8UEgEQ+y4EAPsuBAAFAfsuBBgAABAHASID////DQECKAMMAAAJAQcAAAQBAgEADAAACQEHAAAEAQICAAwAAAkBBwAABAEJAgA=")},297:(e,t,r)=>{r(57).J.push("AfuHCm1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tY29udGVudHZlcmlmeS1tb2RhbC0tcm9vdG1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tY29udGVudHZlcmlmeS1tb2RhbC0tcm9vdG1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tYm9keXZlcmlmeS1tb2RhbC0tcm9vdG1wLWhhbGYtc2NyZWVuLWRpYWxvZy0tY29udGVudHZlcmlmeS1tb2RhbC0tcm9vdHZlcmlmeS1tb2RhbC0taW5kZXhtcC1oYWxmLXNjcmVlbi1kaWFsb2ctLWNvbnRlbnR2ZXJpZnktbW9kYWwtLXJvb3R2ZXJpZnktbW9kYWwtLWluZGV4bXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1zdWNjbXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1zdWNjbXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1mYWlsbXAtaGFsZi1zY3JlZW4tZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1mYWlsbXAtZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290bXAtZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1yb290bXAtZGlhbG9nLS1oZWFkdmVyaWZ5LW1vZGFsLS1yb290bXAtZGlhbG9nLS1idXR0b25fX2RlZmF1bHR2ZXJpZnktbW9kYWwtLXJvb3RtcC1kaWFsb2ctLWZvb3R2ZXJpZnktbW9kYWwtLWRpYWxvZy1jb250YWluZXJtcC1kaWFsb2ctLWZvb3RfX2FmdGVydmVyaWZ5LW1vZGFsLS1kaWFsb2ctY29udGFpbmVybXAtZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1kaWFsb2ctY29udGFpbmVybXAtZGlhbG9nLS1jb250ZW50dmVyaWZ5LW1vZGFsLS1kaWFsb2ctY29udGFpbmVybXAtZGlhbG9nLS1oZWFkdmVyaWZ5LW1vZGFsLS1kaWFsb2ctY29udGFpbmVybXAtZGlhbG9nLS1mb290dmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1oZWxwdmVyaWZ5LW1vZGFsLS1yb290dmVyaWZ5LW1vZGFsLS1tb2RhbHZlcmlmeS1tb2RhbC0tbW9kYWwtdGl0bGV2ZXJpZnktbW9kYWwtLW1vZGFsLWNvbnRlbnR2ZXJpZnktbW9kYWwtLW1vZGFsLS1idXR0b252ZXJpZnktbW9kYWwtLWFuaW1hdGlvbnZlcmlmeS1tb2RhbC0tYW5pbWF0aW9uLWludmVyaWZ5LW1vZGFsLS1tYXNrdmVyaWZ5LW1vZGFsLS1tYXNrLWludmVyaWZ5LW1vZGFsLS1pbml0dmVyaWZ5LW1vZGFsLS1jb250YWluZXJ2ZXJpZnktbW9kYWwtLWRpYWxvZy1jb250YWluZXJ2ZXJpZnktbW9kYWwtY29udGVudC0tcm9vdHZlcmlmeS1tb2RhbC1jb250ZW50LS1jb250ZW50dmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWZvcm12ZXJpZnktbW9kYWwtY29udGVudC0tZm9ybXZlcmlmeS1tb2RhbC1jb250ZW50LS1mb3JtLW1pZHZlcmlmeS1tb2RhbC1jb250ZW50LS1mb3JtLXJvd3ZlcmlmeS1tb2RhbC1jb250ZW50LS1mb3JtLXJvdy1taWR2ZXJpZnktbW9kYWwtY29udGVudC0tZm9ybS1pY29udmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWZvcm0taW5wdXR2ZXJpZnktbW9kYWwtY29udGVudC0tZm9ybS1pbnB1dHZlcmlmeS1tb2RhbC1jb250ZW50LS1mb3JtLWNvbnRlbnR2ZXJpZnktbW9kYWwtY29udGVudC0tYWN0aW9udmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWJ1dHRvbnZlcmlmeS1tb2RhbC1jb250ZW50LS1idXR0b252ZXJpZnktbW9kYWwtY29udGVudC0taGFsZnZlcmlmeS1tb2RhbC1jb250ZW50LS1jYW5jZWx2ZXJpZnktbW9kYWwtY29udGVudC0tY2FuY2VsdmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWhhbGZ2ZXJpZnktbW9kYWwtY29udGVudC0tY29uZmlybXZlcmlmeS1tb2RhbC1jb250ZW50LS1jb25maXJtdmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWhhbGZ2ZXJpZnktbW9kYWwtY29udGVudC0tc2Nyb2xsdmVyaWZ5LW1vZGFsLWNvbnRlbnQtLXNjcm9sbHZlcmlmeS1tb2RhbC1jb250ZW50LS1ib2xkdmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWxpbmV2ZXJpZnktbW9kYWwtY29udGVudC0tZmFpbHZlcmlmeS1tb2RhbC1jb250ZW50LS1mYWlsdmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWZhaWwtaWNvbnZlcmlmeS1tb2RhbC1jb250ZW50LS1mYWlsLWljb252ZXJpZnktbW9kYWwtY29udGVudC0tZmFpbC10ZXh0dmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWZhaWwtdGV4dHZlcmlmeS1tb2RhbC1jb250ZW50LS1mYWlsLXRpdGxldmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWZhaWwtYnV0dG9udmVyaWZ5LW1vZGFsLWNvbnRlbnQtLWJ1dHRvbnZlcmlmeS1tb2RhbC1jb250ZW50LS1zdWNjLWJ1dHRvbnZlcmlmeS1tb2RhbC0tdGl0bGV2ZXJpZnktbW9kYWwtLXRpdGxlLWhhbGZ2ZXJpZnktbW9kYWwtLXRpdGxlLWhhbGYtaGVscHZlcmlmeS1tb2RhbC0tdGl0bGUtaGFsZi1oZWxwLWljb252ZXJpZnktbW9kYWwtLXRpdGxlLWhlbHAtaWNvbnZlcmlmeS1tb2RhbC0tdGl0bGUtYmFydmVyaWZ5LW1vZGFsLS1xdWVzdGlvbnZlcmlmeS1tb2RhbC0tcXVlc3Rpb24tbWlkdmVyaWZ5LW1vZGFsLS1xdWVzdGlvbi1taWQtaWNvbnZlcmlmeS1tb2RhbC0tbG9nb3ZlcmlmeS1tb2RhbC0tbG9nb3ZlcmlmeS1tb2RhbC0tbG9nb3ZlcmlmeS1tb2RhbC0tbG9nb3ZlcmlmeS1tb2RhbC0tbG9nb3ZlcmlmeS1tb2RhbC0tZ3JlZXR2ZXJpZnktbW9kYWwtLWZvb3RlcnZlcmlmeS1tb2RhbC0tYnV0dG9udmVyaWZ5LW1vZGFsLS1jYW5jZWx2ZXJpZnktbW9kYWwtLWNvbmZpcm373g9SJhgWARQAAAAAAwEAHgEKHgAeAAMBHhIAACAKAhgBADMCAAAAAAAAKRgWARQwADAAAwEwHgEKTgBOAAMBThIAACANAjgCAAAAADQCAAAAAAEANRgWARRgAGAAAwFgGwEKewB7AAMBexIAACAZBDMCAAAAADQCAAAAADICAAAAADECAAAAAAAAJRoYARaNAI0AAwGNHgEMqwCrAAUCqxK9EwAAMAcBNAIAAIBCAAAnHBoBGNAA0AADAdAeAQ7uAO4ABwLuEvsAARMAADAHATQCAACAQQEBMygmAST7EwEA+xMBAAUB+xMBHgEU+zEBAPsxAQAJAvsxARL7QwESAAAwBwE0AgAAgEIAADMoJgEk+1UBAPtVAQAFAftVAR4BFPtzAQD7cwEACQL7cwES+4UBEgAAMAcBNAIAAIBBAQIzKCYBJPuXAQD7lwEABQH7lwEeART7tQEA+7UBAAkC+7UBEvvHARIAADAHATQCAACAQgAAMygmAST72QEA+9kBAAUB+9kBHgEU+/cBAPv3AQAJAvv3ARL7CQISAAAwBwE0AgAAgEEBA0EkIgEg+xsCAPsbAgAFAfsbAhIBEPstAgD7LQIABQH7LQISAAAgGQYCAgABAwAIAwANBQAnCGZmZj8oAgAAEEMAAC8kIgEg+z8CAPs/AgAFAfs/AhIBEPtRAgD7UQIABQH7UQISAAAgBwEnAgAAoEMBBEckIgEg+2MCAPtjAgAFAftjAg8BEPtyAgD7cgIABQH7cgISAAAgHwU3AgAAAAA4AgAAAAA2AgAAAAA1AgAAAAAoAgAAQEIAADIkIgEg+4QCAPuEAgAFAfuEAhoBEPueAgD7ngIABQH7ngISAAAgCgITA1drlf8ZAgAAAC8kIgEg+7ACAPuwAgAFAfuwAg8BEPu/AgD7vwIABQH7vwIeAAAgBwEoAgAAyEIAAC8kIgEg+90CAPvdAgAFAfvdAhYBEPvzAgD78wIABQH78wIeAAAgBwEoAgAAAAAAADUkIgEg+xEDAPsRAwAFAfsRAxIBEPsjAwD7IwMABQH7IwMeAAAgDQMnCGZmZj8oAQABAgAAADUkIgEg+0EDAPtBAwAFAftBAxIBEPtTAwD7UwMABQH7UwMeAAAgDQIoAgAAjEMnCM3MTD8BBUckIgEg+3EDAPtxAwAFAftxAw8BEPuAAwD7gAMABQH7gAMeAAAgHwU3AgAAAAA4AgAAAAA2AgAAAAA1AgAAAAAoAgAAQEIAADMoJgEk+54DAPueAwAFAfueAw8BFPutAwD7rQMACQL7rQMS+78DEgAAMAcBKAIAAAAAAAAlFBIBEPvRAwD70QMABQH70QMSAAAQDQIoBAAAyEInAwAAyEIAACEUEgEQ++MDAPvjAwAFAfvjAxMAABAJAgIDABUAIPpEAABFFBIBEPv2AwD79gMABQH79gMZAAAQLQoVAEB6RBYCAACIQRcCAADAQRgCABMDAAAA/xkCAAEDAA0BAAoCACgCAACAQgAANBQSARD7DwQA+w8EAAUB+w8EGwAAEBwFFgIAAIhBFwIAAMBBNwIAAIBBJgMAEwMAAACAAAAuFBIBEPsqBAD7KgQABQH7KgQbAAAQFgQTA1drlf8ZAgAWAgAAiEEXAgAAwEEAAC0UEgEQ+0UEAPtFBAAFAftFBBcAABAVBEoDAQEASwQB+ywBTAMBBABNAgEAAAA8FBIBEPtcBAD7XAQABQH7XAQaAAAQJAVKAwEBAEsEAfssAUwDAQQATQIBAEkBDAECAgAAAAACAAAAAAAANhQSARD7dgQA+3YEAAUB+3YEEgAAEB4GSgMBAgBLAgHITAMBAwBNAgEAIgMAAACZFAAAAAAAAB4UEgEQ+4gEAPuIBAAFAfuIBBUAABAGARQAAIA/AAAoFBIBEPudBAD7nQQABQH7nQQSAAAQEAFJAQwBAgIAAAAACAAAgD8AACsUEgEQ+68EAPuvBAAFAfuvBBcAABATBEoDAQEASwIB+kwDAQQATQIBAAAAHBQSARD7xgQA+8YEAAUB+8YEHgAAEAQBAgIAAAAxFBIBEPvkBAD75AQABQH75AQaAAAQGQUoCAAAgD8nCAAAgD83AgAAgEEBAwAIAwAAADoUEgEQ+/4EAPv+BAAFAfv+BB0AABAiBwEDAAgDABYCAABgQRcCAACgQRMDAAAA5hgBADQCAACAQAAAJRQSARD7GwUA+xsFAAUB+xsFGgAAEA0DAQMACAMANAIAAABCAAAfFBIBEPs1BQD7NQUABQH7NQUaAAAQBwE0AgAAgEEBBiIUEgEQ+08FAPtPBQAFAftPBR4AABAKAggBADQCAADAQAEGJRQSARD7bQUA+20FAAUB+20FHgAAEA0DAQMACgIANwIAAEBBAAAfFBIBEPuLBQD7iwUABQH7iwUiAAAQBwE2AgAAwEEBByUUEgEQ+60FAPutBQAFAfutBR8AABANAicCAADAQSgCAADAQQAAahQSARD7zAUA+8wFAAUB+8wFIAAAEFIPNQIAAGBBMQIAAEBBAQMACgIAGAIAJwMAAJZCKAIAACBCIgP39/f/RQIAAIBARgIAAIBARwIAAIBASAIAAIBAFgIAAGBBFwIAAKBBEwMAAACAAAAfFBIBEPvsBQD77AUABQH77AUgAAAQBwEnAwAA8EEBCB8UEgEQ+wwGAPsMBgAFAfsMBiIAABAHARMDAAAA5gAAIhQSARD7LgYA+y4GAAUB+y4GHAAAEAoDAQMACAEADQEAAABkFBIBEPtKBgD7SgYABQH7SgYcAAAQTA8mAwABAwANAQAKAgAYAgBFAgAAgEFGAgAAgEFHAgAAgEFIAgAAgEEnAgAAcEIoAgAA8EE3AgAAoEA4AgAAoEA2AgAAoEA1AgAAoEAAAEEkIgEg+2YGAPtmBgAFAftmBhwBEPuCBgD7ggYABQH7ggYaAAAgGQRFAgAAAEFGAgAAAEFHAgAAAEFIAgAAAEEAAFsUEgEQ+5wGAPucBgAFAfucBhwAABBDDTkCAABAQDwCAABAQD8CAABAQEICAABAQDoBAD0BAEABAEMBADsDf//U/z4Df//U/0EDf//U/0QDf//U/xMDf//U/wAANSQiASD7uAYA+7gGAAUB+7gGHAEQ+9QGAPvUBgAFAfvUBhoAACANAhMDAIAA/yIDgICA/wAAJRQSARD77gYA++4GAAUB++4GHQAAEA0CIgN//9T/EwP/////AAAvJCIBIPsLBwD7CwcABQH7CwcdARD7KAcA+ygHAAUB+ygHGgAAIAcBIgMAgAD/AABDFBIBEPtCBwD7QgcABQH7QgccAAAQKwgnAwAAoEIYAQAsAgAAlkMZAQAWAgAAYEEXAgAAoEETAwAAAOY0AgAA8EEAACUUEgEQ+14HAPteBwAFAfteBxwAABANAiwCAACMQycIAACAPwEJNBQSARD7egcA+3oHAAUB+3oHGgAAEBwFNwIAAKhBOAIAAEBBGQIAFgIAAHBBFwIAAKhBAAAlFBIBEPuUBwD7lAcABQH7lAcaAAAQDQI3AgAAAEE4AgAAQEEAADcUEgEQ+64HAPuuBwAFAfuuBxoAABAfBxMDAAAA5gEDAAgDAA0BAAoCADcCAADAQTgCAAAAQQAAHBQSARD7yAcA+8gHAAUB+8gHGgAAEAQBCAEAAQolFBIBEPviBwD74gcABQH74gcfAAAQDQInAgAAgEIoAgAAgEIAACsUEgEQ+wEIAPsBCAAFAfsBCB8AABATAycCAABgQigCAABgQjYCAABAQQELJRQSARD7IAgA+yAIAAUB+yAIHwAAEA0EAQMACgIACAMAGAIAAAAlFBIBEPs/CAD7PwgABQH7PwgfAAAQDQMKAwAYAQArCM3MTD8BDCgUEgEQ+14IAPteCAAFAfteCCAAABAQAxYCAACgQRkCADgCAAAAQQAAHxQSARD7fggA+34IAAUB+34IIQAAEAcBIgP/PF//AABMFBIBEPufCAD7nwgABQH7nwgcAAAQNAoBAwANAQAKAgATA/////8nAgAA8EIoAgAAIEJFAgAAIEFGAgAAIEFHAgAAIEFIAgAAIEEAAB8UEgEQ+7sIAPu7CAAFAfu7CCEAABAHASIDONmg/wAATBQSARD73AgA+9wIAAUB+9wIEwAAEDQLAgIAAQMADQEACgIAIgM42aD/EwP/////GQIAFgIAAIhBFwIAAMBBKAIAAEBCJwgAAIA/AAAoFBIBEPvvCAD77wgABQH77wgYAAAQEAQBAwAKAgAmAwAoAgAAgEIAAC4UEgEQ+wcJAPsHCQAFAfsHCR0AABAWBgEDAAoCACYDACgCAACAQhgCAAICAAAAORQSARD7JAkA+yQJAAUB+yQJIgAAECEGFQBAekQCAwAvAgAAoEEtAgAAAAAnAgAAwEEoAgAAwEEAADQUEgEQ+0YJAPtGCQAFAftGCR0AABAcBQIDAC8CAABAQS4CAACAQScCAADAQSgCAADAQQAAKBQSARD7YwkA+2MJAAUB+2MJFwAAEBADAgMAJwgAAIA/KAIAAEBCAAAlFBIBEPt6CQD7egkABQH7egkWAAAQDQInAgAAwEEoAgAAwEEAADoUEgEQ+5AJAPuQCQAFAfuQCRoAABAiBwEDAAoCAAIDAC4CAACAQS8CAABgQRYCAABgQRcCAACgQQAAJRQSARD7qgkA+6oJAAUB+6oJHwAAEA0CJwIAAIBBKAIAAIBBAAA+FBIBEPvJCQD7yQkABQH7yQkSAAAQJgcCAwAnAgAAAEMoAgAA4EEtAgAAoEEvCM3MzD0VABB6RRTNzEw/AAAfFBIBEPvbCQD72wkABQH72wkSAAAQBwEvCArXoz0BDR8UEgEQ++0JAPvtCQAFAfvtCRIAABAHAS8ImpkZPgEOHxQSARD7/wkA+/8JAAUB+/8JEgAAEAcBLwjNzEw+AQ8lFBIBEPsRCgD7EQoABQH7EQoSAAAQDQItAgAAoEIvCI/C9TwBED0UEgEQ+yMKAPsjCgAFAfsjChMAABAlBxgBADcCAACAQTgCAABAQRkCABYCAABwQRcCAACoQRMDAAAA5gAANBQSARD7NgoA+zYKAAUB+zYKFAAAEBwGJwgAAIA/AQMADQEAMwIAAKBBNAIAACBCJgMAAABMFBIBEPtKCgD7SgoABQH7SgoUAAAQNAoBAwANAQAKAgAnAgAA8EIoAgAAIEIXAgAAIEJFAgAAIEFGAgAAIEFHAgAAIEFIAgAAIEEAAGEUEgEQ+14KAPteCgAFAfteChQAABBJDjkCAACAPzwCAACAPz8CAACAP0ICAACAPzoBAD0BAEABAEMBADsDONmg/z4DONmg/0EDONmg/0QDONmg/xMDONmg/zYCAABwQQAAJRQSARD7cgoA+3IKAAUB+3IKFQAAEA0CIgM42aD/EwP/////AADkEQwAAAkBBwAABAECAgAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQICAAwAAAkBBwAABAECAgAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQICAAwAAAkBBwAABAECAgAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQICAAwAAAkBBwAABAECAgAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQICAAwAAAkBBwAABAECAgAOAAALAQkAAAYBBwAADkQOAAALAQkAAAYBBwAAIEQOAAALAQkAAAYBBwAAUkQMAAAJAQcAAAQBAgIA")},300:(e,t,r)=>{r(57).J.push("AVF2ZXJpZnktdGlwLS1yb290dmVyaWZ5LXRpcC0tY29udGVudHZlcmlmeS10aXAtLWZpcnN0dmVyaWZ5LXRpcC0tY2R2ZXJpZnktdGlwLS1tc2faBR8ODAEKAAAAAAMBABAAABANAicDAADIQigEAADIQgAAXg4MAQoQABAAAwEQEwAAEEwOAQMACgIAFgIAAEBBFwIAAKBBEwMAAACARQIAACBBRgIAACBBRwIAACBBSAIAACBBIgP/////AgMAKAIAAKBBMQIAAABBMgIAAABBAAAcDgwBCiMAIwADASMRAAAQCgMBAwANAQAKAgAAAB8ODAEKNAA0AAMBNA4AABANBAEDAAgBAAoCAA0BAAAAHA4MAQpCAEIAAwFCDwAAEAoDAQMADQEACgIAAAABAA==")},605:(e,t,r)=>{r(57).J.push("AfsMAndlcnVuLS1yb290d2VydW4tLW1hc2t3ZXJ1bi0tbWFzay1pbndlcnVuLS1jb250YWluZXJ3ZXJ1bi0tY29udGVudHdlcnVuLS1jb250ZW50LWlud2VydW4tLW5vdGUtY29udGVudHdlcnVuLS1ub3RlLWNvbnRlbnQtaW53ZXJ1bi0tbm90ZS1iYWNrd2VydW4tLW5vdGUtYmFjay13cnB3ZXJ1bi0tbm90ZS10aXRsZXdlcnVuLS1ub3RlLWRldGFpbHdlcnVuLS1ub3RlLWd1aWRld2VydW4tLW5vdGUtZ3VpZGUtd3JhcHdlcnVuLS1oZWFkd2VydW4tLXRpdGxld2VydW4tLWluZm93ZXJ1bi0taW5mby13cnB3ZXJ1bi0tYm9keXdlcnVuLS1zcG9ydC1saXN0d2VydW4tLXNwb3J0LWl0ZW13ZXJ1bi0tYnV0dG9uc3dlcnVuLS1idXR0b253ZXJ1bi0tY2FuY2Vsd2VydW4tLWNvbmZpcm13ZXJ1bi0tY29udGFpbmVyd2VydW4tLWNvbnRhaW5lcndlcnVuLS1jb250ZW50d2VydW4tLW5vdGUtY29udGVudHdlcnVuLS10aXRsZXdlcnVuLS1ub3RlLXRpdGxld2VydW4tLW5vdGUtZGV0YWlsd2VydW4tLXNwb3J0LWxpc3R3ZXJ1bi0tY2FuY2Vs+5sGIjkODAEKAAAAAAMBAAsAABAnCSgEAADIQicDAADIQgEDABYCAACAQQMCAAQCAAgDAAoCABUAQHpEAAA8DgwBCgsACwADAQsLAAAQKggnCAAAgD8oCAAAgD8iAwAAAP8UAAAAAEoDAQIASwIByEwDAQEATQIBAAAAGA4MAQoWABYAAwEWDgAAEAYBFM3MzD4AAD0ODAEKJAAkAAMBJBAAABArBwMCAAQCACgIAACAPwIDAC0IAAAAPzACAABAwUkBDAECCAAAAL8CAAAAAAAAZA4MAQo0ADQAAwE0DgAAEFIQAQMACAMASgMBAQBLAgHITAMBAQBNAgEAJwgAAIA/KAIAALNDRQIAAEBBRgIAAEBBRwIAAEBBSAIAAEBBIgP/////AgMALwgAAIA/LQIAAAAAAAAiDgwBCkIAQgADAUIRAAAQEAFJAQwBAgIAAAAACAAAgL8AAGQODAEKUwBTAAMBUxMAABBSEAIDADACAAAAAC0IAACAPycIAACAPygCAACpQyID/////0UCAABAQUYCAABAQUcCAABAQUgCAABAQQEDAAgDAEoDAQEASwIByEwDAQQATQIBAAAAIg4MAQpmAGYAAwFmFgAAEBABSQEMAQIIAACAvwIAAAAAAAAiDgwBCnwAfAADAXwQAAAQEAMBBQAnAgAAMEEoAgAAwEEAADcODAEKjACMAAMBjBQAABAlCAIDAC0CAAAAAC8CAAAAACcCAAAkQigCAACAQgEDAA0BAAoCAAAAPA4MAQqgAKAAAwGgEQAAECoIFGZmZj8WAgAAcEEnCAAAgD8oAgAAqEEXAgAAqEETAwAAAP8YAgAZAgAAAEkODAEKsQCxAAMBsRIAABA3CRYCAABgQSgCAAA4QjcCAABAQTYCAAAAADgCAACgQTUCAAAAADECAADAQTICAADAQRMDAAAA5gAAHw4MAQrDAMMAAwHDEQAAEA0CJwIAAIxDKAIAAOxCAAAlDgwBCtQA1AADAdQWAAAQEwQoAgAA7EInCAAAgD8BAwANAQAAAB8ODAEK6gDqAAMB6gsAABANAygCAACAQgEDAAoCAAAAPg4MAQr1APUAAwH1DAAAECwINQIAAMBBFGZmZj8TAwAAAP8WAgAAcEEZAgAoAgAAqEEXAgAAqEEOAACAPwAAKBQSARD7AQEA+wEBAAUB+wEBCwAAEBADAQUAJwIAAKBBKAIAAKBBAABSFBIBEPsMAQD7DAEABQH7DAEPAAAQOgsCAwAuAgAAAAAvAgAAAAAzAgAAIEE0AgAAIEEyAgAAIEExAgAAIEEnAgAAQEIoCAAAgD8BAwAKAgAAACEUEgEQ+xsBAPsbAQAFAfsbAQsAABAJAg4AAIA/CAMAAABDFBIBEPsmAQD7JgEABQH7JgERAAAQKwgBAwA3AgAAgEA2AgAAAAA4AgAAAAA1AgAAoEEIAwATAwAAAIAWAgAAYEEAACsUEgEQ+zcBAPs3AQAFAfs3AREAABATAzgCAAAAQSgCAACgQRcCAACgQQAARhQSARD7SAEA+0gBAAUB+0gBDgAAEC4KJwgAAIA/KAIAACBCAgMAMAIAAJxCLQIAAAAAFgIAAIhBGQIAAQMACAEADQEAAABeFBIBEPtWAQD7VgEABQH7VgENAAAQRgwnAgAA8EIoAgAAIEIXAgAAIEIYAgA3AgAAAAA4AgAAAAA2AgAAAEE1AgAAAEFFAgAAgEBGAgAAgEBHAgAAgEBIAgAAgEAAACUUEgEQ+2MBAPtjAQAFAftjAQ0AABANAiID8vLy/xMDB8Fg/wAAJRQSARD7cAEA+3ABAAUB+3ABDgAAEA0CIgMEwWD/EwP/////AAAfFBIBEPt+AQD7fgEABQH7fgEQAAAQBwEnAwAAyEIBAB8UEgEQ+44BAPuOAQAFAfuOARAAABAHAScEAADIQgEBHxQSARD7ngEA+54BAAUB+54BDgAAEAcBIgMsLCz/AQIfFBIBEPusAQD7rAEABQH7rAETAAAQBwEiAywsLP8BAiQUEgEQ+78BAPu/AQAFAfu/AQwAABAMAhTNzEw/EwP/////AQIkFBIBEPvLAQD7ywEABQH7ywERAAAQDAIUzcxMPxMD/////wECJBQSARD73AEA+9wBAAUB+9wBEgAAEAwCFM3MTD8TA/////8BAh8UEgEQ++4BAPvuAQAFAfvuAREAABAHARMD////gAECJRQSARD7/wEA+/8BAAUB+/8BDQAAEA0CIgP///8UEwP/////AQIoAwwAAAkBBwAABAECAQAMAAAJAQcAAAQBAgIADAAACQEHAAAEAQkCAA==")},730:(e,t,r)=>{r(57).J.push("AYhfX3d4X3NjbF9fcm9vdF9ub2RlX193eF9zY2xfX2xheWVycm9vdHJvb3QtaW5jb250ZW50cm9vdGNvbnRlbnRjb250ZW50LWlucm9vdGNvbnRlbnRjb250ZW50LWludGl0bGVib2R5YnV0dG9uc2J1dHRvbm9rb2staG92ZXJkZW55LWhvdmVy+2MDEhkODAEKAAAAAAMBABMAABAHAScDAADIQgAAGA4MAQoTABMAAwETDwAAEAYBFQBAekQAAEUODAEKIgAiAAMBIgQAABAzCygEAADIQgEDACIDICAgvwMCAAQCABYCAACAQRTNzMw9SgMBAgBLAgHITAMBBABNAgEAAAAYDgwBCiYAJgADASYHAAAQBgEUAACAPwAAUg4MAQotAC0AAwEtBwAAEEAMIgP4+Pj/EwNERET/RQIAACBBRgIAACBBRwIAACBBSAIAACBBSgMBAQBLAgHITAMBBABNAgEANAIAACBBGAIAAAAWDgwBCjQANAADATQEAAAQBAEIBAABACgODAEKOAA4AAMBOAcAABAWAigCAACbQ0kBDAECAgAAAAACAACbQwEAIg4MAQo/AD8AAwE/CgAAEBABSQEMAQICAAAAAAIAACBBAQAWDgwBCkkASQADAUkEAAAQBAEIAgABAS4ODAEKTQBNAAMBTQcAABAcAygEAADIQicCAADNQ0kBDAECAgAAzUMCAAAAAAEBIg4MAQpUAFQAAwFUCgAAEBABSQEMAQICAAAgQQIAAAAAAQEiDgwBCl4AXgADAV4FAAAQEAMZAgAWBwAAwD8XBwAAAEAAADYODAEKYwBjAAMBYwQAABAkBg4AAIA/FgeamZk/NwIAAEhCOAIAAEhCNgIAAAAANQIAAAAAAAAoDgwBCmcAZwADAWcHAAAQFgUWB5qZmT8BAwAIAQANAQA0AgAASEIAAKMODAEKbgBuAAMBbgYAABCRGicCAADwQjMHAAAAPzQHAAAAPzIHzczMPTEHzczMPSID/////zcCAAAAADgCAAAAADYCAACgQTUCAACgQUUCAACAQEYCAACAQEcCAACAQEgCAACAQDkCAACAPzwCAACAPz8CAACAP0ICAACAPzoBAD0BAEABAEMBADsDzMzM/z4DzMzM/0EDzMzM/0QDzMzM/wAAVQ4MAQp0AHQAAwF0AgAAEEMNIgMA/9L/OQIAAIA/PAIAAIA/PwIAAIA/QgIAAIA/OgEAPQEAQAEAQwEAOwMAzKr/PgMAzKr/QQMAzKr/RAMAzKr/AAAZDgwBCnYAdgADAXYIAAAQBwEiAwDMqv8AABkODAEKfgB+AAMBfgoAABAHASIDzMzM/wAAGwIMAAAJAQcAAAQBAgEADAAACQEHAAAEAQICAA==")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{authorize:()=>X,deviceMessage:()=>R,exparser:()=>e.exparser,frameset:()=>q,getExparserElementByViewId:()=>b,getMainRoot:()=>m,initScl:()=>A,navigateToMp:()=>J,onViewportResize:()=>_,shareImage:()=>$,toast:()=>H,triggerRender:()=>w,userProfile:()=>G,verifyModal:()=>k,verifyModalContent:()=>S,verifyTip:()=>F,werun:()=>ie});var e=r(821),t=(r(730),r(995)),i=[];e.onThemeChange((e=>{i.forEach((t=>t(e)))})),t.registerBehavior({is:"wx-theme",data:{theme:"light"},created(){this._onThemeChange({theme:e.getTheme()})},attached(){this.__onThemeChange=this._onThemeChange.bind(this),i.push(this.__onThemeChange)},detached(){i.splice(i.indexOf(this.__onThemeChange),1)},methods:{_onThemeChange({theme:e}){this.setData({theme:e})}}});var a,o,s=t.registerElement({template:{content:(a={},o={P:"",C:[{V:5,N:"",C:[]}],BM:{}},a[""]=function(){return o},function(e){var t=a[e];return t?t():null})},methods:{append(e,r){var n=this.shadowRoot.createComponent(e);return n.classList.toggle("__wx_scl__layer",!0),n.addListener("destroy",(e=>{e.target===n&&this.remove(n)})),r&&n.setData(r),this.shadowRoot.appendChild(n),t.triggerRender(),n},remove(e){e.is,this.shadowRoot.removeChild(e)}}}),l=(t.registerElement({is:"wx-view",template:{content:function(){var e={},t={P:"",C:[{V:5,N:"",C:[]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{hoverClass:String},listeners:{"this.touchstart":function(){this.hoverStart()},"this.touchend":function(){this.hoverEnd()},"this.canceltap":function(){this.hoverEnd()}},methods:{hoverStart(){this.data.hoverClass&&(this.classList.toggle(this.data.hoverClass,!0),t.triggerRender())},hoverEnd(){this.data.hoverClass&&(this.classList.toggle(this.data.hoverClass,!1),t.triggerRender())}}}),t.registerElement({is:"wx-image",template:{content:function(){var e={},t={P:"",C:[{T:"image",A:{src:{L:function(e,t,r){return e.src},F:function(e,t,r,n){return e.src}},style:"width: 100%; height: 100%;"},C:[]}],BM:{src:[[0,"src"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{src:{type:String,public:!0}}}),t.registerElement({is:"wx-adaptive-image",template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{id:"wrapper",style:"width: 100%; height: 100%; display: flex; flex-direction: column; flex-shrink: 0; align-items: center;"},C:[{T:"image",A:{src:{L:function(e,t,r){return e.src},F:function(e,t,r,n){return e.src}},style:{L:function(e,t,r){return!(!e.imgStyleWidth&&!e.imgStyleHeight)||void 0},F:function(e,t,r,n){return"width: "+e.imgStyleWidth+"px; height: "+e.imgStyleHeight+"px;"}}},C:[]}]}],BM:{imgStyleWidth:[[0,0,"style"]],imgStyleHeight:[[0,0,"style"]],src:[[0,0,"src"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{src:{type:String,public:!0},srcWidth:{type:Number,public:!0,value:0,observer:"_onSrcSizeChange"},srcHeight:{type:Number,public:!0,value:0,observer:"_onSrcSizeChange"}},data:{imgStyleWidth:0,imgStyleHeight:0},attached(){this.attached=!0,this._onSrcSizeChange()},detached(){this.attached=!1},methods:{_onSrcSizeChange(){if(this.attached){var e=this.$$.getBoundingClientRect(),t=Math.min(e.width,this.data.srcWidth),r=t*this.data.srcHeight/this.data.srcWidth;this.setData({imgStyleWidth:t,imgStyleHeight:r})}}}}),t.registerElement({is:"wx-scroll-view",template:{content:function(){var e={},t={P:"",C:[{T:"scrollview",A:{"scroll-x":{L:function(e,t,r){return!!e.scrollX||void 0},F:function(e,t,r,n){return e.scrollX?"1":""}},"scroll-y":{L:function(e,t,r){return!!e.scrollY||void 0},F:function(e,t,r,n){return e.scrollY?"1":""}},style:"width: 100%; height: 100%"},C:[{T:"view",A:{},C:[{V:5,N:"",C:[]}]}]}],BM:{scrollX:[[0,"scroll-x"]],scrollY:[[0,"scroll-y"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{scrollX:{type:Boolean,public:!0,value:!1},scrollY:{type:Boolean,public:!0,value:!1}}}),function(e){return null==e?Object.create(null):e}),c=function(e,t){return!0===e||(e?e[t]:void 0)},u=(r(668),e.exparser.registerElement({is:"mp-bubble-action-sheet",behaviors:["wx-theme"],options:{multipleSlots:!0,classPrefix:"mp-bubble-action-sheet",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"mp-half-screen-popup",A:{show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},mask:{L:function(e,t,r){return e.mask},F:function(e,t,r,n){return e.mask}},"mask-closable":{L:function(e,t,r){return e.maskClosable},F:function(e,t,r,n){return e.maskClosable}},"bind:close":"handleClose","bind:closed":"handleClosed"},C:[{T:"wx-view",A:{class:"mask",slot:"mask"},C:[{V:5,N:"mask",C:[]}]},{T:"wx-view",A:{class:"content"},C:[{T:"wx-view",A:{class:"menu"},C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.theme||void 0},F:function(e,t,r,n){return"light"===e.theme}},C:[{V:2,L:{M:["actions"],L:function(e,t,r){return e.actions},F:function(e,t,r,n){return e.actions}},K:"index",C:[{T:"wx-view",A:{class:"cell","hover-class":"cell__hover","data-index":{L:function(e,t,r){return t[1]},F:function(e,t,r,n){return t[1]}},"bind:tap":"buttonTap"},C:[{T:"wx-view",A:{class:"cell-img-container"},C:[{T:"wx-image",A:{class:"cell-img",src:{L:function(e,t,r){return c(t[0],"imageSrc")},F:function(e,t,r,n){return l(t[0]).imageSrc}}},C:[]}]},{T:"wx-view",A:{class:"cell-desc"},C:[{S:{L:function(e,t,r){return c(t[0],"text")},F:function(e,t,r,n){return l(t[0]).text}}}]}]}]}]},{B:{L:function(e,t,r){return!!e.theme||void 0},F:function(e,t,r,n){return"dark"===e.theme}},C:[{V:2,L:{M:["actions"],L:function(e,t,r){return e.actions},F:function(e,t,r,n){return e.actions}},K:"index",C:[{T:"wx-view",A:{class:"cell","hover-class":"cell__hover","data-index":{L:function(e,t,r){return t[1]},F:function(e,t,r,n){return t[1]}},"bind:tap":"buttonTap"},C:[{T:"wx-view",A:{class:"cell-img-container"},C:[{T:"wx-image",A:{class:"cell-img",src:{L:function(e,t,r){return c(t[0],"imageDarkSrc")},F:function(e,t,r,n){return l(t[0]).imageDarkSrc}}},C:[]}]},{T:"wx-view",A:{class:"cell-desc"},C:[{S:{L:function(e,t,r){return c(t[0],"text")},F:function(e,t,r,n){return l(t[0]).text}}}]}]}]}]}]}]},{T:"wx-view",A:{class:"foot"},C:[{T:"wx-view",A:{class:"button","hover-class":"button__hover","bind:tap":"handleClose"},C:[{T:"wx-view",A:{class:"button__before"},C:[]},{T:"wx-view",A:{class:"button__content"},C:[{S:{L:function(e,t,r){return e.cancelText},F:function(e,t,r,n){return e.cancelText}}}]}]}]}]}]}],BM:{show:[[0,"show"]],maskClosable:[[0,"mask-closable"]],mask:[[0,"mask"]],cancelText:[[0,1,1,0,1,0]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{maskClosable:{type:Boolean,value:!0},mask:{type:Boolean,value:!0},show:{type:Boolean,value:!1},cancelText:{type:String,value:"取消"},actions:{type:Array,value:[]}},methods:{buttonTap(e){var{index:t}=e.currentTarget.dataset;this.triggerEvent("buttontap",{index:t,item:this.data.actions[t]},{})},handleClose(){this.triggerEvent("close",{},{})},handleClosed(){this.triggerEvent("closed",{},{})},stopEvent(){}}}),r(574),t.registerElement({is:"mp-dialog",options:{multipleSlots:!0,classPrefix:"mp-dialog",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.mask},F:function(e,t,r,n){return e.mask}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"mask "+(e.show?"mask__in":"")}},"bind:tap":"handleClose"},C:[]}]}]},{T:"wx-view",A:{class:"container","bind:tap":"handleClose"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"content "+(e.show?"content__in":"")}},"catch:tap":"stopEvent"},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-view",A:{class:"title"},C:[{V:5,N:"title",C:[]}]}]},{T:"wx-view",A:{class:"body"},C:[{V:5,N:"body",C:[]}]},{T:"wx-view",A:{class:"foot"},C:[{V:1,B:[{B:{L:function(e,t,r){return!(!e.innerButtons&&!c(e.innerButtons,"length"))||void 0},F:function(e,t,r,n){return e.innerButtons&&l(e.innerButtons).length}},C:[{V:2,L:{M:["innerButtons"],L:function(e,t,r){return e.innerButtons},F:function(e,t,r,n){return e.innerButtons}},K:"index",C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!c(t[0],"className")||void 0},F:function(e,t,r,n){return"button "+l(t[0]).className}},"hover-class":"button__active","data-index":{L:function(e,t,r){return t[1]},F:function(e,t,r,n){return t[1]}},"bind:tap":"buttonTap"},C:[{S:{L:function(e,t,r){return!!c(t[0],"text")||void 0},F:function(e,t,r,n){return"\n                  "+l(t[0]).text+"\n                  "}}},{V:1,B:[{B:{L:function(e,t,r){return!!t[1]||void 0},F:function(e,t,r,n){return t[1]>0}},C:[{T:"wx-view",A:{class:"button__after"},C:[]}]}]}]}]}]}]},{V:5,N:"footer",C:[]},{T:"wx-view",A:{class:"foot__after"},C:[]}]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{title:{type:String,value:""},maskClosable:{type:Boolean,value:!0},mask:{type:Boolean,value:!0},show:{type:Boolean,value:!1},buttons:{type:Array,value:[]}},data:{innerButtons:[]},attached(){this.attached=!0},observers:{buttons(e){var t=e.length;this.setData({innerButtons:e.map(((e,r)=>{var n=e.type||(t>=1&&0===r?"default":"primary");return{className:(e.className||"")+" button__"+n,text:e.text}}))})},show(e){this.attached&&(clearTimeout(this.closeTimeout),clearTimeout(this.showTimeout),e?this.showTimeout=setTimeout((()=>{this.triggerEvent("showed",{},{})}),200):this.closeTimeout=setTimeout((()=>{this.triggerEvent("closed",{},{})}),200))}},methods:{buttonTap(e){var{index:t}=e.currentTarget.dataset;this.triggerEvent("buttontap",{index:t,item:this.data.buttons[t]},{})},handleClose(){this.data.maskClosable&&this.triggerEvent("close",{},{})},stopEvent(){}}}),r(81),t.registerElement({is:"mp-half-screen-dialog",options:{multipleSlots:!0,classPrefix:"mp-half-screen-dialog",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"mp-half-screen-popup",A:{show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},mask:{L:function(e,t,r){return e.mask},F:function(e,t,r,n){return e.mask}},"mask-closable":{L:function(e,t,r){return e.maskClosable},F:function(e,t,r,n){return e.maskClosable}},"bind:close":"handleClose","bind:closed":"handleClosed"},C:[{T:"wx-view",A:{class:"content"},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-view",A:{class:"title"},C:[{V:5,N:"title",C:[]}]}]},{T:"wx-view",A:{class:"body"},C:[{V:5,N:"body",C:[]}]},{T:"wx-view",A:{class:"foot"},C:[{V:1,B:[{B:{L:function(e,t,r){return!(!e.innerButtons&&!c(e.innerButtons,"length"))||void 0},F:function(e,t,r,n){return e.innerButtons&&l(e.innerButtons).length}},C:[{V:2,L:{M:["innerButtons"],L:function(e,t,r){return e.innerButtons},F:function(e,t,r,n){return e.innerButtons}},K:"index",C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!c(t[0],"className")||void 0},F:function(e,t,r,n){return"button "+l(t[0]).className}},"hover-class":"button__active","data-index":{L:function(e,t,r){return t[1]},F:function(e,t,r,n){return t[1]}},"bind:tap":"buttonTap"},C:[{S:{L:function(e,t,r){return!!c(t[0],"text")||void 0},F:function(e,t,r,n){return"\n                "+l(t[0]).text+"\n              "}}}]}]}]}]},{V:5,N:"footer",C:[]}]}]}]}],BM:{mask:[[0,"mask"]],maskClosable:[[0,"mask-closable"]],show:[[0,"show"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{title:{type:String,value:""},maskClosable:{type:Boolean,value:!0},mask:{type:Boolean,value:!0},show:{type:Boolean,value:!1},buttons:{type:Array,value:[]}},data:{innerShow:!1,innerButtons:[]},observers:{buttons(e){var t=e.length;this.setData({innerButtons:e.map(((e,r)=>{var n=e.type||(t>=1&&0===r?"default":"primary");return{className:(e.className||"")+" button__"+n,text:e.text}}))})}},methods:{buttonTap(e){var{index:t}=e.currentTarget.dataset;this.triggerEvent("buttontap",{index:t,item:this.data.buttons[t]},{})},handleClose(){this.triggerEvent("close",{},{})},handleClosed(){this.triggerEvent("closed",{},{})},stopEvent(){}}}),r(741),t.registerElement({is:"mp-half-screen-popup",options:{multipleSlots:!0,classPrefix:"mp-half-screen-popup",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.mask},F:function(e,t,r,n){return e.mask}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"mask "+(e.show?"mask__in":"")}},"bind:tap":"handleClose"},C:[]}]}]},{V:5,N:"mask",C:[]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"container "+(e.show?"container__in":"")}},"bind:tap":"handleClose"},C:[{T:"wx-view",A:{class:"content","catch:tap":"stopEvent"},C:[{V:5,N:"",C:[]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{maskClosable:{type:Boolean,value:!0},mask:{type:Boolean,value:!0},show:{type:Boolean,value:!1}},attached(){this.attached=!0},observers:{show(e){this.attached&&(clearTimeout(this.closeTimeout),clearTimeout(this.showTimeout),e?this.showTimeout=setTimeout((()=>{this.triggerEvent("showed",{},{})}),200):this.closeTimeout=setTimeout((()=>{this.triggerEvent("closed",{},{})}),200))}},methods:{handleClose(){this.data.maskClosable&&this.triggerEvent("close",{},{})},stopEvent(){}}}),r(161),t.registerElement({is:"mp-horizonal-bubble",options:{multipleSlots:!0,classPrefix:"mp-horizonal-bubble",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.mask},F:function(e,t,r,n){return e.mask}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"mask "+(e.show?"mask__in":"")}}},C:[]}]}]},{T:"wx-view",A:{class:"content"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"close-container "+(e.show?"close-container__in":"")}}},C:[{T:"wx-view",A:{class:"close-btn","hover-class":"close-btn__hover","bind:tap":"handleClose"},C:[{T:"wx-image",A:{class:"close-btn-img",src:{L:function(e,t,r){return e.closeBtn},F:function(e,t,r,n){return e.closeBtn}}},C:[]}]}]},{T:"wx-view",A:{class:"content-container"},C:[{V:5,N:"content",C:[]}]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"menu-container "+(e.show?"menu-container__in":"")}}},C:[{T:"wx-view",A:{class:"menu"},C:[{T:"wx-view",A:{class:"menu-before"},C:[]},{T:"wx-view",A:{class:"menu-inner"},C:[{V:2,L:{M:["actions"],L:function(e,t,r){return e.actions},F:function(e,t,r,n){return e.actions}},K:"index",C:[{T:"wx-view",A:{class:"cell","hover-class":"cell__hover","data-index":{L:function(e,t,r){return t[1]},F:function(e,t,r,n){return t[1]}},"bind:tap":"buttonTap"},C:[{T:"wx-view",A:{class:"cell-img-container"},C:[{T:"wx-image",A:{class:"cell-img",src:{L:function(e,t,r){return c(t[0],"imageDarkSrc")},F:function(e,t,r,n){return l(t[0]).imageDarkSrc}}},C:[]}]},{T:"wx-view",A:{class:"cell-desc"},C:[{S:{L:function(e,t,r){return c(t[0],"text")},F:function(e,t,r,n){return l(t[0]).text}}}]}]}]}]},{T:"wx-view",A:{class:"menu-after"},C:[]}]}]}]}]}],BM:{closeBtn:[[0,1,0,0,0,"src"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{maskClosable:{type:Boolean,value:!0},mask:{type:Boolean,value:!0},show:{type:Boolean,value:!1},cancelText:{type:String,value:"取消"},actions:{type:Array,value:[]}},attached(){this.attached=!0,t.triggerRender((()=>{this.setData({closeBtn:"https://res.wx.qq.com/op_res/hlMx1wXYJya8ib3DpW10m6aLCGf7RoluABX1QvNEAxVIyhhGuY0iI62dzv56y5rq9nBrd-H44CqoH5dM9JTr0g"})}))},observers:{show(e){this.attached&&(clearTimeout(this.closeTimeout),clearTimeout(this.showTimeout),e?this.showTimeout=setTimeout((()=>{this.triggerEvent("showed",{},{})}),200):this.closeTimeout=setTimeout((()=>{this.triggerEvent("closed",{},{})}),200))}},methods:{buttonTap(e){var{index:t}=e.currentTarget.dataset;this.triggerEvent("buttontap",{index:t,item:this.data.actions[t]},{})},handleClose(){this.triggerEvent("close",{},{})},stopEvent(){}}}),r(57)),d=r(446),p=null,h=null,f=[],g=!1,v=e=>{f?(f.push(e),1===f.length&&(d.setErrorListener((e=>{Reporter.errorReport({key:"exparserScriptError",error:e})})),WeixinJSBridge.invoke("loadWAFile",{filename:"WASclBackend.wasm"},(e=>{var t=e.arrayBuffer;g&&(t=e.arrayBuffer[__wxConfig.minaVmToken]||t),d.wasm_initialize({bin:t},(()=>{var e=f;f=null,e.forEach((e=>e()))}))})))):e()},m=()=>h,_=t=>{e.onViewportResize(t)},y=globalThis.atob||function(e){var t=String(e).replace(/[=]+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return r},A=e=>{var t=()=>{e({mainRoot:h})};if(p)setTimeout(t,0);else{v((()=>{try{_((()=>{r(995).triggerRender()}));var e=d.Context.create();p=e.createElement("empty","virtuallayout"),e.bindRootNode(p),p.setClass("__wx_scl__root_node");var n=r(995);n.globalOptions.documentBackend="custom",n.globalOptions.customContext=e,n.initBackend(),u.W.length&&e.appendStyleSheet(u.W.join("")),u.J.length&&u.J.forEach((t=>e.appendStyleSheetBincode((e=>{for(var t=y(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n})(t))));var i=e.createElement("empty","virtuallayout");p.appendChild(i),i.release(),(h=n.createElement("virtuallayout",s)).classList.toggle("__wx_scl__main_root",!0),n.Element.replaceDocumentElement(h,p,0),setTimeout(t,0)}catch(e){e.stack}}))}},b=e=>r(995).globalOptions.customContext.constructor.getExparserElementByViewId(e),w=()=>{r(995).triggerRender()};void 0!==__wxConfig&&"ios"!==__wxConfig.platform&&"function"==typeof __wxConfig.onReady?(g="mina"===__wxConfig.platform,__wxConfig.onReady((()=>{setTimeout((()=>{__wxConfig.platform,v((()=>{}))}),3e3)}))):__wxConfig.platform;r(297);var E={content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"root "+e.page}}},C:[{V:1,B:[{B:{L:function(e,t,r){return e.showModal},F:function(e,t,r,n){return e.showModal}},C:[{T:"mp-dialog",A:{class:"modal",show:{L:function(e,t,r){return e.showModal},F:function(e,t,r,n){return e.showModal}},"mask-closable":{L:function(e,t,r){},F:function(e,t,r,n){return!1}},buttons:{L:function(e,t,r){return e.modalButtons},F:function(e,t,r,n){return e.modalButtons}},"bind:buttontap":"closeModal"},C:[{V:7,N:"title",C:[{T:"wx-view",A:{class:"modal-title"},C:[{S:{L:function(e,t,r){return e.modalTitle},F:function(e,t,r,n){return e.modalTitle}}}]}]}]}]}]},{T:"wx-view",A:{class:"container",style:{L:function(e,t,r){return!!e.keyboardHeight||void 0},F:function(e,t,r,n){return"transform: translateY(-"+e.keyboardHeight+"px);"}}},C:[{V:1,B:[{B:{L:function(e,t,r){return e.half},F:function(e,t,r,n){return e.half}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"mask "+(e.enter?"mask-in":"")}}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"animation "+(e.enter?"animation-in":"init")}}},C:[{T:"mp-half-screen-dialog",A:{"bind:buttontap":"handleTapButton",show:{L:function(e,t,r){},F:function(e,t,r,n){return!0}},mask:{L:function(e,t,r){},F:function(e,t,r,n){return!1}},"mask-closable":{L:function(e,t,r){},F:function(e,t,r,n){return!0}},buttons:{L:function(e,t,r){return e.buttons},F:function(e,t,r,n){return e.buttons}}},C:[{V:7,N:"title",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"index"===e.page}},C:[{T:"wx-view",A:{class:"title-half"},C:[{T:"wx-view",A:{},C:[{S:"微信小游戏实名认证"}]},{T:"wx-view",A:{style:"flex: 1"},C:[]},{T:"wx-image",A:{class:"question",src:{L:function(e,t,r){return e.questionIcon},F:function(e,t,r,n){return e.questionIcon}},"bind:tap":"showHelp"},C:[]}]}]}]}]},{V:7,N:"title",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"help"===e.page}},C:[{T:"wx-view",A:{class:"title-half-help"},C:[{T:"wx-image",A:{src:{L:function(e,t,r){return e.closeIcon},F:function(e,t,r,n){return e.closeIcon}},class:"title-half-help-icon","bind:tap":"showIndex"},C:[]},{T:"wx-view",A:{style:"width: 100%;"},C:[{S:"健康系统＆防沉迷策略F&Q"}]}]}]}]}]},{T:"verify-modal-content",A:{failReason:{L:function(e,t,r){return e.failReason},F:function(e,t,r,n){return e.failReason}},page:{L:function(e,t,r){return e.page},F:function(e,t,r,n){return e.page}},isPay:{L:function(e,t,r){return e.isPay},F:function(e,t,r,n){return e.isPay}},name:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}},id:{L:function(e,t,r){return e.id},F:function(e,t,r,n){return e.id}},half:{L:function(e,t,r){},F:function(e,t,r,n){return!0}},"bind:click":"tap",slot:"body"},C:[]}]}]}]}]},{B:1,C:[{T:"wx-view",A:{class:"dialog-container"},C:[{T:"wx-image",A:{class:"logo",src:{L:function(e,t,r){return e.logo},F:function(e,t,r,n){return e.logo}}},C:[]},{T:"mp-dialog",A:{show:{L:function(e,t,r){},F:function(e,t,r,n){return!0}},"mask-closable":{L:function(e,t,r){},F:function(e,t,r,n){return!1}}},C:[{T:"wx-view",A:{class:"title",slot:"title"},C:[{T:"wx-image",A:{class:"title-bar",src:{L:function(e,t,r){return!!(e.hor||e.barHor||e.bar)||void 0},F:function(e,t,r,n){return e.hor?e.barHor:e.bar}}},C:[]},{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"help"===e.page}},C:[{T:"wx-view",A:{style:"width: 100%;"},C:[{S:"健康系统＆防沉迷策略F&Q"}]},{T:"wx-image",A:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEUAAAD///////////////////////////////////////////+0CY3pAAAAC3RSTlMAMO+gEM9gv69fQHSxjgkAAADWSURBVEjH7dMxDgFRFEbhJwRRCYVardFrprEDnSXYhRVYgjUQhdzNaW7mxHvJSdTmdHOLr/nnlaE/abJsTovmctw2p8Oths6PmhrHu7rMIpICirh/X0a7SAoonqVq1VNA+0JQAkEZBCUQlEFQAkEpBAUkFJBQQEIBGQUkFJBQ64SUioSUAhIqIWseEblgG/OzYBPzRy6o0FWpXC0XVGifCyrEz2BQLugQlEBQAkEJBCUQlEBQAkEJBKUQlENQLeTUFAjq1VWnSw9BnfhIqn0im64MDf3UB5jlkgnLXEPdAAAAAElFTkSuQmCC",class:"title-help-icon","bind:tap":"showIndex"},C:[]}]},{B:1,C:[{T:"wx-view",A:{},C:[{S:"微信小游戏实名认证"}]},{T:"wx-view",A:{class:"question-mid","bind:tap":"showHelp"},C:[{T:"wx-image",A:{style:"margin-right: 4px",class:"question-mid-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEUAAAD///////////////////////////////////////////////////////////////////////8KOjVvAAAAEnRSTlMA7xDfIJCAQJ9gv6+gz3AwUB9f57iZAAABb0lEQVRIx91V2XIDIQzDmHM50ur/P7almYmBBTqTx+hph7WQfADqM+FrYgKoJOf/j9aO0IGDOYdb/IIu62J09vrjnii1OUlei7vcVOIuvm1v9bhmGsWu7VwAL7I0DBS9IBQg6+VOGbiWftzOq1u4ikBWW2Sg3oyyPpSbQePvAJiObluifQP8ZMoAobNHeMINKeqdgCFQffjIgBdTNNSEEXo2myexr2YCDQ79gp23MQ7UVziaVzFV76mKXK/dSxUluJC6qbDr/sZhFPj1LRUQmATRnX2/thI8CJNsBA4EwzLqQjhYqtLJlSW+JZ3B9/kvh7JmWVmVtc7Dq7QRR+L73vY7NjEkcjuEISs3e/pKoi8nRqDnLjHwvTiSAjtlUURyEpDhZd0HxMd0CbC5tTacMkZ8/yKTTiKsr8oAlNV6gRjt4Bm49Pa6D2bxxNid18iN4iXaJwKoqi1Mnp4seWL2FEYHchK+hXepNCecqlcfiR+DkhTJmxhj1wAAAABJRU5ErkJggg=="},C:[]},{S:"\n                帮助\n              "}]}]}]}]},{V:7,N:"body",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"index"===e.page}},C:[{T:"wx-view",A:{class:"greet"},C:[{S:"尊敬的用户："}]}]}]},{T:"verify-modal-content",A:{failReason:{L:function(e,t,r){return e.failReason},F:function(e,t,r,n){return e.failReason}},page:{L:function(e,t,r){return e.page},F:function(e,t,r,n){return e.page}},isPay:{L:function(e,t,r){return e.isPay},F:function(e,t,r,n){return e.isPay}},name:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}},id:{L:function(e,t,r){return e.id},F:function(e,t,r,n){return e.id}},half:{L:function(e,t,r){},F:function(e,t,r,n){return!1}},"bind:click":"tap","bind:buttontap":"handleTapButton"},C:[]}]},{V:7,N:"footer",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"index"===e.page}},C:[{T:"wx-view",A:{class:"footer"},C:[{T:"wx-view",A:{class:"button cancel","bind:tap":"handleCancel"},C:[{S:{L:function(e,t,r){return e.cancelText},F:function(e,t,r,n){return e.cancelText}}}]},{T:"wx-view",A:{class:"button confirm","bind:tap":"handleConfirm"},C:[{S:{L:function(e,t,r){return e.confirmText},F:function(e,t,r,n){return e.confirmText}}}]}]}]}]}]}]}]}]}]}]}]}],BM:{keyboardHeight:[[0,1,"style"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},C={content:function(){var e={},t={P:"",C:[{T:"virtuallayout",A:{class:{L:function(e,t,r){return!!e.half||void 0},F:function(e,t,r,n){return"root "+(e.half?"half":"")}}},C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"index"===e.page}},C:[{T:"wx-view",A:{class:"content"},C:[{S:{L:function(e,t,r){return!!e.isPay||void 0},F:function(e,t,r,n){return"\n      检测到你的认证信息不全，应主管部门要求，"+(e.isPay?"未实名用户无法进行充值。":"")+"为保护你的合法权益，我们需要获取你的信息进行实名认证。未完成认证将影响游戏登录。\n    "}}}]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.half||void 0},F:function(e,t,r,n){return"form "+(e.half?"":"form-mid")}}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.half||void 0},F:function(e,t,r,n){return"form-row "+(e.half?"":"form-row-mid")}}},C:[{T:"wx-image",A:{class:"form-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAALVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBoCg+AAAAD3RSTlMAgBB4QB9QYDdwCEhoWCiZ5BfxAAAA9klEQVRIx+3UvQ7BUBjG8RNBBMtRX2WpSCTGbh2bGKw1mSTiCtRkJG5A3QI30DtyKURbj0Sel6Q16X/+JX3Pe3Kq8n5XdRoYW0s2BV/fa8vqoB85kinqOFdA+wR1hYnsBBl8qrJ+tqZoANTjIwE1KfKBOhTZQCZF+qU/RQGMkW7jIVCfohlQi6Iz0JGiGtCSohKQpT4fr614wwQ1BFTBuxMKsSVe/W0B/HyeErPJ7RKU8nPjCJ0kc7EjZKxEkwRFDVcjCChquFpoxNRcIyjRQHGDNjBFTXPxQ+UI7y/gyMTVC3kYibf7BrlZI3nwq4qbcOOovGy7ATxkSlqw/L29AAAAAElFTkSuQmCC"},C:[]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.name||void 0},F:function(e,t,r,n){return"form-input "+(e.name?"form-content":"")}},"bind:tap":"tapName"},C:[{S:{L:function(e,t,r){return!!e.name||void 0},F:function(e,t,r,n){return"\n          "+(e.name||"点击输入姓名")+"\n        "}}}]}]},{T:"wx-view",A:{class:"form-row"},C:[{T:"wx-image",A:{class:"form-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAEHRSTlMAgEAQcCAweFBIaAhgWDgYjyHRFQAAAQ9JREFUSMft1b0JwkAYBuBTUBEVTBDPHxTjAio2YmXAAbRwgDTps4HgAnEEcQFLS53DyhWcwMt7gRC5fIeIYCRvdS88kC9wPyxLqpP3jMRwP0R7g4gZIo9CPEQGmb9BfMQetg4dRZlrUGMsSuVAoybamkYLtCqNtmhlGg3QimI1lZmQiMnkPkcbmbUC+Wh5evALWo1GXbQSjUw0B8thEEuB+Clo2Ab1xL8zfMytQX18TYM6olzlrlkGsVWoJYql25k3Uc4atEObUQgmUqZycBipEhBMpBLQMSLyXPVc13XiCKcpSsVTDd5i8VgqZL4gR4XaL+iuQnwVMwX7Zy6xL6N3ng2LQu0QlamnbMCypDlPojZmYDMqLCcAAAAASUVORK5CYII="},C:[]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.id||void 0},F:function(e,t,r,n){return"form-input "+(e.id?"form-content":"")}},"bind:tap":"tapId"},C:[{S:{L:function(e,t,r){return!!e.id||void 0},F:function(e,t,r,n){return"\n          "+(e.id||"点击输入有效身份证号码")+"\n        "}}}]}]}]}]},{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"help"===e.page}},C:[{T:"wx-scroll-view",A:{"scroll-y":{L:function(e,t,r){},F:function(e,t,r,n){return!0}},"scroll-x":{L:function(e,t,r){},F:function(e,t,r,n){return!1}},class:"scroll"},C:[{T:"wx-view",A:{class:"bold"},C:[{S:"尊敬的用户："}]},{T:"wx-view",A:{class:"line"},C:[{S:"健康系统策略已全面覆盖更新，关于新的健康系统策略，你可通过以下内容了解更多："}]},{T:"wx-view",A:{style:"color: #f06b1f"},C:[{S:"1.港澳台／海外用户如何实名认证？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"关注微信公众号【腾讯成长守护】，点击右下方【帮助】－【健康系统】－【港澳台／海外用户实名认证】进行验证。"}]},{T:"wx-view",A:{style:"color: #f06b1f"},C:[{S:"2.我有港澳台／海外用户实名认证的疑问，如何联系客服人员？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        请进入【腾讯客服】小程序，点击左下方【提交问题】，选择产品“腾讯健康系统”，问题类型“港澳台、海外用户实名视频认证”。根据提示提交材料后，客服人员将致电联系你。客服人员联系时段为 北京时间9:00-22:00。\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"3.健康系统策略中，未成年游戏时长限制是什么？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        根据2019年国家新闻出版署发布的《关于防止未成年人沉迷网络游戏的通知》最新要求，未成年用户游戏时长和时段限制为：\n（1）法定节假日：每日限玩3小时\n（2）非法定节假日：每日限玩1.5小时\n（3）每日22:00至次日8:00无法登陆游戏\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"3.健康系统策略中，未成年游戏时长限制是什么？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        根据2019年国家新闻出版署发布的《关于防止未成年人沉迷网络游戏的通知》最新要求，未成年用户游戏时长和时段限制为：\n（1）法定节假日：每日限玩3小时\n（2）非法定节假日：每日限玩1.5小时\n（3）每日22:00至次日8:00无法登陆游戏\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"4.健康系统策略中，未成年的充值限制是什么？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        根据2019年11月国家新闻出版署发布的《关于防止未成年人沉迷网络游戏的通知》最新要求，未成年用户游戏充值限制为：\n（1）8岁以下：无法在游戏内进行充值\n（2）8-15岁：单次充值上限50元，单月充值上限200元\n（3）6-17岁：单次充值上限100元，单月充值上限400元\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"5.成年人游戏时长限制是什么？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        针对王者荣耀与和平精英两款手游，若实名认证为成年人：单次连续在线5小时，会提醒你合理安排时间休息；单次连续在线6小时，需要你下线休息15分钟。单日累计在线5、6小时，会提示你合理安排时间休息，单日累计在线7小时后，需要你下线休息15分钟，此后每1小时下线休息15分钟，每天凌晨0点重置累计时长。\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"6.实名认证是否可以修改？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        实名信息为成年人的用户会有一次修改实名认证信息的机会，已经纳入防沉迷保护的未成年用户则无法再次修改实名认证；实名认证为成年人的用户修改方式：微信关注【腾讯成长守护】公众号，点击右下角【帮助】－【健康系统】－【实名认证查询】－【修改实名认证】。\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"7.健康系统时长和充值限制是否能够解除？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"目前已纳入防沉迷保护的未成年用户均不支持解除时长和充值限制，请你合理安排游戏时间。"}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"8.游戏服受到的时长限制是怎么样的？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        IOS游客服用户登录游戏时，不需要进行实名认证，但针对游客模式中的所有用户，同一台设备15天内只能累计游戏1小时。且游客服内不支持充值。\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"9.游戏时长刷新重置的时间是什么？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"每日累计时长与登录限制的刷新时间为凌晨0点。"}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"11.为什么我已满18周岁，但游戏时长和充值仍受到限制？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"请通过微信关注公众号【腾讯成长守护】－【家长请进】－【家庭守护】，查询是否绑定腾讯成长守护。"}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"10.未成年共享时长规则是否受到影响？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        在当前的健康系统策略下，一个未成年人身份信息仅允许用于微信和QQ平台各一个游戏账号的校验。所有处于生效区域的未成年用户，其名下的游戏账号在同一游戏中将共享1.5小时（非法定节假日）或3小时（法定节假日）的总游戏时长，不再分别单独统计。\n      "}]},{T:"wx-view",A:{style:"color: #06AE56"},C:[{S:"12.已确认被关联腾讯成长守护，该如何解除？"}]},{T:"wx-view",A:{class:"line"},C:[{S:"\n        （1）若是未成年人（未满18周岁），且已确认账号被家长关联腾讯成长守护，建议与家长进行沟通。\n（2）若是成年人（已满18周岁），且已确认账号被关联腾讯成长守护，并受到健康系统限制，如需解绑腾讯成长守护，请关注微信公众号【腾讯成长守护】，回复内容“我要解绑”，根据系统提醒自动解绑。\n      "}]}]}]},{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"fail"===e.page}},C:[{V:1,B:[{B:{L:function(e,t,r){return e.half},F:function(e,t,r,n){return e.half}},C:[{T:"wx-view",A:{style:"margin-bottom: 32px"},C:[{S:{L:function(e,t,r){return!!e.failReason||void 0},F:function(e,t,r,n){return"\n        "+(e.failReason||"由于您提交的实名信息暂未通过且当前无剩余提交认证次数，您目前无法登录游戏。")+"\n      "}}}]}]},{B:1,C:[{T:"wx-view",A:{class:"fail"},C:[{T:"wx-image",A:{class:"fail-icon",src:{L:function(e,t,r){return e.failIcon},F:function(e,t,r,n){return e.failIcon}}},C:[]},{T:"wx-view",A:{class:"fail-text"},C:[{T:"wx-view",A:{class:"fail-title"},C:[{S:"认证失败"}]},{T:"wx-view",A:{},C:[{S:{L:function(e,t,r){return!!e.failReason||void 0},F:function(e,t,r,n){return e.failReason||"由于您提交的实名信息暂未通过且当前无剩余提交认证次数，您目前无法登录游戏。"}}}]}]}]}]}]}]},{B:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"succ"===e.page}},C:[{V:1,B:[{B:{L:function(e,t,r){return e.half},F:function(e,t,r,n){return e.half}},C:[{T:"wx-view",A:{style:"margin-bottom: 32px"},C:[{S:"恭喜，你已完成腾讯游戏实名认证"}]}]},{B:1,C:[{T:"wx-view",A:{class:"fail"},C:[{T:"wx-image",A:{class:"fail-icon",src:{L:function(e,t,r){return e.succIcon},F:function(e,t,r,n){return e.succIcon}}},C:[]},{T:"wx-view",A:{class:"fail-text"},C:[{T:"wx-view",A:{class:"fail-title"},C:[{S:"认证成功"}]},{T:"wx-view",A:{},C:[{S:"恭喜，你已完成腾讯游戏实名认证"}]}]}]}]}]}]}]},{V:1,B:[{B:{L:function(e,t,r){return!!(e.half||e.page||e.page)||void 0},F:function(e,t,r,n){return!e.half&&("succ"===e.page||"fail"===e.page)}},C:[{T:"wx-view",A:{style:"width: 100%; display: flex; justify-content: center; margin-top: 40px"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.page||void 0},F:function(e,t,r,n){return"button "+e.page+"-button"}},"bind:tap":"tapButton"},C:[{S:"确认"}]}]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},I="https://res.wx.qq.com/t/fed_upload/b19c189d-d79b-4901-9fb1-da7c61aea1af",S=r(821).exparser.registerElement({is:"verify-modal-content",options:{classPrefix:"verify-modal-content",writeIdToDOM:!0,virtualHost:!0},template:C,properties:{isPay:{type:Boolean,value:!1},failReason:{type:String,value:""},page:{type:String,value:"index"},half:{type:Boolean,value:!1},name:{type:String,value:""},id:{type:String,value:""}},data:{succIcon:`${I}/succ.png`,failIcon:`${I}/fail.png`},methods:{tapButton(){this.triggerEvent("buttontap",{index:0})},tapName(){this.triggerEvent("click",{key:"name",value:this.data.name})},tapId(){this.triggerEvent("click",{key:"id",value:this.data.id})},destroy(){this.triggerEvent("destroy")}}}),T=r(821).exparser,x="https://res.wx.qq.com/t/fed_upload/b19c189d-d79b-4901-9fb1-da7c61aea1af",P=[],k=T.registerElement({is:"verify-modal",options:{classPrefix:"verify-modal",writeIdToDOM:!0,virtualHost:!0},template:E,properties:{page:{type:String,value:"index"},hor:{type:Boolean,value:!1},half:{type:Boolean,value:!1},failReason:{type:String,value:""},confirmText:{type:String,value:"提交"},cancelText:{type:String,value:"取消"},keyboardHeight:{type:Number,value:0}},data:{logo:`${x}/logo.png`,barHor:`${x}/${encodeURIComponent("顶栏背景-横版")}.jpg`,bar:`${x}/${encodeURIComponent("顶栏背景-竖版")}.jpg`,questionIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAM1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACjBUbJAAAAEXRSTlMAgGBwCCAQUDh4MGhIQFgYKOJvWD4AAAI1SURBVFjD7VjbcusgDIwRN0HA/v+vPcF4Do0XC+KZ9qFTPbVystKuJIzy+LPfZnrzLtLyMlI5GX0TJanlZMrbj2HMgQJY5iYMU3YvU/E/FG3TMPaA4Tcqa8hc/W6SoOdKIqC4oYagMKPxE7VA0s8xTtxDCpKGvR/igJ6lPZ4WY7k9lh3j+KGKO5IUrfDiiU5ZubC7Rio689r+l5AkxUPJeJ1sWUEDS/hM1on7gpdiOPCKOqjeg61bCe0VlWFJFp4UAr3CFH+4GJduc5mW0tDtlmaYrjpSGntTPc0249X+10xsW5zg29m2Zjad4LpTzdCpi/+aneo0XkJw7rClVqQFP6EZwMvH8hmID1+r6mPIzfRqb63Vb7Dca+8N6iNPme2WCIYql7xFczVnZO/OZKOIk/BQPISLZ4eSeOXWUmcm9ObAwceJ8xeE54ESvFjuAQWY/ZtABLQEICpN3DcjBVFnsWNzjLr3/D11TpEFqVHoJkmGsPZzoBXOke1aUN1mFyxAEI0jKVsbUY0Hm/4YiDF8wlkaWwBBZG5W6KLF9pzm4uJB9rJV1ZUXjaCzhdhSStwioEJ0kShp8YzFS8R2lemzF9mFz25Blj+9aGERhPe7MGVL+O7L6EPHSSTDi/z+0pMX9tmrv9PjtYdGy0gc7VGmLjXjo2JuzdIzhwNVqICkQoXhyW6z7lhFc1i/eL3i6lfzu/ZWkqoWlXtZJm579o+v640KoKS7P0aYlNXOkqLzm3782S+zf9hQDfiecyagAAAAAElFTkSuQmCC",closeIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAG1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACUUeIgAAAACXRSTlMNAIY6Bgp3HBSB4mXEAAABXklEQVRIx5WWsW6DQBBEnxVQUnIS+QEipbZcpIaCHkv2DyRF2lSp/ekpjPfuGA42U8LT7DLc3R4hUzte4XoZ8qdkyMSseihBI4ku61APBQpljFLoFYoUZQbOC2gCVZ1DDauqUqiloCGBetiyQo3Uik0jOBjEhu6QZKRZoRlpVmjbWg+tpvXQb9Oo0Ja0HtqS5kmhpZc0T5KWnr8wffwkTZG09NsdmfXUfSdJEWKFz+6NWafuHVOghfimOz6MIg8D1re9MtzipCG3UiMONIiVwQb1LKzEiIoesTIjgyaWVksjaoOilRkpFK3MKEKwtDKjsk5i5IRc5fYa90fgCtP1W1w/2LVUXIvOtXx9GyFgyrfUjYdcm9O7zRtMN9Z09h49YYepXceh+2DdqzfcoX6nmmts+AdQzFNVuYaid7z6B3XZ6vC/y0O54LCAwrieYw4pVQWBhKr81zX/xc91hfwDMyBVqzsvF5wAAAAASUVORK5CYII=",enter:!1,isPay:!1,showModal:!1,modalTitle:"",modalContent:"",modalButtons:[{text:"确定"}],buttons:[{type:"default",text:"取消"},{type:"primary",text:"提交"}],name:"",id:""},attached(){T.triggerRender((()=>{this.setData({enter:!0})}))},methods:{tap(e){this.triggerEvent("click",e.detail)},showHelp(){P.push(this.data.page),this.report({PositionID:1,ActionID:2}),this.triggerEvent("switchPage",{page:"help",buttons:[]})},showIndex(){this.report({UIArea:1509,PositionID:1,ActionID:2});var e,t="index";this.data.half||(t=null!==(e=P.pop())&&void 0!==e?e:"index");this.triggerEvent("switchPage",{page:t,buttons:[{className:"button cancel",type:"default",text:"取消"},{className:"button confirm",type:"primary",text:"提交"}]})},showFail({failReason:e=""}){this.triggerEvent("switchPage",{failReason:e,page:"fail",buttons:[{type:"default",text:"我知道了"}]})},showSucc(){this.triggerEvent("switchPage",{page:"succ",buttons:[{type:"default",text:"返回游戏"}]})},showModal({title:e,content:t}){this.setData({modalTitle:null!=e?e:"",modalContent:null!=t?t:"",showModal:!0})},closeModal(){this.setData({showModal:!1})},handleTapButton(e){var t=e.detail.index,r=this.data.page;"succ"===r?(this.report({UIArea:1511,PositionID:1,ActionID:2}),this.des("succ")):"fail"===r?(this.report({UIArea:1510,PositionID:1,ActionID:2}),this.handleClose("fail")):"index"===r&&(1===t?this.handleConfirm():this.handleClose())},report(e){this.triggerEvent("report",e)},des(e="destroy"){this.setData({enter:!1}),setTimeout((()=>{this.triggerEvent("destroy",{reason:e})}),300)},handleCancel(){this.triggerEvent("close",{reason:"cancel"})},handleClose(e="cancel"){this.triggerEvent("close",{reason:e})},handleConfirm(){this.triggerEvent("confirm",{id:this.data.id,name:this.data.name})}}}),D=(r(930),e.exparser),R=D.registerElement({is:"device-message",options:{classPrefix:"device-message",writeIdToDOM:!0},behaviors:["wx-theme"],template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"mask "+(e.enter?"mask-active":"")}}},C:[]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"pop-box "+(e.enter?"pop-box-active":"")}}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.slide||void 0},F:function(e,t,r,n){return"pop-inner "+(e.slide?"pop-inner-in":"")}}},C:[{T:"wx-view",A:{class:"pop-inner-left"},C:[{T:"wx-view",A:{class:"title-box"},C:[{T:"wx-image",A:{class:"avatar",src:{L:function(e,t,r){return e.appIcon},F:function(e,t,r,n){return e.appIcon}}},C:[]},{T:"wx-view",A:{},C:[{S:{L:function(e,t,r){return!!e.appName||void 0},F:function(e,t,r,n){return e.appName+" 申请"}}}]}]},{T:"wx-view",A:{class:"center-text"},C:[{S:"发送以下消息"}]},{T:"wx-view",A:{class:"list-box"},C:[{V:2,L:{M:["items"],L:function(e,t,r){return e.items},F:function(e,t,r,n){return e.items}},K:"name",C:[{V:1,B:[{B:{L:function(e,t,r){return!!t[1]||void 0},F:function(e,t,r,n){return 0==t[1]}},C:[{T:"wx-view",A:{class:"notice-border"},C:[]}]}]},{T:"wx-view",A:{class:"list-item",bindtap:"handleCheck","mark:name":{L:function(e,t,r){return c(t[0],"name")},F:function(e,t,r,n){return l(t[0]).name}}},C:[{V:1,B:[{B:{L:function(e,t,r){return c(t[0],"checked")},F:function(e,t,r,n){return l(t[0]).checked}},C:[{T:"wx-image",A:{class:"check",src:{L:function(e,t,r){return e.checkedIcon},F:function(e,t,r,n){return e.checkedIcon}}},C:[]}]},{B:1,C:[{T:"wx-view",A:{class:"uncheck"},C:[]}]}]},{T:"wx-view",A:{class:"name"},C:[{S:{L:function(e,t,r){return c(t[0],"name")},F:function(e,t,r,n){return l(t[0]).name}}}]},{T:"wx-image",A:{class:"notice",src:{L:function(e,t,r){return e.noticeIcon},F:function(e,t,r,n){return e.noticeIcon}},"data-id":{L:function(e,t,r){return c(t[0],"id")},F:function(e,t,r,n){return l(t[0]).id}},bindtap:"handleNoticeOpen"},C:[]}]},{T:"wx-view",A:{class:"notice-border"},C:[]}]}]},{T:"wx-view",A:{class:"action-box"},C:[{T:"wx-view",A:{class:"cancel btn",bindtap:"handleCancel","hover-class":"hand-over"},C:[{S:"取消"}]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.disable||void 0},F:function(e,t,r,n){return"confirm btn "+(e.disable?"disable":"")}},bindtap:"handleConfirm","hover-class":"hand-over"},C:[{S:"允许"}]}]},{T:"wx-view",A:{class:"bottom-box"},C:[{T:"wx-view",A:{bindtap:"handleReject"},C:[{S:"拒绝，不再询问"}]}]}]},{T:"wx-view",A:{class:"pop-inner-right"},C:[{T:"wx-image",A:{class:"back-arrow",src:{L:function(e,t,r){return e.backArrow},F:function(e,t,r,n){return e.backArrow}},bindtap:"handleNoticeClose"},C:[]},{T:"wx-view",A:{class:"notice-title"},C:[{S:"消息示例"}]},{T:"wx-view",A:{class:"notice-border"},C:[]},{T:"wx-view",A:{class:"notice-detail-list"},C:[{V:2,L:{M:["noticeList"],L:function(e,t,r){return e.noticeList},F:function(e,t,r,n){return e.noticeList}},K:null,C:[{T:"wx-view",A:{class:"notice-detail-item"},C:[{T:"wx-view",A:{class:"notice-detail-item-key"},C:[{S:{L:function(e,t,r){return c(t[0],"Name")},F:function(e,t,r,n){return l(t[0]).Name}}}]},{T:"wx-view",A:{class:"notice-detail-item-value"},C:[{S:{L:function(e,t,r){return c(t[0],"Value")},F:function(e,t,r,n){return l(t[0]).Value}}}]}]}]}]}]}]}]}]}],BM:{disable:[[0,1,0,0,3,1,"class"]],backArrow:[[0,1,0,1,0,"src"]],appIcon:[[0,1,0,0,0,0,"src"]],appName:[[0,1,0,0,0,1,0]],slide:[[0,1,0,"class"]],enter:[[0,0,"class"],[0,1,"class"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},data:{enter:!1,slide:!1,duration:200,input:"",appIcon:"",appName:"",checkedIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAF/tJREFUeF7tnQuUHFWZx/9f9UxX52FYn6CsLrsSQBAWgVUeSVdPQgCR+CCGXYFMVydZXOCgq4sJKkdBUQkIuuoGiSZdnfgAQclRDFFCZrqTsIBR1g2gEHwrLp7sSgghXT0z9e2pngkGSGa6bt2qrur++hxOziH3e/2/+8ut5y2C/EQBUeCACpBoIwqIAgdWQACR2SEKjKOAACLTQxQQQGQOiAJqCsgKoqabWHWJAgJIlzRaylRTQABR002sukQBAaRLGi1lqikggKjpJlZdooAA0iWNljLVFBBA1HQTqy5RQADpkkZLmWoKCCBqurVu9a352exrJk/HMB8BZKaTwa8AYxoRTWPmg8A8DUTTAP//YRp7OAiEOgg7wXiaCTuJ8TSYdzLR00S8k0foaRh4jDPGY0N7erZjzoqdrSckI4MoIIAEUWu8sQPzp5o0aaYPAciHAdMB+H8epivEOH6eBPAYA9v9PwFsz3hDD+zp+/rvY4jd0SEEkBDtnVQtnTpCsIj5LAD5EK6iMt0G8A9g0D0uGVswY9WuqAJ1ql8BJEBns1X7WCKcxqDTiHkOgIMDmLd76BCA9QxsyRBv3pOvbGl3QmmIL4BM0KXswII3wsicA2AuAaemoakt5vgYiL5PIyPr6n2rN7Ro03XDBJD9tDy3acHr2DPmgugcMPzDp07/bSNgHRjfrxecTZ1ebJD6BJC9al11lZEr/PoCHwoGzwUwKYiQnTKWgB/7K8sIed8dmln5cafUpVqHADJg50zQYhi8CMDxqkJ2pB3zCs/DiqFZ3QtK9wJy9/yDzN4pi0DwwTi6Iye4nqIYwAqPaMVQvvwTPS7T46XrAJlaK72ywbyIGItBeH16WtX2TLsSlO4BZMDOZQ0sJTRXjNe2fbqlN4EmKABucC3HvzHZ0b+uACQ7aM83CEsZOLGjuxlvcX8CY5lbcG6MN2y80ToakOzG4jEwaCkRFsQraxdFIwyCsMyd6azvxKo7ExAGZWu2fzi1BMBLO7FxCaxpOQ1nrqvPXvmbBOamnFLHAWJWi28H0RIwTlNWRQxVFfgdwMtcq/Ifqg6SZtdRgGSrxY8S6Jqkidxt+TDz13oMc8mz+RV/THvtHQHIlAH7kJEM38hM70l7Qzonf3oI4KWu5axLc02pByRXK85mJv9KynFpbkSn5s6MjzYKzqfTWl+qATEHi+8DGTcA3JPWBnRD3kS4DTyytG6t+VXa6k0nIFsv6jV3N74I4L1pE7xr82V+nMFLGoXVd6RJg9QBMume/kO9DDkgOj1NQkuuYwoQXeLmyzelRY9UAdI7YB9vGPgmgKPSIrDk+WIFGLiqYTlXp0Gb1ABiDtpzQPCX5ylpEFZynFCB5a7lXDrhqDYPSAUg2ap9PgFfb7NWEl6zAv7Jez3vnKfZrVZ3iQfEHLD/FQY+p7VqcZYkBda5lvO2JCW0by6JBsSsli4H+Pqkiid5aVPgbtdyztDmTaOjxAJibrLPgoe7NNYqrpKsAOMrbsG5KGkpJhKQ3s0LTzJGvB8lTSzJJ1oFmOgjjXz5M9FGCeY9cYCYm/qPgGc8GqwMGd0xCjBf4hYqiblPkihApjxgHzJcxyAYR3ZMw6WQwAr4r0XXLWdVYMMIDJIDyNaLJpu7G/59jkSerEWgvbgcRwECX1i3Km2/tJ8YQMzB4m0gerfMGlFgrwLM3rntfnYrEYDkqsVPMuhKmRqiwAsUeIyMkTn1mWt+2y5l2g5IdrD4HiL6RrsEkLjJVoAYt9QLTttehGsrINla/3HEhr8bxquT3SbJrr0K0Idcq/zZduTQPkAGCj2mcZgPx+x2FC4xU6WAR6A5dau8Me6s2waIWS39O8Dvi7tgiZdOBQj4Ud3DGehznoqzgrYAYlZL7wX4y3EWKrE6QoGbXcv5lzgriR0Qs2pPB/hegF4RZ6ESqzMUYOCChuXEdlGnDYCUbgY4cQ+ldcb06YIqmB9ymWbGdagVKyBmrXQmmDtyD9cumJrJKZH4OjdfWRpHQvECMli8WzZbiKOtnR+DiAr1fLkadaWxAWLWSheDeXnUBYn/rlHgB67lRP6B1VgA8bcGHTbgf5f777qmfVJo9Aowv98tVL4QZaBYADGrxesBujzKQsR3VyrwP/AyM92+lY9HVX3kgPRuKp5oeLQ1qgLEb9cr8GXXci6OSoXIATGrclk3quaJ36YCdcbICQ1rzc+i0CNSQGT1iKJl4vNFChBd5+bLkVz2jRQQWT1kMseiAOFPxpB3wp7Zq/+gO15kgMjqobtV4m88BRh8ZcOqfEq3SpEBIquH7laJv3EVYPzC7THehBmrdulUKhJAZPXQ2SLx1bIChPe5ecf/boy2XySAyOqhrT8pcEQ7AH6UgUeJaAfYOwpMR4LasXUTPeha5RN0iqYdkCkbFh883Dv8cwB/pTNR8ZU8BQj0qbpV3u9mG+bgwreC+AsAHx5n5gzMa1jOd3TF1A5IrlpcxKCv6kpQ/CRQAcLDGPGucPtW3zlRdtlqqULg/onG6fp7/zMZdcu5UKM/Xa5G/ZhVey2Ad+j1Kt4SowDhYQad18iXH2k1J7Nq3w5gXqvjQ46r05BxTP30Vb8M6adprnUFGX1bEP7hlaEjOfGRMAUU4PArmForvXLI4wdBODSeivTtgqIXkFrpA2D2v1kuv05TQBGOvTJkq/ZSAq6NQxZm3NcoOKfoiKUXkGppI8B9OhITHwlSICQcfiXZqn0uAd+OqyryjDn1vlUbwsbTBkjvxuKJRkae2g3bkMTZa4CjeW46cOHhMHq2x1iflqd8tQGSrdofJ+CqGAWQUFEroAmOZpoD86eaxhStd7knKP9PbsY4POyddW2AmHJ4FfV0jde/TjgA9Nb632ywcX+8RfCZrlX5YZiYWgAZe6XWf5JSrl6F6UZSbDXD4ZeVq9k2M8pxlsjAVQ3LuTpMTC2A5AZKF7LBa8IkIrYJUSACOEZP0uO9YdhUk7DezTtvDaOsFkDMWvErYFocJhGxTYACEcFhDhYvBlH8O9owdroFJ9QjT3oAqdqPAfBvEsovrQpEBEfvgH08GbiHgJe1QxqDeMaefMXfUUfpFxoQc/PCIzHi+XfP5ZdWBSKCI7u5eAyN0LcAHN0uaRi4omE5y1TjhwekWrwUoC+pJiB2bVagg+FoKst8p1uozFVVWQMgpe8A/C7VBMSujQp0Ohyj0j7lWs5LVVUOD8hgcTuIYn3mX7VYsdtHge6Ao1lwJmMc+uyMVU+o9D88IFWbVQKLTRsV6CI4fJVphAr1WWobXYcCxLx30eEYGonz+Zo2zqoOCd1lcDQBAS+uW5WVKh0MB8hg/1tBxjqVwGLTBgW6EI5RQLCsbjlXqCgeDpCafRkYke6urVKU2OxHgS6FY0yJb7uW826VeREOkEH7CyBcphJYbGJUoLvh8JeQn7p553gVxcMBUi2tAzjUsy4qSYtNAAW6HY5RqZ51LWdKANWeGxoOELnEq6J5fDaMh9kItsFCK8kl4Q55K3nuO0b1Um84QOQSb9A+xTde4Hie1qqXetUBuXv+QWZ2ylPxdVwitayAwPFiqRhvdwvO91rWcGygMiCTqqXXeuDfBg0o4yNWQODYr8BEtKCeL38tqPrKgGQHFryRjMy2oAFlfIQKCBwHFtfApe5MJ/A7KcqATKqWTvXAys/ZRzhNutO1wDFu35noI418+TNBJ4cyIGaK7qIz8H/EuBaEh8nDI3Xs3jHJmHqcR3wcGOcDmBlUuESNFzgmbAcZuLY+0/nwhANfMEAZkGy19I8EviVowLjHM+F+YwT/VO9zfr3f2Fsv6jWfHboGzEvizk1LPIGjNRmJb3LzlUtaG/yXUcqA5KrFixh0c9CAsY5n/pxbqHywlZjZQXs+EW7VvV9xK7GVxwgcLUtHwDfqlnNBywZjA5UBMaulywG+PmjAuMar7M+arRXnEZMPSSauPJXjCBzBpCO+080Hf7NQGZBstXQlgT8ZLMv4Rqu+rJ/dtPBdxN6tYPTGl23ASAJHQMGar95ucAuVOUENlQExk/wkL/PjbqGivMtKtlZ6BzH7mw1kgwoa+XiBQ1VipSd6lQHJVUtFBjuq2UZrR3e5VvnsMDHMavHtQPNwKxfGj1ZbgUNZTmYuNwqVhUEdKAOSrdnvJMYdQQPGM54/61qVD4WNZQ70nwPD8CGZHNZXaHuBI6yEn3ct5wNBnSgDkquWZjH4nqABYxq/0rUcLTs9mlX7bIBvBWhqTLm/OIzAEVp6Aq6uW07grw8oA5Lwb6FvcS1nRmhVxxyYA/ZZMJqXgKfp8tmyH4GjZanGHcj4N7fgBP76mTIgyd6wgXa4VvmVepQd9WJWi2eMnZOE2us1UE4CRyC5xhusunGDMiBTtyx41dBw5kltFWh2NN43vFVD5TYtPB3s3cocwz6zAodqm/Zrx4zzGgXntqBOlQHB9stM84ld9aABYx3veXNb+ZZ3kJxyG4uzOWPcAvArgtgFGitwBJKrtcFqH9NRB2T0w4w7CHh5awm2YVRE72PnBvv72DBuAeNV2qsSOLRL6jtkL3Nso2/lQ0GdhwNk0P5PIpwcNGis46OCpFay2ONbQThYWz0ChzYpX+jI3f1kDmff5QYNEA6Qdnw1KGiF/vioIBm0ZzI1LwG/WiWt59kIHKElPKADxm/cgnOYSoCwgCT6eaznCRIRJJNqxdM8j/yV5FCVBjRtBA5l6Vo0vNu1nDNaHPuCaaNiNWaTrRbPo9HHMdLxiwqS0bcr/XdjXhtYCIEjsGQKBstdy7lUwc7ftlT911vtf5MB4yfqHtpgGRUkA/bJXgb+ifvftFyVwNGyVKEGeviA2+d8XsVHKEDw0wVTzKcyz6gEbqtNRJCMfQvcX0n+dsL6BI4JJdI44G2u5Shtsh4OkOYdZtv/PvprNBYTj6uoIBlYeJKR8fyV5PUHLETgiKfHe6P0Zqa7p658XCVoeEBq9gAYBZXgbbeJCpJa6QTD827d75e3BI64286u5RiqQUMDkh2wryADgbdTUU1Yu11UkIyen/mHW0c8l7PAob19EzukAdcqz5p43P5HhAak1//XkvnHqgkkwi4qSDYu/Pvm4RZwlFzKbU+nGbiqYTlXq0YPDYgf2KzafwRwiGoSibCLCJJs1T6WGN+UXdbb02UCza5b5Y2q0bUAkq3ZZWLYqkkkxi4qSGqloxv58iM660zjJwh01t+iL3afMg7CO1btanH8i4ZpASRXs21mlFWTSJRdROcJOmsUOFpVM9z5hx9FCyDJfnmqVTH3GZdgSASO1vtJhE/X885HW7d48UgtgPhuc1X7AQb+IUwyibJNICQCR7AZwh7e1ehz1gazev5obYCYtdKNYA68a0SY5CO3TRAkAkfgbnMmY/z1szNWPRHYch8DnYCcCeb1YZJJpG0CIBE4FGYG8x1uoXKuguXzTLQB4ns1q6VHAH5D2KQSZ99GSAQOtdlAjP56wVmjZv0XK82AFK8H6PKwSSXSvg2QCByqM4F+72boaMxQv7y7N7JWQJrvapOhfFNGVY7Y7GKEROAI01X+kmtVLgvjIRJARg+z7AcBHK8juUT6iAESgSNc58PePd83utYVxHecq5auYXCoa8/h5InBOkJIBI5w/SPC/fW8o20jEe2AdM3HPSOAROAIB4dvzcCHG5ZzbXhPox60AzK6itj3M/BmXUkm1o9GSAQOLV1mZIw3uDNWParFW3SApOD7hboU1ACJwKGnGarfABkveiQryNgqspWBE/WUnnAvISAROPT1lhj5esHZpM9jRIdYo4B00SoyevD7cNB3PgQOjVOZ6HY3X56v0WN05yB7k8xV7e5ZRcYgIeDiVv4Vy1WLeQbdBOBo3U3tSn/E57j5yvd11x7ZIVZXriKj3Rli5isbhcp1B2pWtmovJfA1APXobmiX+vuhazlnRlF7pIB03bnIvh1i3gDD2A7P+zkx/TcTHwfDOAqeNx1Ep0fRzG71ycznNwqVb0ZRfwyAdNm5SBRdEp8HVICB+xqWc0pUEkUOiJ94tmpvIeDUqIoQv92rABFK9bwT2efI4wLkXAK+3b1tlMqjUIAIt9XzznlR+N7rMxZAmqtIrbiGmC6Mshjx3VUK7PaI8kP5cqSbp8cGSO+AfbxhYAuAyV3VRik2EgUYfGXDqnwqEuf7OI0NkOYVrVrpamb+WNRFif/OVoCBextP7s7jvNtGoq40VkCw7oJp5uSeLSB6Y9SFif8OVsCgue7M8p1xVBgvIKPvixQZHNlVhzhEkxhtVIDoJjdfviSuDGIHxC/MrNr+Fa3QO07EJZLESYgChF8YTH17rPLv4sqoLYDkBuzDmLAehCPjKlTipF8B9mh+o698e5yVtAWQsVXkbADaHy6LUzyJFZ8CRPyZer7ykfgijkZqGyBNSAbtD4FwwIf64hZD4iVVAf6ha1UieRhxoorbCoifXMd8OmEipeXvFRXgHZ5Hc4b6nP9SdBDKrO2AYP2il+UmjazvqI2vQ7VEjPdVgMCL61ZlZbtUaT8g/qXfTQtnsOf5+/pOaZcQEjeRCix3LefSdmaWCEB8AXKDxRITrWqnGBI7SQrQXe6Tz8yN4275eFUnBpDm+chg8WNEpPzBxSS1V3JRV4BAW+sZmqVjb131LBJwFWt/yZs1ewUY/xy2MLFPqQJEv+lpZN6y+/SvPpmEChK1guwVxKzZd4FxVhIEkhziVID3EHqPqVtf/VWcUVNziLVvouag/RAIxyRFKMkjegXYGzm20bfmoegjtR4hkSvIcytJ1d4JYFrr5cjItCrgkfeWofzqB5KWf6IB8cUyq7Z/LPqqpAkn+ehTwBjhGXtmVfyX6RL3SzwgTUhq9gYwZidOPUkotAI0ZLy+fvqqX4Z2FJGDVAAytpJ8HsD7I9JB3MavwBPGsPfmPbNX/yH+0K1HTA0gfkmjOxJC27cfWpdJRmpVgHhz1uR37nrL6v/V6jcCZ6kCpLmSDBYvBtHyCLQQl3EowPiey5PPR9/yZ+IIFzZG6gAZXUmKFxDoZnl2K2z7Y7Znvt2dap6Pk1YMxRxZOVwqAfGr9R9whOfdKE8BK/c+VkNm/nijUPlErEE1BEstIM3a1y96WXbyyA3EsDVoIS6iUeDnAC91rcp3o3Efrdd0AzKmjbyZGO0kUfVOjFuIaEmcmyyo5nogu44ApHnyXrXPBuNG2QhC9xRR88fAFQ3LWaZmnRyrjgGkeV7i75Zi4AbZUqidE4wexAg+7M4q/6CdWeiK3VGA7BUlN9C/mA1jCYDpuoQSPxMq4BLRsvrk3mU4acWzE45OyYCOBMTXfsqGxQcPZ4eXgPHBlPQivWky3+71ZJYNzVi1Nb1F7D/zjgXkudVksL+vuZrI+yVRzN1HCLysblVWR+E8CT47HpC9IpvV4qUA+Yddr0uC8GnPgYBldaOxDDO/8ee01zJe/l0DSPOw677FBw83hvvB1A+w7DAffGY/DaDseXDatU9V8JTDWXQVIM9JxfMzuc1T+5m5H4xCOAm7wZp/T0RlkOHUZyb30fQoOtGdgOyjpDlozwW4H0TvjkLglPt8BAwnOzVb3nXSih0pr0Up/a4HZK9qkwYXnuKRdwGAeQAOUVKzc4zuAeg2d/dUB2d/0e2csoJXIoC8ULNNF780x/V57PE8UDftrEI/I/bWjhi8Nonvhgef2nosBJBxdOwdWHhSJsPnMrO/qhyhR/IEeSE8zUxrQXxHI++sTVBmiUlFAGmlFTw/k61NnkegM0A4GZzq7Yh+R4z7mLhqDPPapL/y2kp7ohwjgCioa27oP4J6jRkMnArgFABHK7iJy2QUCAP3eoaxuRPvdkcppACiQV3/sZah7NAMYpwM0LEA/P9eo8F1UBc7wbwNwDbKGD9ijze7lrM9qBMZ/xcFBJCIZsNLNvS/fChjHMvUhKX5J42Co+sTD9sI2Ob5MBBvI/K21Weu+W1E5XStWwEk7tZvvagXu3rMl+DPuWGv12TuMb3eIZO9jNnTQyZ7nkkwhocNz6VhzyUzWzeGPDfTM+w+82zdxWGH1DG9uy+9xtkyASROtSVW6hQQQFLXMkk4TgUEkDjVllipU0AASV3LJOE4FRBA4lRbYqVOAQEkdS2ThONUQACJU22JlToFBJDUtUwSjlMBASROtSVW6hQQQFLXMkk4TgUEkDjVllipU0AASV3LJOE4FRBA4lRbYqVOAQEkdS2ThONU4P8BOE3IQXWPsj8AAAAASUVORK5CYII=",noticeIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAIABJREFUeF7tfXucHFWZ9vNWz3T1JBBhXV3AVS7Lp1yywkKWW5KuHnJBlEtYDfjBJlM9kciisHKRgOtPghcCGFZx3VUGkq4OAgruR9CVa8h09SSRSOATnAC7IguiKIu7yCWZrprp8+6vZiYhCblUnVPV11P/5PfLnOe9PG89fbqrznkPQV+aAc3ALhkgzY1mQDOwawa0QPTdoRnYDQNaIPr20Axogeh7QDMgx4CeQeR406g2YUALpE0KrdOUY0ALRI43jWoTBrRA2qTQOk05BrRA5HjTqDZhQAukTQqt05RjQAtEjjeNahMGtEDapNA6TTkGtEDkeJNHLV5sYPZGE95Ec2K1w6yanskiZXJHymQxYnYIw2SIjmrV8NBJFRoRnmFUPYO6Kps7qh7e9D2kX/LQXRqRD0IjwzKgBRKWqajj+nMdnThocsrgIwGazMyTQXQkgIOjmtrF+P8CMAjGRiIeJBiDQ/5bGzHr7tdjsq/NANACieM2+PHCCZlJwycAnGXiI8E0GcBhcZiWsPESQIMgHmQhfto5kl63aeatr0jY0RAtELl7oMvNv79q0BRDiOMEkCXgJDlLNUIxNsLgMjEeFWRs8LOFp2vkuend6BkkTAk3zk2n/7D3HALPAHgKgGPCwBp3DD9HjMcYtCbVYazcPG35y40ba30j0wLZDf+Z/t5pbPAcgM8CcEh9S5WY9zcYuAcCK/1uZ2ViXprUsBbIDoXLrOo9hDvEHBDmAJjepHWVDJueIRYrq6B7hnPOY5JGWgqmBTJeTrNkn06E8xijwjBbqspyyTxC4LsqVrFPDt4aqLYXSCAMEM4HcHprlDTeLAh4HOC+dhVK2wrEHMifBsELtTDCCYpAG0DcV8k6t4RDtMaothOI2Z8/DYYWhuztS+ANYOqr5NpDKG0jkEzJns6EywCcKXtzaNzbDBDzBgH8o58r3tnKvLS8QLoemf8+0Zm6DMyXtHIh65Yb8w+NlLF0aHphfd1iSNBxSwvELOc/C8GXg3Bgghxq00AVRDd2AkvfyhZebSVCWlIg5uqejyFlXAZwdysVq+FzYX4OZCz1rMLNDR9ryABbSiAT++39Rgx8FcCCkPnXY1iFwIMMeg2gISIeEowKAUMAKsQ8BNAIE3cB1MWMLoOQYVAXRv8Pwf9NJuDd9Qg+pM+HDNA1Q1ZhXcjxDTusZQRiDtgfgcANAP6ycdimwWApumDaCBEsSU8Net3Lnosjvgnlv92/KjomAzyZQZNh4EhiBKuIJ8ZhPwYbm8C4wss5/xKDrbqZaAmBpF37SgKW1I3FMcfBDDDAoAEDolzJFgdA4FrH1DnQe5TBPJ1EsPR+dKnMfrWOYTt/hFs88hdh+h2v1TUOSedNLZDMIwsOREf1egbOkcxfFfYgE9Ya4HWV329eh7PvDkTSUFdnyf5rg3ASgU5i8EcATKp1gAQ8BhaLKrkV/bX2reqvaQWSLufPJBY3APRBVRIi4p9gwkr44l5/5oqnImLrOnzCmt4DqiOjCzGDd0GzaxoMYRiCF3m54jdq6lfRWVMKJO3aVxOwWDH3KPBgv8RKpLDSm+Y8HAXYqGM7y/ljUsCZzMFyfny4VnEyaIUvDlyA7sVNsae+6QRiuva3AXymFgVl4FGDaFnlLf8ufPT2N2rhsx4+RtelVXnB+BL/5ENgXuUNm5/ArL6G3z/fVALJlOy7mDA38QoSSgRaVskWvpe4rwZykOnvnYkU9zLz/008LMaTKWPk1M3Z7/0ucV8KDppGIGbZ7gcjp5DrnqGMB9igZX628MM9D27dEZn+edNEqqOXmPMJZ/kyOjjrTS3+KmE/0uabQiBm2Q7a2wQtcxK5GFiPKi3xTy7cm4iDJjXaOdBzbIppEXOSszYHL0WP9bON+cCj4QViunbQ/+k9Cd1jPgPX+q9sWoKz7/YT8tH0ZjMD+TxXxRdAdGhSyRgpnDg0zXk0KfuydhtaIKZrJ/mi7V5B4trh7IqfyZLXTrjRN/fouAqMi5LKW1R5yvDJxceTsi9jt2EFYrr28zF2IXybG8KLYFrSSgvqZAovizFLvacC1WA2mSZrY3c4Eji40u28kIRtGZsNKRDT7VkNUOwrcQl0F5C6smLd+p8yZGnMVgYo49pLGFiUBCcpGjmgUZ5uNZxA0q69jIDeuIln4Erfcq6P224720sP2HNJ4LrYe4YRvWh2GMe8cdKy/6k3vw0lELNs3wjGpXGSMtqVQxhXVrqXr4rTrrY1xkBmoPcQsLgugSddrrdP9WM46rZN9eS6YQSSKeevZear4iWD+jzDu7JZV5LGy0Wy1tKuvYgwOpvEeNGPvGc7P4FP9w3HaDSSqYYQSLrfXkwGro4U+R4GM/iLvlX8Wpw2ta3dM5Au93ycmILVB5m4uCLC3ZWsc3Zc9qLaqbtAxlblcsw9YflyzyreGJUMPV6dAbPc8zGMiWQfdWtjFpjwJT/rfCUue1Hs1FUgwX4O7qg+BCC2JetkYEFlurM8Cgl6bLwMpNfZh9Ewgr0f8W3WYpzh5Zwfxxvpnq3VVyBu/gcMjm36NIinDWWLa/ecth6ROAMMMsuj77IOisnXswZo9pBVeCkme6HM1E0g6VLPVUR0bagoQwxKC+89b3bf+YcQQ/WQGjKQdnvWEejEOFwS0Z2VbOHcOGyFtVEXgYw3WLg/bJB7GueljEmYtvzNPY3Tf68PAxnX3sDAsXF4Z+ZFfq4YNOeoyVVzgYy35gl+d8TTfcQQH/Kmr/iPmrClnUgzYJbtZ8H4kLSB7YB8imcVg3so8avmAjFd+9a4+laRQHel2yklzpJ2oMzA3v0L/9Q3/CcBHKBsDHjCE5iKbqcSg63dmqipQMYfAf5bHEkxcJ5vOXfEYUvbqA0D6fL8DxOMAbB6Z5VaveeqrUDc/Op42oHq9xy1uaXj92KW86eAOfj9qXrv/ZGJpiZ9Yq9qkKEZNEv2RSB8KzRglwOpz7MKn1a3oy3UiwGz374ABr6j6p+B5b7lJNpmtiYC6Vo3/31ixFgLVuuyToTHK9Q1C9O/05Rd+lRviFbCm27+JoAvVs5JiNO97hWxfG3fWSw1EYjp2kGzsM+pkkGGMasyvXVW5ab77aAn1dHv4MXYSctSwr/7Wef7qhw2DP6uuSnzvRMeANFMpZgIJS/rxL53aEtMiQtk/GSnshIJwXqcFtzPYZbsFyKdXSJwqtftPKDKZaPg02sXTKaRapDP+5RiYv57L1eM4ev7O6NIXCCmm78X4DNUCKj3ik6V2HeJHVuKIaLYZmCxbznXRME0+ti023M2gX6gGOevUzRyQhK7EBMVyPhJsmoLzAgvEnd0t9w2WS2QrZqIY7tDUh8eyQrEtX+kfswyXdCSDRa0QN6eNPov3Ms0NgeH7aisrng5RSNT4p5FEhNILLMHcK9nOcEP2da7tEC2q2nGzfcw2FEpdBKzSHICUZ49yBNUzbZs3yotkHdoIYbfq7HPIokIJI7ZI4lPA5VPp9ixWiDvoDTj9mQZ5KpwHfd9k4xAFGePoFeu/8qmbEu3A9UC2akOzFLPTSBSeYEY6ywSu0BimT2I5vjZFm8krQWyU4FkHp73AU6n1qts141zFoldIJmyfSczPik9TTIe8HLOqdL4ZgFqgeyyUhk3/1UG/4NCKZ/3Xtl0eBzfQGIVSGZV7yHcKZ4GYMomx0Rz2+J8Di2QXQtkoPcQFiJoYi3dGYVhnONby++SvQ+34GIViFmyLwVBvt1OwutqVMmKFa8Fsls6zZJ9I0i+yyYxvl/JOconZcUrENcO1lwFZ3NLXcSYX8k5t0mBmw2kBbLbiqXL+SNI8BMgyW8jDI+oenjFuk2pUXlsAskM9E5jIQZk79PgwEzfcmLpfiEbQ01xWiB7pNt07X8GcOEeB+5qANGlXragdOx0bAJRbTxNjIWVnHOLNBnNBtQC2WPFgqOqDWaVA3UGPMvJ7tHRbgbEI5CNc9PmHyY+o9AG/2XPHD4cJ7TuUcvvqIEWSKj71nTtoC3tmaEG72SQajPBWASSdvPnEFhlM8+/eJZTk7PPZYmOHacFEorSTNm2mVEINXing+hGzypcLouPRSBmqecWEH1KNgigdn2O5GOMGakFEo7QgXP3NavpZ0D4s3CAHUfxoGcVpVcJxyMQ135KYanyE57lxNJ1T47AOqG0QEITb7r2dwGoNOr4oGc5vwztcJuBygLJuPMOZqSCJsVSFzNf7eeKX5YCNzNICyR09czS/FNBxn2hATsMJHBPxSqukMErCyTt9pxHGD0PQupiEkc16iHyUgmFBWmBhGVqdJxZsn8OwlGRQG8Plv6NqywQ07W/DUD2B/aDnuV8RDLp5oZpgUSqX8a1FzPkTiELzqmsWM6USA7HBysLJOPmH2OwnHOiL1eyhViPXpMhoS4YLZBItJtrek9FVUh/zfImpvfBlL7XIzlVbv/44LyJZib1VlSnW8dX+TTv5OJPpPHNDNQCiVa9Nb17m1XxCoCuaMCtoz/mWU5kgSnNIGbJngWCbBv6ivdG+t04vW+zZMLNDdMCiVw/s2z3g5GLDBydCehrFavwxahYJYEotWshuF7WkUo2apINOV4LJHJZMq59HQOLIgNHAdTvWYWTo2KVBGKWeu4G0SeiOh0NV1LRMr4aEqMFErksptszG6AHIwPHAK96lvPeqFg1gbh2sP7qsKhOxwUyo2IVVstgWwIjIxCiq/1sof3eGW0peH+uwzQO8mV/O3cMd+y3aeatwe+Y0Je8QMaCHQ7taYeBnuXI+5Z12kg4LRCpaphluwSGJQMmUOQPZembtHOg9yhDiJ/LBArQoGcVpNfHyPlsMJQWiFRBlN67STS5lhaIyht0Iny/klXfDinFcKOAtECkKmGW7QvAkofvMG7xcs7CKI6lBZJx7SXBkQRRnG0ZW6vz5WRiqxlGC0SK6kx/7zQ25HauMrDOt5ypURxLC8RUaA7H7dD3ak9V0ALZE0M7/3u/vY9pQO6EMcIbXtZ5VxTHKgIJVvAeHMXZ1rEdfKg3tfgrKWyrgLRApCtpuj0vAfTnMgbIqB5YmX7br8Ni5QSyeLFhdr9QDetkh3FDnuVMkMS2DkwLRLqWZsm+HwSpRa5Rn2TJCWTd3C5zeKLUEhECHqtYznHS7LQKUAtEupJm2b4BjM/LGGDCWX7WCfa5h7rkBKLyPRB4yLOcU0JF18qDtECkq5su568i5mtlDBDIrliFYlislEAmrvrUn410jvw+rJMdxrXuoThRCNECicLWdmPNUs8lIPpHKQOMi72c809hsVICyQzM+wCL1IthnWw7joAfVCxHvrm1jNNGxGiBSFdF5V1I1FcMUgIxXfv/APgPmQyZ4PhZJy+DbSmMFoh0OZVaARHd4GULoVcESwkk3b9gMhnVX0hm+F3Pcv5OEts6MC0Q6Vqm++1PkoE7JQ1Euv+kBNI50HOsIWiDVIBE3/CyhUulsK0E0gKRrma6nD+TmEM/idrhK/4dFcs5L6xzKYF0ufmTBHhtWCfbBci8pJIrfkEG21IYLRDpcprl/ClgfkDSwE88yzktLFZKICqHLRLjK5Wc86WwAbbsOC0Q6dJmyj0zmGmVlAHmVV6uOCssVkognavzxxspfjSsk+3GEb7uZZ0rpLCtBNICka6m2T//NBjGjyUN/KtnOaF3wcoJRGkvCH/bs4oXSSbXOjAtEOlapsv5TxDz3TIGGFjuW86CsFgpgaT77cPIQLDdVuZa5lmOQqNrGZcNiNECkS5KpmTPY4JUK1EA3/Qs55KwzqUEotKPl4BITxHCJtJ047RApEuWKdvnM6NPxgAB11QsZ3FYrJRAJjzUe0DVFL8N62S7ccz3eLni30hhWwmkBSJdTbPUczGIbpIywLjMyzmhl6lICWTSugV/4g1X/1sqQND9nlX4qBy2hVBaINLFTLv2IgKukzFA4E9VrOKysFgpgUCl5Wg7HfW8uypogYS9R98xTqVhITPO9nNO6B/4cgJRavlDf/Cswnuk2WkVoBaIdCVN1/4hgI/LGYh2mpmcQILzGsr2K2BE7lQXJNUhsP+mbkd2ubwcL42G0gKRrohZsp8F4UMyBhjVI3zrttBPYOUFUupZDaJumSDJMGZVpi+XexMq47ARMVogclXZsLDT3OQH3RVlrqpnOR1RgAoCsb8FgtwLP8IlXtb5ZpRAW3GsWbZfAOPA8LlF+3oQ3m7zjOx05/+VAeMJyYif8iwn0ilV0gLJuD0LGXSzZKD6ZSGAtGv/DYX8kCHG+krK+BqmLX9TkvOWgKm8JJR5ByctEJUVvQys9y3nhJaomE6ipgyY5fz1YJZay8dEX/CzhSVRApYWCB5e+C4z7f8xirNtxm7yLGcvSayGtTEDpmsHJ5LJvUczcIY33Ym0yFFeIMGTLNcOGnC9X6ZebXu6rQxZGrOVAdO1/wfAvjKU0LDxF5WZyyMdWa4okPx9AJ8qEyzAn/Ws4j/LYTWqHRnoXN17lJGSPVEAmz3LmRiVNzWBKDTwItBdFatwTtSA9fj2ZcAs2ReCIPWhSsDPKpZzfFT2lASSLvWeRST+X1Sn4+N/51nOAZJYDWtDBjKu/X0GZD9Ub/Is53NRaVMSiGIDOQhh/PVw93K55g9RM9Xjm54Bs2z/FgypD1UGPu5bTuQPcyWBBIybZXsQjCMl2f+cZzlyy5YlHWpYczLQNZA/XgjJbd4AjBHx50MzVkTeoqEuENf+DoALZGjXv0NkWGtPjFnOXwLm0Ps4dmDpac9ypD7ElQWScfM9DHYky/ZGyjMO3zx7+cuSeA1rEwZM1w7W7s2QTPdmz3IkP8QlPW6Bpcv5I4h5o7QZogu9bCGYhfSlGdgpA51reqcYVfGYLD1RN0lt60d5Bhn/HfIcGH8hmYA+DkGSuHaBZdz8Vxn8D7L5iqpx9PDJy5+UwccikEzJvpMJ0h3bxQgdOzyjILtCUybvhsKYa+xZEDSZwR8mpuMBDp7UrGXgZ2DxlJ9bcU9DBVzjYMySPQiSfhD0gmc5ckcFAohFIKbb8xmAvi3LGxF9uZItXC2Lb2Zc2s0XCTx/Dzmshhj5tNf9veeaOVeZ2M2B/GkQHGn91LZ+GCj6lmPL+A4wsQik65H57xMdRrBLa2/JQCKv05f00zCwsceWWAVw+EWbRBd52YL0B1HDJB8hENO1bwUQutHbjqZZ4Cy/O/yRazviYxFIYDTkJ+GuqRF0utdd+LcI3DXvUIndhFuSbadFnhPKf7v/iOj4BRHeLVdsesazCkfIYcdQ8QmkbM8hhsJ3ZbrHswpt0S/LdHu+DtDlkoWTfqYv6a9usLSb/yKBvyIbAMVwkkBsAgmSMEv2MyAcJp0Q8cxKtviILL4ZcCo74rbm1w4NwAfO3dcU6eDBzUGydRWM44ZzjvTj4VhnkMBYppy/lpmvkk2IiO6sZAvnyuKbAZdx7dsZUM3xec9yZB+rNwNNMN385QB/XSHYRzzLmamAj/crVmCtszz/OION9SpBGcTThrJFqcN5VPzWCmu6+acBPlzVH3WkDqpMXSZ1kKqq78Tx6+Z2mf7EJ1S+jcS13yjWr1ijX7PUlgSAmQt+rtibeBHq4WDsa0OwI075YqI5frZwr7KhBjRg9uc/C4NDH9X8jhQIb6QM4/DN09SXMMUuEMVuJ6O5CoOnDE8vPt6AtVMKKVOa381krFYyMg5mgWv87vBdyuPwWRMbo0/48o8D/FfS/pj7vFzx09L4bYCxCySwnXHtDQwcKxtgy67y7b9wL9PYHE/bHsZsL+c8LMtxo+Ji+O0BQXTscDaelRkJCUSpZ9Zo7Yipt5IrFBq1kLJxZVx7PQPHyeK34DqGO/bbNPPWV1TtNBI+437qYMbIOgD7KcQlvXJ3Zz4TEUgcswiAX3YIZFuth6+psH9mawEZT3o552iFm6ghoaZrB6sEPqMSXJyzx+gHtUowu8PG8VsEjH/ycs7FScVYD7vm6vwpSEkfYTwaMhMt8rOFG+oRf1I+M27+ZAarvgOLdfZIVCAxzSKAgVO96Y7smdhJ1VPJrunmbwZ4oYwR2e4cMr5qiVFqCDcWKAuiKXH99tiSe2IzyJhA1H+LABjwLCdby2LVwpfp5l8F+E+j+vIM/08w/Y7XouIaeXzG7VnAoGBRosoV++yR+AwS1yxCwPUVy7lShb1GxJqlnltAFOrEXyKsT/kdZ7baD/POcv4Yg0e/cqocqpTI7FETgaRd+1wCble9QZlorp8tBCcLtdQ12uEdCJZUHLKLxBjgz3tW8caWSjxIJnhjPjLxfjAstdx4qWcVP69mY+foRL9ibXGpdmTW1sCfp2FjVtTeqkmQFrvN/gv3yqByNKf4aDAHT6fey8DjZNDjKe58fHO273ex+2wAg7E80SP8qsPvmJrUzFoTgXT12yeIFNaCYajUhRh3V3LO2So2NLYxGDDL9kVgfEs5GuYLvVwxsaYfNRFIQIJZsm8AQXkaZOBK33KuVyZWG6gbA5lyzwxm4wGAIx2HtpOAH/YsZ3aSidRMIHutnffe4ZGOtQAfqpqQbBtJVb8ar85Aut8+jFL4oUI3zreDqNJHvJMLD6pHtWsLNRPI6CzSb18AA3FMh5XgGGDPcu5LkhxtO2YGHpw3MdOVcpnl1+ltE1Eij3V3zLimAhkViWsHilefFgmvwTBO9KYt//eYy6jNJcSA6dprAEyNwfyrgR3Pcn4Zg63dmqi5QLpW90wVKXoIwIQYktNHKMRAYi1MqO4T2i5Gwt95Wee7tYi75gIZm0XU+mjtQMx/epazq3cIteBQ+9gDA4rneuxgnfs8K569HmEKVxeBjIokwlvkEIms9SxnWohxekiNGci49mIGYmkKOLoOzU/Pxqy+12uVRt0EgoFz980I8yEGT4kjWQIeq1iO8j6LOGLRNsYYMEv2jSBcGgsfBJ9AsyvZghuLvZBG6ieQYDHjmt5uHhEPg5AKGe/uhzGeTY+IaW/OXPHfsdjTRqQZUFmxvFOnApd43c43pQOSBNZVIOOfMpeCEOM6I/4Ngz7qW84vJDnRMBUG7rvIzEx8c3kMrY22RqHaX1clnboLJAg+XbZXEGOeSiI7YP8I8DmeVQyelumrRgxkfmofxD5ujuUx/paYCU92DlVnv3XKbf9VozS2c9MQAsGGhZ3mJv9+hROEdsZdlUAXVqxCXz2IbTefY8tH6BsA/jK23BmvCEOcMZxd8bPYbEY01BgCCYLut/cxDQQ/wD4cMYc9Db/J6z/oUixeLPY0UP9djoGxhYfB+YGkurZq2wAEiM/wssWfyEUVD6pxBBK8OVzTe0C1KoJjofePJ72tVh5mUb3U775tMGa77W0u2M8xPDE4WFPq/L/dkcfAeb7l3FFvghtKIAEZ5roFh2JYPBPDSs8duKXfMPOlfs65u96kt4L/ztU9xxopCsQR+3ZoIjq/ki2obsGNheaGE0iQVefq3qOMlPh5LBnuYISBxb7YdCO6734rCfvtYHNsDzmuAyjynvoQ/HzOs5ybQoyryZCGFEiQeVep90RBImgilsT1FIFvrFjFFUkYb1Wb4615LgPw0SRyZKIv+NnCkiRsy9psWIGMziT986YYRkrpfIfdE8M/IqallZwzIEtgO+Ay7ryDGalAGEpN3XbLFfPfe7mi+g7DmAvS0AIJch0vzvMx572juZsM0bF0qPvW3yTsp+nMm27PZQAF4oj7wck2XPCZnlX8USOS0/ACCUgbf7r1UwAfSJDE3xF4GdK0rHKi80KCfhrfdL+dMQ0ODs5cAJB8l/UQmRJoRsUqxNLxPoS7yEOaQiBBVnuvmv9uP238q3qLmD1y9BqIlzGL5b51W3Byb/tco++itgpD+ZCf3RNHIyRGuivdtwWbqBr2ahqBjDI4enzA0O0An5E4o4QhMJYLiGXD1or/n7i/OjoYPU2WU70ECmaNg5MPhZ8TTOeqnh+YfJwJNq9OLPgNCzszm/3bmTE3MR87GmasJKKVFcH3otv5Y838JuzI7J9/GlJ0JhhzEnpk+84MGE+yIeb72RVPJZxeLOabawbZJuV0qedLRHRNLCyEN/J7ACtBtNLLJttNI3xI0UYGTwZThnEmY1QUk6Oh1UYHq3LTHdUr3ppan4WHMtE3rUCCZE235wyAgh5Z0kdPy5A2jvk5AyvJwHpvZNOaRn7x2FXumSoEHQ+DTwWT8smvkTkj+GBc0UgvAMPm0NQCCZLscvPvZ+YbmPDJsEknMG4zQOuJ8CiIVlemfWA1qH6LIzv7e6cQVU8mg04C43jFE5uU6Aq2yYLoilrvBFQKehtw0wtkSy5p115Eo8sfGuISIJTBPAgYgwaJwaEJ5iCmxLyXun9xR2f6hcmpKk0G82QGgq9MQVudfRqCBVCf53deUcs95HHn3TICGf3KNXp6k1iS9LN7hSK8BNAgiAcZ9BoJUYFBQ1RFRRg0hCoqlBJDBGOESXRxlbuMVCoDcBcL7mKiLgPoGhUCYzIIH1KIJUnoq2C+OsmeuUkGv63tlhLIaGL9diZt0OXEfDkI76oVkdrPOAPMfSBaWoumbrXgvPUEMs5aupw/AkAglHwtiGx7H8yrYBhLm/Xp3q7q17IC2ZKwOZA/DYIvB1QPaWl7CeyKgOfBtNTLFeLoudxwJLe8QLYRysXjQnl/w1WhaQPipR1m59JNJ7TWee2t/RtkNzfbhPLC/UfYX0iEhWAc0LT3Zb0DZ+4TAn3DJxcfr3coSftvmxlkWyInPNR7wIgpztdCiXp7cZ+otocwtjDTlgLZkvyoUDrFQkrhfD2j7E4s1Ceqoi1mjB1ZaGuBbBXKmt4DRFUsZMI88C5Pm436cdvs498E6E5hiL7h6a3/Vaptn2JFukvvu8hMT3xrjgE+a2wxH8xI+NYY/AjA9xgjvHJoxorftkZK8lnoGWQX3GUGeg/hqpgD8FkgavGjFegZYrGyWuWVwzPq18VQ/jZODqkFEoLbzEDvNGZxFgROAeHIEJBEvVeXAAABT0lEQVTGH0L4NTOVQHyPn3VWNn7A9YlQCyQi7+bA/A+SSJ3ILI4HUbBS9piIJuoznPk5NoxHCVgvBK9vht189SFqe69aIKpVGDh3X5M7TyLQSQycFKyqrdnuvF3HPkTAIBOtZ4F1RtVYV5mx7EXVVNsRrwWSQNUn9tv7VSEms2EcObYMnSbT2FezvWN2FyyrHyTBGwVokIgHMYKN3ozir2L207bmtEBqWPrM2gUHojpyqKDUJGNEvIuJJzEZk4h4EhiTiGgSMwcrkIOnZ68z0evE/AYRvc4s3iAyXhfj/zLwkp8tPF3D8NvSlRZIW5ZdJx2WAS2QsEzpcW3JgBZIW5ZdJx2WAS2QsEzpcW3JgBZIW5ZdJx2WAS2QsEzpcW3JgBZIW5ZdJx2WAS2QsEzpcW3JgBZIW5ZdJx2WAS2QsEzpcW3JgBZIW5ZdJx2Wgf8FOUxqffYezp8AAAAASUVORK5CYII=",backArrow:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADXtJREFUeF7tndtzW0cdx39r2TECwqWQFEpKA22aNoFSSgCTi6OVHRwCoUCJ8kIfAjMZpo/loQ99CX8A8JjJlIHO0D6glHIJmDiWtJYsXFNcoECghYYS7sSUSwjEFx0ts81mSENsnbNn90jn7NeP8f6+Z3+f3/lMtNaxzAhfIAACKxJgYAMCILAyAQiCuwMEViEAQXB7gAAEwT0AAmYE8D+IGTdUeUIAgngyaLRpRgCCmHFDlScEIIgng0abZgQgiBk3VHlCAIJ4Mmi0aUYAgphxQ5UnBCCIJ4NGm2YEIIgZN1R5QgCCeDJotGlGAIKYcUOVJwQgiCeDRptmBCCIGTdUeUIAgngyaLRpRgCCmHFDlScEIIgng0abZgQgiBk3VHlCAIJ4Mmi0aUYAgphxQ5UnBCCIJ4NGm2YEIIgZN1R5QgCCeDJotGlGAIKYcUOVJwQgiCeDRptmBCCIGTdUeUIAgngyaLRpRgCCmHFDlScEIIgng0abZgQgiBk3VHlCAIJ4Mmi0aUYAgphxQ5UnBCCIJ4O+3Ga1Wi3mcrm72+32bYyxO/S/Py2lfJYxdoJzXvEMyartQhBP7oZms7l2eXn5QSJ6YLWWpZSfLxaLn/EES8c2IUhHROlf0Gg0tgRB8CgR3Rmym8c45wdCrs30MgiS6fESaTnKRLQ1SqtSykKxWKxHqcniWgiSxanqnmq12lbG2FejyqHKpZRPMsZGOOcXMoyoY2sQpCOidC6II8fljhljhwuFwkPpJGBn1xDEDseeSlFyEFGZMbYl5sYe4ZzfGzMj1eUQJNXj+//NW5RDhZ/lnG/MGKJI7UCQSLh6e7FlOVSzZzjnt/R21253B0Hc8k0s3YEc6qB+tFgs3pdYEz14IQjSg0OJuiUXcug9HOKcPxx1P1laD0FSPk2HcjwTBMHO0dHRF1KOKNb2IUgsfN0tdigHMcY+WSgUvtzdDrt/dQjS/RkY7cCxHOVCoXDQaGMZK4IgKRwo5EhuaBAkOdZWruRSDiI6zjkvWdloRkIgSIoGCTmSHxYESZ650RUhhxG22EUQJDZC9wGQwz3jla4AQbrHPtSVIUcoTM4WQRBnaOMHQ474DOMmQJC4BB3VQw5HYCPGQpCIwJJYDjmSoBzuGhAkHKfEVkGOxFCHuhAECYUpmUWQIxnOUa4CQaLQcrgWcjiEGyMagsSAZ6sUctgiaT8HgthnGikRckTClfhiCJI48v9dEHJ0EX7IS0OQkKBsL4Mctom6yYMgbriumgo5ugDd8JIQxBCcaRnkMCXXnToIkiB3yJEgbEuXgiCWQHaKgRydCPXm9yFIAnOBHAlAdnQJCOII7OVYyOEYsON4COIQMORwCDehaAjiCDTkcAQ24VgI4gA45HAAtUuREMQyeMhhGWiX4yCIxQFADosweyQKglgaBOSwBLLHYiCIhYFADgsQezQCgsQcDOSICbDHyyFIjAFBjhjwUlIKQQwHBTkMwaWsDIIYDAxyGEBLaQkEiTg4yBERWMqXQ5AIA4QcEWBlZCkECTlIyBESVMaWQZAQA4UcISBldAkE6TBYyJHROz9kWxBkFVCQI+RdlOFlEGSF4UKODN/1EVqDINeABTki3EEZXwpBrhow5Mj4HR+xPQhyBTDIEfHu8WA5BNFDhhwe3O0GLUIQIjp27NjA5s2bZ6WUdxkw7FRynHNe6rQI3+9NAhCEiGq12v2Msc85GBHkcAA1yUjvBalUKtfncrlZItpoGTzksAy0G3HeC1Kr1Q4zxo5Zhg85LAPtVpz3ggghvkJEn7A4AMhhEWa3oyCIEL8hopssDQJyWALZKzEQRIjniOhmSwOBIJZA9koMBBHiKBF92uJAHtM/1pUWMxHVJQLeCzI1NXVISvkly/y/VigUDjDGIIllsEnHeS+IEOL1RNQkos024UspH+ecK0naNnORlSwB7wVRuIUQnyKiL9pGzxh7/Ny5c6VSqRTYzkZeMgQgiOYshDhORB93gP3rRFTinLccZCPSMQEIogFLKdnU1JSS5B4HzL+xdu3a0rZt25YdZCPSIQEIcgXcI0eO9A0PDx9njH3MAfNvzs/Pq5dbSw6yEemIAAS5Cmy5XM6tX7++LKW0LomU8lsLCwulffv2LTqaJ2ItE4Ag1wAqpczpl1sftcxbxZ3YsGHDgU2bNkESB3BtR0KQFYgKIfqJSJ1JPmIdOmMnpJTq4L5gOxt5dglAkFV4zs3NDZw/f16dSe62i/3FtG8PDg6Wtm/fftFBNiItEYAgHUCWy+U169atKxORC0m+c+HChdL+/fv/Y2meiLFMAIKEAHr69Ok18/Pzx6WUHw6xPNISKeX48vJyaWxs7N+RCrE4EQIQJCTm8fHxwXw+r84k+0OWRFn2Xf1m4oUoRVjrngAEicBYCPEyfXD/UISysEtPEtEBzjkkCUssgXUQJCLkcrmc12cSJ5IMDAyUdu7c+a+I28JyRwQgiAHYmZmZ/OLionq59UGD8k4lE/l8vjQ0NHS+00J83z0BCGLIeG5u7uX6R8D7DCNWLGOMnVIH9z179vzTdjbyohGAINF4vWT1xMTEKwYHB9VjKdYlIaJJfXD/R4wtojQmAQgSE6AQ4pVEpN4n+UDMqGuVV/r7+0u7du36u4NsRIYgAEFCQOq0REuiziR7O62N+n0pZXVpaam0d+/ev0Wtxfr4BCBIfIYvJjSbzbXLy8tKkjFLkVfGVPVjKZDEAdzVIiGIReDj4+Ovyufz6uWWdUkYY7VWq1UaHR19weKWEdWBAASxfItMTk6+emBgQB3c3285WsUJfXD/q4NsRF6DAARxcFsoSfr7+9XLrT0O4qdyuVxpeHh43kE2Iq8iAEEc3RJCiNfox1JGHVyirg7uY2Nj5xxkI/IKAhDE4e0wPT392larpc4kTiQJguDg6OjoXxy24H00BHF8C5w8efI69WYiEY3YvhRjrCGlPMg5/7PtbORdIgBBErgTZmZmrltYWFC/mVh0cLlpfXCHJA7gQhAHUK8VWalUXpfL5dTBnTu4ZFMf3P/kINvrSAiS4PjV5wAzxtSPgF1I8j39qPwfE2wp85eCIAmPeHx8fJ1+M7Fg+9JSyhn1aSkjIyN/sJ3tax4E6cLkG43GuiAI1Mut3Q4u/4Q+k/zeQbZ3kRCkSyOfmJhYv2bNGvXTLeuSMMaeWFxcPDg2Nva7LrWXmctCkC6OUv0J6v7+fnUmGXawjdm+vr7S7t27IUkMuBAkBjwbpbOzs9dfvHhRvdzaZSPvqozv698n+a2DbC8iIUgPjFkI8Qb9WMpO29uRUj6pD+5nbWf7kAdBemTKjUbjjUEQqDOJdUmI6Af64K7+5DW+IhCAIBFguV566tSpG9Sj8kS0w8G15vSZ5HkH2ZmNhCA9Ntpms3lDq9VSH3O63cHW5vQDjr92kJ3JSAjSg2OtVqtv6uvrUwf39znY3lPtdvvgyMjIGQfZmYuEID06UiHEBv1YinVJGGM/VI+l7NixA5J0mD8E6VFB1LYmJiZu1G8mDjnY5o/0wf05B9mZiYQgPT7Ker1+Y7vdVi+33utgqz/WB/dfOcjORCQEScEYp6en36w+Uogx9h4H2306CAL1aSm/dJCd+kgIkpIRVqvVm3K5nHosxYkk6jcTi8XisynBkdg2IUhiqONfSAixUX/M6bvjp700gTH2E/3ru8/Yzk5zHgRJ2fS0JOpMss3B1n+qD+6QRMOFIA7uMteR9Xr9Lfrg/i4H1/qZPrj/wkF26iIhSOpGdmnDlUrlrepMQkQuJHmKiIY4562U4rG2bQhiDWXyQdVq9WZ9cL/L9tUZY/cXCoUv2M5NWx4ESdvErtqvkkQ/lvJOy608v7S0NOT7pzdCEMt3VTfihBC36N8nudPm9RljhwuFwkM2M9OWBUHSNrEV9luv1ze12211JrEpySOc83szgsioDQhihK03iyqVyq364P4OSzs8yzlX7714+wVBMjb66enpW/VjKXdYaO0M51y9fPP2C4JkcPS1Wm0zY0y9mfj2OO1JKY8Wi8X74mSkvRaCpH2CK+xfCHGb/n2SOJIc4pw/nFFEodqCIKEwpXPR5OTk7epzt4jobQYd4Me8+PMHBrdNykrq9frt+rGUrVG2jjcKL9HC/yBR7pqUrm00GluCIHg0wo+A8aiJnjUESelNH3Xb+u+4P0hED3SoPcI5/2zU/KyuhyBZnewKfdXr9aKU8h4p5RYiuvyy67SU8ufqJ1+c8ynPkKzaLgTB3QACqxCAILg9QACC4B4AATMC+B/EjBuqPCEAQTwZNNo0IwBBzLihyhMCEMSTQaNNMwIQxIwbqjwhAEE8GTTaNCMAQcy4ocoTAhDEk0GjTTMCEMSMG6o8IQBBPBk02jQjAEHMuKHKEwIQxJNBo00zAhDEjBuqPCEAQTwZNNo0IwBBzLihyhMCEMSTQaNNMwIQxIwbqjwhAEE8GTTaNCMAQcy4ocoTAhDEk0GjTTMCEMSMG6o8IQBBPBk02jQjAEHMuKHKEwIQxJNBo00zAhDEjBuqPCEAQTwZNNo0IwBBzLihyhMCEMSTQaNNMwIQxIwbqjwhAEE8GTTaNCMAQcy4ocoTAhDEk0GjTTMCEMSMG6o8IfBfwJuf9iDhY6gAAAAASUVORK5CYII=",disable:!1,items:[],noticeList:[]},observers:{input(e){if(e){var t=JSON.parse(e);this.setData(t)}},items(e){if(e){var t=e.every((e=>!e.checked));this.setData({disable:t})}}},created(){},attached(){D.triggerRender((()=>{this.setData({enter:!0})}))},detached(){},methods:{handleConfirm(){this.data.disable||(this.triggerEvent("confirm",{items:this.data.items}),this.destory())},handleCancel(){this.triggerEvent("cancel",{items:this.data.items}),this.destory()},handleReject(){this.triggerEvent("reject",{items:this.data.items}),this.destory()},handleCheck(e){if(!e.target.dataset.id){var t=e.mark.name,r=this.data.items.map((e=>(e.name===t&&(e.checked=!e.checked),e)));this.setData({items:r})}},handleNoticeOpen(e){var t=e.target.dataset.id;this.data.items.forEach((e=>{e.id===t&&this.setData({slide:!0,noticeList:e.noticeList})}))},handleNoticeClose(){this.setData({slide:!1,noticeList:[]})},destory(){this.setData({enter:!1}),setTimeout((()=>{this.triggerEvent("destroy")}),this.data.duration)}}});r(300);var O={content:function(){var e={},t={P:"",C:[{T:"virtuallayout",A:{class:"root"},C:[{T:"wx-view",A:{class:"content",style:{L:function(e,t,r){return!(!e.top&&!e.right)||void 0},F:function(e,t,r,n){return"top:"+e.top+"px;right:"+e.right+"px"}},"bind:tap":"tap"},C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.showSeconds||void 0},F:function(e,t,r,n){return!e.showSeconds}},C:[{T:"wx-view",A:{class:"first"},C:[{S:"\n      尚未实名认证，仅可玩1小时\n    "}]}]},{B:{L:function(e,t,r){return!!e.remainSeconds||void 0},F:function(e,t,r,n){return e.remainSeconds>0}},C:[{T:"wx-view",A:{class:"cd"},C:[{T:"wx-view",A:{style:{L:function(e,t,r){return!(!e.remainSeconds&&!e.remainThreshold)||void 0},F:function(e,t,r,n){return"overflow-wrap:normal;color:"+(e.remainSeconds<e.remainThreshold?"#fa5151":"rgba(0,0,0,.5)")}}},C:[{S:{L:function(e,t,r){return!!e.remainStr||void 0},F:function(e,t,r,n){return"\n        "+e.remainStr+"\n      "}}}]},{T:"wx-view",A:{style:"margin-left:4px"},C:[{S:"微信小游戏实名认证"}]}]}]},{B:1,C:[{T:"wx-view",A:{class:"msg"},C:[{S:"\n      微信小游戏实名认证\n    "}]}]}]},{T:"wx-image",A:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAwBAMAAAD5pqeQAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABnRSTlMAgEAIaFCMCA7dAAAAMUlEQVQoz2MYfEAJic0kqIDgmAgKITjMjgMnJYzgsCJzAoHKEBJC9JNABBUiEAcnAACUTAh6KPgabwAAAABJRU5ErkJggg==",style:"height: 16px; width: 8px;"},C:[]}]}]}],BM:{top:[[0,0,"style"]],right:[[0,0,"style"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},M=e=>e<10?`0${e}`:`${e}`,L=r(821).exparser,N=!1,B=null,W=!1,F=L.registerElement({is:"verify-tip",options:{classPrefix:"verify-tip",writeIdToDOM:!0,virtualHost:!0},template:O,properties:{top:{type:Number,value:20},right:{type:Number,value:100},remainThreshold:{type:Number,value:300},info:{type:String,value:"{}"}},data:{showSeconds:N,remainStr:"00:00",remainSeconds:-1},observers:{info(e){this.setData(JSON.parse(e))},remainSeconds(e){e<0&&(e=0);var t=e%60,r=Math.floor(e/60);this.setData({remainStr:M(r)+":"+M(t)})}},attached(){W=!1,this.setData({showSeconds:N}),N||setTimeout((()=>{N=!0,W||this.setData({showSeconds:!0})}),1e4),B=setInterval((()=>{var{remainSeconds:e}=this.data;e&&(e--,this.setData({remainSeconds:e}),e||this.triggerEvent("stop"))}),1e3)},methods:{tap(){this.triggerEvent("click")},des(){clearInterval(B),W=!0,this.triggerEvent("destroy")}}}),U=(r(164),e.exparser),V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAABEElEQVR4Ae3aQQqCQACF4Yp2XaQDdP8T1L6LtC4FXf8RWhLfQIzwYBw/X250tzMIECBAgAABAgQIbFzgOuzvOf3G402MwyZ2seFNAIqbAwhQCESsQYBCIGINAhQCEWsQoBCIWIMAhUDEGgQoBCLWIEAhELEGAQqBiDUIUAhErEGAQiBiDQIUAhHvI5/jb7zIOw8nO00nfAzzfT75ivOl1n4XaHzj+Y8jr98zKG77MfI5vs0HK86/+IuteDnLL+3jheVN11/RMyiMAQEKgYg1CFAIRKxBgEIgYg0CFAIRaxCgEIhYgwCFQMQaBCgEItYgQCEQsQYBCoGINQhQCESsQYBCQEyAAAECBAgQIEDgE4EXsiEOYoSfPhkAAAAASUVORK5CYII=",j=[];e.onViewportResize((e=>{j.forEach((t=>t(e)))}));var G=U.registerElement({is:"user-profile",options:{classPrefix:"user-profile",writeIdToDOM:!0},behaviors:["wx-theme"],template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.hide||void 0},F:function(e,t,r,n){return"root "+(e.hide?"hide":"")}}},C:[{V:1,B:[{B:{L:function(e,t,r){return e.overlay},F:function(e,t,r,n){return e.overlay}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"mask "+(e.enter?"mask-in":"")}}},C:[]}]}]},{T:"wx-view",A:{class:"container"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"content "+(e.enter?"content-in":"")}}},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-image",A:{class:"icon",src:{L:function(e,t,r){return e.appIcon},F:function(e,t,r,n){return e.appIcon}}},C:[]},{T:"wx-view",A:{class:"title"},C:[{S:{L:function(e,t,r){return!!e.appName||void 0},F:function(e,t,r,n){return e.appName+" 申请"}}}]}]},{T:"wx-view",A:{class:"body",style:{L:function(e,t,r){return!!e.paddingBottom||void 0},F:function(e,t,r,n){return"padding-bottom: "+e.paddingBottom+"px"}}},C:[{T:"wx-view",A:{class:"apply-info"},C:[{S:"使用你的头像、昵称、性别及地区，用于个人信息展示。"}]},{T:"wx-view",A:{class:"info-list"},C:[{T:"wx-scroll-view",A:{"scroll-y":{L:function(e,t,r){},F:function(e,t,r,n){return!0}},style:{L:function(e,t,r){return!!e.scrollHeight||void 0},F:function(e,t,r,n){return"height: "+e.scrollHeight+"px;"}}},C:[{V:2,L:{M:["infoList"],L:function(e,t,r){return e.infoList},F:function(e,t,r,n){return e.infoList}},K:"id",C:[{T:"wx-view",A:{"bind:tap":"handleChoose","data-id":{L:function(e,t,r){return c(t[0],"id")},F:function(e,t,r,n){return l(t[0]).id}},style:"flex-shrink: 0;"},C:[{T:"wx-view",A:{class:"split-line"},C:[]},{T:"wx-view",A:{class:"info-item",id:{L:function(e,t,r){return!!c(t[0],"id")||void 0},F:function(e,t,r,n){return"item_"+l(t[0]).id}}},C:[{T:"wx-view",A:{class:"info-item__left"},C:[{T:"wx-image",A:{class:"info-item__avatar",src:{L:function(e,t,r){return c(t[0],"avatar")},F:function(e,t,r,n){return l(t[0]).avatar}}},C:[]},{T:"wx-view",A:{class:"info-item__desc__wrp"},C:[{T:"wx-view",A:{class:"info-item__nickname"},C:[{S:{L:function(e,t,r){return c(t[0],"nickname")},F:function(e,t,r,n){return l(t[0]).nickname}}}]},{V:1,B:[{B:{L:function(e,t,r){return c(t[0],"desc")},F:function(e,t,r,n){return l(t[0]).desc}},C:[{T:"wx-view",A:{class:"info-item__desc"},C:[{S:{L:function(e,t,r){return c(t[0],"desc")},F:function(e,t,r,n){return l(t[0]).desc}}}]}]}]}]}]},{V:1,B:[{B:{L:function(e,t,r){return!(!e.selected&&!c(t[0],"id"))||void 0},F:function(e,t,r,n){return e.selected===l(t[0]).id}},C:[{T:"wx-view",A:{class:"info-item__right"},C:[{T:"wx-image",A:{class:"icon-checked",src:{L:function(e,t,r){return e.iconChecked},F:function(e,t,r,n){return e.iconChecked}}},C:[]}]}]}]}]}]}]},{T:"wx-view",A:{class:"split-line"},C:[]}]},{V:1,B:[{B:{L:function(e,t,r){return!!(e.showType||e.exceed||e.isBanModifyAvatar)||void 0},F:function(e,t,r,n){return 1===e.showType&&!e.exceed&&!e.isBanModifyAvatar}},C:[{T:"wx-view",A:{class:"use-other-avatar","bind:tap":"handleCreate"},C:[{S:"使用其它头像和昵称"}]}]}]},{V:1,B:[{B:{L:function(e,t,r){return!!(e.showType||e.exceed||e.isBanModifyAvatar)||void 0},F:function(e,t,r,n){return 2===e.showType&&!e.exceed&&!e.isBanModifyAvatar}},C:[{T:"wx-view",A:{class:"info-item-add","bind:tap":"handleCreate"},C:[{T:"wx-image",A:{class:"info-item-add__plus",src:{L:function(e,t,r){return e.iconPlus},F:function(e,t,r,n){return e.iconPlus}}},C:[]},{T:"wx-view",A:{class:"info-item-add__text"},C:[{S:"使用其它头像和昵称"}]}]},{T:"wx-view",A:{class:"split-line"},C:[]}]}]},{V:1,B:[{B:{L:function(e,t,r){return e.exceed},F:function(e,t,r,n){return e.exceed}},C:[{T:"wx-view",A:{class:"exceed-tip"},C:[{S:"数量已达上限，无法新增"}]}]}]}]}]},{T:"wx-view",A:{class:"buttons"},C:[{T:"wx-view",A:{class:"button cancel","bind:tap":"handleCancel","hover-class":"hand-over"},C:[{S:"取消"}]},{T:"wx-view",A:{class:"button confirm","bind:tap":"handleConfirm","hover-class":"hand-over"},C:[{S:"允许"}]}]}]}]}]}],BM:{scrollHeight:[[0,1,0,1,1,0,"style"]],hide:[[0,"class"]],paddingBottom:[[0,1,0,1,"style"]],appIcon:[[0,1,0,0,0,"src"]],appName:[[0,1,0,0,1,0]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},data:{overlay:!0,enter:!1,hide:!1,duration:200,appName:"",appIcon:"",infoList:[],input:"",iconChecked:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAACT0lEQVR4Ae3asUoDMRgH8ORaqgh26CYOujk4uUlBBRFXVxcXfQJfQOqDWHyBIiI4SEEEKW4OPoduWqtt4n3IQSntXa6XpEn6D7TXHl+OfD+SI5cLYygQgAAEIAABCEAAAhCAAAQgAAEIQAACPgs0ZCPK036eJ9j32OXn040fIVqlcunkq371qpJPLk2VC7oaQzi/QjwyyTZFX7SXOmdbKm2dix6U4EjJVhIUzvlHVI4OsnpS8D1oHA4hxVhVOZDrCdikY9BAk3AY4/2I8+PuTvNmEkxyPtghlomz22wlCGnHIIF04RBccEA6cYID0o0TFJAJnGCATOEEAWQSx3sg0zheA9nA8RbIFo6XQDZxvAOyjeMV0CxwlIGqnbPaT1/cSckve3vNB6pos8wKh3LMfBYjnN6vaMcrKLQC981YdGQTaZY4mUAjOBRPxRrSrHEo2dQFswEbrHLO1ihwqCwyJm4Xnk4Ph85p/+kCDiWVCvRZv36jdVtavx0RMIrkCg7lnHkPoiB6A0BvAqSUNfo/VLQPN5dwKE8lIAq0geQaTi4g00gu4uQGMoXkKs5UQLqRXMaZGkgXkus4hYCKIvmAUxhoWiRfcLQA5UXyCUcbkCqSbzhagTKReHTOmbgY3oJCdeK56v9GAsV35f917H0rz6RVm5Qy4x5zCbdxqMHageiiakju4xgDykbyA8co0GQkf3Aoh9T1IAooUmj/X6Uit+ORfB+P5ff488JLcr/r6A25SK6oCwEIQAACEIAABCAAAQhAAAIQgAAEIACBuRD4AzKlWWPvanSJAAAAAElFTkSuQmCC",iconPlus:V,scrollHeight:66,screenHeight:812,screenWidth:375,showType:1,selected:0,limit:4,exceed:!1,isBanModifyAvatar:!1,paddingBottom:194},observers:{input(e){if(e){var t=JSON.parse(e);this.setData(t)}},infoList(e=[]){console.log("[user-profile]: infoListChanged");var t=e.length,r=this.data.limit;this.setData({exceed:t>=r}),this.didChangeScrollHeight()}},created(){console.log("[user-profile]: created"),this.onViewportResize()},attached(){console.log("[user-profile]: attached"),U.triggerRender((()=>{this.setData({enter:!0})})),this._onViewportResize=this.onViewportResize.bind(this),j.push(this._onViewportResize)},detached(){j.splice(j.indexOf(this._onViewportResize),1)},methods:{_onThemeChange({theme:e}){console.log("[user-profile] _onThemeChange: ",e),"dark"===e?this.setData({iconPlus:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAABT0lEQVR4Ae3aMQ6CQBRFUcdYuAxKF+XyXBSly7BDTMaQ3EzyJiLQXBt4fJjBkw/NcDr5U0ABBRRQQAEFFFCgIVAaxw45NE3TY574VicfSyn3Q24Ek56RjRAQCCCMAlEEWSCAMApEEWSBAMIoEEWQBQIIo0AUQRYIIIwCUQRZIIAwCkQRZIEAwigQRZAFAgijQBRBFgggjAJRBFkggDAKRBFkgQDCKBBFkAUCCGPXwmFd1OO1/87DPOC1Dvqat8+6v9mmZ3Hy0jn7d8Wz8/TVp32g9p6zedM+Yk2W5WBvB43LJZvtDfPIuz5iPf+k6x3UM9Dac/x4Ya3gQdf7DgrwAgkUBELZDhIoCISyHSRQEAhlO0igIBDKdpBAQSCU7SCBgkAo20ECBYFQtoMECgKhbAcJFARC2Q4SKAiEsh0kUBCwrIACCiiggAIKKKDALwJvdcMTni08WagAAAAASUVORK5CYII="}):this.setData({iconPlus:V})},didChangeScrollHeight(){var{screenHeight:e,screenWidth:t}=this.data,r=65*this.data.infoList.length+1,n=e>t,i=n?.75*e:.9*e,a=n?194:118,o=n?361:277;o+r>i&&(r=i-o),console.log("[user-profile]: screenHeight",e,"scrollHeight: ",r),this.setData({scrollHeight:r,paddingBottom:a})},onViewportResize(){console.log("[user-profile]: onViewportResize");var t=e.getWindowHeight(),r=e.getWindowWidth();this.setData({screenHeight:t,screenWidth:r}),this.didChangeScrollHeight()},handleCancel(){this.triggerEvent("cancel"),this.destory()},handleConfirm(){var e=this.data.selected;this.triggerEvent("confirm",{selected:e}),this.destory()},handleCreate(){this.data.exceed||(this.setData({hide:!0}),this.triggerEvent("create"))},handleChoose(e){var t=e.currentTarget.dataset.id;t!==this.data.selected&&this.setData({selected:t})},destory(){this.setData({enter:!1}),setTimeout((()=>{this.triggerEvent("destroy")}),this.data.duration)}}}),H=(r(13),t.registerElement({is:"toast",options:{classPrefix:"toast",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{T:"wx-view",A:{class:"content"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.loading},F:function(e,t,r,n){return e.loading}},C:[{T:"wx-image",A:{src:"https://res.wx.qq.com/op_res/4gTGxmOnjTG1Pmsfj7JwUaZHfOb677UMxDEVI8p20yTosmcwujlY9-UEvMZm0ePGFGKS_PoQJNEN_S9YFfGTWA",class:"loading"},C:[]}]}]},{T:"wx-view",A:{class:"title"},C:[{S:{L:function(e,t,r){return e.title},F:function(e,t,r,n){return e.title}}}]}]}]}],BM:{title:[[0,0,1,0]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{loading:{type:Boolean,value:!1},title:{type:String}},methods:{close(){this.triggerEvent("destroy")}}})),Q=(r(426),[]);e.onViewportResize((e=>{Q.forEach((t=>t(e)))}));var $=t.registerElement({is:"share-image",behaviors:["wx-theme"],options:{multipleSlots:!0,classPrefix:"share-image",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.orientation||void 0},F:function(e,t,r,n){return"portrait"===e.orientation}},C:[{T:"mp-bubble-action-sheet",A:{actions:{L:function(e,t,r){return e.actionsArr},F:function(e,t,r,n){return e.actionsArr}},show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},mask:{L:function(e,t,r){},F:function(e,t,r,n){return!1}},"bind:buttontap":"onButtonTap","bind:close":"handleClose","bind:closed":"handleClosed"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"mask "+(e.show?"mask__in":"")}},slot:"mask"},C:[]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"container "+(e.show?"container__in":"")}},slot:"mask"},C:[{T:"wx-view",A:{class:"scroller-container"},C:[{T:"scrollview",A:{class:"scroller","scroll-y":"1"},C:[{T:"wx-view",A:{class:"img-wrapper"},C:[{T:"wx-adaptive-image",A:{class:"img",src:{L:function(e,t,r){return e.imgPath},F:function(e,t,r,n){return e.imgPath}},srcHeight:{L:function(e,t,r){return e.height},F:function(e,t,r,n){return e.height}},srcWidth:{L:function(e,t,r){return e.width},F:function(e,t,r,n){return e.width}}},C:[]}]}]}]}]}]}]},{B:1,C:[{T:"mp-horizonal-bubble",A:{actions:{L:function(e,t,r){return e.actionsArr},F:function(e,t,r,n){return e.actionsArr}},show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},"bind:buttontap":"onButtonTap","bind:close":"handleClose","bind:closed":"handleClosed"},C:[{T:"wx-view",A:{slot:"content"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.show||void 0},F:function(e,t,r,n){return"landscape-container "+(e.show?"container__in":"")}}},C:[{T:"wx-view",A:{class:"scroller-container"},C:[{T:"scrollview",A:{class:"scroller","scroll-y":"1"},C:[{T:"wx-view",A:{class:"img-wrapper"},C:[{T:"wx-adaptive-image",A:{class:"img",src:{L:function(e,t,r){return e.imgPath},F:function(e,t,r,n){return e.imgPath}},srcHeight:{L:function(e,t,r){return e.height},F:function(e,t,r,n){return e.height}},srcWidth:{L:function(e,t,r){return e.width},F:function(e,t,r,n){return e.width}}},C:[]}]}]}]}]}]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{imgPath:{type:String,public:!0,value:""},height:{type:Number,public:!0,value:0},width:{type:Number,public:!0,value:0},actions:{type:String,public:!0,value:"[]"}},data:{show:!1,actionsArr:[],imgHeight:0,imgWidth:0,orientation:"portrait"},observers:{actions(){this.getActions(this.data.actions)}},created(){this.onViewportResize()},attached(){t.triggerRender((()=>{this.setData({show:!0})})),this._onViewportResize=this.onViewportResize.bind(this),Q.push(this._onViewportResize)},detached(){Q.splice(Q.indexOf(this._onViewportResize),1)},methods:{onViewportResize(){var t=e.getWindowWidth(),r=e.getWindowHeight();this.updateOrientation(t,r)},updateOrientation(e,t){this.setData({orientation:e<=t?"portrait":"landscape"})},getActions(e){var t=JSON.parse(e);this.setData({actionsArr:t})},onButtonTap(e){var{item:t}=e.detail;this.triggerEvent(t.action),this.triggerDestroy()},handleClose(){this.data.show&&(this.triggerEvent("cancel"),this.triggerDestroy())},handleClosed(){this.triggerEvent("destroy")},triggerDestroy(){this.setData({show:!1})}}}),z=(r(172),e=>e.split("?",2)[0]),Y=e=>".html"===e.slice(-5)?e.slice(0,-5):e,Z=(e,t)=>("/"!==(e=Y(e))[0]&&(e="/"+e),Y(e)===Y(z(t))),q=t.registerElement({is:"frameset",options:{classPrefix:"frameset",virtualHost:!0},template:{content:function(){var e={},t={P:"",C:[{T:"virtuallayout",A:{class:"root"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.hasTabs},F:function(e,t,r,n){return e.hasTabs}},C:[{T:"tabbar",A:{class:"tabs",direction:"vertical"},C:[]}]}]},{T:"virtuallayout",A:{class:"panels"},C:[{T:"virtuallayout",A:{class:"left-panel"},C:[{V:2,L:{M:["tabs"],L:function(e,t,r){return e.tabs},F:function(e,t,r,n){return e.tabs}},K:"i",C:[{V:2,L:{M:[0,"pages"],L:function(e,t,r){return c(t[0],"pages")},F:function(e,t,r,n){return l(t[0]).pages}},K:"i",C:[{T:"frame",A:{class:{L:function(e,t,r){return!!c(t[0],"hidden")||void 0},F:function(e,t,r,n){return"left-page "+(l(t[0]).hidden?"hidden":"")}},"back-button":{L:function(e,t,r){return!!t[3]||void 0},F:function(e,t,r,n){return t[3]>0?"true":""}},url:{L:function(e,t,r){return c(t[2],"url")},F:function(e,t,r,n){return l(t[2]).url}},"margin-left":"1","margin-right":"1","data-side":{L:function(e,t,r){},F:function(e,t,r,n){return"left"}},"bind:navigateBack":"navigateBack","bind:resize":"triggerPageOnResize"},C:[]}]}]}]},{T:"virtuallayout",A:{class:"right-panel"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.placeholderImage},F:function(e,t,r,n){return e.placeholderImage}},C:[{T:"image",A:{src:{L:function(e,t,r){return e.placeholderImage},F:function(e,t,r,n){return e.placeholderImage}},class:"right-placeholder"},C:[]}]}]},{V:2,L:{M:["mainPages"],L:function(e,t,r){return e.mainPages},F:function(e,t,r,n){return e.mainPages}},K:"i",C:[{T:"frame",A:{class:{L:function(e,t,r){return!!c(t[0],"aniIn")||void 0},F:function(e,t,r,n){return"right-page "+(l(t[0]).aniIn?"right-page-in":"")}},"back-button":"true",url:{L:function(e,t,r){return c(t[0],"url")},F:function(e,t,r,n){return l(t[0]).url}},"data-side":{L:function(e,t,r){},F:function(e,t,r,n){return"right"}},"bind:navigateBack":"navigateBack","bind:resize":"triggerPageOnResize"},C:[]}]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},lifetimes:{route({method:e,url:t,args:r}){this[e](t,r)}},data:{hasTabs:!1,tabs:[],mainPages:[]},created(){this.globalShowStatus=!0,this.shownTabDepths=[],this.shownMainPagesDepth=-1,this.pageLifeTimeCallback=()=>{}},observers:{"hasTabs, tabs.**, mainPages.**":function(){this.triggerShowHideEvents()}},methods:{normalizeUrl:e=>("/"!==e[0]&&(e="/"+e),(e=>{var t=e.indexOf("?");return-1===t?e+".html":e.slice(0,t)+".html"+e.slice(t)})(e)),appLaunch(e,{tabBarConfig:t,entryPagePath:r}){var n=t&&t.list&&t.list.length>0&&!t.custom,i=this.normalizeUrl(e),a=null;if(n)t.list.forEach((e=>{Z(e.pagePath,i)&&(a=i)}));else{if(!Z(r,i))return;a=this.normalizeUrl(Y(r))}null===a?this.setData({hasTabs:n,tabs:[{i:0,hidden:!1,pages:[{i:0,url:this.normalizeUrl(Y(r))}]}],mainPages:[{i:0,url:i,aniIn:!0}]}):this.setData({hasTabs:n,tabs:[{i:0,hidden:!1,pages:[{i:0,url:a}]}],mainPages:[]})},reLaunch(e){e=this.normalizeUrl(e),this.setData({tabs:[{i:0,hidden:!1,pages:[{i:0,url:e}]}],mainPages:[]})},switchTab(e){e=this.normalizeUrl(e);var t=!1;this.data.tabs.forEach((r=>{z(r.pages[0].url)===z(e)?(r.hidden=!1,t=!0):r.hidden=!0})),t||this.data.tabs.push({i:this.data.tabs.length,hidden:!1,pages:[{i:0,url:e}]}),this.setData({tabs:this.data.tabs,mainPages:[]})},navigateBack(e){var t="right";e&&(t=e.currentTarget.dataset.side),"left"===t?(this.data.tabs.forEach((e=>{!e.hidden&&e.pages.length>1&&e.pages.pop()})),this.setData({tabs:this.data.tabs})):(this.aniOut(),setTimeout((()=>{this.setData({mainPages:this.data.mainPages.slice(0,-1)})}),500))},navigateTo(e){e=this.normalizeUrl(e);var t=this.data.mainPages.length;this.setData({mainPages:this.data.mainPages.concat([{i:t,url:e}])}),this.aniIn()},redirectTo(e){e=this.normalizeUrl(e);var t=this.data.mainPages.length-1;this.setData({mainPages:this.data.mainPages.slice(0,-1).concat([{i:t,url:e}])}),this.aniIn()},aniIn(){var e=this.data.mainPages.length-1;t.triggerRender((()=>{this.setData({[`mainPages[${e}].aniIn`]:!0})}))},aniOut(){var e=this.data.mainPages.length-1;this.setData({[`mainPages[${e}].aniIn`]:!1})},setPlaceholderImage(e){this.setData({placeholderImage:e})},triggerShowHideEvents(){var e=this.data.tabs.map((({pages:e,hidden:t})=>t||!this.globalShowStatus?-1:e.length-1)),t=this.globalShowStatus?this.data.mainPages.length-1:-1;if(e.forEach(((e,t)=>{var r=this.shownTabDepths[t]||0;if(r<e&&r>=0){var n=this.$.tabList.childNodes[t].querySelector(".left-page")[r].$$.getAttribute("-view-id");this.pageLifeTimeCallback(n,"Hide")}else if(e<r&&e>=0){var i=this.$.tabList.childNodes[t].querySelector(".left-page")[e].$$.getAttribute("-view-id");this.pageLifeTimeCallback(i,"Show")}})),this.shownMainPagesDepth<t&&this.shownMainPagesDepth>=0){var r=this.$.pageList.childNodes[this.shownMainPagesDepth].querySelector(".right-page").$$.getAttribute("-view-id");this.pageLifeTimeCallback(r,"Hide")}else if(t<this.shownMainPagesDepth&&t>=0){var n=this.$.pageList.childNodes[t].querySelector(".right-page").$$.getAttribute("-view-id");this.pageLifeTimeCallback(n,"Show")}this.shownTabDepths=e,this.shownMainPagesDepth=t},setGlobalShowStatus(e){this.globalShowStatus!==e&&(this.globalShowStatus=e,this.triggerShowHideEvents())},triggerPageOnResize(e){var{viewId:t,size:r}=e.detail;this.pageLifeTimeCallback(t,"Resize",{size:r})},setPageLifeTimeCallback(e){this.pageLifeTimeCallback=e}}}),J=(r(261),t.registerElement({is:"navigateToMp",options:{classPrefix:"navigate-to-mp",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{V:1,B:[{B:{L:function(e,t,r){return!!e.type||void 0},F:function(e,t,r,n){return 1===e.type}},C:[{T:"mp-dialog",A:{show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},buttons:{L:function(e,t,r){return e.buttons},F:function(e,t,r,n){return e.buttons}},"bind:close":"handleClose","bind:closed":"handleClosed","bind:buttontap":"handleTapButton","mask-closable":{L:function(e,t,r){},F:function(e,t,r,n){return!1}}},C:[{T:"wx-view",A:{class:"title",slot:"title"},C:[{S:{L:function(e,t,r){return e.title},F:function(e,t,r,n){return e.title}}}]},{V:7,N:"body",C:[{V:1,B:[{B:{L:function(e,t,r){return!(!e.logo&&!e.name)||void 0},F:function(e,t,r,n){return e.logo||e.name}},C:[{T:"wx-view",A:{class:"body"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.logo},F:function(e,t,r,n){return e.logo}},C:[{T:"wx-image",A:{class:"logo",src:{L:function(e,t,r){return e.logo},F:function(e,t,r,n){return e.logo}}},C:[]}]}]},{V:1,B:[{B:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}},C:[{T:"wx-view",A:{class:"name"},C:[{S:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}}}]}]}]},{T:"wx-view",A:{class:"desc"},C:[{S:{L:function(e,t,r){return e.desc},F:function(e,t,r,n){return e.desc}}}]}]}]},{B:1,C:[{T:"wx-view",A:{class:"body-placeholder"},C:[]}]}]}]}]}]},{B:{L:function(e,t,r){return!!e.type||void 0},F:function(e,t,r,n){return 2===e.type}},C:[{T:"mp-half-screen-dialog",A:{show:{L:function(e,t,r){return e.show},F:function(e,t,r,n){return e.show}},buttons:{L:function(e,t,r){return e.buttons},F:function(e,t,r,n){return e.buttons}},"bind:close":"handleClose","bind:closed":"handleClosed","bind:buttontap":"handleTapButton","mask-closable":{L:function(e,t,r){},F:function(e,t,r,n){return!1}}},C:[{T:"wx-view",A:{class:"title",slot:"title"},C:[{S:{L:function(e,t,r){return e.title},F:function(e,t,r,n){return e.title}}}]},{V:7,N:"body",C:[{V:1,B:[{B:{L:function(e,t,r){return!(!e.logo&&!e.name)||void 0},F:function(e,t,r,n){return e.logo||e.name}},C:[{T:"wx-view",A:{class:"body"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.logo},F:function(e,t,r,n){return e.logo}},C:[{T:"wx-image",A:{class:"logo",src:{L:function(e,t,r){return e.logo},F:function(e,t,r,n){return e.logo}}},C:[]}]}]},{V:1,B:[{B:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}},C:[{T:"wx-view",A:{class:"name"},C:[{S:{L:function(e,t,r){return e.name},F:function(e,t,r,n){return e.name}}}]}]}]},{T:"wx-view",A:{class:"desc"},C:[{S:{L:function(e,t,r){return e.desc},F:function(e,t,r,n){return e.desc}}}]}]}]},{B:1,C:[{T:"wx-view",A:{class:"body-placeholder"},C:[]}]}]}]}]}]}]}],BM:{}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{type:{type:Number},title:{type:String,value:"即将打开以下小程序"},logo:{type:String,value:""},name:{type:String,value:""},desc:{type:String,value:""},confirmText:{type:String,value:"允许"},cancelText:{type:String,value:"取消"},maskClosable:{type:Boolean,value:!1}},observers:{confirmText(e){this.setData({buttons:this.getButtons(e,this.data.cancelText)})},cancelText(e){this.setData({buttons:this.getButtons(this.data.confirmText,e)})}},data:{show:!1,buttons:[]},attached(){t.triggerRender((()=>{this.setData({buttons:this.getButtons(this.data.confirmText,this.data.cancelText),show:!0})}))},methods:{getButtons:(e,t)=>[{type:"default",text:t},{type:"primary",text:e}],handleTapButton(e){1===e.detail.index?this.handleConfirm():this.handleCancel()},handleClose(){this.handleCancel()},handleCancel(){this.triggerEvent("cancel"),this.triggerDestroy()},handleConfirm(){this.triggerEvent("confirm"),this.triggerDestroy()},handleClosed(){this.triggerEvent("destroy")},triggerDestroy(){this.setData({show:!1})}}})),X=(r(431),t.registerElement({is:"authorize",options:{classPrefix:"authorize",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{V:1,B:[{B:{L:function(e,t,r){return e.overlay},F:function(e,t,r,n){return e.overlay}},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"mask "+(e.enter?"mask-in":"")}}},C:[]}]}]},{T:"wx-view",A:{class:"container"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"content "+(e.enter?"content-in":"")}}},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-image",A:{class:"icon",src:{L:function(e,t,r){return e.icon},F:function(e,t,r,n){return e.icon}}},C:[]},{T:"wx-view",A:{class:"title"},C:[{S:{L:function(e,t,r){return!!e.nickname||void 0},F:function(e,t,r,n){return e.nickname+" 申请"}}}]}]},{T:"wx-view",A:{class:"body"},C:[{T:"wx-view",A:{class:"apply-info"},C:[{S:{L:function(e,t,r){return e.apply},F:function(e,t,r,n){return e.apply}}}]}]},{T:"wx-view",A:{class:"buttons"},C:[{T:"wx-view",A:{class:"button cancel","bind:tap":"handleCancel"},C:[{S:"拒绝"}]},{T:"wx-view",A:{class:"button confirm","bind:tap":"handleConfirm"},C:[{S:"允许"}]}]}]}]}]}],BM:{nickname:[[0,1,0,0,1,0]],apply:[[0,1,0,1,0,0]],icon:[[0,1,0,0,0,"src"]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{nickname:{type:String,value:""},icon:{type:String,value:""},overlay:{type:Boolean,value:!0},apply:{type:String,value:""},input:{type:String,value:""}},data:{enter:!1,duration:300},observers:{input(e){if(e){var t=JSON.parse(e);this.setData(t)}}},attached(){t.triggerRender((()=>{this.setData({enter:!0})}))},methods:{handleCancel(){this.triggerEvent("cancel"),this.destory()},handleConfirm(){this.triggerEvent("confirm"),this.destory()},destory(){this.setData({enter:!1}),setTimeout((()=>{this.triggerEvent("destroy")}),this.data.duration)}}})),K=BabelRuntimeHelpers.objectSpread2,ee=r.n(K),te=(r(605),"http://mmbiz.qpic.cn/sz_mmbiz_png/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFSnFBqI0TCnqPr9BWu0PoOWibkNvL6TVxte3E8icyiaVGJqkWEGytEVb9A/0?wx_fmt=png"),re="http://mmbiz.qpic.cn/sz_mmbiz_jpg/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFiawcLL2BcFTKggEbIdxtwdK6pmOgfVhErWicRib2huw7Z5zadjVtJVQJQ/0?wx_fmt=jpeg",ne="http://mmbiz.qpic.cn/sz_mmbiz_png/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFLT4OSfr939t6n2t2uLIvhprQIEsnS4F73XToyIDQYaKCmw4tAv212w/0?wx_fmt=png",ie=t.registerElement({is:"werun",options:{classPrefix:"werun",writeIdToDOM:!0},template:{content:function(){var e={},t={P:"",C:[{T:"wx-view",A:{class:"root"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"mask "+(e.enter?"mask-in":"")}}},C:[]},{T:"wx-view",A:{class:"container"},C:[{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.enter||void 0},F:function(e,t,r,n){return"content "+(e.enter?"content-in":"")}},style:{L:function(e,t,r){return!!e.contentHeight||void 0},F:function(e,t,r,n){return"height: "+e.contentHeight+"px"}}},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-view",A:{class:"title"},C:[{S:{L:function(e,t,r){return e.title},F:function(e,t,r,n){return e.title}}}]},{T:"wx-view",A:{class:"info-wrp","bind:tap":"showNote"},C:[{T:"wx-image",A:{class:"info",src:{L:function(e,t,r){return e.iconInfo},F:function(e,t,r,n){return e.iconInfo}}},C:[]}]}]},{T:"wx-view",A:{class:"body"},C:[{T:"wx-view",A:{class:"sport-list"},C:[{V:2,L:{M:["sport_name"],L:function(e,t,r){return e.sport_name},F:function(e,t,r,n){return e.sport_name}},K:null,C:[{T:"wx-view",A:{class:"sport-item"},C:[{S:{L:function(e,t,r){return!!t[0]||void 0},F:function(e,t,r,n){return"・ "+t[0]}}}]}]}]}]},{T:"wx-view",A:{class:"buttons"},C:[{T:"wx-view",A:{class:"button cancel","bind:tap":"handleCancel"},C:[{S:"取消"}]},{T:"wx-view",A:{class:"button confirm","bind:tap":"handleConfirm"},C:[{S:"确定"}]}]}]},{T:"wx-view",A:{class:{L:function(e,t,r){return!!e.noteEnter||void 0},F:function(e,t,r,n){return"note-content "+(e.noteEnter?"note-content-in":"")}},style:{L:function(e,t,r){return!!e.noteContentHeight||void 0},F:function(e,t,r,n){return"height: "+e.noteContentHeight+"px"}}},C:[{T:"wx-view",A:{class:"head"},C:[{T:"wx-view",A:{class:"note-title"},C:[{S:{L:function(e,t,r){return e.note_title},F:function(e,t,r,n){return e.note_title}}}]},{T:"wx-view",A:{class:"note-back-wrp","bind:tap":"hideNote"},C:[{T:"wx-image",A:{class:"note-back",src:{L:function(e,t,r){return e.iconBack},F:function(e,t,r,n){return e.iconBack}}},C:[]}]}]},{T:"wx-view",A:{class:"body"},C:[{T:"wx-view",A:{class:"note-detail"},C:[{S:{L:function(e,t,r){return e.note_detail},F:function(e,t,r,n){return e.note_detail}}}]},{T:"wx-view",A:{class:"note-guide-wrap"},C:[{T:"wx-image",A:{class:"note-guide",src:{L:function(e,t,r){return e.iconGuide},F:function(e,t,r,n){return e.iconGuide}}},C:[]}]}]}]}]}]}],BM:{contentHeight:[[0,1,0,"style"]],note_title:[[0,1,1,0,0,0]],iconBack:[[0,1,1,0,1,0,"src"]],iconGuide:[[0,1,1,1,1,0,"src"]],iconInfo:[[0,1,0,0,1,0,"src"]],noteEnter:[[0,1,1,"class"]],noteContentHeight:[[0,1,1,"style"]],title:[[0,1,0,0,0,0]],enter:[[0,0,"class"],[0,1,0,"class"]],note_detail:[[0,1,1,1,0,0]]}};return e[""]=function(){return t},function(t){var r=e[t];return r?r():null}}()},properties:{title:{type:String,value:"将本次健身数据分享到微信运动"},sport_name:{type:Array,value:[]},note_detail:{type:String,value:"分享后，朋友将可以在微信运动排行榜上看到你的身体情况。"},note_title:{type:String,value:"数据分享说明"},theme:{type:String,value:"light"},input:{type:String,value:""}},data:{enter:!1,noteEnter:!1,dark:!1,duration:300,contentHeight:358,noteContentHeight:338,clickMoreCount:0,iconInfo:ne,iconBack:te,iconGuide:re},observers:{dark(e){var t=e?"http://mmbiz.qpic.cn/sz_mmbiz_png/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFicwaUzmY9aicOlBBB48mlqnBBZpiaApuc0A0JictujwKmRMFhznZ4icRxIQ/0?wx_fmt=png":ne,r=e?"http://mmbiz.qpic.cn/sz_mmbiz_png/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFGTakK9zJelrNNu9dwibzP7pibT397icnFKwvccOcicGst5z6Ja0btqpELA/0?wx_fmt=png":te,n=e?"http://mmbiz.qpic.cn/sz_mmbiz_png/icTdbqWNOwNTztib4GFrge85XvmH8WVOMFmG4UmtBrK7zrJZ2oFicwTBXY81xn0GprVhSp5rMYEicXjYJEBRV9IQMg/0?wx_fmt=png":re;this.setData({iconInfo:t,iconBack:r,iconGuide:n})},theme(e){this.setData({dark:"dark"===e})},input(e){if(e){var t=JSON.parse(e),r=358-28*(5-t.sport_name.length),n=Math.max(r,338);this.setData(ee()(ee()({},t),{},{contentHeight:r,noteContentHeight:n}))}}},attached(){t.triggerRender((()=>{this.setData({enter:!0})}))},methods:{showNote(){this.data.clickMoreCount++,t.triggerRender((()=>{this.setData({noteEnter:!0})}))},hideNote(){t.triggerRender((()=>{this.setData({noteEnter:!1})}))},handleCancel(){this.triggerEvent("cancel",{clickMoreCount:this.data.clickMoreCount}),this.destory()},handleConfirm(){this.triggerEvent("confirm",{clickMoreCount:this.data.clickMoreCount}),this.destory()},destory(){this.setData({enter:!1}),setTimeout((()=>{this.triggerEvent("destroy")}),this.data.duration)}}})})(),__sclEngine__=n})();var __waServiceInit__=function(){var e,t;(()=>{var n={781:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,a=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){a&&(a=!1,o(e))}}))}},26:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),a=0;a<64;)i[n[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,r){for(var i,a=null,o=[],s=0,l=0;t<r;){var c=e[t++];switch(l){case 0:o[s++]=n[c>>2],i=(3&c)<<4,l=1;break;case 1:o[s++]=n[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[s++]=n[i|c>>6],o[s++]=n[63&c],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,a=r,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(o);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(o);return r-a},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},570:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},298:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function a(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:a,e.writeFloatBE=n?a:i,e.readFloatLE=n?o:s,e.readFloatBE=n?s:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,r,n)}}function o(e,t,r){var n=e(t,r),i=2*(n>>31)+1,a=n>>>23&255,o=8388607&n;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function a(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:a,e.writeDoubleBE=n?a:i,e.readDoubleLE=n?o:s,e.readDoubleBE=n?s:o}():function(){function t(e,t,r,n,i,a){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,a+t),e(1/n>0?0:2147483648,i,a+r);else if(isNaN(n))e(0,i,a+t),e(2146959360,i,a+r);else if(n>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+r)}}}function o(e,t,r,n,i){var a=e(n,i+t),o=e(n,i+r),s=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},116:e=>{"use strict";function t(e){try{var t=eval("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}e.exports=t},804:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(a=e(n),o=0);var s=t.call(a,o,o+=r);return 7&o&&(o=1+(7|o)),s}}},958:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,a=[],o=0;t<r;)(n=e[t++])<128?a[o++]=n:n>191&&n<224?a[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(n>>10),a[o++]=56320+(1023&n)):a[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},r.write=function(e,t,r){for(var n,i,a=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-a}},882:(e,t,r)=>{"use strict";var n=r(737),i=n.Reader,a=n.Writer,o=n.util,s=n.roots.default||(n.roots.default={});s.HTTPRequest=function(){function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.method="",e.prototype.header=o.emptyArray,e.prototype.body=o.newBuffer([]),e.prototype.callId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(10).string(e.method),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)s.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),null!=e.callId&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(34).string(e.callId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.HTTPRequest;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.method=e.string();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(s.HTTPHeader.decode(e,e.uint32()));break;case 3:n.body=e.bytes();break;case 4:n.callId=e.string();break;default:e.skipType(7&a)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.method&&e.hasOwnProperty("method")&&!o.isString(e.method))return"method: string expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=s.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||o.isString(e.body))?"body: buffer expected":null!=e.callId&&e.hasOwnProperty("callId")&&!o.isString(e.callId)?"callId: string expected":null},e.fromObject=function(e){if(e instanceof s.HTTPRequest)return e;var t=new s.HTTPRequest;if(null!=e.method&&(t.method=String(e.method)),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPRequest.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPRequest.header: object expected");t.header[r]=s.HTTPHeader.fromObject(e.header[r])}}return null!=e.body&&("string"==typeof e.body?o.base64.decode(e.body,t.body=o.newBuffer(o.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),null!=e.callId&&(t.callId=String(e.callId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.method="",t.bytes===String?r.body="":(r.body=[],t.bytes!==Array&&(r.body=o.newBuffer(r.body))),r.callId=""),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=s.HTTPHeader.toObject(e.header[n],t)}return null!=e.body&&e.hasOwnProperty("body")&&(r.body=t.bytes===String?o.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),null!=e.callId&&e.hasOwnProperty("callId")&&(r.callId=e.callId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),s.HTTPResponse=function(){function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.statusCode=0,e.prototype.header=o.emptyArray,e.prototype.bodyBuffer=o.newBuffer([]),e.prototype.bodyString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.statusCode&&Object.hasOwnProperty.call(e,"statusCode")&&t.uint32(8).uint32(e.statusCode),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)s.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.bodyBuffer&&Object.hasOwnProperty.call(e,"bodyBuffer")&&t.uint32(26).bytes(e.bodyBuffer),null!=e.bodyString&&Object.hasOwnProperty.call(e,"bodyString")&&t.uint32(34).string(e.bodyString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.HTTPResponse;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.statusCode=e.uint32();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(s.HTTPHeader.decode(e,e.uint32()));break;case 3:n.bodyBuffer=e.bytes();break;case 4:n.bodyString=e.string();break;default:e.skipType(7&a)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.statusCode&&e.hasOwnProperty("statusCode")&&!o.isInteger(e.statusCode))return"statusCode: integer expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=s.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&!(e.bodyBuffer&&"number"==typeof e.bodyBuffer.length||o.isString(e.bodyBuffer))?"bodyBuffer: buffer expected":null!=e.bodyString&&e.hasOwnProperty("bodyString")&&!o.isString(e.bodyString)?"bodyString: string expected":null},e.fromObject=function(e){if(e instanceof s.HTTPResponse)return e;var t=new s.HTTPResponse;if(null!=e.statusCode&&(t.statusCode=e.statusCode>>>0),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPResponse.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPResponse.header: object expected");t.header[r]=s.HTTPHeader.fromObject(e.header[r])}}return null!=e.bodyBuffer&&("string"==typeof e.bodyBuffer?o.base64.decode(e.bodyBuffer,t.bodyBuffer=o.newBuffer(o.base64.length(e.bodyBuffer)),0):e.bodyBuffer.length&&(t.bodyBuffer=e.bodyBuffer)),null!=e.bodyString&&(t.bodyString=String(e.bodyString)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.statusCode=0,t.bytes===String?r.bodyBuffer="":(r.bodyBuffer=[],t.bytes!==Array&&(r.bodyBuffer=o.newBuffer(r.bodyBuffer))),r.bodyString=""),null!=e.statusCode&&e.hasOwnProperty("statusCode")&&(r.statusCode=e.statusCode),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=s.HTTPHeader.toObject(e.header[n],t)}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&(r.bodyBuffer=t.bytes===String?o.base64.encode(e.bodyBuffer,0,e.bodyBuffer.length):t.bytes===Array?Array.prototype.slice.call(e.bodyBuffer):e.bodyBuffer),null!=e.bodyString&&e.hasOwnProperty("bodyString")&&(r.bodyString=e.bodyString),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),s.HTTPHeader=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.HTTPHeader;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&a)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!o.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!o.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof s.HTTPHeader)return e;var t=new s.HTTPHeader;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=""),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.exports=s},121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AES_CBC:()=>h});"undefined"!=typeof Float64Array?Float64Array:Float32Array;function n(e){return"number"==typeof e}function i(e){return e instanceof Uint8Array}function a(e,t,r){var n=t?t.byteLength:r||65536;if(4095&n||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new e(new ArrayBuffer(n))}function o(e,t,r,n,i){var a=e.length-t,o=a<i?a:i;return e.set(r.subarray(n,n+o),t),o}var s=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),e})(),l=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"SecurityError"}}),e})(),c=(()=>{var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,o,s;function l(){function l(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return a^=99}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],o=[[],[],[],[]],s=[[],[],[],[]];for(var c=0;c<256;c++){var u=l(c);i[c]=u,a[u]=c,o[0][c]=n(2,u)<<24|u<<16|u<<8|n(3,u),s[0][u]=n(14,c)<<24|n(9,c)<<16|n(13,c)<<8|n(11,c);for(var d=1;d<4;d++)o[d][c]=o[d-1][c]>>>8|o[d-1][c]<<24,s[d][u]=s[d-1][u]>>>8|s[d-1][u]<<24}}var c=function(e,t){l();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(o[n],4096+1024*n>>2),r.set(s[n],8192+1024*n>>2);var c=function(e,t,r){"use asm";var n=0,i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,p=0,h=0,f=0,g=0,v=0,m=0,_=0,y=0,A=0,b=0,w=0,E=0;var C=new e.Uint32Array(r),I=new e.Uint8Array(r);function S(e,t,r,s,l,c,u,d){e=e|0;t=t|0;r=r|0;s=s|0;l=l|0;c=c|0;u=u|0;d=d|0;var p=0,h=0,f=0,g=0,v=0,m=0,_=0,y=0;p=r|0x400,h=r|0x800,f=r|0xc00;l=l^C[(e|0)>>2],c=c^C[(e|4)>>2],u=u^C[(e|8)>>2],d=d^C[(e|12)>>2];for(y=16;(y|0)<=s<<4;y=y+16|0){g=C[(r|l>>22&1020)>>2]^C[(p|c>>14&1020)>>2]^C[(h|u>>6&1020)>>2]^C[(f|d<<2&1020)>>2]^C[(e|y|0)>>2],v=C[(r|c>>22&1020)>>2]^C[(p|u>>14&1020)>>2]^C[(h|d>>6&1020)>>2]^C[(f|l<<2&1020)>>2]^C[(e|y|4)>>2],m=C[(r|u>>22&1020)>>2]^C[(p|d>>14&1020)>>2]^C[(h|l>>6&1020)>>2]^C[(f|c<<2&1020)>>2]^C[(e|y|8)>>2],_=C[(r|d>>22&1020)>>2]^C[(p|l>>14&1020)>>2]^C[(h|c>>6&1020)>>2]^C[(f|u<<2&1020)>>2]^C[(e|y|12)>>2];l=g,c=v,u=m,d=_}n=C[(t|l>>22&1020)>>2]<<24^C[(t|c>>14&1020)>>2]<<16^C[(t|u>>6&1020)>>2]<<8^C[(t|d<<2&1020)>>2]^C[(e|y|0)>>2],i=C[(t|c>>22&1020)>>2]<<24^C[(t|u>>14&1020)>>2]<<16^C[(t|d>>6&1020)>>2]<<8^C[(t|l<<2&1020)>>2]^C[(e|y|4)>>2],a=C[(t|u>>22&1020)>>2]<<24^C[(t|d>>14&1020)>>2]<<16^C[(t|l>>6&1020)>>2]<<8^C[(t|c<<2&1020)>>2]^C[(e|y|8)>>2],o=C[(t|d>>22&1020)>>2]<<24^C[(t|l>>14&1020)>>2]<<16^C[(t|c>>6&1020)>>2]<<8^C[(t|u<<2&1020)>>2]^C[(e|y|12)>>2]}function T(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;S(0x0000,0x0800,0x1000,E,e,t,r,n)}function x(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;S(0x0400,0x0c00,0x2000,E,e,n,r,t);a=i,i=o,o=a}function P(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,E,s^e,l^t,c^r,u^d);s=n,l=i,c=a,u=o}function k(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;var p=0;S(0x0400,0x0c00,0x2000,E,e,d,r,t);p=i,i=o,o=p;n=n^s,i=i^l,a=a^c,o=o^u;s=e,l=t,c=r,u=d}function D(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,E,s,l,c,u);s=n=n^e,l=i=i^t,c=a=a^r,u=o=o^d}function R(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,E,s,l,c,u);n=n^e,i=i^t,a=a^r,o=o^d;s=e,l=t,c=r,u=d}function O(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,E,s,l,c,u);s=n,l=i,c=a,u=o;n=n^e,i=i^t,a=a^r,o=o^d}function M(e,t,r,s){e=e|0;t=t|0;r=r|0;s=s|0;S(0x0000,0x0800,0x1000,E,d,p,h,f);f=~_&f|_&f+1;h=~m&h|m&h+((f|0)==0);p=~v&p|v&p+((h|0)==0);d=~g&d|g&d+((p|0)==0);n=n^e;i=i^t;a=a^r;o=o^s}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,o=0,d=0,p=0,h=0,f=0,g=0,v=0,m=0;e=e^s,t=t^l,r=r^c,n=n^u;i=y|0,a=A|0,o=b|0,d=w|0;for(;(v|0)<128;v=v+1|0){if(i>>>31){p=p^e,h=h^t,f=f^r,g=g^n}i=i<<1|a>>>31,a=a<<1|o>>>31,o=o<<1|d>>>31,d=d<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}s=p,l=h,c=f,u=g}function N(e){e=e|0;E=e}function B(e,t,r,s){e=e|0;t=t|0;r=r|0;s=s|0;n=e,i=t,a=r,o=s}function W(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;s=e,l=t,c=r,u=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;d=e,p=t,h=r,f=n}function U(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;g=e,v=t,m=r,_=n}function V(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;f=~_&f|_&n,h=~m&h|m&r,p=~v&p|v&t,d=~g&d|g&e}function j(e){e=e|0;if(e&15)return-1;I[e|0]=n>>>24,I[e|1]=n>>>16&255,I[e|2]=n>>>8&255,I[e|3]=n&255,I[e|4]=i>>>24,I[e|5]=i>>>16&255,I[e|6]=i>>>8&255,I[e|7]=i&255,I[e|8]=a>>>24,I[e|9]=a>>>16&255,I[e|10]=a>>>8&255,I[e|11]=a&255,I[e|12]=o>>>24,I[e|13]=o>>>16&255,I[e|14]=o>>>8&255,I[e|15]=o&255;return 16}function G(e){e=e|0;if(e&15)return-1;I[e|0]=s>>>24,I[e|1]=s>>>16&255,I[e|2]=s>>>8&255,I[e|3]=s&255,I[e|4]=l>>>24,I[e|5]=l>>>16&255,I[e|6]=l>>>8&255,I[e|7]=l&255,I[e|8]=c>>>24,I[e|9]=c>>>16&255,I[e|10]=c>>>8&255,I[e|11]=c&255,I[e|12]=u>>>24,I[e|13]=u>>>16&255,I[e|14]=u>>>8&255,I[e|15]=u&255;return 16}function H(){T(0,0,0,0);y=n,A=i,b=a,w=o}function Q(e,t,r){e=e|0;t=t|0;r=r|0;var s=0;if(t&15)return-1;while((r|0)>=16){z[e&7](I[t|0]<<24|I[t|1]<<16|I[t|2]<<8|I[t|3],I[t|4]<<24|I[t|5]<<16|I[t|6]<<8|I[t|7],I[t|8]<<24|I[t|9]<<16|I[t|10]<<8|I[t|11],I[t|12]<<24|I[t|13]<<16|I[t|14]<<8|I[t|15]);I[t|0]=n>>>24,I[t|1]=n>>>16&255,I[t|2]=n>>>8&255,I[t|3]=n&255,I[t|4]=i>>>24,I[t|5]=i>>>16&255,I[t|6]=i>>>8&255,I[t|7]=i&255,I[t|8]=a>>>24,I[t|9]=a>>>16&255,I[t|10]=a>>>8&255,I[t|11]=a&255,I[t|12]=o>>>24,I[t|13]=o>>>16&255,I[t|14]=o>>>8&255,I[t|15]=o&255;s=s+16|0,t=t+16|0,r=r-16|0}return s|0}function $(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){Y[e&1](I[t|0]<<24|I[t|1]<<16|I[t|2]<<8|I[t|3],I[t|4]<<24|I[t|5]<<16|I[t|6]<<8|I[t|7],I[t|8]<<24|I[t|9]<<16|I[t|10]<<8|I[t|11],I[t|12]<<24|I[t|13]<<16|I[t|14]<<8|I[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var z=[T,x,P,k,D,R,O,M];var Y=[P,L];return{set_rounds:N,set_state:B,set_iv:W,set_nonce:F,set_mask:U,set_counter:V,get_state:j,get_iv:G,gcm_init:H,cipher:Q,mac:$}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},e,t);return c.set_key=function(e,t,n,a,o,l,u,d,p){var h=r.subarray(0,60),f=r.subarray(256,316);h.set([t,n,a,o,l,u,d,p]);for(var g=e,v=1;g<4*e+28;g++){var m=h[g-1];(g%e==0||8===e&&g%e==4)&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),g%e==0&&(m=m<<8^m>>>24^v<<24,v=v<<1^(128&v?27:0)),h[g]=h[g-e]^m}for(var _=0;_<g;_+=4)for(var y=0;y<4;y++){m=h[g-(4+_)+(4-y)%4];f[_+y]=_<4||_>=g-4?m:s[0][i[m>>>24]]^s[1][i[m>>>16&255]]^s[2][i[m>>>8&255]]^s[3][i[255&m]]}c.set_rounds(e+5)},c};return c.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},c.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},c.MAC={CBC:0,GCM:1},c.HEAP_DATA=16384,c})(),u=new Uint8Array(1048576),d=(()=>c(null,u.buffer))();class p{constructor(e,t,r,n,i){this.nonce=null,this.counter=0,this.counterSize=0,this.heap=a(Uint8Array,n).subarray(c.HEAP_DATA),this.asm=i||c(null,this.heap.buffer),this.mode=null,this.key=null,this.AES_reset(e,t,r)}AES_set_key(e){if(void 0!==e){if(!i(e))throw new TypeError("unexpected key type");var t=e.length;if(16!==t&&24!==t&&32!==t)throw new s("illegal key size");var r=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(t>>2,r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12),t>16?r.getUint32(16):0,t>16?r.getUint32(20):0,t>24?r.getUint32(24):0,t>24?r.getUint32(28):0),this.key=e}else if(!this.key)throw new Error("key is required")}AES_CTR_set_options(e,t,r){if(void 0!==r){if(r<8||r>48)throw new s("illegal counter size");this.counterSize=r;var a=Math.pow(2,r)-1;this.asm.set_mask(0,0,a/4294967296|0,0|a)}else this.counterSize=r=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");if(!i(e))throw new TypeError("unexpected nonce type");var o=e.length;if(!o||o>16)throw new s("illegal nonce size");this.nonce=e;var l=new DataView(new ArrayBuffer(16));if(new Uint8Array(l.buffer).set(e),this.asm.set_nonce(l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)),void 0!==t){if(!n(t))throw new TypeError("unexpected counter type");if(t<0||t>=Math.pow(2,r))throw new s("illegal counter value");this.counter=t,this.asm.set_counter(0,0,t/4294967296|0,0|t)}else this.counter=0}AES_set_iv(e){if(void 0!==e){if(!i(e))throw new TypeError("unexpected iv type");if(16!==e.length)throw new s("illegal iv size");var t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.iv=e,this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))}else this.iv=null,this.asm.set_iv(0,0,0,0)}AES_set_padding(e){this.padding=void 0===e||!!e}AES_reset(e,t,r){return this.result=null,this.pos=0,this.len=0,this.AES_set_key(e),this.AES_set_iv(t),this.AES_set_padding(r),this}AES_Encrypt_process(e){if(!i(e))throw new TypeError("data isn't of expected type");for(var t=this.asm,r=this.heap,n=c.ENC[this.mode],a=c.HEAP_DATA,s=this.pos,l=this.len,u=0,d=e.length||0,p=0,h=0,f=new Uint8Array(l+d&-16);d>0;)l+=h=o(r,s+l,e,u,d),u+=h,d-=h,(h=t.cipher(n,a+s,l))&&f.set(r.subarray(s,s+h),p),p+=h,h<l?(s+=h,l-=h):(s=0,l=0);return this.result=f,this.pos=s,this.len=l,this}AES_Encrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Encrypt_process(e).result).length);var n=this.asm,i=this.heap,a=c.ENC[this.mode],o=c.HEAP_DATA,l=this.pos,u=this.len,d=16-u%16,p=u;if(this.hasOwnProperty("padding")){if(this.padding){for(var h=0;h<d;++h)i[l+u+h]=d;p=u+=d}else if(u%16)throw new s("data length must be a multiple of the block size")}else u+=d;var f=new Uint8Array(r+p);return r&&f.set(t),u&&n.cipher(a,o+l,u),p&&f.set(i.subarray(l,l+p),r),this.result=f,this.pos=0,this.len=0,this}AES_Decrypt_process(e){if(!i(e))throw new TypeError("data isn't of expected type");var t=this.asm,r=this.heap,n=c.DEC[this.mode],a=c.HEAP_DATA,s=this.pos,l=this.len,u=0,d=e.length||0,p=0,h=l+d&-16,f=0,g=0;this.padding&&(h-=f=l+d-h||16);for(var v=new Uint8Array(h);d>0;)l+=g=o(r,s+l,e,u,d),u+=g,d-=g,(g=t.cipher(n,a+s,l-(d?0:f)))&&v.set(r.subarray(s,s+g),p),p+=g,g<l?(s+=g,l-=g):(s=0,l=0);return this.result=v,this.pos=s,this.len=l,this}AES_Decrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Decrypt_process(e).result).length);var n=this.asm,i=this.heap,a=c.DEC[this.mode],o=c.HEAP_DATA,u=this.pos,d=this.len,p=d;if(d>0){if(d%16){if(this.hasOwnProperty("padding"))throw new s("data length must be a multiple of the block size");d+=16-d%16}if(n.cipher(a,o+u,d),this.hasOwnProperty("padding")&&this.padding){var h=i[u+p-1];if(h<1||h>16||h>p)throw new l("bad padding");for(var f=0,g=h;g>1;g--)f|=h^i[u+p-g];if(f)throw new l("bad padding");p-=h}}var v=new Uint8Array(r+p);return r>0&&v.set(t),p>0&&v.set(i.subarray(u,u+p),r),this.result=v,this.pos=0,this.len=0,this}}var h=(()=>{class e extends p{constructor(e,t=null,r=!0,n,i){super(e,t,r,n,i),this.mode="CBC",this.BLOCK_SIZE=16}encrypt(e){return this.AES_Encrypt_finish(e)}decrypt(e){return this.AES_Decrypt_finish(e)}}return e.encrypt=f,e.decrypt=g,e})();function f(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new h(t,n,r,u,d).encrypt(e).result}function g(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new h(t,n,r,u,d).decrypt(e).result}"undefined"!=typeof console&&console;var v=Date.now,m=(Math.random,"undefined"!=typeof performance?performance:void 0),_="undefined"!=typeof crypto?crypto:"undefined"!=typeof msCrypto?msCrypto:void 0;void 0!==_&&_.getRandomValues;if(void 0!==m)(function(){return 1e3*m.now()|0});else{var y=1e3*v()|0;(function(){return 1e3*v()-y|0})}Uint32Array,Math},795:(e,t,r)=>{var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o=!1;function s(){o=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)n[t]=e[t],i[e.charCodeAt(t)]=t;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}function c(e){var t;o||s();for(var r=e.length,i=r%3,a="",c=[],u=16383,d=0,p=r-i;d<p;d+=u)c.push(l(e,d,d+u>p?p:d+u));return 1===i?(t=e[r-1],a+=n[t>>2],a+=n[t<<4&63],a+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],a+=n[t>>10],a+=n[t>>4&63],a+=n[t<<2&63],a+="="),c.push(a),c.join("")}function u(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)}function d(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}var p={}.toString,h=Array.isArray||function(e){return"[object Array]"==p.call(e)};m.TYPED_ARRAY_SUPPORT=void 0===r.g.TYPED_ARRAY_SUPPORT||r.g.TYPED_ARRAY_SUPPORT;var f=g();function g(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function v(e,t){if(g()<t)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=m.prototype:(null===e&&(e=new m(t)),e.length=t),e}function m(e,t,r){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return A(this,e)}return _(this,e,t,r)}function _(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);m.TYPED_ARRAY_SUPPORT?(e=t).__proto__=m.prototype:e=b(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!m.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|C(t,r),i=(e=v(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(E(t)){var r=0|w(t.length);return 0===(e=v(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?v(e,0):b(e,t);if("Buffer"===t.type&&h(t.data))return b(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function y(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function A(e,t){if(y(t),e=v(e,t<0?0:0|w(t)),!m.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function b(e,t){var r=t.length<0?0:0|w(t.length);e=v(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function w(e){if(e>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|e}function E(e){return!(null==e||!e._isBuffer)}function C(e,t){if(E(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return J(e).length;t=(""+t).toLowerCase(),n=!0}}function I(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return W(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return L(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function T(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=m.from(t,n)),E(t))return 0===t.length?-1:x(e,t,r,n,i);if("number"==typeof t)return t&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):x(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function P(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function k(e,t,r,n){return K(J(t,e.length-r),e,r,n)}function D(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return D(e,t,r,n)}function O(e,t,r,n){return K(X(t),e,r,n)}function M(e,t,r,n){return K(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function L(e,t,r){return 0===t&&r===e.length?c(e):c(e.slice(t,r))}function N(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}m.poolSize=8192,m._augment=function(e){return e.__proto__=m.prototype,e},m.from=function(e,t,r){return _(null,e,t,r)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array),m.alloc=function(e,t,r){return function(e,t,r,n){return y(t),t<=0?v(e,t):void 0!==r?"string"==typeof n?v(e,t).fill(r,n):v(e,t).fill(r):v(e,t)}(null,e,t,r)},m.allocUnsafe=function(e){return A(null,e)},m.allocUnsafeSlow=function(e){return A(null,e)},m.isBuffer=ee,m.compare=function(e,t){if(!E(e)||!E(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},m.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(e,t){if(!h(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return m.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=m.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!E(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},m.byteLength=C,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},m.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},m.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},m.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):I.apply(this,arguments)},m.prototype.equals=function(e){if(!E(e))throw new TypeError("Argument must be a Buffer");return this===e||0===m.compare(this,e)},m.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},m.prototype.compare=function(e,t,r,n,i){if(!E(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),c=e.slice(t,r),u=0;u<s;++u)if(l[u]!==c[u]){a=l[u],o=c[u];break}return a<o?-1:o<a?1:0},m.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},m.prototype.indexOf=function(e,t,r){return T(this,e,t,r,!0)},m.prototype.lastIndexOf=function(e,t,r){return T(this,e,t,r,!1)},m.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return P(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return D(this,e,t,r);case"latin1":case"binary":return R(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function W(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=q(e[a]);return i}function V(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function G(e,t,r,n,i,a){if(!E(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function H(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Q(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function $(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,i){return i||$(e,0,r,4),d(e,t,r,n,23,4),r+4}function Y(e,t,r,n,i){return i||$(e,0,r,8),d(e,t,r,n,52,8),r+8}m.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),m.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=m.prototype;else{var i=t-e;r=new m(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},m.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},m.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},m.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},m.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},m.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},m.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},m.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},m.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},m.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},m.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},m.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},m.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},m.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),u(this,e,!0,23,4)},m.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),u(this,e,!1,23,4)},m.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),u(this,e,!0,52,8)},m.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),u(this,e,!1,52,8)},m.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||G(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},m.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||G(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},m.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,1,255,0),m.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},m.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},m.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},m.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Q(this,e,t,!0),t+4},m.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Q(this,e,t,!1),t+4},m.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);G(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);G(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,1,127,-128),m.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},m.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},m.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},m.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Q(this,e,t,!0),t+4},m.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Q(this,e,t,!1),t+4},m.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},m.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},m.prototype.writeDoubleLE=function(e,t,r){return Y(this,e,t,!0,r)},m.prototype.writeDoubleBE=function(e,t,r){return Y(this,e,t,!1,r)},m.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!m.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},m.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=E(e)?e:J(new m(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var Z=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function X(e){return function(e){var t,r,n,l,c,u;o||s();var d=e.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[d-2]?2:"="===e[d-1]?1:0,u=new a(3*d/4-c),n=c>0?d-4:d;var p=0;for(t=0,r=0;t<n;t+=4,r+=3)l=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],u[p++]=l>>16&255,u[p++]=l>>8&255,u[p++]=255&l;return 2===c?(l=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,u[p++]=255&l):1===c&&(l=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,u[p++]=l>>8&255,u[p++]=255&l),u}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e){return null!=e&&(!!e._isBuffer||te(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&te(e.slice(0,0))}(e))}function te(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var re=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:f,Buffer:m,SlowBuffer:function(e){return+e!=e&&(e=0),m.alloc(+e)},isBuffer:ee});Map;var ne=function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=t;var r={},n={};function i(e,t){var i,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=n[e])?a:(i=o(e,(0|e)<0?-1:0,!0),s&&(n[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(i=o(e,e<0?-1:0,!1),s&&(r[e]=i),i)}function a(e,t){if(isNaN(e))return t?g:f;if(t){if(e<0)return g;if(e>=d)return A}else{if(e<=-p)return b;if(e+1>=p)return y}return e<0?a(-e,t).neg():o(e%u|0,e/u|0,t)}function o(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=a,e.fromBits=o;var s=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return f;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=a(s(r,8)),o=f,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),d=parseInt(e.substring(c,c+u),r);if(u<8){var p=a(s(r,u));o=o.mul(p).add(a(d))}else o=(o=o.mul(i)).add(a(d))}return o.unsigned=t,o}function c(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?l(e,t):o(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.fromString=l,e.fromValue=c;var u=4294967296,d=u*u,p=d/2,h=i(1<<24),f=i(0);e.ZERO=f;var g=i(0,!0);e.UZERO=g;var v=i(1);e.ONE=v;var m=i(1,!0);e.UONE=m;var _=i(-1);e.NEG_ONE=_;var y=o(-1,2147483647,!1);e.MAX_VALUE=y;var A=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=A;var b=o(0,-2147483648,!1);e.MIN_VALUE=b;var w=e.prototype;return w.toInt=function(){return this.unsigned?this.low>>>0:this.low},w.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},w.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(b)){var t=a(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(s(e,6),this.unsigned),o=this,l="";;){var c=o.div(i),u=(o.sub(c.mul(i)).toInt()>>>0).toString(e);if((o=c).isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},w.getHighBits=function(){return this.high},w.getHighBitsUnsigned=function(){return this.high>>>0},w.getLowBits=function(){return this.low},w.getLowBitsUnsigned=function(){return this.low>>>0},w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(b)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},w.isZero=function(){return 0===this.high&&0===this.low},w.eqz=w.isZero,w.isNegative=function(){return!this.unsigned&&this.high<0},w.isPositive=function(){return this.unsigned||this.high>=0},w.isOdd=function(){return 1==(1&this.low)},w.isEven=function(){return 0==(1&this.low)},w.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},w.eq=w.equals,w.notEquals=function(e){return!this.eq(e)},w.neq=w.notEquals,w.ne=w.notEquals,w.lessThan=function(e){return this.comp(e)<0},w.lt=w.lessThan,w.lessThanOrEqual=function(e){return this.comp(e)<=0},w.lte=w.lessThanOrEqual,w.le=w.lessThanOrEqual,w.greaterThan=function(e){return this.comp(e)>0},w.gt=w.greaterThan,w.greaterThanOrEqual=function(e){return this.comp(e)>=0},w.gte=w.greaterThanOrEqual,w.ge=w.greaterThanOrEqual,w.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},w.comp=w.compare,w.negate=function(){return!this.unsigned&&this.eq(b)?b:this.not().add(v)},w.neg=w.negate,w.add=function(e){t(e)||(e=c(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,u=e.low>>>16,d=0,p=0,h=0,f=0;return h+=(f+=a+(65535&e.low))>>>16,p+=(h+=i+u)>>>16,d+=(p+=n+l)>>>16,d+=r+s,o((h&=65535)<<16|(f&=65535),(d&=65535)<<16|(p&=65535),this.unsigned)},w.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},w.sub=w.subtract,w.multiply=function(e){if(this.isZero())return f;if(t(e)||(e=c(e)),e.isZero())return f;if(this.eq(b))return e.isOdd()?b:f;if(e.eq(b))return this.isOdd()?b:f;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,l=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,g=0,v=0,m=0,_=0;return m+=(_+=s*p)>>>16,v+=(m+=i*p)>>>16,m&=65535,v+=(m+=s*d)>>>16,g+=(v+=n*p)>>>16,v&=65535,g+=(v+=i*d)>>>16,v&=65535,g+=(v+=s*u)>>>16,g+=r*p+n*d+i*u+s*l,o((m&=65535)<<16|(_&=65535),(g&=65535)<<16|(v&=65535),this.unsigned)},w.mul=w.multiply,w.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");var r,n,i;if(this.isZero())return this.unsigned?g:f;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return m;i=g}else{if(this.eq(b))return e.eq(v)||e.eq(_)?b:e.eq(b)?v:(r=this.shr(1).div(e).shl(1)).eq(f)?e.isNegative()?v:_:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(b))return this.unsigned?g:f;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=f}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:s(2,o-48),u=a(r),d=u.mul(e);d.isNegative()||d.gt(n);)d=(u=a(r-=l,this.unsigned)).mul(e);u.isZero()&&(u=v),i=i.add(u),n=n.sub(d)}return i},w.div=w.divide,w.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},w.mod=w.modulo,w.rem=w.modulo,w.not=function(){return o(~this.low,~this.high,this.unsigned)},w.and=function(e){return t(e)||(e=c(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},w.or=function(e){return t(e)||(e=c(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},w.xor=function(e){return t(e)||(e=c(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},w.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},w.shl=w.shiftLeft,w.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},w.shr=w.shiftRight,w.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?o(this.low>>>e|r<<32-e,r>>>e,this.unsigned):o(32===e?r:r>>>e-32,0,this.unsigned)},w.shru=w.shiftRightUnsigned,w.shr_u=w.shiftRightUnsigned,w.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},w.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},w.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},w.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},w.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},Object.defineProperty(e.prototype,"_bsontype",{value:"Long"}),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t,r){return t&&ae(e.prototype,t),r&&ae(e,r),e}var se=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Double"}),e}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e,r){var n;return ie(this,t),n=ne.isLong(e)?ce(this,ue(t).call(this,e.low,e.high,!0)):ce(this,ue(t).call(this,e,r,!0)),ce(n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),oe(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new t(ne.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new t(ne.fromNumber(e,!0))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(ne.fromString(e,r,!0))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),Object.defineProperty(t.prototype,"_bsontype",{value:"Timestamp"}),t.MAX_VALUE=t.MAX_UNSIGNED_VALUE,t}(ne),he={};function fe(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var ge={normalizedFunctionString:function(e){return e.toString().replace("function(","function (")},randomBytes:function(){var e=fe;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)e=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{e=he.randomBytes}catch(e){}null==e&&(e=fe)}return e}()};new Date;var ve=function(){function e(e,t){var r={seen:[],stylize:_e};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ee(t)?r.showHidden=t:t&&Me(r,t),Te(r.showHidden)&&(r.showHidden=!1),Te(r.depth)&&(r.depth=2),Te(r.colors)&&(r.colors=!1),Te(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=me),ye(r,e,r.depth)}return e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e}();function me(e,t){var r=ve.styles[t];return r?"["+ve.colors[r][0]+"m"+e+"["+ve.colors[r][1]+"m":e}function _e(e,t){return e}function ye(e,t,r){if(e.customInspect&&t&&Re(t.inspect)&&t.inspect!==ve&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Se(n)||(n=ye(e,n,r)),n}var i=function(e,t){if(Te(t))return e.stylize("undefined","undefined");if(Se(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Ie(t))return e.stylize(""+t,"number");if(Ee(t))return e.stylize(""+t,"boolean");if(Ce(t))return e.stylize("null","null")}(e,t);if(i)return i;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),De(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Ae(t);if(0===a.length){if(Re(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(xe(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(ke(t))return e.stylize(Date.prototype.toString.call(t),"date");if(De(t))return Ae(t)}var l,c="",u=!1,d=["{","}"];(we(t)&&(u=!0,d=["[","]"]),Re(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return xe(t)&&(c=" "+RegExp.prototype.toString.call(t)),ke(t)&&(c=" "+Date.prototype.toUTCString.call(t)),De(t)&&(c=" "+Ae(t)),0!==a.length||u&&0!=t.length?r<0?xe(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)Le(t,String(o))?a.push(be(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(be(e,t,r,n,i,!0))})),a}(e,t,r,o,a):a.map((function(n){return be(e,t,r,o,n,u)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,c,d)):d[0]+c+d[1]}function Ae(e){return"["+Error.prototype.toString.call(e)+"]"}function be(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),Le(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=Ce(r)?ye(e,l.value,null):ye(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),Te(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function we(e){return Array.isArray(e)}function Ee(e){return"boolean"==typeof e}function Ce(e){return null===e}function Ie(e){return"number"==typeof e}function Se(e){return"string"==typeof e}function Te(e){return void 0===e}function xe(e){return Pe(e)&&"[object RegExp]"===Oe(e)}function Pe(e){return"object"===le(e)&&null!==e}function ke(e){return Pe(e)&&"[object Date]"===Oe(e)}function De(e){return Pe(e)&&("[object Error]"===Oe(e)||e instanceof Error)}function Re(e){return"function"==typeof e}function Oe(e){return Object.prototype.toString.call(e)}function Me(e,t){if(!t||!Pe(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ne=ve,Be=function e(t,n){if(Te(r.g.process))return function(){return e(t,n).apply(this,arguments)};var i=!1;return function(){return i||(console.error(n),i=!0),t.apply(this,arguments)}},We=(()=>re.Buffer)(),Fe=Be,Ue=(0,ge.randomBytes)(5),Ve=new RegExp("^[0-9a-fA-F]{24}$"),je=function(){var e=!1;try{We&&We.from&&(e=!0)}catch(t){e=!1}return e}(),Ge=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<=15?"0":"")+t.toString(16);return e}(),He=function(){for(var e=[],t=0;t<10;)e[48+t]=t++;for(;t<16;)e[55+t]=e[87+t]=t++;return e}(),Qe=We;var $e=function(){function e(t){if(ie(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&je)return new e(We.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return oe(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t,r,n,i="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof Qe)return i=this.id.toString("hex"),e.cacheHexString&&(this.__id=i),i;for(var a=0;a<this.id.length;a++){var o=Ge[this.id.charCodeAt(a)];if("string"!=typeof o)throw t=this.id,n=void 0,n=t[r=a],new TypeError('ObjectId string "'.concat(t,'" contains invalid character "').concat(n,'" with character code (').concat(t.charCodeAt(r),"). All character codes for a non-hex string must be less than 256."));i+=o}return e.cacheHexString&&(this.__id=i),i}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Qe?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=We.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=Ue[0],n[5]=Ue[1],n[6]=Ue[2],n[7]=Ue[3],n[8]=Ue[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=We.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(je)return new e(We.from(t,"hex"));for(var r=new Qe(12),n=0,i=0;i<24;)r[n++]=He[t.charCodeAt(i++)]<<4|He[t.charCodeAt(i++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&Ve.test(t):t instanceof e||(t instanceof Qe&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&Ve.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.getInc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.generate=Fe((function(t){return e.generate(t)}),"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(e.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.prototype[Ne.custom||"inspect"]=e.prototype.toString,e.index=~~(16777215*Math.random()),Object.defineProperty(e.prototype,"_bsontype",{value:"ObjectID"}),e}();var ze=function(){function e(t,r){ie(this,e),this.pattern=t||"",this.options=r?r.split("").sort().join(""):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return oe(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){return t.$regex?"BSONRegExp"===t.$regex._bsontype?t:new e(t.$regex,e.parseOptions(t.$options)):new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"BSONRegExp"}),e}(),Ye=function(){function e(t){ie(this,e),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Symbol"}),e}(),Ze=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Int32"}),e}(),qe=function(){function e(t,r){ie(this,e),this.code=t,this.scope=r}return oe(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Code"}),e}(),Je=(()=>re.Buffer)(),Xe=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Ke=/^(\+|-)?(Infinity|inf)$/i,et=/^(\+|-)?NaN$/i,tt=6111,rt=-6176,nt=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),it=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),at=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ot=/^([-+])?(\d+)?$/;function st(e){return!isNaN(parseInt(e,10))}function lt(e){var t=ne.fromNumber(1e9),r=ne.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new ne(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function ct(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var ut=function(){function e(e){this.bytes=e}e.fromString=function(t){var r,n=!1,i=!1,a=!1,o=0,s=0,l=0,c=0,u=0,d=[0],p=0,h=0,f=0,g=0,v=0,m=0,_=[0,0],y=[0,0],A=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var b=t.match(Xe),w=t.match(Ke),E=t.match(et);if(!b&&!w&&!E||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(b){var C=b[2],I=b[4],S=b[5],T=b[6];I&&void 0===T&&ct(t,"missing exponent power"),I&&void 0===C&&ct(t,"missing exponent base"),void 0===I&&(S||T)&&ct(t,"missing e before exponent")}if("+"!==t[A]&&"-"!==t[A]||(n="-"===t[A++]),!st(t[A])&&"."!==t[A]){if("i"===t[A]||"I"===t[A])return new e(Je.from(n?it:at));if("N"===t[A])return new e(Je.from(nt))}for(;st(t[A])||"."===t[A];)"."!==t[A]?(p<34&&("0"!==t[A]||a)&&(a||(u=s),a=!0,d[h++]=parseInt(t[A],10),p+=1),a&&(l+=1),i&&(c+=1),s+=1,A+=1):(i&&ct(t,"contains multiple periods"),i=!0,A+=1);if(i&&!s)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[A]||"E"===t[A]){var x=t.substr(++A).match(ot);if(!x||!x[2])return new e(Je.from(nt));v=parseInt(x[0],10),A+=x[0].length}if(t[A])return new e(Je.from(nt));if(f=0,p){if(g=p-1,1!==(o=l))for(;"0"===t[u+o-1];)o-=1}else f=0,g=0,d[0]=0,l=1,p=1,o=0;for(v<=c&&c-v>16384?v=rt:v-=c;v>tt;){if((g+=1)-f>34){if(d.join("").match(/^0+$/)){v=tt;break}ct(t,"overflow")}v-=1}for(;v<rt||p<l;){if(0===g&&o<p){v=rt,o=0;break}if(p<l?l-=1:g-=1,v<tt)v+=1;else{if(d.join("").match(/^0+$/)){v=tt;break}ct(t,"overflow")}}if(g-f+1<o){var P=s;i&&(u+=1,P+=1),n&&(u+=1,P+=1);var k=parseInt(t[u+g+1],10),D=0;if(k>=5&&(D=1,5===k))for(D=d[g]%2==1,m=u+g+2;m<P;m++)if(parseInt(t[m],10)){D=1;break}if(D)for(var R=g;R>=0;R--)if(++d[R]>9&&(d[R]=0,0===R)){if(!(v<tt))return new e(Je.from(n?it:at));v+=1,d[R]=1}}if(_=ne.fromNumber(0),y=ne.fromNumber(0),0===o)_=ne.fromNumber(0),y=ne.fromNumber(0);else if(g-f<17){var O=f;for(y=ne.fromNumber(d[O++]),_=new ne(0,0);O<=g;O++)y=(y=y.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[O]))}else{var M=f;for(_=ne.fromNumber(d[M++]);M<=g-17;M++)_=(_=_.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[M]));for(y=ne.fromNumber(d[M++]);M<=g;M++)y=(y=y.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[M]))}var L,N,B,W,F=function(e,t){if(!e&&!t)return{high:ne.fromNumber(0),low:ne.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new ne(e.getLowBits(),0),i=t.shiftRightUnsigned(32),a=new ne(t.getLowBits(),0),o=r.multiply(i),s=r.multiply(a),l=n.multiply(i),c=n.multiply(a);return o=o.add(s.shiftRightUnsigned(32)),s=new ne(s.getLowBits(),0).add(l).add(c.shiftRightUnsigned(32)),{high:o=o.add(s.shiftRightUnsigned(32)),low:c=s.shiftLeft(32).add(new ne(c.getLowBits(),0))}}(_,ne.fromString("100000000000000000"));F.low=F.low.add(y),L=F.low,N=y,B=L.high>>>0,W=N.high>>>0,(B<W||B===W&&L.low>>>0<N.low>>>0)&&(F.high=F.high.add(ne.fromNumber(1))),r=v+6176;var U={low:ne.fromNumber(0),high:ne.fromNumber(0)};F.high.shiftRightUnsigned(49).and(ne.fromNumber(1)).equals(ne.fromNumber(1))?(U.high=U.high.or(ne.fromNumber(3).shiftLeft(61)),U.high=U.high.or(ne.fromNumber(r).and(ne.fromNumber(16383).shiftLeft(47))),U.high=U.high.or(F.high.and(ne.fromNumber(0x7fffffffffff)))):(U.high=U.high.or(ne.fromNumber(16383&r).shiftLeft(49)),U.high=U.high.or(F.high.and(ne.fromNumber(562949953421311)))),U.low=F.low,n&&(U.high=U.high.or(ne.fromString("9223372036854775808")));var V=Je.alloc(16);return A=0,V[A++]=255&U.low.low,V[A++]=U.low.low>>8&255,V[A++]=U.low.low>>16&255,V[A++]=U.low.low>>24&255,V[A++]=255&U.low.high,V[A++]=U.low.high>>8&255,V[A++]=U.low.high>>16&255,V[A++]=U.low.high>>24&255,V[A++]=255&U.high.low,V[A++]=U.high.low>>8&255,V[A++]=U.high.low>>16&255,V[A++]=U.high.low>>24&255,V[A++]=255&U.high.high,V[A++]=U.high.high>>8&255,V[A++]=U.high.high>>16&255,V[A++]=U.high.high>>24&255,new e(V)};return e.prototype.toString=function(){for(var e,t,r,n,i,a,o=0,s=new Array(36),l=0;l<s.length;l++)s[l]=0;var c,u,d,p,h,f=0,g=!1,v={parts:new Array(4)},m=[];f=0;var _=this.bytes;if(n=_[f++]|_[f++]<<8|_[f++]<<16|_[f++]<<24,r=_[f++]|_[f++]<<8|_[f++]<<16|_[f++]<<24,t=_[f++]|_[f++]<<8|_[f++]<<16|_[f++]<<24,e=_[f++]|_[f++]<<8|_[f++]<<16|_[f++]<<24,f=0,{low:new ne(n,r),high:new ne(t,e)}.high.lessThan(ne.ZERO)&&m.push("-"),(i=e>>26&31)>>3==3){if(30===i)return m.join("")+"Infinity";if(31===i)return"NaN";a=e>>15&16383,d=8+(e>>14&1)}else d=e>>14&7,a=e>>17&16383;if(c=a-6176,v.parts[0]=(16383&e)+((15&d)<<14),v.parts[1]=t,v.parts[2]=r,v.parts[3]=n,0===v.parts[0]&&0===v.parts[1]&&0===v.parts[2]&&0===v.parts[3])g=!0;else for(h=3;h>=0;h--){var y=0,A=lt(v);if(v=A.quotient,y=A.rem.low)for(p=8;p>=0;p--)s[9*h+p]=y%10,y=Math.floor(y/10)}if(g)o=1,s[f]=0;else for(o=36;!s[f];)o-=1,f+=1;if((u=o-1+c)>=34||u<=-7||c>0){if(o>34)return m.push(0),c>0?m.push("E+"+c):c<0&&m.push("E"+c),m.join("");m.push(s[f++]),(o-=1)&&m.push(".");for(var b=0;b<o;b++)m.push(s[f++]);m.push("E"),u>0?m.push("+"+u):m.push(u)}else if(c>=0)for(var w=0;w<o;w++)m.push(s[f++]);else{var E=o+c;if(E>0)for(var C=0;C<E;C++)m.push(s[f++]);else m.push("0");for(m.push(".");E++<0;)m.push("0");for(var I=0;I<o-Math.max(E-1,0);I++)m.push(s[f++])}return m.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},Object.defineProperty(e.prototype,"_bsontype",{value:"Decimal128"}),e}(),dt=function(){function e(){ie(this,e)}return oe(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MinKey"}),e}(),pt=function(){function e(){ie(this,e)}return oe(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MaxKey"}),e}(),ht=function(){function e(t,r,n,i){ie(this,e);var a=t.split(".");2===a.length&&(n=a.shift(),t=a.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return oe(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach((function(e){return delete r[e]})),new e(t.$ref,t.$id,t.$db,r)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1}),e}(),ft=(()=>re.Buffer)(),gt=function(){function e(r,n){if(ie(this,e),!(null==r||"string"==typeof r||ft.isBuffer(r)||r instanceof Uint8Array||Array.isArray(r)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?t:n,this.position=0,null==r||r instanceof Number)void 0!==ft?this.buffer=ft.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof r)if(void 0!==ft)this.buffer=ft.from(r);else{if("undefined"==typeof Uint8Array&&!Array.isArray(r))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=function(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(r)}else this.buffer=r;this.position=r.length}}oe(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==ft&&ft.isBuffer(this.buffer)){var i=ft.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=n}else{var a=null;a=r(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)a[o]=this.buffer[o];this.buffer=a,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==ft&&ft.isBuffer(this.buffer))n=ft.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(r(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var i=0;i<this.position;i++)n[i]=this.buffer[i]}this.buffer=n}if(void 0!==ft&&ft.isBuffer(e)&&ft.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==ft&&"string"==typeof e&&ft.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(r(e)||Array.isArray(e)&&"string"!=typeof e){for(var a=0;a<e.length;a++)this.buffer[t++]=e[a];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==ft&&ft.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==ft&&ft.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=r(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return function(e,t,r){for(var n="",i=t;i<r;i++)n+=String.fromCharCode(e[i]);return n}(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=ft.isBuffer(this.buffer)?this.buffer.toString("base64"):ft.from(this.buffer).toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===r.length?"0"+r:r}:{$binary:{base64:t,subType:1===r.length?"0"+r:r}}}}],[{key:"fromExtendedJSON",value:function(t,r){var n,i;return(r=r||{}).legacy?(i=t.$type?parseInt(t.$type,16):0,n=ft.from(t.$binary,"base64")):(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=ft.from(t.$binary.base64,"base64")),new e(n,i)}}]);var t=0;function r(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}return e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,Object.defineProperty(e.prototype,"_bsontype",{value:"Binary"}),e}(),vt=(Math.pow(2,63),Math.pow(2,63),{$oid:$e,$binary:gt,$symbol:Ye,$numberInt:Ze,$numberDecimal:ut,$numberDouble:se,$numberLong:ne,$minKey:dt,$maxKey:pt,$regex:ze,$regularExpression:ze,$timestamp:pe});function mt(e,t,r,n){if("number"==typeof r){if(n.relaxed||n.legacy)return r;if(Math.floor(r)===r){if(r>=At&&r<=yt)return new Ze(r);if(r>=wt&&r<=bt)return new ne.fromNumber(r)}return new se(r)}if(null==r||"object"!==le(r))return r;if(r.$undefined)return null;for(var i=Object.keys(r).filter((function(e){return e.startsWith("$")&&null!=r[e]})),a=0;a<i.length;a++){var o=vt[i[a]];if(o)return o.fromExtendedJSON(r,n)}if(null!=r.$date){var s=r.$date,l=new Date;return n.legacy?"number"==typeof s?l.setTime(s):"string"==typeof s&&l.setTime(Date.parse(s)):"string"==typeof s?l.setTime(Date.parse(s)):ne.isLong(s)?l.setTime(s.toNumber()):"number"==typeof s&&n.relaxed&&l.setTime(s),l}if(null!=r.$code){var c=Object.assign({},r);return r.$scope&&(c.$scope=mt(e,null,r.$scope)),qe.fromExtendedJSON(r)}if(null!=r.$ref||null!=r.$dbPointer){var u=r.$ref?r:r.$dbPointer;if(u instanceof ht)return u;var d=Object.keys(u).filter((function(e){return e.startsWith("$")})),p=!0;if(d.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(p=!1)})),p)return ht.fromExtendedJSON(u)}return r}function _t(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0,legacy:!1},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,(function(e,n){return mt(r,0,n,t)}))}var yt=2147483647,At=-2147483648,bt=0x8000000000000000,wt=-0x8000000000000000;function Et(e,t,r,n){null!=r&&"object"===le(r)&&(n=r,r=0),null==t||"object"!==le(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0,legacy:!1},n);var i=Array.isArray(e)?Ct(e,n):xt(e,n);return JSON.stringify(i,t,r)}function Ct(e,t){return e.map((function(e){return St(e,t)}))}function It(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function St(e,t){if(Array.isArray(e))return Ct(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.legacy?t.relaxed&&n?{$date:e.getTime()}:{$date:It(e)}:t.relaxed&&n?{$date:It(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=wt&&e<=bt;if(e>=At&&e<=yt)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var a=e.flags;return void 0===a&&(a=e.toString().match(/[gimuy]*$/)[0]),new ze(e.source,a).toExtendedJSON(t)}return null!=e&&"object"===le(e)?xt(e,t):e}var Tt={Binary:function(e){return new gt(e.value(),e.subtype)},Code:function(e){return new qe(e.code,e.scope)},DBRef:function(e){return new ht(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new ut(e.bytes)},Double:function(e){return new se(e.value)},Int32:function(e){return new Ze(e.value)},Long:function(e){return ne.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new pt},MinKey:function(){return new dt},ObjectID:function(e){return new $e(e)},ObjectId:function(e){return new $e(e)},BSONRegExp:function(e){return new ze(e.pattern,e.options)},Symbol:function(e){return new Ye(e.value)},Timestamp:function(e){return pe.fromBits(e.low,e.high)}};function xt(e,t){if(null==e||"object"!==le(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var i in e)n[i]=St(e[i],t);return n}if("string"==typeof r){var a=e;if("function"!=typeof a.toExtendedJSON){var o=Tt[r];if(!o)throw new TypeError("Unrecognized or invalid _bsontype: "+r);a=o(a)}return"Code"===r&&a.scope?a=new qe(a.code,St(a.scope,t)):"DBRef"===r&&a.oid&&(a=new ht(a.collection,St(a.oid,t),a.db,a.fields)),a.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+le(r))}var Pt={parse:_t,deserialize:function(e,t){return t=t||{},_t(JSON.stringify(e),t)},serialize:function(e,t){return t=t||{},JSON.parse(Et(e,t))},stringify:Et};t.EJSON=Pt},96:e=>{var t={};!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return i(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,r,n){t.uncompress=e("./index").uncompress,t.compress=e("./index").compress},{"./index":2}],2:[function(e,t,r){"use strict";function n(){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node}function i(e){return e instanceof Uint8Array&&(!n()||!Buffer.isBuffer(e))}function a(e){return e instanceof ArrayBuffer}function o(e){return!!n()&&Buffer.isBuffer(e)}var s=e("./snappy_decompressor").SnappyDecompressor,l=e("./snappy_compressor").SnappyCompressor,c="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";r.uncompress=function(e){if(!i(e)&&!a(e)&&!o(e))throw new TypeError(c);var t=!1,r=!1;i(e)?t=!0:a(e)&&(r=!0,e=new Uint8Array(e));var n,l,u=new s(e),d=u.readUncompressedLength();if(-1===d)throw new Error("Invalid Snappy bitstream");if(t){if(n=new Uint8Array(d),!u.uncompressToBuffer(n))throw new Error("Invalid Snappy bitstream")}else if(r){if(n=new ArrayBuffer(d),l=new Uint8Array(n),!u.uncompressToBuffer(l))throw new Error("Invalid Snappy bitstream")}else if(n=Buffer.alloc(d),!u.uncompressToBuffer(n))throw new Error("Invalid Snappy bitstream");return n},r.compress=function(e){if(!i(e)&&!a(e)&&!o(e))throw new TypeError(c);var t=!1,r=!1;i(e)?t=!0:a(e)&&(r=!0,e=new Uint8Array(e));var n,s,u,d=new l(e),p=d.maxCompressedLength();return t?(n=new Uint8Array(p),u=d.compressToBuffer(n)):r?(n=new ArrayBuffer(p),s=new Uint8Array(n),u=d.compressToBuffer(s)):(n=Buffer.alloc(p),u=d.compressToBuffer(n)),n.slice(0,u)}},{"./snappy_compressor":3,"./snappy_decompressor":4}],3:[function(e,t,r){"use strict";function n(e,t){return 506832829*e>>>t}function i(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)}function a(e,t,r){return e[t]===e[r]&&e[t+1]===e[r+1]&&e[t+2]===e[r+2]&&e[t+3]===e[r+3]}function o(e,t,r,n,i){return r<=60?(n[i]=r-1<<2,i+=1):r<256?(n[i]=240,n[i+1]=r-1,i+=2):(n[i]=244,n[i+1]=r-1&255,n[i+2]=r-1>>>8,i+=3),function(e,t,r,n,i){var a;for(a=0;a<i;a++)r[n+a]=e[t+a]}(e,t,n,i,r),i+r}function s(e,t,r,n){return n<12&&r<2048?(e[t]=1+(n-4<<2)+(r>>>8<<5),e[t+1]=255&r,t+2):(e[t]=2+(n-1<<2),e[t+1]=255&r,e[t+2]=r>>>8,t+3)}function l(e,t,r,n){for(;n>=68;)t=s(e,t,r,64),n-=64;return n>64&&(t=s(e,t,r,60),n-=60),s(e,t,r,n)}function c(e,t,r,s,c){for(var u=1;1<<u<=r&&u<=d;)u+=1;var h=32-(u-=1);void 0===p[u]&&(p[u]=new Uint16Array(1<<u));var f,g=p[u];for(f=0;f<g.length;f++)g[f]=0;var v,m,_,y,A,b,w,E,C,I,S=t+r,T=t,x=t,P=!0;if(r>=15)for(v=S-15,_=n(i(e,t+=1),h);P;){b=32,y=t;do{if(m=_,w=b>>>5,b+=1,y=(t=y)+w,t>v){P=!1;break}_=n(i(e,y),h),A=T+g[m],g[m]=t-T}while(!a(e,t,A));if(!P)break;c=o(e,x,t-x,s,c);do{for(E=t,C=4;t+C<S&&e[t+C]===e[A+C];)C+=1;if(t+=C,c=l(s,c,E-A,C),x=t,t>=v){P=!1;break}g[n(i(e,t-1),h)]=t-1-T,A=T+g[I=n(i(e,t),h)],g[I]=t-T}while(a(e,t,A));if(!P)break;_=n(i(e,t+=1),h)}return x<S&&(c=o(e,x,S-x,s,c)),c}function u(e){this.array=e}var d=14,p=new Array(d+1);u.prototype.maxCompressedLength=function(){var e=this.array.length;return 32+e+Math.floor(e/6)},u.prototype.compressToBuffer=function(e){var t,r=this.array,n=r.length,i=0,a=0;for(a=function(e,t,r){do{t[r]=127&e,(e>>>=7)>0&&(t[r]+=128),r+=1}while(e>0);return r}(n,e,a);i<n;)a=c(r,i,t=Math.min(n-i,65536),e,a),i+=t;return a},r.SnappyCompressor=u},{}],4:[function(e,t,r){"use strict";function n(e,t,r,n,i){var a;for(a=0;a<i;a++)r[n+a]=e[t+a]}function i(e,t,r,n){var i;for(i=0;i<n;i++)e[t+i]=e[t-r+i]}function a(e){this.array=e,this.pos=0}var o=[0,255,65535,16777215,4294967295];a.prototype.readUncompressedLength=function(){for(var e,t,r=0,n=0;n<32&&this.pos<this.array.length;){if(e=this.array[this.pos],this.pos+=1,(t=127&e)<<n>>>n!==t)return-1;if(r|=t<<n,e<128)return r;n+=7}return-1},a.prototype.uncompressToBuffer=function(e){for(var t,r,a,s,l=this.array,c=l.length,u=this.pos,d=0;u<l.length;)if(t=l[u],u+=1,0==(3&t)){if((r=1+(t>>>2))>60){if(u+3>=c)return!1;a=r-60,r=1+((r=l[u]+(l[u+1]<<8)+(l[u+2]<<16)+(l[u+3]<<24))&o[a]),u+=a}if(u+r>c)return!1;n(l,u,e,d,r),u+=r,d+=r}else{switch(3&t){case 1:r=4+(t>>>2&7),s=l[u]+(t>>>5<<8),u+=1;break;case 2:if(u+1>=c)return!1;r=1+(t>>>2),s=l[u]+(l[u+1]<<8),u+=2;break;case 3:if(u+3>=c)return!1;r=1+(t>>>2),s=l[u]+(l[u+1]<<8)+(l[u+2]<<16)+(l[u+3]<<24),u+=4}if(0===s||s>d)return!1;i(e,d,s,r),d+=r}return!0},r.SnappyDecompressor=a},{}]},{},[1]),e.exports=t},737:(e,t,r)=>{"use strict";e.exports=r(536)},536:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(123),n.BufferWriter=r(673),n.Reader=r(799),n.BufferReader=r(38),n.util=r(165),n.rpc=r(963),n.roots=r(9),n.configure=i,i()},799:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(165),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function p(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new a(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=d(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},38:(e,t,r)=>{"use strict";e.exports=a;var n=r(799);(a.prototype=Object.create(n.prototype)).constructor=a;var i=r(165);function a(e){n.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},9:e=>{"use strict";e.exports={}},963:(e,t,r)=>{"use strict";t.Service=r(548)},548:(e,t,r)=>{"use strict";e.exports=i;var n=r(165);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return n.asPromise(e,s,t,r,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,r){if(e)return s.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",r,t),o(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},697:(e,t,r)=>{"use strict";e.exports=i;var n=r(165);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},165:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function a(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(781),n.base64=r(26),n.EventEmitter=r(570),n.float=r(298),n.inquire=r(116),n.utf8=r(958),n.pool=r(804),n.LongBits=r(697),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=a,n.ProtocolError=a("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},123:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(165),a=i.LongBits,o=i.base64,s=i.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function h(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function v(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=p(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,a.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=a.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=a.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=d.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=p(),n._configure()}},673:(e,t,r)=>{"use strict";e.exports=a;var n=r(123);(a.prototype=Object.create(n.prototype)).constructor=a;var i=r(165);function a(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";a.r(o),a.d(o,{DefaultCloud:()=>xu,InstanceCloud:()=>Pu,getCloudAPI:()=>Tu,getCloudInstance:()=>Su,getServiceMarketAPI:()=>td});var e={};a.r(e),a.d(e,{GeoLineString:()=>eo,GeoMultiLineString:()=>ro,GeoMultiPoint:()=>Xa,GeoMultiPolygon:()=>oo,GeoPoint:()=>qa,GeoPolygon:()=>io,LineString:()=>Ka,MultiLineString:()=>to,MultiPoint:()=>Ja,MultiPolygon:()=>ao,Point:()=>Za,Polygon:()=>no,__safe_props__:()=>co});var n={};a.r(n),a.d(n,{AggregateOperatorMap:()=>Oc,AggregateSerializer:()=>Uc,Decoder:()=>Kc,OperatorMap:()=>Rc,ProjectionSerializer:()=>Xc,QuerySerializer:()=>jc,UpdateSerializer:()=>Yc,aggregateOperatorToString:()=>Fc,decodeInternalDataType:()=>No,encode:()=>Gc,encodeInternalDataType:()=>Lo,extractQueryOptions:()=>Bo,flattenObject:()=>Ro,flattenQueryObject:()=>Do,getProjectionDefinition:()=>Fo,isConversionRequired:()=>Mo,mergeConditionAfterEncode:()=>Oo,operatorToString:()=>Wc});var i=BabelRuntimeHelpers.objectSpread2,s=a.n(i),l=BabelRuntimeHelpers.asyncToGenerator,c=a.n(l);var u=function(){this.__data__=[],this.size=0};var d=function(e,t){return e===t||e!=e&&t!=t};var p=function(e,t){for(var r=e.length;r--;)if(d(e[r][0],t))return r;return-1},h=Array.prototype.splice;var f=function(e){var t=this.__data__,r=p(t,e);return!(r<0)&&(r==t.length-1?t.pop():h.call(t,r,1),--this.size,!0)};var g=function(e){var t=this.__data__,r=p(t,e);return r<0?void 0:t[r][1]};var v=function(e){return p(this.__data__,e)>-1};var m=function(e,t){var r=this.__data__,n=p(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function _(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_.prototype.clear=u,_.prototype.delete=f,_.prototype.get=g,_.prototype.has=v,_.prototype.set=m;var y=_;var A=function(){this.__data__=new y,this.size=0};var b=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var w=function(e){return this.__data__.get(e)};var E=function(e){return this.__data__.has(e)},C="object"==typeof global&&global&&global.Object===Object&&global,I="object"==typeof self&&self&&self.Object===Object&&self,S=C||I||Function("return this")(),T=S.Symbol,x=Object.prototype,P=x.hasOwnProperty,k=x.toString,D=T?T.toStringTag:void 0;var R=function(e){var t=P.call(e,D),r=e[D];try{e[D]=void 0;var n=!0}catch(e){}var i=k.call(e);return n&&(t?e[D]=r:delete e[D]),i},O=Object.prototype.toString;var M=function(e){return O.call(e)},L=T?T.toStringTag:void 0;var N=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?R(e):M(e)};var B=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var W,F=function(e){if(!B(e))return!1;var t=N(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},U=S["__core-js_shared__"],V=(W=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";var j=function(e){return!!V&&V in e},G=Function.prototype.toString;var H=function(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Q=/^\[object .+?Constructor\]$/,$=Function.prototype,z=Object.prototype,Y=$.toString,Z=z.hasOwnProperty,q=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var J=function(e){return!(!B(e)||j(e))&&(F(e)?q:Q).test(H(e))};var X=function(e,t){return null==e?void 0:e[t]};var K=function(e,t){var r=X(e,t);return J(r)?r:void 0},ee=K(S,"Map"),te=K(Object,"create");var re=function(){this.__data__=te?te(null):{},this.size=0};var ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ie=Object.prototype.hasOwnProperty;var ae=function(e){var t=this.__data__;if(te){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ie.call(t,e)?t[e]:void 0},oe=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return te?void 0!==t[e]:oe.call(t,e)};var le=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=te&&void 0===t?"__lodash_hash_undefined__":t,this};function ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ce.prototype.clear=re,ce.prototype.delete=ne,ce.prototype.get=ae,ce.prototype.has=se,ce.prototype.set=le;var ue=ce;var de=function(){this.size=0,this.__data__={hash:new ue,map:new(ee||y),string:new ue}};var pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var he=function(e,t){var r=e.__data__;return pe(t)?r["string"==typeof t?"string":"hash"]:r.map};var fe=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t};var ge=function(e){return he(this,e).get(e)};var ve=function(e){return he(this,e).has(e)};var me=function(e,t){var r=he(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_e.prototype.clear=de,_e.prototype.delete=fe,_e.prototype.get=ge,_e.prototype.has=ve,_e.prototype.set=me;var ye=_e;var Ae=function(e,t){var r=this.__data__;if(r instanceof y){var n=r.__data__;if(!ee||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ye(n)}return r.set(e,t),this.size=r.size,this};function be(e){var t=this.__data__=new y(e);this.size=t.size}be.prototype.clear=A,be.prototype.delete=b,be.prototype.get=w,be.prototype.has=E,be.prototype.set=Ae;var we=be,Ee=function(){try{var e=K(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Ce=function(e,t,r){"__proto__"==t&&Ee?Ee(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var Ie=function(e,t,r){(void 0!==r&&!d(e[t],r)||void 0===r&&!(t in e))&&Ce(e,t,r)};var Se=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}(),Te="object"==typeof exports&&exports&&!exports.nodeType&&exports,xe=Te&&"object"==typeof module&&module&&!module.nodeType&&module,Pe=xe&&xe.exports===Te?S.Buffer:void 0,ke=Pe?Pe.allocUnsafe:void 0;var De=function(e,t){if(t)return e.slice();var r=e.length,n=ke?ke(r):new e.constructor(r);return e.copy(n),n},Re=S.Uint8Array;var Oe=function(e){var t=new e.constructor(e.byteLength);return new Re(t).set(new Re(e)),t};var Me=function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Le=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Ne=Object.create,Be=function(){function e(){}return function(t){if(!B(t))return{};if(Ne)return Ne(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var We=function(e,t){return function(r){return e(t(r))}},Fe=We(Object.getPrototypeOf,Object),Ue=Object.prototype;var Ve=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ue)};var je=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:Be(Fe(e))};var Ge=function(e){return null!=e&&"object"==typeof e};var He=function(e){return Ge(e)&&"[object Arguments]"==N(e)},Qe=Object.prototype,$e=Qe.hasOwnProperty,ze=Qe.propertyIsEnumerable,Ye=He(function(){return arguments}())?He:function(e){return Ge(e)&&$e.call(e,"callee")&&!ze.call(e,"callee")},Ze=Array.isArray;var qe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Je=function(e){return null!=e&&qe(e.length)&&!F(e)};var Xe=function(e){return Ge(e)&&Je(e)};var Ke=function(){return!1},et="object"==typeof exports&&exports&&!exports.nodeType&&exports,tt=et&&"object"==typeof module&&module&&!module.nodeType&&module,rt=tt&&tt.exports===et?S.Buffer:void 0,nt=(rt?rt.isBuffer:void 0)||Ke,it=Function.prototype,at=Object.prototype,ot=it.toString,st=at.hasOwnProperty,lt=ot.call(Object);var ct=function(e){if(!Ge(e)||"[object Object]"!=N(e))return!1;var t=Fe(e);if(null===t)return!0;var r=st.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ot.call(r)==lt},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var dt=function(e){return Ge(e)&&qe(e.length)&&!!ut[N(e)]};var pt=function(e){return function(t){return e(t)}},ht="object"==typeof exports&&exports&&!exports.nodeType&&exports,ft=ht&&"object"==typeof module&&module&&!module.nodeType&&module,gt=ft&&ft.exports===ht&&C.process,vt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),mt=vt&&vt.isTypedArray,_t=mt?pt(mt):dt;var yt=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},At=Object.prototype.hasOwnProperty;var bt=function(e,t,r){var n=e[t];At.call(e,t)&&d(n,r)&&(void 0!==r||t in e)||Ce(e,t,r)};var wt=function(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Ce(r,s,l):bt(r,s,l)}return r};var Et=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Ct=/^(?:0|[1-9]\d*)$/;var It=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Ct.test(e))&&e>-1&&e%1==0&&e<t},St=Object.prototype.hasOwnProperty;var Tt=function(e,t){var r=Ze(e),n=!r&&Ye(e),i=!r&&!n&&nt(e),a=!r&&!n&&!i&&_t(e),o=r||n||i||a,s=o?Et(e.length,String):[],l=s.length;for(var c in e)!t&&!St.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||It(c,l))||s.push(c);return s};var xt=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Pt=Object.prototype.hasOwnProperty;var kt=function(e){if(!B(e))return xt(e);var t=Ve(e),r=[];for(var n in e)("constructor"!=n||!t&&Pt.call(e,n))&&r.push(n);return r};var Dt=function(e){return Je(e)?Tt(e,!0):kt(e)};var Rt=function(e){return wt(e,Dt(e))};var Ot=function(e,t,r,n,i,a,o){var s=yt(e,r),l=yt(t,r),c=o.get(l);if(c)Ie(e,r,c);else{var u=a?a(s,l,r+"",e,t,o):void 0,d=void 0===u;if(d){var p=Ze(l),h=!p&&nt(l),f=!p&&!h&&_t(l);u=l,p||h||f?Ze(s)?u=s:Xe(s)?u=Le(s):h?(d=!1,u=De(l,!0)):f?(d=!1,u=Me(l,!0)):u=[]:ct(l)||Ye(l)?(u=s,Ye(s)?u=Rt(s):B(s)&&!F(s)||(u=je(l))):d=!1}d&&(o.set(l,u),i(u,l,n,a,o),o.delete(l)),Ie(e,r,u)}};var Mt=function e(t,r,n,i,a){t!==r&&Se(r,(function(o,s){if(a||(a=new we),B(o))Ot(t,r,s,n,e,i,a);else{var l=i?i(yt(t,s),o,s+"",t,r,a):void 0;void 0===l&&(l=o),Ie(t,s,l)}}),Dt)};var Lt=function(e){return e};var Nt=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Bt=Math.max;var Wt=function(e,t,r){return t=Bt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Bt(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Nt(e,this,s)}};var Ft=function(e){return function(){return e}},Ut=Ee?function(e,t){return Ee(e,"toString",{configurable:!0,enumerable:!1,value:Ft(t),writable:!0})}:Lt,Vt=Date.now;var jt=function(e){var t=0,r=0;return function(){var n=Vt(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ut);var Gt=function(e,t){return jt(Wt(e,t,Lt),e+"")};var Ht=function(e,t,r){if(!B(r))return!1;var n=typeof t;return!!("number"==n?Je(r)&&It(t,r.length):"string"==n&&t in r)&&d(r[t],e)};var Qt=function(e){return Gt((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&Ht(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}((function(e,t,r){Mt(e,t,r)})),$t=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),zt=e=>"object"===$t(e),Yt=e=>"string"===$t(e),Zt=e=>"number"===$t(e),qt=e=>"function"==typeof e,Jt=e=>Array.isArray(e),Xt=e=>"date"===$t(e),Kt=e=>"regexp"===$t(e),er=e=>e&&"symbol"===$t(e._internalType),tr={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-402002":"realtime listener init watch fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:-402002,"-402003":"realtime listener reconnect ws fail",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL:-402003,"-402004":"realtime listener rebuild watch fail",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:-402004,"-402005":"realtime listener close watch fail",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:-402005,"-402006":"realtime listener receive server error msg",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:-402006,"-402007":"realtime listener receive invalid server data",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:-402007,"-402008":"realtime listener websocket connection error",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:-402008,"-402009":"realtime listener websocket connection closed",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:-402009,"-402010":"realtime listener check last fail",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:-402010,"-402011":"realtime listener unexpected fatal error",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:-402011,"-402012":"realtime listener init ws fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL:-402012,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"poll result base resp ret abnormal",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"poll result status code error",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"poll error",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-404012":"polling exceed max timeout retry",SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY:-404012,"-404013":"polling exceed max system error retry",SDK_FUNCTIONS_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-404013,"-405001":"empty call result",SDK_CONTAINER_EMPTY_CALL_RESULT:-405001,"-405002":"empty event id",SDK_CONTAINER_EMPTY_EVENT_ID:-405002,"-405003":"empty poll url",SDK_CONTAINER_EMPTY_POLL_URL:-405003,"-405004":"empty poll result json",SDK_CONTAINER_EMPTY_POLL_RESULT_JSON:-405004,"-405005":"exceed max poll retry",SDK_CONTAINER_EXCEED_MAX_POLL_RETRY:-405005,"-405006":"empty poll result base resp",SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP:-405006,"-405007":"poll result base resp ret abnormal",SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-405007,"-405008":"poll result status code error",SDK_CONTAINER_POLL_RESULT_STATUS_CODE_ERROR:-405008,"-405009":"poll error",SDK_CONTAINER_POLL_ERROR:-405009,"-405010":"result expired",SDK_CONTAINER_POLL_RESULT_EXPIRED:-405010,"-405012":"polling exceed max timeout retry",SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY:-405012,"-405013":"polling exceed max system error retry",SDK_CONTAINER_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-405013,"-405014":"cannot download result (cdn)",SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL:-405014,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-601005":"invalid cloudID",WX_INVALID_CLOUDID:-601005,"-601006":"cloudID expired",WX_CLOUDID_EXPIRED:-601006,"-601007":"cloudID and calling user does not match",WX_CLOUDID_USER_NOT_MATCH:-601007,"-601008":"server-side request timedout",WX_SERVER_REQUEST_TIMEOUT:-601008,"-601009":"missing mobile phone",WX_MISSING_MOBILE_PHONE:-601009,"-601010":"no write permission",WX_NO_WRITE_PERMISSION:-601010,"-601011":"no privilege permission",WX_NO_PRIVILEGE_PERMISSION:-601011,"-601012":"unauthorized env",WX_UNAUTHORIZED_ENV:-601012,"-601013":"no multiend permission",WX_NO_MULTIEND_PERMISSION:-601013,"-601015":"access denied (cloudfunction cloudbase_auth returns empty errCode)",WX_CLOUDBASE_AUTH_RETURN_EMPTY_ERRCODE:-601015,"-601016":"missing env auth info",WX_MISSING_ENV_AUTH_INFO:-601016,"-601017":"access denied (cloudbase_auth returns non-zero errCode)",WX_CLOUDBASE_AUTH_RETURN_NON_ZERO_ERRCODE:-601017,"-602018":"unauthorized API",WX_UNAUTHORIZED_API:-601018,"-602001":"database query result size exceed limit (1MB)",WX_DATABASE_QUERY_SIZE_EXCEED_LIMIT:-602001,"-604001":"cloudfunction result size exceed limit (1MB)",WX_CLOUDFUNCTION_RESULT_SIZE_EXCEED_LIMIT:-604001,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-501010":"tencentcloud key signature verification fail",TCB_KEY_SIGNATURE_VERIFICATION_FAIL:-501010,"-501011":"invalid env status",TCB_INVALID_ENV_STATUS:-501011,"-501012":"invalid api name",TCB_INVALID_API_NAME:-501012,"-501013":"request data size exceeds limit (5M)",TCB_REQ_DATA_EXCEED_LIMIT_5M:-501013,"-501014":"upload file size exceeds limit (5M)",TCB_UPLOAD_FILE_SIZE_EXCEED_LIMIT_5M:-501014,"-501023":"permission denied",TCB_PERMISSION_DENIED:-501023,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002};class rr extends Error{constructor(e){super(e.errMsg),this.errCode=-1,this.errMsg=void 0,this.requestID=void 0,Object.defineProperties(this,{message:{get(){return`errCode: ${this.errCode} ${tr[this.errCode]||""} | errMsg: `+this.errMsg},set(e){this.errMsg=e}}}),this.errCode=e.errCode||-1,this.errMsg=e.errMsg}get message(){return`errCode: ${this.errCode} | errMsg: `+this.errMsg}set message(e){this.errMsg=e}}function nr(e){return e&&e instanceof Error&&Yt(e.errMsg)}function ir(e,t){return ar(e,t)}function ar(e,t){if(e){if(nr(e))return e;var r,n=`${t}:fail `;if(e instanceof Error)e.message=`${n}${e.message}`,e.stack=e.stack?e.stack.slice(0,7)+n+e.stack.slice(7):e.stack,(r=e).errCode=-1;else if("string"==typeof e)(r=new Error(`${n}${e}`)).errCode=-1;else{var i=e.errMsg||"";(r=new Error(`${t}:fail ${e.errCode} ${tr[e.errCode]||""}. ${i}`)).errCode=e.errCode||-1}return r.errMsg=r.message+"",r}var a=new Error(`${t}:fail`);return a.errCode=-1,a.errMsg=a.message+"",a}class or extends Error{constructor(e,t){super(e),this.type="timeout",this.payload=void 0,this.generic=!0,this.payload=t}}var sr=e=>"timeout"===e.type;class lr extends Error{constructor(e,t){super(e),this.type="cancelled",this.payload=void 0,this.generic=!0,this.payload=t}}var cr,ur=e=>"cancelled"===e.type,dr={surroundThirdByTryCatch:(e,t)=>function(...r){return _r((()=>{try{return e.apply(e,r)}catch(r){throw console.error(JSON.stringify(r)+`; ${t}\n`+r.stack),console.error(e.toString()),r}}),t)},reportIDKey:(...e)=>{},reportIDKeyDirectly:(...e)=>{},reportKeyValue:(...e)=>{}},pr=!1,hr=10;function fr(){try{return pr?Reporter:hr<=0?cr:(hr--,Reporter.surroundThirdByTryCatch,pr=!0,cr=Reporter)}catch(e){return cr=dr}}var gr=(e,t)=>fr().surroundThirdByTryCatch(e,t),vr=e=>fr().reportIDKeyDirectly(e),mr=e=>fr().reportKeyValue(e);function _r(e,t=""){try{return e()}catch(e){if(nr(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new rr({errMsg:r})}}function yr(e,t=""){return function(...r){return _r((()=>e.apply(e,r)),t)}}function Ar(e){var t=e.param;t&&(t.success&&qt(t.success)&&(t.success=gr(t.success,`at api ${e.apiName} success callback function`)),t.fail&&qt(t.fail)&&(t.fail=gr(t.fail,`at api ${e.apiName} fail callback function`)),t.complete&&qt(t.complete)&&(t.complete=gr(t.complete,`at api ${e.apiName} complete callback function`)))}function br(e,t,r){t.complete&&qt(t.complete)&&yr(t.complete,`at api ${e} complete callback function;`)(r)}function wr(e,t,r){!function(e,t,r){t.success&&qt(t.success)&&yr(t.success,`at api ${e} success callback function;`)(r)}(e,t,r),br(e,t,r)}function Er(e,t,r){!function(e,t,r){t.fail&&qt(t.fail)&&yr(t.fail,`at api ${e} fail callback function;`)(r)}(e,t,r),br(e,t,r)}function Cr(e){return e&&(e.success||e.fail||e.complete)}function Ir(e,t,r="parameter",n=rr){var i=function(e,t,r="parameter"){var n=function e(t,r,n){var i=$t(t),a=$t(r);if("string"===a)return i!==r?`${n} should be ${r} instead of ${i};`:"";if(i!==a)return`${n} should be ${a} instead of ${i}; `;var o="";switch(i){case"object":for(var s in r)o+=e(t[s],r[s],`${n}.${s}`);break;case"array":for(var l=0;l<r.length;l++)o+=e(t[l],r[l],`${n}[${l}]`)}return o}(e,t,r);return{passed:!n,reason:n}}(e,t,r);if(!i.passed)throw new n({errCode:tr.SDK_API_PARAMETER_TYPE_ERROR,errMsg:i.reason})}function Sr(e,t,r,n=rr){if(null==e)throw new n({errCode:tr.SDK_API_PARAMETER_ERROR,errMsg:`parameter ${t} of function ${r} must be provided`})}function Tr({name:e,input:t,max:r,maxWording:n="",ErrorClass:i=rr}){if(t.length>r)throw new i({errCode:tr.SDK_API_PARAMETER_ERROR,errMsg:`${e} size must be less than ${n||r}`})}function xr({target:e,name:t,ErrorClass:r=rr}){if(0===Object.keys(e).length)throw new r({errCode:tr.SDK_API_PARAMETER_ERROR,errMsg:`${t} must not be empty`})}function Pr(e,t=!1){if(t)return function(e){switch($t(e)){case"object":return s()({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if((e=>{if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t})(e))return s()({},e);switch($t(e)){case"object":return e;case"array":return e.slice();default:return e}}var kr,Dr=new WeakMap;function Rr(){var e;return null!==(e=kr)&&void 0!==e?e:void 0!==t?t:void 0}var Or=e=>{if(!e)return Rr();var t=Dr.get(e);return t&&t||Rr()},Mr=function(){return S.Date.now()},Lr=/\s/;var Nr=function(e){for(var t=e.length;t--&&Lr.test(e.charAt(t)););return t},Br=/^\s+/;var Wr=function(e){return e?e.slice(0,Nr(e)+1).replace(Br,""):e};var Fr=function(e){return"symbol"==typeof e||Ge(e)&&"[object Symbol]"==N(e)},Ur=/^[-+]0x[0-9a-f]+$/i,Vr=/^0b[01]+$/i,jr=/^0o[0-7]+$/i,Gr=parseInt;var Hr=function(e){if("number"==typeof e)return e;if(Fr(e))return NaN;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Wr(e);var r=Vr.test(e);return r||jr.test(e)?Gr(e.slice(2),r?2:8):Ur.test(e)?NaN:+e},Qr=Math.max,$r=Math.min;var zr=function(e,t,r){var n,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=n,a=i;return n=i=void 0,c=t,o=e.apply(a,r)}function f(e){return c=e,s=setTimeout(v,t),u?h(e):o}function g(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=a}function v(){var e=Mr();if(g(e))return m(e);s=setTimeout(v,function(e){var r=t-(e-l);return d?$r(r,a-(e-c)):r}(e))}function m(e){return s=void 0,p&&n?h(e):(n=i=void 0,o)}function _(){var e=Mr(),r=g(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return f(l);if(d)return clearTimeout(s),s=setTimeout(v,t),h(l)}return void 0===s&&(s=setTimeout(v,t)),o}return t=Hr(t)||0,B(r)&&(u=!!r.leading,a=(d="maxWait"in r)?Qr(Hr(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=i=s=void 0},_.flush=function(){return void 0===s?o:m(Mr())},_};var Yr,Zr,qr,Jr=!1,Xr=[],Kr="unknown",en=()=>{for(var e of Xr)try{e()}catch(e){0}Xr=[]},tn=e=>{setTimeout((()=>{try{if(!(e=>!(e.tunnelStartTime&&e.tunnelEndTime&&e.tunnelEndTime<e.tunnelStartTime||!(e.apiStartTime&&e.apiEndTime&&e.apiEndTime>e.apiStartTime)))(e))return;if(!Jr&&Xr.length<100)return void Xr.push(tn.bind(null,e));var t=e.apiEndTime-e.apiStartTime,r=e.tunnelEndTime?e.tunnelEndTime-e.tunnelStartTime:0,n=[0,e.apiName,t,r,(e.pollStartTime&&e.pollEndTime&&e.pollEndTime>e.pollStartTime?e.pollEndTime-e.pollStartTime:0)||0,Kr,e.tunnelTimeNoCSNetCost?t-e.tunnelTimeNoCSNetCost:0,e.tunnelTimeNoCSNetCost?r-e.tunnelTimeNoCSNetCost:0,e.funcExecTime?e.funcExecTime:0];mr({key:"CloudReport",value:n.join(","),force:!0})}catch(e){}}))},rn=(e,t,r,n)=>{vr({id:e,key:t,force:r,immediately:n})},nn=[],an=(e,t,r)=>{nn.push({log_id:e,version:t,user_log_list:r}),Yr&&on()},on=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return B(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),zr(e,t,{leading:n,maxWait:t,trailing:i})}((()=>{Or()._requestSkipCheckDomain({url:`https://servicewechat.com/wxa-qbase/report?token=${Yr}`,method:"POST",header:{},enableHttp2:!0,data:JSON.stringify({report_info_list:nn})}),nn=[]}),3e4),sn=(e,t)=>{var r=qt(e);function n(...n){if(t.samplePicker&&!t.samplePicker.next())return r?e.apply(this,n):e;var a=Date.now(),o=!0;try{if(t.condition&&t.condition.emptyKey&&t.timing[t.startKey])return r?e.apply(this,n):e;var s;if(r){var l=e.apply(this,n);if("promise"!==$t(l))return o=!1,l;s=l}else s=e;return s.then((()=>i(a))).catch((()=>i(a))),s}catch(e){throw o=!1,e}finally{o||i(a)}}function i(e){t.timing[t.startKey]=e,t.timing[t.endKey]=Date.now(),t.autoReport&&tn(s()(s()({},t.timing),{},{apiName:t.autoReport}))}return r?n:n()},ln=(Zr=10,qr=!0,function*(){for(var e=()=>parseInt(Math.round(2*Math.random()*Zr),10),t=qr?0:e();;)t>0?(t--,yield!1):(t=e(),yield!0)})();function cn(e){return`${e}:ok`}function un(e,t){return JSON.stringify(e,((e,r)=>{if(t&&t.has(r))return t.get(r);switch($t(r)){case"arraybuffer":return{type:"Buffer",data:[...new Uint8Array(r)]}}return r}))}function dn(e){return pn(JSON.parse(e))}function pn(e){switch($t(e)){case"object":return hn(e);case"array":return e.map(pn);default:return e}}function hn(e){var t=e,r=fn(t);if(t!==r)return r;for(var n in t){var i=t[n];switch($t(i)){case"object":var a=fn(i);t[n]=a!==i?a:hn(t[n]);break;case"array":var o=pn(i);o!==i&&(t[n]=o);break;default:continue}}return t}function fn(e){for(var t in e)switch(t){case"type":switch(e.type){case"Buffer":if(Jt(e.data)&&Zt(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}}}return e}var gn=Symbol.for("CLOUD_ID"),vn=Symbol("CDN");function mn(e){var t=[];for(var r in e)zt(e[r])&&e[r]._internalType===gn&&t.push({key:r,cloudID:e[r].cloudID});return t}var _n,yn=(e=0)=>new Promise((t=>setTimeout(t,e))),An=!1,bn=[],wn=()=>new Promise(((e,t)=>{if(_n)e(_n);else{0;try{Or().wx.getNetworkType({success:t=>{_n={networkType:t.networkType,isConnected:"none"!==t.networkType},e(_n),An||(Or().wx.onNetworkStatusChange((e=>{if(_n.networkType=e.networkType,_n.isConnected=e.isConnected,e.isConnected&&bn.length)for(;bn.length;)try{bn.shift()()}catch(e){}})),An=!0)},fail:t})}catch(e){t(e)}}}));var En,Cn=!1,In=new Set;function Sn(e){Or().wx.onAppShow&&(Cn||(!function(){var e=Or().wx;e.onAppShow&&e.onAppHide&&(e.onAppShow((()=>{for(var e of("visible",In))try{e("show")}catch(e){0}})),e.onAppHide((()=>{for(var e of("hidden",In))try{e("hide")}catch(e){0}})))}(),Cn=!0),In.size>50&&In.clear(),In.add(e))}function Tn(e){In.delete(e)}function xn(){if(En)return En;var e=Or().wx;return En=e.getSystemInfoSync()}function Pn(e){try{return JSON.parse(e)}catch(t){return e}}var kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Dn(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return function(e){for(var t,r,n=String(e),i="",a=0,o=kn;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i}(t)}function Rn(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=kn.indexOf(i);return r}(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}function On(e){return Fn(new Uint8Array(e))}function Mn(e){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e).buffer}var Ln,Nn,Bn,Wn,Fn=(Ln=new Array(128),Nn=String.fromCodePoint||String.fromCharCode,Bn=[],function(e){var t,r,n=e.length;Bn.length=0;for(var i=0;i<n;)(r=e[i++])<=127?t=r:r<=223?t=(31&r)<<6|63&e[i++]:r<=239?t=(15&r)<<12|(63&e[i++])<<6|63&e[i++]:String.fromCodePoint?t=(7&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++]:(t=63,i+=3),Bn.push(Ln[t]||(Ln[t]=Nn(t)));return Bn.join("")});try{__wxConfig.platform,Wn=s()({},__wxConfig),__wxConfig.onReady((()=>{Wn=Object.assign(Wn,__wxConfig)}))}catch(e){Wn={platform:"ios",appLaunchInfo:{mode:""},onReady:e=>{setTimeout((()=>{e()}))}}}var Un=Wn,Vn=()=>"devtools"===Wn.platform,jn=2e4,Gn=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},Hn=e=>e.join("->");function Qn(e){return function(){var t=c()((function*(t){var r=s()({},t.data),n=mn(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var a=un(r,yield t.cdnMapPromise);Tr({input:a,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var o=`${+new Date}-${Math.random()}`;t.context.tunnelStartTime=+new Date;var{result:l,requestID:u}=yield function(e,t,r,n){return d.apply(this,arguments)}(t,a,n,o);return t.context.tunnelEndTime=+new Date,{errMsg:cn(ei),result:l,requestID:u};function d(){return(d=c()((function*(t,r,n,i){return new Promise(((a,o)=>{var s=[Gn("start")],{resolve:l,reject:c}=f(s,a,o);p({param:t,functionName:t.name,data:r,cloudIDList:n,callID:i,action:Yn.CALL,scene:Zn.INITIATE_CALL,tryCount:e.appConfig.maxPollRetry||20,systemErrorRetry:2,timeoutErrorRetry:2,trace:s,resolve:l,reject:c})}))}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c()((function*(r){var{functionName:i,data:a,callID:o,action:l,scene:u,tryCount:d,trace:h,systemErrorRetry:f,timeoutErrorRetry:g,resolve:v,reject:m}=r,_=l===Yn.CALL&&Vn()?t.localDebugNoTimeout:void 0,y=un({function_name:i,data:l===Yn.CALL?a:void 0,action:l,scene:u,call_id:o,cloudid_list:l===Yn.CALL?n:[],local_debug_no_timeout:_}),A=!1,b=!1,w=()=>{clearTimeout(C),b=!0},E=+new Date,C=_?void 0:setTimeout(c()((function*(){var t=e.appConfig.clientPollTimeout||jn;if(!(+new Date-E>t&&(yield yn(),b))){if(!Vn()&&+new Date-E>e.appConfig.maxStartRetryGap)return h.push(Gn("timeout, exceed max retry gap")),m(ar({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${o}) (trace: ${Hn(h)})`},ei));A=!0,r.timeoutErrorRetry>0?(h.push(Gn("timeout, retry")),p(s()(s()({},r),{},{scene:Zn.TIMEOUT_RETRY,tryCount:d-1,timeoutErrorRetry:g-1}))):(h.push(Gn("timeout, abort")),m(ar({errCode:tr.SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${o}) (trace: ${Hn(h)})`},ei)))}})),e.appConfig.clientPollTimeout||jn);e.request(s()(s()({},t.config),{},{apiName:"tcbapi_slowcallfunction_v2",serviceName:e.name,serializedReqData:y,env:t.config&&t.config.env||e.env})).then((function(e){try{if(A)return;w(),(e=>{var r=e.data;r&&r.baseresponse&&r.baseresponse.stat&&(r.baseresponse.stat.qbase_cost_time&&(t.context.tunnelTimeNoCSNetCost+=r.baseresponse.stat.qbase_cost_time),r.baseresponse.stat.func_exec_cost_time&&(t.context.funcExecTime=r.baseresponse.stat.func_exec_cost_time))})(e);var n=e.data;if(!n)return h.push(Gn("empty resp")),m(ar({errCode:tr.SDK_FUNCTIONS_EMPTY_CALL_RESULT},ei));if(!n.baseresponse||0!==n.baseresponse.errcode)return n.baseresponse?0!==n.baseresponse.errcode?m(ar({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${n.baseresponse.errcode} errmsg ${n.baseresponse.errmsg} (callId: ${o})`},ei)):m(ar({errCode:tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(n.baseresponse)} (callId: ${o})`},ei)):m(ar({errCode:tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP},ei));if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){if(n.service_errcode===tr.TCB_FUNCTIONS_EXEC_FAIL){var i=n.service_errmsg||"";try{for(var a=i.split("\n"),l=[],c=0;c<a.length;c++)a[c].startsWith("Error: ")&&l.push([a[c],c]);if(l.length%2==1){var u=l[Math.floor(l.length/2)][1];i=a.slice(u).join("\n")}}catch(e){}var f=ar({errCode:tr.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`云函数执行错误\n云端堆栈信息(error stack)(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${o}):\n${i}`},ei);return f.stack=`Error: ${f.message}`,f.requestID=n.func_request_id,m(f)}var g=ar({errCode:tr.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`\n云函数调用失败(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${o}):\n${n.service_errcode} ${n.service_errmsg}`},ei);return g.stack=`Error: ${g.message}`,g.requestID=n.func_request_id,m(g)}var _=n.data;try{_=dn(_)}catch(e){try{_=JSON.parse(_)}catch(e){}}return v({result:_,requestID:n.func_request_id})}return h.push(Gn("poll result expired")),m(ar({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${o}) (trace: ${Hn(h)})`},ei))}if(!(d>=0))return h.push(Gn("too many polls, abort")),m(ar({errCode:tr.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${o}) (trace: ${Hn(h)})`},ei));h.push(Gn("normal poll")),p(s()(s()({},r),{},{action:Yn.POLL,scene:Zn.NORMAL_POLL_RETRY,tryCount:d-1}))}catch(e){m(ar({errCode:tr.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${o})`},ei))}})).catch((e=>{A||(w(),e&&e.operateWXDataFail&&f>0?(h.push(Gn(`system error (${e}), retry`)),p(s()(s()({},r),{},{scene:Zn.SYSTEM_ERROR_RETRY,tryCount:d-1,systemErrorRetry:f-1}))):(h.push(Gn(`system error (${e}), abort`)),m(ar(`${e} (callId: ${o}) (trace: ${Hn(h)})`,ei))))}))}))).apply(this,arguments)}function f(e,t,r){var n=t=>{e.push(Gn(`app ${t}`))};Sn(n);return{resolve:e=>{Tn(n),t(e)},reject:e=>{Tn(n),r(e)}}}}));return function(e){return t.apply(this,arguments)}}()}function $n(e){var t=new WeakMap,r=[];if(e&&(JSON.stringify(e,((e,n)=>n&&n._internalType===vn?void r.push(new Promise(((e,r)=>{var i={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},a=n;switch($t(a.target)){case"object":if(!a.target.filePath)throw new Error("filePath must be provided");i.filePath=a.target.filePath;break;default:i.fileData=a.target}e(zn(i).then((e=>{t.set(n,e.fileUrl)})))}))):n)),r.length))return Promise.all(r).then((()=>t))}function zn(e){return new Promise(((t,r)=>{var n=s()(s()({},e),{},{appType:e.appType||301,fileType:e.fileType||20303,fileKey:e.fileKey||`file_${Math.random()}`});Or().uploadToCommonCDN(s()(s()({},n),{},{success:t,fail:r}))}))}var Yn,Zn,qn,Jn=e=>s()(s()({},e),{},{errMsg:void 0}),Xn=e=>{try{Vn()&&"undefined"!=typeof __global&&__global.networkLog&&__global.networkLog(s()(s()({},e),{},{domain:"cloud",method:"POST",timestampMs:e.timestampMs||+new Date,callFramesIgnoreLength:e.hasOwnProperty("callFramesIgnoreLength")?e.callFramesIgnoreLength:1}))}catch(e){}},Kn=(e,t)=>{try{if(Vn()&&"undefined"!=typeof __global&&__global.networkLog){var r=t(),n=`${Math.random()}-${+new Date}`,i=r.console||!1,a=r.resultGetter||Jn;Xn({reqId:n,type:"requestWillBeSent",url:r.url,headers:r.headers||{},body:r.reqBody,console:i,callFramesIgnoreLength:2,timestampMs:r.timestampMs}),e.then(function(){var e=c()((function*(e){try{yield((e=0)=>new Promise((t=>setTimeout(t,e))))(),Xn({reqId:n,type:"loadingFinished",body:JSON.stringify(a(e),null,2),console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{try{Xn({reqId:n,type:"loadingFailed",errorCode:e&&e.errCode||-1,errorMsg:zt(e)?e.errMsg||JSON.stringify(e):e.toString(),console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}))}}catch(e){0}};!function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL"}(Yn||(Yn={})),function(e){e[e.INITIATE_CALL=1]="INITIATE_CALL",e[e.NORMAL_POLL_RETRY=2]="NORMAL_POLL_RETRY",e[e.SYSTEM_ERROR_RETRY=3]="SYSTEM_ERROR_RETRY",e[e.TIMEOUT_RETRY=4]="TIMEOUT_RETRY"}(Zn||(Zn={})),function(e){e[e.PENDING=0]="PENDING",e[e.DONE=1]="DONE",e[e.TIMEOUT=2]="TIMEOUT"}(qn||(qn={}));var ei="cloud.callFunction",ti="cloud.callFunction_real_v2";function ri(e){var t,r;function n(){return t||(t=function(e){return function(){var t=c()((function*(t){var r=s()({},t.data),n=mn(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var a=un(r,yield t.cdnMapPromise);Tr({input:a,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var o=un({function_name:t.name,data:a,cloudid_list:n});t.context.tunnelStartTime=+new Date;var l=yield e.request(s()(s()({},t.config),{},{apiName:"tcbapi_slowcallfunction",serviceName:e.name,serializedReqData:o,env:t.config&&t.config.env||e.env}));t.context.tunnelEndTime=+new Date;var u=l.data;if(!u)throw ir({errCode:tr.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:tr[tr.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},ei);if(u.event_id,!u.poll_url)throw ir({errCode:tr.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:tr[tr.SDK_FUNCTIONS_EMPTY_POLL_URL]},ei);u.poll_url.indexOf("?")>-1?u.poll_url+="&devtools_ignore=true&skip_domain_check=true":u.poll_url+="?devtools_ignore=true&skip_domain_check=true",t.context.pollStartTime=+new Date;var{result:d,requestID:p}=yield function(e){return h.apply(this,arguments)}(u.poll_url);return t.context.pollEndTime=+new Date,{errMsg:cn(ei),result:d,requestID:p};function h(){return(h=c()((function*(t){return new Promise(((r,n)=>{f(t,e.appConfig.maxPollRetry||50,r,n)}))}))).apply(this,arguments)}function f(e,t,r,n){return g.apply(this,arguments)}function g(){return(g=c()((function*(t,r,n,i){Or(e.identifiers)._requestSkipCheckDomain({url:t,success:e=>{try{if(200!==e.statusCode)return i(ir({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:`polling status code ${e.statusCode}`},ei));var a=e.data;if(!a)return i(ir({errCode:tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:tr[tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},ei));if(a.base_resp&&0===a.base_resp.ret){if(0!==a.status){if(1===a.status){if(0!==a.service_errcode){var o=ir({errCode:tr.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`requestID ${a.func_req_id}, cloud function service error code ${a.service_errcode||"unknown"}, error message ${a.service_errmsg||"unknown"}`},ei);return o.requestID=a.func_req_id,i(o)}var s=a.content;try{s=dn(s)}catch(e){try{s=JSON.parse(s)}catch(e){}}return n({result:s,requestID:a.func_req_id})}return i(ir({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},ei))}if(!(r>=0))return i(ir({errCode:tr.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:tr[tr.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},ei));f(t,r-1,n,i)}else{if(!a.base_resp)return i(ir({errCode:tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:tr[tr.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},ei));if(0!==a.base_resp.ret)return i(ir({errCode:tr.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.ret ${a.base_resp.ret}`},ei))}}catch(e){i(ir({errCode:tr.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e}`},ei))}},fail:e=>{i(ir(e,ei))}})}))).apply(this,arguments)}}));return function(e){return t.apply(this,arguments)}}()}(e)),t}function i(){return r||(r=Qn(e)),r}return function(e){var t=+new Date;Ir(e,"object");var r=Pr(e);return r.data||(r.data={}),r.context={tunnelTimeNoCSNetCost:0},r.context.apiStartTime=t,Cr(r)?function(e){Ar({apiName:ei,param:e}),o(e).then((t=>{wr(ei,e,t)})).catch((t=>{Er(ei,e,t)}))}(r):o(r)};function a(e){Ir(e,{name:"string"}),e.data&&Ir(e.data,"object"),e.config&&e.config.env&&Ir(e.config.env,"string")}function o(e){return l.apply(this,arguments)}function l(){return(l=c()((function*(t){try{var r;if(a(t),t.cdnMapPromise=$n(t.data),r=l()?n()(t):i()(t),Vn()){var o=Date.now();Kn(r,(()=>{var r;return{url:`wx.cloud.callFunction.${t.name}`,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env},reqBody:un(t.data),timestampMs:o,console:e.debug}}))}return yield r}catch(e){throw ir(e,ei)}finally{tn(s()(s()({},t.context),{},{apiEndTime:+new Date,apiName:l()?ei:ti}))}function l(){return 1===t.version}}))).apply(this,arguments)}}function ni(e){return{callFunction:ri(e)}}var ii="functions";function ai(e){e.registerService(function(e){var t={name:ii,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(ii)},appConfig:{get maxReqDataSize(){return e.appConfig.call_function_max_req_data_size},get maxPollRetry(){return e.appConfig.call_function_poll_max_retry},get maxStartRetryGap(){return e.appConfig.call_function_valid_start_retry_gap},get clientPollTimeout(){return e.appConfig.call_function_client_poll_timeout}}};return{name:ii,context:t,getAPIs:ni.bind(null,t)}}(e))}var oi,si,li,ci,ui=a(882),di=(new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),"cloud.callContainer");function pi(e){return function(){var r=c()((function*(r){var n=e.serviceEndpoint.getEndpointSync("container"),i=new WeakMap;if(r.cdnMapPromise||!n){var o=yield Promise.all([r.cdnMapPromise,hi(e.serviceEndpoint.getEndpoint("container"),r.stats,"getServiceEndpoint")]);o[0]&&(i=o[0]),n=o[1]}else r.stats.getServiceEndpoint=0;return r.shouldSerialize&&(r.data=un(r.data,i)),n.http?function(t,r){return new Promise(((n,i)=>{var o;r.stats.tsCallContainerImplStart=Date.now();var l=Or(e.identifiers),c={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":t.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-USER-TIMEOUT":r.timeout||"","X-WX-LIB-BUILD-TS":1637668348439,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"PB, JSON","Content-Type":"application/octet-stream"},u=`${Math.random()}_${Date.now()}`,d=s()(s()({},r.header),{},{"X-WX-ENV":e.isInstance?e.env:(null===(o=r.config)||void 0===o?void 0:o.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":u});e.appid&&(d["X-WX-RESOURCE-APPID"]=e.appid);var p=r.stats;p.callid=u;var h,f=Date.now(),g=[];for(var v in d)void 0!==d[v]&&null!==d[v]&&g.push({key:v.toLowerCase(),value:d[v]+""});var m,_=!1;if(r.data){var y=$t(r.data);"object"===y?h=JSON.stringify(r.data):"arraybuffer"!==y?h=r.data+"":(h=r.data,_=!0)}else h=void 0;f=Date.now(),_?(m=ui.HTTPRequest.encode({method:r.method||"GET",header:g,body:new Uint8Array(h),callId:u}).finish(),p.encodePb=Date.now()-f,c["X-WX-REQUEST-CONTENT-ENCODING"]="PB"):(m=new Uint8Array(Mn(JSON.stringify({method:r.method||"GET",header:g,body:h,call_id:u}))),p.stringToBuffer=Date.now()-f,c["X-WX-REQUEST-CONTENT-ENCODING"]="JSON"),f=Date.now();var A=a(96),b=A.compress(m);p.compress=Date.now()-f,f=Date.now();var w=a(121);p.loadAsmcrypto=Date.now()-f,f=Date.now();var E=new Uint8Array(l.wx.base64ToArrayBuffer(t.key)),C=w.AES_CBC.encrypt(b,E,void 0,E);p.encrypt=Date.now()-f,f=Date.now();var I=!0;!t.localDNSTrusted&&t.vip&&(I=!1,c.host="servicewechat.com",p.ip=t.vip);var S=I?t.url:`http://${t.vip}/wxa-qbase/container_service?token=${t.token}`;r.rdm?S=`https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=${t.token}`:r.ecdn&&(S=`https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=${t.token}`),r.verbose&&console.log(`[cloud.callContainer] url ${S}`),I&&t.domain&&(r.stats.domain=t.domain),p.requestBodyBytes=C.byteLength,p.requestStartTs=Date.now(),l._requestSkipCheckDomain({url:S,method:"POST",header:c,data:C.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:r.timeout,enableHttp2:I,success:e=>{try{for(var t in e.header)if("x-nws-log-uuid"===t.toLowerCase()&&(r.verbose&&console.log(`[cloud.callContainer] x-nws-log-uuid ${e.header[t]}`),r.stats.ecdnId=e.header[t]),"x-edge-timing"===t.toLowerCase()&&(r.stats.ecdnEdgeTiming=e.header[t]),"x-wx-system-error"===t.toLowerCase()){var a=Number(e.header[t]);return void i({errCode:a,errMsg:`${di}:fail system error. code: ${a}`})}if(p.profile=e.profile,p.httpRequest=Date.now()-f,200===e.statusCode){var o=e.data;p.responseBodyBytes=o.byteLength,f=Date.now();var s=w.AES_CBC.decrypt(new Uint8Array(o),E,void 0,E);p.decrypt=Date.now()-f;var l,c,d="pb";for(var h in e.header)if("x-wx-compression"===h.toLowerCase()&&"snappy"===e.header[h]&&(f=Date.now(),s=A.uncompress(s),p.uncompress=Date.now()-f),"x-wx-response-content-encoding"===h.toLowerCase()&&"json"===e.header[h].toLowerCase()&&(d="json"),"x-wx-server-timing"===h.toLowerCase()){var g=(e.header[h]||"").split(",");g.length>=2&&(p.serverStartTs=Number(g[0]),p.serverEndTs=Number(g[1]))}if(f=Date.now(),"json"===d){var v=JSON.parse(On(s));l={statusCode:v.status_code,header:v.header,bodyBuffer:v.body_buffer,bodyString:v.body_string},p.decodeJson=Date.now()-f}else l=ui.HTTPResponse.decode(s),p.decodePb=Date.now()-f;if(f=Date.now(),"json"===r.dataType){var m=l.bodyString||(l.bodyBuffer?On(l.bodyBuffer):"{}");try{c=JSON.parse(m)}catch(e){return void i({errCode:-1,errMsg:`${di}:fail parse response body as JSON failed: ${e}. input: ${m}`})}}else c="text"===r.responseType?l.bodyString||(l.bodyBuffer?On(l.bodyBuffer):""):"arraybuffer"===r.responseType&&l.bodyString?Mn(l.bodyString):l.bodyString||l.bodyBuffer;p.decodeBody=Date.now()-f,n({statusCode:l.statusCode,header:l.header.reduce(((e,t)=>(e[t.key+""]=t.value+"",e)),{}),data:c,stats:p,callID:u,errMsg:`${di}:ok`})}else{var _=-1;for(var y in e.header)"x-wx-system-error"===y.toLowerCase()&&(_=Number(e.header[y]));i({errCode:_,errMsg:`${di}:fail system error, status ${e.statusCode}. code: ${_}`})}}catch(e){i({errCode:-1,errMsg:`${di}:fail error while processing internal response ${e}`})}},fail:e=>{i(s()(s()({},e),{},{errMsg:e.errMsg.replace(/^request/,di)}))}})}))}(n,r):function(e,r){return t.apply(this,arguments)}(n.url,r)}));return function(e){return r.apply(this,arguments)}}();function t(){return(t=c()((function*(t,r){return new Promise(((n,i)=>{var a,o=Or(e.identifiers),l=s()(s()({},r.header),{},{"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":`${Math.random()}_${Date.now()}`,"X-WX-USER-TIMEOUT":r.timeout});e.appid&&(l["X-WX-RESOURCE-APPID"]=e.appid),o._requestSkipCheckDomain({url:t,method:r.method,header:l,data:r.data,dataType:r.dataType,responseType:r.responseType,timeout:r.timeout,success:e=>{n(s()(s()({},e),{},{errMsg:`${di}:ok`}))},fail:e=>{i(s()(s()({},e),{},{errMsg:e.errMsg.replace(/^request/,di)}))}})}))}))).apply(this,arguments)}}function hi(e,t,r){var n=Date.now();return e.then((()=>t[r]=Date.now()-n)).catch((()=>t[r]=Date.now()-n)),e}!function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL"}(oi||(oi={})),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Timeout=2]="Timeout"}(si||(si={})),function(e){e[e.RAW=0]="RAW",e[e.BASE64=1]="BASE64",e[e.CDN_URL=2]="CDN_URL"}(li||(li={})),function(e){e[e.PENDING=0]="PENDING",e[e.DONE=1]="DONE",e[e.TIMEOUT=2]="TIMEOUT"}(ci||(ci={}));var fi=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},gi=e=>e.join("->"),vi=2e4,mi=1e5,_i="cloud.callContainer";var yi="cloud.callContainer";function Ai(e){var t,r;function n(){return t||(t=pi(e)),t}function i(){return r||(r=function(e){return function(){var t=c()((function*(t){var r,n;if(t.shouldSerialize){var i=yield t.cdnMapPromise;t.data=un(t.data,i)}var a=li.RAW,o=(null===(r=t.method)||void 0===r?void 0:r.toUpperCase())||"GET";if(t.data&&/^(POST|PUT|PATCH)$/.test(o)){var l=$t(t.data);if("object"===l)if(t.isReqHeaderContentTypeJSON)t.data=JSON.stringify(t.data);else if(t.isReqHeaderContentTypeURLEncoded){var u="";for(var d in t.data)u+=`${u.length?"&":""}${encodeURIComponent(d)}=${encodeURIComponent(t.data[d])}`;t.data=u}else t.data=JSON.stringify(t.data);else{if("arraybuffer"!==l&&"string"!==l)throw new Error(`input data type is not supported: ${l}`);var p=!1;if("string"===l)p=t.data.length>mi;else if(t.data.byteLength>mi)p=!0;else{var h=Dn(t.data);h.length>mi?p=!0:(t.data=h,a=li.BASE64)}if(p)throw new Error("input data size too large (> 100KB)")}}else if("GET"===o&&t.data&&zt(t.data)){for(var f in t.data){var g=`&${f}=${t.data[f]}`;t.path+=`${t.path.includes("?")?"&":"?"}${g}`}t.data=void 0}else t.data=void 0;var v=`${+new Date}-${Math.random()}`;for(var m in t.header=s()(s()({},t.header),{},{"X-WX-ENV":e.isInstance?e.env:(null===(n=t.config)||void 0===n?void 0:n.env)||e.env,"X-WX-CONTAINER-PATH":t.path}),t.service&&(t.header["X-WX-SERVICE"]=t.service),t.header)null!==t.header[m]&&void 0!==t.header[m]&&(t.header[m]+="");t.context.tunnelStartTime=+new Date;var{result:_}=yield function(e,t,r,n){return y.apply(this,arguments)}(t,t.data,a,v);return t.context.tunnelEndTime=+new Date,s()(s()({},_),{},{errMsg:cn(_i),callID:v});function y(){return(y=c()((function*(t,r,n,i){var a,o=!1;t.hasOwnProperty("timeout")&&(a=new Promise(((e,r)=>{setTimeout((()=>{o=!0,r(`timeout (options.timeout == ${t.timeout})`)}),t.timeout)})));var s=new Promise(((s,l)=>{var c=[fi("start")],{resolve:u,reject:d}=w(c,s,l);A({param:t,data:r,dataType:n,callID:i,action:oi.CALL,retryType:si.None,tryCount:e.appConfig.maxPollRetry||20,systemErrorRetry:2,timeoutErrorRetry:2,userTimeout:{get reached(){return!!a&&o}},trace:c,resolve:u,reject:d})}));return a?Promise.race([s,a]):s}))).apply(this,arguments)}function A(e){return b.apply(this,arguments)}function b(){return(b=c()((function*(r){var{data:n,dataType:i,callID:a,action:o,retryType:l,tryCount:u,trace:d,systemErrorRetry:p,timeoutErrorRetry:h,userTimeout:f,resolve:g,reject:v}=r,m=[];for(var _ in t.header)m.push({k:_,v:t.header[_]});var y=un(o===oi.CALL?{method:t.method||"GET",headers:m,data:o===oi.CALL?n:void 0,data_type:i,action:o,retryType:l,call_id:a,user_timeout:t.timeout}:{call_id:a,action:o,retryType:l}),b=!1,w=!1,E=()=>{clearTimeout(I),w=!0},C=+new Date,I=setTimeout(c()((function*(){var t=e.appConfig.clientPollTimeout||vi;if(!(+new Date-C>t&&(yield yn(),w)||f.reached)){if(!Vn()&&+new Date-C>e.appConfig.maxStartRetryGap)return d.push(fi("timeout, exceed max retry gap")),v(ar({errCode:tr.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${a}) (trace: ${gi(d)})`},_i));b=!0,r.timeoutErrorRetry>0?(d.push(fi("timeout, retry")),A(s()(s()({},r),{},{retryType:si.Timeout,tryCount:u-1,timeoutErrorRetry:h-1}))):(d.push(fi("timeout, abort")),v(ar({errCode:tr.SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${a}) (trace: ${gi(d)})`},_i)))}})),e.appConfig.clientPollTimeout||vi),S=e=>{var r=e.data;r&&r.baseresponse&&r.baseresponse.stat&&r.baseresponse.stat.qbase_cost_time&&(t.context.tunnelTimeNoCSNetCost+=r.baseresponse.stat.qbase_cost_time)};function T(){return(T=c()((function*(n){try{if(b||f.reached)return;E(),S(n);var i=n.data;if(!i)return d.push(fi("empty resp")),v(ar({errCode:tr.SDK_CONTAINER_EMPTY_CALL_RESULT},_i));if(!i.baseresponse||0!==i.baseresponse.errcode)return i.baseresponse?0!==i.baseresponse.errcode?v(ar({errCode:tr.SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${i.baseresponse.errcode} errmsg ${i.baseresponse.errmsg} (callId: ${a})`},_i)):v(ar({errCode:tr.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(i.baseresponse)} (callId: ${a})`},_i)):v(ar({errCode:tr.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP},_i));if(0!==i.status){if(1===i.status){var o;if(i.data_type===li.BASE64)o=Rn(i.data),"json"===t.dataType?o=Pn(On(o)):"arraybuffer"!==t.responseType&&(o=On(o));else if(i.data_type===li.CDN_URL)try{var l=Or(e.identifiers);o=(yield new Promise(((e,r)=>{l._requestSkipCheckDomain({url:i.data,dataType:t.dataType,responseType:t.responseType,success:t=>{200!==t.statusCode?r(`download response status code ${t.statusCode}`):e(t)},fail:e=>{r(e)}})}))).data}catch(e){return v(ar({errCode:tr.SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL,errMsg:`error: ${e} \n (callId: ${a}) (trace: ${gi(d)})`},_i))}else o=i.data,"arraybuffer"===t.responseType?o=Mn(o):"json"===t.dataType&&(o=Pn(o));return g({result:{data:o,statusCode:i.http_code,header:i.headers.reduce(((e,t)=>(e[t.k]=t.v,e)),{})}})}return d.push(fi("poll result expired")),v(ar({errCode:tr.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${a}) (trace: ${gi(d)})`},_i))}if(!(u>=0))return d.push(fi("too many polls, abort")),v(ar({errCode:tr.SDK_CONTAINER_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${a}) (trace: ${gi(d)})`},_i));d.push(fi("normal poll")),A(s()(s()({},r),{},{action:oi.POLL,retryType:si.None,tryCount:u-1}))}catch(e){v(ar({errCode:tr.SDK_CONTAINER_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${a})`},_i))}}))).apply(this,arguments)}f.reached||e.request(s()(s()({},t.config),{},{apiName:"tcbapi_call_container",serviceName:e.name,serializedReqData:y,env:t.config&&t.config.env||e.env})).then((function(e){return T.apply(this,arguments)})).catch((e=>{b||f.reached||(E(),e&&e.operateWXDataFail&&p>0?(d.push(fi(`system error (${e}), retry`)),A(s()(s()({},r),{},{retryType:si.Error,tryCount:u-1,systemErrorRetry:p-1}))):(d.push(fi(`system error (${e}), abort`)),v(ar(`${e} (callId: ${a}) (trace: ${gi(d)})`,_i))))}))}))).apply(this,arguments)}function w(e,t,r){var n=t=>{e.push(fi(`app ${t}`))};return Sn(n),{resolve:e=>{Tn(n),t(e)},reject:e=>{Tn(n),r(e)}}}}));return function(e){return t.apply(this,arguments)}}()}(e)),r}return function(e){var t=+new Date;Ir(e,"object");var r=Pr(e);return r.data||(r.data={}),r.dataType||(r.dataType="json"),r.context={tunnelTimeNoCSNetCost:0},r.context.apiStartTime=t,r.stats={apiStartTime:t},Cr(r)?function(e){Ar({apiName:yi,param:e}),o(e).then((t=>{wr(yi,e,t)})).catch((t=>{Er(yi,e,t)}))}(r):o(r)};function a(t){var r;if(t.path||(t.path="/"),t.service,e.isInstance){if(!e.env)throw new Error("envId must be provided")}else if(null!==(r=t.config)&&void 0!==r&&r.env)Ir(t.config.env,"string");else if(!e.env)throw new Error("envId must be provided")}function o(e){return l.apply(this,arguments)}function l(){return(l=c()((function*(t){var r=!1;try{a(t),t.header||(t.header={}),t.dataType||(t.dataType="json"),t.responseType||(t.responseType="text");var o=!1;for(var s in t.header)"content-type"===s.toLowerCase()&&(o=!0,t.header[s].includes("application/json")&&(t.isReqHeaderContentTypeJSON=!0),"application/x-www-form-urlencoded"===t.header[s]&&(t.isReqHeaderContentTypeURLEncoded=!0));if(o||(t.header["content-type"]="application/json",t.isReqHeaderContentTypeJSON=!0),/post|put|patch/i.test(t.method||"")&&t.data&&t.isReqHeaderContentTypeJSON){var l=$t(t.data);t.shouldSerialize="string"!==l}t.cdnMapPromise=t.shouldSerialize?$n(t.data):void 0;var c,p,h=Date.now();r=u(t),t.stats.tsBeforeCallContainerImpl=Date.now(),c=r?n()(t):i()(t);var f=t.service||t.header["X-WX-SERVICE"];p=f?`wx.cloud.callContainer.${t.service}${t.path}`:`wx.cloud.callContainer${t.path}`,Kn(c,(()=>{var r;return{url:p,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env},reqBody:un(t.data),timestampMs:h,console:e.debug}}));var g=yield c;return d(t,r),g}catch(e){throw ir(e,yi)}}))).apply(this,arguments)}function u(e){return 1===e.apiVersion}function d(e,t){e.stats.apiEndTime=Date.now(),tn(s()(s()({},e.context),{},{apiEndTime:e.stats.apiEndTime,apiName:yi}));var r=Boolean(e.stats.profile),n=e.stats.profile||{},i=e.stats.serverEndTs-e.stats.serverStartTs,a=e.stats.httpRequest<=6e4?e.stats.httpRequest:6e4,o=e.stats.apiEndTime,l=o-e.context.apiStartTime;l>9e4&&(l=9e4);var c=e.path||"";c=c.split("?")[0].replace(/\/\d+\//g,"/*/").replace(/\/\d+$/g,"/*"),an(22601,9,[e.stats.callid,e.context.apiStartTime,o,e.stats.serverStartTs,e.stats.serverEndTs,e.stats.requestBodyBytes,e.stats.responseBodyBytes,e.stats.getServiceEndpoint,e.stats.queryDNS,e.stats.compress,e.stats.loadAsmcrypto,e.stats.encrypt,a,e.stats.decrypt,e.stats.uncompress,e.stats.decodePb,e.stats.decodeBody,e.stats.ip,n.redirectStart,r?n.redirectEnd-n.redirectStart:void 0,n.fetchStart,n.domainLookupStart,r?n.domainLookupEnd-n.domainLookupStart:void 0,n.connectStart,r?n.connectEnd-n.connectStart:void 0,n.SSLconnectionStart,r?n.SSLconnectionEnd-n.SSLconnectionStart:void 0,n.requestStart,r?n.requestEnd-n.requestStart:void 0,n.responseStart,r?n.responseEnd-n.responseStart:void 0,n.rtt,n.estimate_nettype,n.httpRttEstimate,n.transportRttEstimate,n.downstreamThroughputKbpsEstimate,n.throughputKbps,n.peerIP,n.port,r?n.socketReused?1:0:void 0,n.sendBytesCount,n.receivedBytedCount,t?n.protocol:"im",xn().system,l,i>0?i:0,a?l-a:void 0,c,xn().platform,e.stats.requestStartTs,1637668348439,e.stats.ecdnId,e.stats.ecdnEdgeTiming,e.stats.domain,e.stats.stringToBuffer,e.stats.encodePb,e.stats.tsBeforeCallContainerImpl,e.stats.tsCallContainerImplStart,e.stats.decodeJson].join(","))}}function bi(e){return{callContainer:Ai(e)}}var wi="container";function Ei(e){e.registerService(function(e){var t={name:wi,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,get debug(){return e.debug},get appid(){return e.isInstance?e.instanceOptions.resourceAppid:void 0},get env(){return e.getEnvForService(wi)},appConfig:{get maxPollRetry(){return e.appConfig.call_container_poll_max_retry},get clientPollTimeout(){return e.appConfig.call_container_client_poll_timeout},get maxStartRetryGap(){return e.appConfig.call_container_valid_start_retry_gap}}};return{name:wi,context:t,getAPIs:bi.bind(null,t)}}(e))}var Ci={},Ii={env:"",platform:""},Si=()=>Ii;if(void 0!==__wxConfig)Ii.env="miniprogram",Ii.platform=__wxConfig.platform;else if(Ii.env="web",window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)Ii.platform="miniprogram";else{var Ti=window.navigator.userAgent.toLowerCase();/MicroMessenger/i.test(Ti)&&(Ii.platform="wxweb")}var xi="cloud.uploadFile";function Pi(e){return function(e){if(Cr(e=Pr(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t(s()(s()({},e),{},{context:r,timing:i,uploadTaskAgent:n})).then((t=>{wr(xi,e,t)})).catch((t=>{Er(xi,e,t)})),n}(e);var r={apiStartTime:+new Date};return t(s()(s()({},e),{},{timing:r}))};function t(e){return new Promise(function(){var t=c()((function*(t,r){try{if(function(e){Ir(e,{cloudPath:"string"}),"miniprogram"===Si().env?Ir(e,{filePath:"string"}):Sr(e,"file","uploadFile")}(e),e.filePath&&function(e){i.apply(this,arguments)}(e.filePath),e.context&&(e.context.abort=function(){r(ir({errMsg:"abort"},xi))},e.context.aborted))return r(ir({errMsg:"abort"},xi));t(yield function(e){return n.apply(this,arguments)}(e))}catch(e){r(ir(e,xi))}finally{tn(s()(s()({},e.timing),{},{apiEndTime:+new Date,apiName:"cloud.uploadFile_v2"}))}}));return function(e,r){return t.apply(this,arguments)}}())}function n(){return(n=c()((function*(t){var r=Or(e.identifiers),n=yield a(t);return new Promise(((e,i)=>{if(t.context&&t.context.aborted)return i(ir({errMsg:"abort"},xi));var a,o;if("web"===Si().env){var l=new FormData;l.append("key",t.cloudPath),l.append("signature",n.authorization),l.append("x-cos-security-token",n.token),l.append("x-cos-meta-fileid",n.cos_file_id),l.append("file",t.file),a={url:n.url,timeout:t.timeout,filePath:"",header:t.header,name:"",formData:l}}else a={url:n.url,timeout:t.timeout,filePath:t.filePath,header:t.header,name:"file",formData:{key:t.cloudPath,signature:n.authorization,"x-cos-security-token":n.token,"x-cos-meta-fileid":n.cos_file_id}};(o=r._uploadFileSkipCheckDomain(s()(s()({},a),{},{success:t=>{try{if(t.statusCode>=200&&t.statusCode<300)e({errMsg:cn(xi),fileID:n.file_id,statusCode:t.statusCode});else{var r=new rr({errMsg:`status ${t.statusCode}, error: ${t.data};`});i(r)}}catch(r){var a=new rr({errMsg:`Error : ${t.data};`});i(a)}},fail:e=>{i(e)}})))&&(o.onProgressUpdate((function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&qt(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._uploadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=o.abort.bind(o)))}))}))).apply(this,arguments)}function i(){return(i=c()((function*(t){return new Promise(((n,i)=>{r.getFileInfo?r.getFileInfo({filePath:t,success:t=>{t.size>e.appConfig.uploadMaxFileSize?i(new rr({errCode:tr.SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE,errMsg:`exceed max upload file size: ${e.appConfig.uploadMaxFileSize/1024/1024} MB`})):n()},fail:()=>{n()}}):n()}))}))).apply(this,arguments)}function a(e){return o.apply(this,arguments)}function o(){return(o=c()((function*(t){var r=JSON.stringify({path:t.cloudPath}),n=+new Date,i=(yield e.request({apiName:"tcbapi_cos_uploadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.url)throw new rr({errCode:tr.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:tr[tr.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return i}))).apply(this,arguments)}}var ki="cloud.downloadFile";function Di(e){return function(e){if(Cr(e=Pr(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t(s()(s()({},e),{},{context:r,timing:i,downloadTaskAgent:n})).then((t=>{wr(ki,e,t)})).catch((t=>{Er(ki,e,t)})),n}(e);var r={apiStartTime:+new Date};return t(s()(s()({},e),{},{timing:r}))};function t(e){return r.apply(this,arguments)}function r(){return(r=c()((function*(e){return new Promise(function(){var t=c()((function*(t,r){try{if(n(e),e.context&&(e.context.abort=function(){r(ir({errMsg:"abort"},ki))},e.context.aborted))return r(ir({errMsg:"abort"},ki));t(yield i(e))}catch(e){r(ir(e,ki))}finally{tn(s()(s()({},e.timing),{},{apiEndTime:+new Date,apiName:ki}))}}));return function(e,r){return t.apply(this,arguments)}}())}))).apply(this,arguments)}function n(e){Ir(e,{fileID:"string"}),e.config&&e.config.env&&Ir(e.config.env,"string")}function i(e){return a.apply(this,arguments)}function a(){return(a=c()((function*(t){var r=Or(e.identifiers),n=yield o(t);return new Promise(((e,i)=>{if(t.context&&t.context.aborted)return i(ir({errMsg:"abort"},ki));var a=r._downloadFileSkipCheckDomain({url:n,success:t=>{e(t)},fail:e=>{i(e)}});a&&(a.onProgressUpdate((function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&qt(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._downloadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=a.abort.bind(a)))}))}))).apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return(l=c()((function*(t){var r=JSON.stringify({fileid:t.fileID}),n=+new Date,i=(yield e.request({apiName:"tcbapi_downloadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.download_url)throw new rr({errCode:tr.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:tr[tr.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return i.download_url.indexOf("?")>-1?i.download_url+="&skip_domain_check=true":i.download_url+="?skip_domain_check=true",i.download_url}))).apply(this,arguments)}}var Ri="cloud.getTempFileURL";function Oi(e){return function(e){var t=Pr(e);return t.timing={apiStartTime:+new Date},Cr(t)?function(e){r(e).then((t=>{wr(Ri,e,t)})).catch((t=>{Er(Ri,e,t)}))}(t):r(t)};function t(t){if(Ir(t,{fileList:"array"}),t.config&&t.config.env&&Ir(t.config.env,"string"),e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new rr({errCode:tr.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}function r(e){return n.apply(this,arguments)}function n(){return(n=c()((function*(e){try{return t(e),e.fileList.length?yield i(e):{errMsg:cn(Ri),fileList:[]}}catch(e){throw ir(e,Ri)}finally{tn(s()(s()({},e.timing),{},{apiEndTime:+new Date,apiName:Ri}))}}))).apply(this,arguments)}function i(e){return a.apply(this,arguments)}function a(){return(a=c()((function*(t){var r={file_list:t.fileList.map((e=>Yt(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}))},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_gettempfileurl",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var a=i.data;return t.timing.tunnelTimeNoCSNetCost=a.baseresponse.stat.qbase_cost_time,{errMsg:cn(Ri),fileList:a.download_list.map((e=>({fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}var Mi="cloud.deleteFile";function Li(e){return function(e){var t=Pr(e);return t.timing={apiStartTime:+new Date},Cr(t)?function(e){r(e).then((t=>{wr(Mi,e,t)})).catch((t=>{Er(Mi,e,t)}))}(t):r(t)};function t(t){Ir(t,{fileList:"array"}),t.config&&t.config.env&&Ir(t.config.env,"string");for(var r=0,n=t.fileList.length;r<n;r++)Ir(t.fileList[r],"string",`parameter.fileList[${r}]`);if(e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new rr({errCode:tr.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}function r(e){return n.apply(this,arguments)}function n(){return(n=c()((function*(e){try{return t(e),e.fileList.length?yield i(e):{errMsg:cn(Mi),fileList:[]}}catch(e){throw ir(e,Mi)}finally{tn(s()(s()({},e.timing),{},{apiEndTime:+new Date,apiName:Mi}))}}))).apply(this,arguments)}function i(e){return a.apply(this,arguments)}function a(){return(a=c()((function*(t){var r={fileid_list:t.fileList},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_deletefile",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var a=i.data;return t.timing.tunnelTimeNoCSNetCost=a.baseresponse.stat.qbase_cost_time,{errMsg:cn(Mi),fileList:a.delete_list.map((e=>({fileID:e.fileid,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}function Ni(e){return{uploadFile:Pi(e),downloadFile:Di(e),getTempFileURL:Oi(e),deleteFile:Li(e)}}var Bi="storage";function Wi(e){e.registerService(function(e){var t={name:Bi,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get env(){return e.getEnvForService(Bi)},get debug(){return e.debug},appConfig:{get uploadMaxFileSize(){return e.appConfig.upload_max_file_size},get getTempFileURLMaxReq(){return e.appConfig.get_temp_file_url_max_requests}}};return{name:Bi,context:t,getAPIs:Ni.bind(null,t)}}(e))}var Fi,Ui=Symbol.for("UNSET_FIELD_NAME"),Vi=Symbol.for("AGGREGATE"),ji=Symbol.for("AGGREGATE_PIPELINE"),Gi=Symbol.for("AGGREGATE_PIPELINE_STAGE"),Hi=Symbol.for("UPDATE_COMMAND"),Qi=Symbol.for("QUERY_COMMAND"),$i=Symbol.for("LOGIC_COMMAND"),zi=Symbol.for("AGGREGATE_COMMAND"),Yi=Symbol.for("PROJECT_COMMAND"),Zi=Symbol.for("GEO_POINT"),qi=Symbol.for("GEO_LINESTRING"),Ji=Symbol.for("GEO_POLYGON"),Xi=Symbol.for("GEO_MULTIPOINT"),Ki=Symbol.for("GEO_MULTILINESTRING"),ea=Symbol.for("GEO_MULTIPOLYGON"),ta=Symbol.for("SERVER_DATE"),ra=Symbol.for("REGEXP");!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(Fi||(Fi={}));var na=[Fi.AND,Fi.OR,Fi.NOT,Fi.NOR],ia=new Set(na);class aa{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=$i,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Ui}_setFieldName(e){var t=this.operands.map((t=>t===Fi.AND||t===Fi.OR?t._setFieldName(e):t));return new aa(this.operator,t,e)}and(...e){Sr(arguments[0],"expressions","and");var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new aa(Fi.AND,t,this.fieldName)}or(...e){Sr(arguments[0],"expressions","or");var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new aa(Fi.OR,t,this.fieldName)}nor(...e){Sr(arguments[0],"expressions","nor");var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new aa(Fi.NOR,t,this.fieldName)}not(e){return Sr(e,"expression","not"),new aa(Fi.NOT,[e],this.fieldName)}toJSON(){}}function oa(e){return e&&e instanceof aa&&e._internalType===$i}var sa;!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects",e.EXISTS="exists",e.MOD="mod",e.ALL="all",e.ELEM_MATCH="elemMatch",e.SIZE="size",e.EXPR="expr"}(sa||(sa={}));var la=[sa.EQ,sa.NEQ,sa.GT,sa.GTE,sa.LT,sa.LTE,sa.IN,sa.NIN,sa.GEO_NEAR,sa.GEO_WITHIN,sa.GEO_INTERSECTS,sa.EXISTS,sa.MOD,sa.ALL,sa.ELEM_MATCH,sa.SIZE],ca=new Set(la);new Set([...ca,...ia]);class ua extends aa{constructor(e,t,r){super(e,t,r),this.operator=void 0,this.__safe_props__=void 0,this.operator=e,this._internalType=Qi}_setFieldName(e){return new ua(this.operator,this.operands,e)}eq(e){var t=new ua(sa.EQ,[e],this.fieldName);return this.and(t)}neq(e){var t=new ua(sa.NEQ,[e],this.fieldName);return this.and(t)}gt(e){var t=new ua(sa.GT,[e],this.fieldName);return this.and(t)}gte(e){var t=new ua(sa.GTE,[e],this.fieldName);return this.and(t)}lt(e){var t=new ua(sa.LT,[e],this.fieldName);return this.and(t)}lte(e){var t=new ua(sa.LTE,[e],this.fieldName);return this.and(t)}in(e){Ir(e,"array");var t=new ua(sa.IN,e,this.fieldName);return this.and(t)}nin(e){Ir(e,"array");var t=new ua(sa.NIN,e,this.fieldName);return this.and(t)}geoNear(e){var t=new ua(sa.GEO_NEAR,[e],this.fieldName);return this.and(t)}geoWithin(e){var t=new ua(sa.GEO_WITHIN,[e],this.fieldName);return this.and(t)}geoIntersects(e){var t=new ua(sa.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}exists(e){var t=new ua(sa.EXISTS,[e],this.fieldName);return this.and(t)}mod(e,t){var r=new ua(sa.MOD,[e,t],this.fieldName);return this.and(r)}all(e){var t=new ua(sa.ALL,e,this.fieldName);return this.and(t)}elemMatch(e){var t=new ua(sa.ELEM_MATCH,[e],this.fieldName);return this.and(t)}size(e){var t=new ua(sa.SIZE,[e],this.fieldName);return this.and(t)}}function da(e){return e&&e instanceof ua&&e._internalType===Qi}var pa;!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.MIN="min",e.MAX="max",e.RENAME="rename",e.BIT="bit",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.PULL="pull",e.PULL_ALL="pullAll"}(pa||(pa={}));new Set([pa.SET,pa.REMOVE,pa.INC,pa.MUL,pa.MIN,pa.MAX,pa.RENAME,pa.BIT,pa.PUSH,pa.POP,pa.SHIFT,pa.UNSHIFT,pa.ADD_TO_SET,pa.PULL,pa.PULL_ALL]);class ha{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=Hi,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Ui}_setFieldName(e){return new ha(this.operator,this.operands,e)}toJSON(){}}function fa(e){return e&&e instanceof ha&&e._internalType===Hi}var ga;!function(e){e.ABS="abs",e.ADD="add",e.ADDTOSET="addToSet",e.ALLELEMENTSTRUE="allElementsTrue",e.AND="and",e.ANYELEMENTTRUE="anyElementTrue",e.ARRAYELEMAT="arrayElemAt",e.ARRAYTOOBJECT="arrayToObject",e.AVG="avg",e.CEIL="ceil",e.CMP="cmp",e.CONCAT="concat",e.CONCATARRAYS="concatArrays",e.COND="cond",e.CONVERT="convert",e.DATEFROMPARTS="dateFromParts",e.DATETOPARTS="dateToParts",e.DATEFROMSTRING="dateFromString",e.DATETOSTRING="dateToString",e.DAYOFMONTH="dayOfMonth",e.DAYOFWEEK="dayOfWeek",e.DAYOFYEAR="dayOfYear",e.DIVIDE="divide",e.EQ="eq",e.EXP="exp",e.FILTER="filter",e.FIRST="first",e.FLOOR="floor",e.GT="gt",e.GTE="gte",e.HOUR="hour",e.IFNULL="ifNull",e.IN="in",e.INDEXOFARRAY="indexOfArray",e.INDEXOFBYTES="indexOfBytes",e.INDEXOFCP="indexOfCP",e.ISARRAY="isArray",e.ISODAYOFWEEK="isoDayOfWeek",e.ISOWEEK="isoWeek",e.ISOWEEKYEAR="isoWeekYear",e.LAST="last",e.LET="let",e.LITERAL="literal",e.LN="ln",e.LOG="log",e.LOG10="log10",e.LT="lt",e.LTE="lte",e.LTRIM="ltrim",e.MAP="map",e.MAX="max",e.MERGEOBJECTS="mergeObjects",e.META="meta",e.MIN="min",e.MILLISECOND="millisecond",e.MINUTE="minute",e.MOD="mod",e.MONTH="month",e.MULTIPLY="multiply",e.NEQ="ne",e.NOT="not",e.OBJECTTOARRAY="objectToArray",e.OR="or",e.POW="pow",e.PUSH="push",e.RANGE="range",e.REDUCE="reduce",e.REVERSEARRAY="reverseArray",e.RTRIM="rtrim",e.SECOND="second",e.SETDIFFERENCE="setDifference",e.SETEQUALS="setEquals",e.SETINTERSECTION="setIntersection",e.SETISSUBSET="setIsSubset",e.SETUNION="setUnion",e.SIZE="size",e.SLICE="slice",e.SPLIT="split",e.SQRT="sqrt",e.STDDEVPOP="stdDevPop",e.STDDEVSAMP="stdDevSamp",e.STRCASECMP="strcasecmp",e.STRLENBYTES="strLenBytes",e.STRLENCP="strLenCP",e.SUBSTR="substr",e.SUBSTRBYTES="substrBytes",e.SUBSTRCP="substrCP",e.SUBTRACT="subtract",e.SUM="sum",e.SWITCH="switch",e.TOBOOL="toBool",e.TODATE="toDate",e.TODECIMAL="toDecimal",e.TODOUBLE="toDouble",e.TOINT="toInt",e.TOLONG="toLong",e.TOOBJECTID="toObjectId",e.TOSTRING="toString",e.TOLOWER="toLower",e.TOUPPER="toUpper",e.TRIM="trim",e.TRUNC="trunc",e.TYPE="type",e.WEEK="week",e.YEAR="year",e.ZIP="zip"}(ga||(ga={}));ga.ABS,ga.ADD,ga.ADDTOSET,ga.ALLELEMENTSTRUE,ga.AND,ga.ANYELEMENTTRUE,ga.ARRAYELEMAT,ga.ARRAYTOOBJECT,ga.AVG,ga.CEIL,ga.CMP,ga.CONCAT,ga.CONCATARRAYS,ga.COND,ga.CONVERT,ga.DATEFROMPARTS,ga.DATETOPARTS,ga.DATEFROMSTRING,ga.DATETOSTRING,ga.DAYOFMONTH,ga.DAYOFWEEK,ga.DAYOFYEAR,ga.DIVIDE,ga.EQ,ga.EXP,ga.FILTER,ga.FIRST,ga.FLOOR,ga.GT,ga.GTE,ga.HOUR,ga.IFNULL,ga.IN,ga.INDEXOFARRAY,ga.INDEXOFBYTES,ga.INDEXOFCP,ga.ISARRAY,ga.ISODAYOFWEEK,ga.ISOWEEK,ga.ISOWEEKYEAR,ga.LAST,ga.LET,ga.LITERAL,ga.LN,ga.LOG,ga.LOG10,ga.LT,ga.LTE,ga.LTRIM,ga.MAP,ga.MAX,ga.MERGEOBJECTS,ga.META,ga.MIN,ga.MILLISECOND,ga.MINUTE,ga.MOD,ga.MONTH,ga.MULTIPLY,ga.NEQ,ga.NOT,ga.OBJECTTOARRAY,ga.OR,ga.POW,ga.PUSH,ga.RANGE,ga.REDUCE,ga.REVERSEARRAY,ga.RTRIM,ga.SECOND,ga.SETDIFFERENCE,ga.SETEQUALS,ga.SETINTERSECTION,ga.SETISSUBSET,ga.SETUNION,ga.SIZE,ga.SLICE,ga.SPLIT,ga.SQRT,ga.STDDEVPOP,ga.STDDEVSAMP,ga.STRCASECMP,ga.STRLENBYTES,ga.STRLENCP,ga.SUBSTR,ga.SUBSTRBYTES,ga.SUBSTRCP,ga.SUBTRACT,ga.SUM,ga.SWITCH,ga.TOBOOL,ga.TODATE,ga.TODECIMAL,ga.TODOUBLE,ga.TOINT,ga.TOLONG,ga.TOOBJECTID,ga.TOSTRING,ga.TOLOWER,ga.TOUPPER,ga.TRIM,ga.TRUNC,ga.TYPE,ga.WEEK,ga.YEAR,ga.ZIP;class va{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=zi,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Ui}_setFieldName(e){return new va(this.operator,this.operands,e)}}function ma(e){return e&&e instanceof va&&e._internalType===zi}var _a;!function(e){e.SLICE="slice"}(_a||(_a={}));new Set([_a.SLICE]);class ya{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this.__safe_props__=void 0,this._internalType=Yi,this.operator=e,this.operands=t,this.fieldName=r||Ui}_setFieldName(e){return new ya(this.operator,this.operands,e)}}function Aa(e){return e&&e instanceof ya&&e._internalType===Yi}var ba,wa,Ea;function Ca(e){return Ia.apply(this,arguments)}function Ia(){return(Ia=c()((function*(e){var{env:t,collectionName:r,data:n,instanceContext:i,timing:a}=e,o=JSON.stringify(n);Tr({input:o,max:i.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(i.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var s={collection_name:r,data:o},l=JSON.stringify(s);a.tunnelStartTime=+new Date;var c=yield i.serviceContext.request({apiName:"tcbapi_db_adddocument",serviceName:i.serviceContext.name,serializedReqData:l,requireDataNotEmpty:!0,env:t||i.serviceContext.env});a.tunnelEndTime=+new Date;var u=c.data;return a.tunnelTimeNoCSNetCost=u.baseresponse.stat.qbase_cost_time,{_id:u._id_type===wa.NUMBER?u._id_number:u._id}}))).apply(this,arguments)}function Sa(e){return Ta.apply(this,arguments)}function Ta(){return(Ta=c()((function*(e){var{collectionName:t,query:r,options:n,instanceContext:i,timing:o,env:s}=e,l=Vn()?e.explain:void 0,c=n&&n.multi,u=JSON.stringify({collection_name:t,query:JSON.stringify(r),multi:c,query_type:c?ba.WHERE:ba.DOC,explain:l});o.tunnelStartTime=+new Date;var d=yield i.serviceContext.request({apiName:"tcbapi_db_deletedocument",serviceName:i.serviceContext.name,serializedReqData:u,requireDataNotEmpty:!0,env:s||i.serviceContext.env});if(o.tunnelEndTime=+new Date,l){var{EJSON:p}=a(795);return p.deserialize(d.data)}var h=d.data;return o.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{removed:h.deleted}}))).apply(this,arguments)}function xa(e){return Pa.apply(this,arguments)}function Pa(){return(Pa=c()((function*(e){var{env:t,collectionName:r,query:n,options:i={},instanceContext:o,timing:s,queryType:l}=e,c=Vn()?e.explain:void 0,u={collection_name:r,query:JSON.stringify(n),query_type:l,explain:c};i.offset&&(u.offset=i.offset),i.limit&&(u.limit=i.limit),i.order&&(u.order=i.order),i.projection&&(u.projection=JSON.stringify(i.projection));var d=JSON.stringify(u);s.tunnelStartTime=+new Date;var p=yield o.serviceContext.request({apiName:"tcbapi_db_querydocument",serviceName:o.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||o.serviceContext.env});if(s.tunnelEndTime=+new Date,c){var{EJSON:h}=a(795);return h.deserialize(p.data)}var f=p.data;s.tunnelTimeNoCSNetCost=f.baseresponse.stat.qbase_cost_time;var g=f.data_list?JSON.parse(f.data_list):[];return{list:g=o.engine.Decoder.decode(g),offset:f.offset,limit:f.limit,total:f.total}}))).apply(this,arguments)}function ka(e){return Da.apply(this,arguments)}function Da(){return(Da=c()((function*(e){var{env:t,collectionName:r,query:n,data:i,options:o={},instanceContext:s,timing:l,queryType:c}=e,u=Vn()?e.explain:void 0,d=JSON.stringify(i);Tr({input:d,max:s.serviceContext.appConfig.docSizeLimit,name:"update expression",maxWording:`${(s.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var p={collection_name:r,query:JSON.stringify(n),data:d,query_type:c,explain:u};p.multi=!1!==o.multi,p.merge=!1!==o.merge,o.upsert&&(p.upsert=o.upsert);var h=JSON.stringify(p);l.tunnelStartTime=+new Date;var f=yield s.serviceContext.request({apiName:"tcbapi_db_updatedocument",serviceName:s.serviceContext.name,serializedReqData:h,requireDataNotEmpty:!0,env:t||s.serviceContext.env});if(l.tunnelEndTime=+new Date,u){var{EJSON:g}=a(795);return g.deserialize(f.data)}var v=f.data;return l.tunnelTimeNoCSNetCost=v.baseresponse.stat.qbase_cost_time,{updated:v.updated}}))).apply(this,arguments)}function Ra(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=c()((function*(e){var{env:t,collectionName:r,_id:n,data:i,options:a={},instanceContext:o,timing:s}=e,l=JSON.stringify(i);Tr({input:l,max:o.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(o.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var c=Zt(n),u={collection_name:r,_id_type:c?wa.NUMBER:wa.STRING,data:l};c?u._id_number=n:u._id=n;var d=JSON.stringify(u);s.tunnelStartTime=+new Date;var p=yield o.serviceContext.request({apiName:"tcbapi_db_setdocument",serviceName:o.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||o.serviceContext.env});s.tunnelEndTime=+new Date;var h=p.data;return s.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{_id:h._id_type===wa.NUMBER?h._id_number:h._id,updated:h._id?0:1,created:h._id?1:0}}))).apply(this,arguments)}function Ma(e){return La.apply(this,arguments)}function La(){return(La=c()((function*(e){var{env:t,collectionName:r,query:n,instanceContext:i,timing:o}=e,s=Vn()?e.explain:void 0,l={collection_name:r,query:JSON.stringify(n),query_type:ba.WHERE,explain:s},c=JSON.stringify(l);o.tunnelStartTime=+new Date;var u=yield i.serviceContext.request({apiName:"tcbapi_db_countdocument",serviceName:i.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||i.serviceContext.env});if(o.tunnelEndTime=+new Date,s){var{EJSON:d}=a(795);return d.deserialize(u.data)}var p=u.data;return o.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time,{total:p.total}}))).apply(this,arguments)}function Na(e){return Ba.apply(this,arguments)}function Ba(){return(Ba=c()((function*(e){var{env:t,collectionName:r,stages:n,instanceContext:i,timing:o}=e,s=Vn()?e.explain:void 0,l={collection_name:r,stages:n.map((e=>{for(var t in e)return{stage_key:t,stage_value:JSON.stringify(e[t])};throw new Error(`empty encoded stage (${JSON.stringify(e)})`)})),explain:s},c=JSON.stringify(l);o.tunnelStartTime=+new Date;var u=yield i.serviceContext.request({apiName:"tcbapi_db_aggregate",serviceName:i.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||i.serviceContext.env});if(o.tunnelEndTime=+new Date,s){var{EJSON:d}=a(795);return d.deserialize(u.data)}var p=u.data;o.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time;var{EJSON:h}=a(795);return{list:JSON.parse(p.list).map((e=>h.parse(e)))}}))).apply(this,arguments)}function Wa(){return(Wa=c()((function*(e,t){var r=(yield e.request({apiName:"tcbapi_db_get_realtime_connection",env:t||e.env,serviceName:e.name,serializedReqData:JSON.stringify({}),requireDataNotEmpty:!0})).data;return{envId:r.env_id,secretVersion:r.secret_version,signStr:r.sign_str,wsUrl:r.ws_url}}))).apply(this,arguments)}!function(e){e[e.WHERE=0]="WHERE",e[e.DOC=1]="DOC"}(ba||(ba={})),function(e){e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(wa||(wa={})),function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(Ea||(Ea={}));var Fa=e=>{class t extends Va{constructor(e,t){super(t),this.collection=void 0,this._internalType=Vi,this.collection=e}pushStage(e,r){return new t(this.collection,[...this._stages,new Ua(e,r)])}end(t={}){var r="collection.aggregate",n={apiStartTime:+new Date},i=()=>Na({env:e.database.config.env,collectionName:this.collection.collectionName,stages:e.engine.AggregateSerializer.encodeStages(this._stages),instanceContext:e,timing:n,explain:t.explain});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,a){try{var o=yield i();if(t.explain&&Vn())return e(o);e({list:o.list,errMsg:cn(r)})}catch(e){a(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}}return t};class Ua{constructor(e,t){this.stage=void 0,this.val=void 0,this._internalType=Gi,this.stage=e,this.val=t}}class Va{constructor(e){this._stages=void 0,this._internalType=ji,this.__safe_props__=void 0,this._stages=e}pushStage(e,t){return new Va([...this._stages,new Ua(e,t)])}addFields(e){return this.pushStage("addFields",e)}bucket(e){return this.pushStage("bucket",e)}bucketAuto(e){return this.pushStage("bucketAuto",e)}collStats(e){return this.pushStage("collStats",e)}count(e){return this.pushStage("count",e)}facet(e){return this.pushStage("facet",e)}geoNear(e){return this.pushStage("geoNear",e)}graphLookup(e){return this.pushStage("graphLookup",e)}group(e){return this.pushStage("group",e)}indexStats(){return this.pushStage("indexStats",{})}limit(e){return this.pushStage("limit",e)}lookup(e){return this.pushStage("lookup",e)}match(e){return this.pushStage("match",e)}out(e){return this.pushStage("out",e)}project(e){return this.pushStage("project",e)}redact(e){return this.pushStage("redact",e)}replaceRoot(e){return this.pushStage("replaceRoot",e)}sample(e){return this.pushStage("sample",e)}skip(e){return this.pushStage("skip",e)}sort(e){return this.pushStage("sort",e)}sortByCount(e){return this.pushStage("sortByCount",e)}unwind(e){return this.pushStage("unwind",e)}end(){}}class ja extends Va{constructor(e,t=!1){super(e),this._sealed=void 0,this._sealed=t}pushStage(e,t){if(this._sealed)throw new Error("pushing new stage is not allowed after calling 'done()'");return new ja([...this._stages,new Ua(e,t)])}done(){return new ja(this._stages,!0)}}var Ga=e=>e&&e._internalType===ji,Ha=e=>e&&e._internalType===Gi,Qa=new Set(["each","position","slice","sort"]),$a={eq:e=>new ua(sa.EQ,[e]),neq:e=>new ua(sa.NEQ,[e]),lt:e=>new ua(sa.LT,[e]),lte:e=>new ua(sa.LTE,[e]),gt:e=>new ua(sa.GT,[e]),gte:e=>new ua(sa.GTE,[e]),in:e=>new ua(sa.IN,e),nin:e=>new ua(sa.NIN,e),geoNear:e=>new ua(sa.GEO_NEAR,[e]),geoWithin:e=>new ua(sa.GEO_WITHIN,[e]),geoIntersects:e=>new ua(sa.GEO_INTERSECTS,[e]),and(...e){var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return new aa(Fi.AND,t)},or(...e){var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return new aa(Fi.OR,t)},nor(...e){var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return new aa(Fi.NOR,t)},not:e=>new aa(Fi.NOT,[e]),exists:e=>new ua(sa.EXISTS,[e]),mod:(e,t)=>new ua(sa.MOD,[e,t]),all:e=>new ua(sa.ALL,e),elemMatch:e=>new ua(sa.ELEM_MATCH,[e]),size:e=>new ua(sa.SIZE,[e]),expr:e=>new ua(sa.EXPR,[e]),set:e=>new ha(pa.SET,[e]),remove:()=>new ha(pa.REMOVE,[]),inc:e=>new ha(pa.INC,[e]),mul:e=>new ha(pa.MUL,[e]),min:e=>new ha(pa.MIN,[e]),max:e=>new ha(pa.MAX,[e]),rename:e=>new ha(pa.RENAME,[e]),bit:e=>new ha(pa.BIT,[e]),push(e){var t={};if(Jt(e))t.each=e;else if(zt(e)&&Jt(e.each)){var r=Object.keys(e);if(1===r.length)t=e;else{var n=!1;for(var i of r)if(!Qa.has(i)){n=!0;break}t=n?[e]:e}}else t.each=[e];return new ha(pa.PUSH,[t])},pop:()=>new ha(pa.POP,[]),shift:()=>new ha(pa.SHIFT,[]),unshift(...e){var t=Jt(arguments[0])?arguments[0]:Array.from(arguments);return new ha(pa.UNSHIFT,t)},addToSet:e=>new ha(pa.ADD_TO_SET,[e]),pull:e=>new ha(pa.PULL,[e]),pullAll:e=>new ha(pa.PULL_ALL,[e]),project:{slice:e=>new ya(_a.SLICE,[e])},aggregate:{pipeline:()=>new ja([]),abs:e=>new va(ga.ABS,[e]),add:e=>new va(ga.ADD,[e]),addToSet:e=>new va(ga.ADDTOSET,[e]),allElementsTrue:e=>new va(ga.ALLELEMENTSTRUE,[e]),and:e=>new va(ga.AND,[e]),anyElementTrue:e=>new va(ga.ANYELEMENTTRUE,[e]),arrayElemAt:e=>new va(ga.ARRAYELEMAT,[e]),arrayToObject:e=>new va(ga.ARRAYTOOBJECT,[e]),avg:e=>new va(ga.AVG,[e]),ceil:e=>new va(ga.CEIL,[e]),cmp:e=>new va(ga.CMP,[e]),concat:e=>new va(ga.CONCAT,[e]),concatArrays:e=>new va(ga.CONCATARRAYS,[e]),cond:e=>new va(ga.COND,[e]),convert:e=>new va(ga.CONVERT,[e]),dateFromParts:e=>new va(ga.DATEFROMPARTS,[e]),dateToParts:e=>new va(ga.DATETOPARTS,[e]),dateFromString:e=>new va(ga.DATEFROMSTRING,[e]),dateToString:e=>new va(ga.DATETOSTRING,[e]),dayOfMonth:e=>new va(ga.DAYOFMONTH,[e]),dayOfWeek:e=>new va(ga.DAYOFWEEK,[e]),dayOfYear:e=>new va(ga.DAYOFYEAR,[e]),divide:e=>new va(ga.DIVIDE,[e]),eq:e=>new va(ga.EQ,[e]),exp:e=>new va(ga.EXP,[e]),filter:e=>new va(ga.FILTER,[e]),first:e=>new va(ga.FIRST,[e]),floor:e=>new va(ga.FLOOR,[e]),gt:e=>new va(ga.GT,[e]),gte:e=>new va(ga.GTE,[e]),hour:e=>new va(ga.HOUR,[e]),ifNull:e=>new va(ga.IFNULL,[e]),in:e=>new va(ga.IN,[e]),indexOfArray:e=>new va(ga.INDEXOFARRAY,[e]),indexOfBytes:e=>new va(ga.INDEXOFBYTES,[e]),indexOfCP:e=>new va(ga.INDEXOFCP,[e]),isArray:e=>new va(ga.ISARRAY,[e]),isoDayOfWeek:e=>new va(ga.ISODAYOFWEEK,[e]),isoWeek:e=>new va(ga.ISOWEEK,[e]),isoWeekYear:e=>new va(ga.ISOWEEKYEAR,[e]),last:e=>new va(ga.LAST,[e]),let:e=>new va(ga.LET,[e]),literal:e=>new va(ga.LITERAL,[e]),ln:e=>new va(ga.LN,[e]),log:e=>new va(ga.LOG,[e]),log10:e=>new va(ga.LOG10,[e]),lt:e=>new va(ga.LT,[e]),lte:e=>new va(ga.LTE,[e]),ltrim:e=>new va(ga.LTRIM,[e]),map:e=>new va(ga.MAP,[e]),max:e=>new va(ga.MAX,[e]),mergeObjects:e=>new va(ga.MERGEOBJECTS,[e]),meta:e=>new va(ga.META,[e]),min:e=>new va(ga.MIN,[e]),millisecond:e=>new va(ga.MILLISECOND,[e]),minute:e=>new va(ga.MINUTE,[e]),mod:e=>new va(ga.MOD,[e]),month:e=>new va(ga.MONTH,[e]),multiply:e=>new va(ga.MULTIPLY,[e]),neq:e=>new va(ga.NEQ,[e]),not:e=>new va(ga.NOT,[e]),objectToArray:e=>new va(ga.OBJECTTOARRAY,[e]),or:e=>new va(ga.OR,[e]),pow:e=>new va(ga.POW,[e]),push:e=>new va(ga.PUSH,[e]),range:e=>new va(ga.RANGE,[e]),reduce:e=>new va(ga.REDUCE,[e]),reverseArray:e=>new va(ga.REVERSEARRAY,[e]),rtrim:e=>new va(ga.RTRIM,[e]),second:e=>new va(ga.SECOND,[e]),setDifference:e=>new va(ga.SETDIFFERENCE,[e]),setEquals:e=>new va(ga.SETEQUALS,[e]),setIntersection:e=>new va(ga.SETINTERSECTION,[e]),setIsSubset:e=>new va(ga.SETISSUBSET,[e]),setUnion:e=>new va(ga.SETUNION,[e]),size:e=>new va(ga.SIZE,[e]),slice:e=>new va(ga.SLICE,[e]),split:e=>new va(ga.SPLIT,[e]),sqrt:e=>new va(ga.SQRT,[e]),stdDevPop:e=>new va(ga.STDDEVPOP,[e]),stdDevSamp:e=>new va(ga.STDDEVSAMP,[e]),strcasecmp:e=>new va(ga.STRCASECMP,[e]),strLenBytes:e=>new va(ga.STRLENBYTES,[e]),strLenCP:e=>new va(ga.STRLENCP,[e]),substr:e=>new va(ga.SUBSTR,[e]),substrBytes:e=>new va(ga.SUBSTRBYTES,[e]),substrCP:e=>new va(ga.SUBSTRCP,[e]),subtract:e=>new va(ga.SUBTRACT,[e]),sum:e=>new va(ga.SUM,[e]),switch:e=>new va(ga.SWITCH,[e]),toBool:e=>new va(ga.TOBOOL,[e]),toDate:e=>new va(ga.TODATE,[e]),toDecimal:e=>new va(ga.TODECIMAL,[e]),toDouble:e=>new va(ga.TODOUBLE,[e]),toInt:e=>new va(ga.TOINT,[e]),toLong:e=>new va(ga.TOLONG,[e]),toObjectId:e=>new va(ga.TOOBJECTID,[e]),toString:e=>new va(ga.TOSTRING,[e]),toLower:e=>new va(ga.TOLOWER,[e]),toUpper:e=>new va(ga.TOUPPER,[e]),trim:e=>new va(ga.TRIM,[e]),trunc:e=>new va(ga.TRUNC,[e]),type:e=>new va(ga.TYPE,[e]),week:e=>new va(ga.WEEK,[e]),year:e=>new va(ga.YEAR,[e]),zip:e=>new va(ga.ZIP,[e])}};function za(e){return new Ya(e)}class Ya{constructor(e={offset:0}){this.options=void 0,Ir(e,"object","serverDate.options"),this.options=e}get _internalType(){return ta}toJSON(){return{$date:this.options}}}function Za(e,t){return mo(e)?uo(e):new qa(e,t)}class qa{constructor(e,t){this.longitude=void 0,this.latitude=void 0,this._internalType=Zi,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,n=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:()=>r,set(e){if(Ir(e,"number","longitude"),e>180||e<-180)throw new rr({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:()=>n,set(e){if(Ir(e,"number","latitude"),e>90||e<-90)throw new rr({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=n}toJSON(){return{type:"Point",coordinates:[(e=this).longitude,e.latitude]};var e}toString(){return JSON.stringify(this.toJSON())}}function Ja(e){return _o(e)?po(e):new Xa(e)}class Xa{constructor(e){this.points=void 0,this._internalType=Xi,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"MultiPoint",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function Ka(e){return yo(e)?ho(e):new eo(e)}class eo{constructor(e){this.points=void 0,this._internalType=qi,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"LineString",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function to(e){return Ao(e)?fo(e):new ro(e)}class ro{constructor(e){this.lines=void 0,this._internalType=Ki,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"MultiLineString",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function no(e){return bo(e)?go(e):new io(e)}class io{constructor(e){this.lines=void 0,this._internalType=Ji,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"Polygon",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function ao(e){return wo(e)?vo(e):new oo(e)}class oo{constructor(e){this.polygons=void 0,this._internalType=ea,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.polygons=e}toJSON(){return{type:"MultiPolygon",coordinates:this.polygons.map((e=>e.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))))}}toString(){return JSON.stringify(this.toJSON())}}var so,lo,co=undefined;function uo(e){return Za(e.coordinates[0],e.coordinates[1])}function po(e){return Ja(e.coordinates.map((e=>Za(e[0],e[1]))))}function ho(e){return Ka(e.coordinates.map((e=>Za(e[0],e[1]))))}function fo(e){return to(e.coordinates.map((e=>Ka(e.map((e=>Za(e[0],e[1])))))))}function go(e){return no(e.coordinates.map((e=>Ka(e.map((e=>Za(e[0],e[1])))))))}function vo(e){return ao(e.coordinates.map((e=>no(e.map((e=>Ka(e.map((e=>Za(e[0],e[1]))))))))))}function mo(e){return zt(e)&&Eo(e.coordinates)}function _o(e){return zt(e)&&Co(e.coordinates)}function yo(e){return zt(e)&&Io(e.coordinates)}function Ao(e){return zt(e)&&So(e.coordinates)}function bo(e){return zt(e)&&To(e.coordinates)}function wo(e){return zt(e)&&(t=e.coordinates,Jt(t)&&t.every(To));var t}function Eo(e){return Jt(e)&&Zt(e[0])&&Zt(e[1])}function Co(e){return Jt(e)&&e.every(Eo)}function Io(e){return Co(e)}function So(e){return Jt(e)&&e.every(Io)}function To(e){return So(e)}function xo(e){return Po(e,[e])}function Po(e,t){if(!er(e)){if(Xt(e))return{$date:+e};if(Kt(e))return{$regex:e.source,$options:e.flags};if(Jt(e))return e.map((e=>{if(t.indexOf(e)>-1)throw new rr({errCode:tr.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return Po(e,[...t,e])}));if(zt(e)){var r=s()({},e);for(var n in r){if(t.indexOf(r[n])>-1)throw new rr({errCode:tr.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});r[n]=Po(r[n],[...t,r[n]])}return r}return e}switch(e._internalType){case Zi:case Xi:case qi:case Ki:case Ji:case ea:return e.toJSON();case ta:return{$date:e.options};case ra:return{$regex:e.regexp,$options:e.options};default:return e.toJSON?e.toJSON():e}}function ko(e,t,r,n){var i=s()({},e);for(var a in e)if(!/^\$/.test(a)){var o=e[a];if(o&&zt(o)&&!t(o)){if(n.indexOf(o)>-1)throw new rr({errCode:tr.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var l=ko(o,t,[...r,a],[...n,o]);i[a]=l;var c=!1;for(var u in l)/^\$/.test(u)?c=!0:(i[`${a}.${u}`]=l[u],delete i[a][u]);c||delete i[a]}}return i}function Do(e){return ko(e,Mo,[],[e])}function Ro(e){return ko(e,(e=>!1),[],[e])}function Oo(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?Jt(e[n])?e[n].push(t[n]):zt(e[n])?zt(t[n])?Object.assign(e[n],t[n]):(console.warn(`unmergable condition, query is object but condition is ${$t(t)}, can only overwrite`,t,r),e[n]=t[n]):(console.warn(`to-merge query is of type ${$t(e)}, can only overwrite`,e,t,r),e[n]=t[n]):e[n]=t[n]}function Mo(e){return er(e)||Xt(e)||Kt(e)}function Lo(e){return xo(e)}function No(e){return function(e){var t=s()({},e);for(var r in t)switch(r){case"$date":switch($t(t[r])){case"number":return new Date(t[r]);case"object":return za(t[r])}break;case"type":switch(t.coordinates,t.type){case"Point":if(mo(t))return uo(t);break;case"MultiPoint":if(_o(t))return po(t);break;case"LineString":if(yo(t))return ho(t);break;case"MultiLineString":if(Ao(t))return fo(t);break;case"Polygon":if(bo(t))return go(t);break;case"MultiPolygon":if(wo(t))return vo(t)}}return e}(e)}function Bo(e,t){return{limit:e._query.limit,offset:e._query.offset,order:Wo(e._query.order||[]),projection:t.engine.ProjectionSerializer.encode(e._field)}}function Wo(e){return e.map((e=>({field:e.fieldPath,direction:e.order===_c.DESC?Ea.DESC:Ea.ASC})))}function Fo(e){var t=Ro(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}!function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED"}(so||(so={})),function(e){e.CONNECTION_START="connectionStart",e.CONNECTION_SUCCESS="connectionSuccess",e.CONNECTION_FAIL="connectionFail",e.DISCONNECT="disconnect"}(lo||(lo={}));var Uo={[so.DISCONNECTED]:{transitions:[{accept:lo.CONNECTION_START,to:so.CONNECTING}]},[so.CONNECTING]:{transitions:[{accept:lo.CONNECTION_SUCCESS,to:so.CONNECTED},{accept:lo.CONNECTION_FAIL,to:so.DISCONNECTED},{accept:lo.DISCONNECT,to:so.DISCONNECTED}]},[so.CONNECTED]:{transitions:[{accept:lo.DISCONNECT,to:so.DISCONNECTED},{accept:lo.CONNECTION_FAIL,to:so.DISCONNECTED}]}},Vo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jo=/^\w*$/;var Go=function(e,t){if(Ze(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Fr(e))||(jo.test(e)||!Vo.test(e)||null!=t&&e in Object(t))};function Ho(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Ho.Cache||ye),r}Ho.Cache=ye;var Qo=Ho;var $o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zo=/\\(\\)?/g,Yo=function(e){var t=Qo(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($o,(function(e,r,n,i){t.push(n?i.replace(zo,"$1"):r||e)})),t}));var Zo=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},qo=T?T.prototype:void 0,Jo=qo?qo.toString:void 0;var Xo=function e(t){if("string"==typeof t)return t;if(Ze(t))return Zo(t,e)+"";if(Fr(t))return Jo?Jo.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var Ko=function(e){return null==e?"":Xo(e)};var es=function(e,t){return Ze(e)?e:Go(e,t)?[e]:Yo(Ko(e))};var ts=function(e){if("string"==typeof e||Fr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var rs=function(e,t,r,n){if(!B(e))return e;for(var i=-1,a=(t=es(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=ts(t[i]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var u=s[l];void 0===(c=n?n(u,l,s):void 0)&&(c=B(u)?u:It(t[i+1])?[]:{})}bt(s,l,c),s=s[l]}return e};var ns=function(e,t,r){return null==e?e:rs(e,t,r)};var is=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var as=function(e,t){for(var r=0,n=(t=es(t,e)).length;null!=e&&r<n;)e=e[ts(t[r++])];return r&&r==n?e:void 0};var os=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var ss=function(e,t){return t.length<2?e:as(e,os(t,0,-1))};var ls=function(e,t){return t=es(t,e),null==(e=ss(e,t))||delete e[ts(is(t))]};var cs=function(e,t){return null==e||ls(e,t)};var us=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},ds=We(Object.keys,Object),ps=Object.prototype.hasOwnProperty;var hs=function(e){if(!Ve(e))return ds(e);var t=[];for(var r in Object(e))ps.call(e,r)&&"constructor"!=r&&t.push(r);return t};var fs=function(e){return Je(e)?Tt(e):hs(e)};var gs=function(e,t){return e&&wt(t,fs(t),e)};var vs=function(e,t){return e&&wt(t,Dt(t),e)};var ms=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a};var _s=function(){return[]},ys=Object.prototype.propertyIsEnumerable,As=Object.getOwnPropertySymbols,bs=As?function(e){return null==e?[]:(e=Object(e),ms(As(e),(function(t){return ys.call(e,t)})))}:_s;var ws=function(e,t){return wt(e,bs(e),t)};var Es=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},Cs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Es(t,bs(e)),e=Fe(e);return t}:_s;var Is=function(e,t){return wt(e,Cs(e),t)};var Ss=function(e,t,r){var n=t(e);return Ze(e)?n:Es(n,r(e))};var Ts=function(e){return Ss(e,fs,bs)};var xs=function(e){return Ss(e,Dt,Cs)},Ps=K(S,"DataView"),ks=K(S,"Promise"),Ds=K(S,"Set"),Rs=K(S,"WeakMap"),Os="[object Map]",Ms="[object Promise]",Ls="[object Set]",Ns="[object WeakMap]",Bs="[object DataView]",Ws=H(Ps),Fs=H(ee),Us=H(ks),Vs=H(Ds),js=H(Rs),Gs=N;(Ps&&Gs(new Ps(new ArrayBuffer(1)))!=Bs||ee&&Gs(new ee)!=Os||ks&&Gs(ks.resolve())!=Ms||Ds&&Gs(new Ds)!=Ls||Rs&&Gs(new Rs)!=Ns)&&(Gs=function(e){var t=N(e),r="[object Object]"==t?e.constructor:void 0,n=r?H(r):"";if(n)switch(n){case Ws:return Bs;case Fs:return Os;case Us:return Ms;case Vs:return Ls;case js:return Ns}return t});var Hs=Gs,Qs=Object.prototype.hasOwnProperty;var $s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Qs.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var zs=function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Ys=/\w*$/;var Zs=function(e){var t=new e.constructor(e.source,Ys.exec(e));return t.lastIndex=e.lastIndex,t},qs=T?T.prototype:void 0,Js=qs?qs.valueOf:void 0;var Xs=function(e){return Js?Object(Js.call(e)):{}};var Ks=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Oe(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return zs(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Me(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Zs(e);case"[object Set]":return new n;case"[object Symbol]":return Xs(e)}};var el=function(e){return Ge(e)&&"[object Map]"==Hs(e)},tl=vt&&vt.isMap,rl=tl?pt(tl):el;var nl=function(e){return Ge(e)&&"[object Set]"==Hs(e)},il=vt&&vt.isSet,al=il?pt(il):nl,ol="[object Arguments]",sl="[object Function]",ll="[object Object]",cl={};cl[ol]=cl["[object Array]"]=cl["[object ArrayBuffer]"]=cl["[object DataView]"]=cl["[object Boolean]"]=cl["[object Date]"]=cl["[object Float32Array]"]=cl["[object Float64Array]"]=cl["[object Int8Array]"]=cl["[object Int16Array]"]=cl["[object Int32Array]"]=cl["[object Map]"]=cl["[object Number]"]=cl["[object Object]"]=cl["[object RegExp]"]=cl["[object Set]"]=cl["[object String]"]=cl["[object Symbol]"]=cl["[object Uint8Array]"]=cl["[object Uint8ClampedArray]"]=cl["[object Uint16Array]"]=cl["[object Uint32Array]"]=!0,cl["[object Error]"]=cl[sl]=cl["[object WeakMap]"]=!1;var ul=function e(t,r,n,i,a,o){var s,l=1&r,c=2&r,u=4&r;if(n&&(s=a?n(t,i,a,o):n(t)),void 0!==s)return s;if(!B(t))return t;var d=Ze(t);if(d){if(s=$s(t),!l)return Le(t,s)}else{var p=Hs(t),h=p==sl||"[object GeneratorFunction]"==p;if(nt(t))return De(t,l);if(p==ll||p==ol||h&&!a){if(s=c||h?{}:je(t),!l)return c?Is(t,vs(s,t)):ws(t,gs(s,t))}else{if(!cl[p])return a?t:{};s=Ks(t,p,l)}}o||(o=new we);var f=o.get(t);if(f)return f;o.set(t,s),al(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,o))})):rl(t)&&t.forEach((function(i,a){s.set(a,e(i,r,n,a,t,o))}));var g=d?void 0:(u?c?xs:Ts:c?Dt:fs)(t);return us(g||t,(function(i,a){g&&(i=t[a=i]),bt(s,a,e(i,r,n,a,t,o))})),s};var dl,pl,hl=function(e){return ul(e,5)};!function(e){e.UNINIT="UNINIT",e.CLOSED="CLOSED",e.INIT_LOGGING_IN="INIT_LOGGING_IN",e.INIT_LOGGED_IN="INIT_LOGGED_IN",e.INIT_LOGIN_FAIL="INIT_LOGIN_FAIL",e.INIT_WATCH_PENDING="INIT_WATCH_PENDING",e.INIT_WATCH_FAIL="INIT_WATCH_FAIL",e.INIT_WATCH_SUCCESS="INIT_WATCH_SUCCESS",e.PAUSED="PAUSED",e.ABNORMAL_WATCH_STATUS="ABNORMAL_WATCH_STATUS",e.REBUILD_LOGGING_IN="REBUILD_LOGGING_IN",e.REBUILD_LOGGED_IN="REBUILD_LOGGED_IN",e.REBUILD_LOGIN_FAIL="REBUILD_LOGIN_FAIL",e.REBUILD_WATCH_PENDING="REBUILD_WATCH_PENDING",e.REBUILD_WATCH_FAIL="REBUILD_WATCH_FAIL",e.REBUILD_WATCH_SUCCESS="REBUILD_WATCH_SUCCESS"}(dl||(dl={})),function(e){e.CLOSE="close",e.LOGIN_START="loginStart",e.LOGIN_FAIL="loginFail",e.LOGIN_SUCCESS="loginSuccess",e.INIT_WATCH_START="initWatchStart",e.INIT_WATCH_FAIL="initWatchFail",e.INIT_WATCH_SUCCESS="initWatchSuccess",e.WS_DISCONNECTED="wsDisconnected",e.WS_CONNECTED="wsConnected",e.REBUILD_WATCH_START="rebuildWatchStart",e.REBUILD_WATCH_FAIL="rebuildWatchFail",e.REBUILD_WATCH_SUCCESS="rebuildWatchSuccess",e.NEED_REBUILD_WATCH="needRebuildWatch"}(pl||(pl={}));var fl={accept:pl.CLOSE,to:dl.CLOSED},gl={accept:pl.WS_DISCONNECTED,to:dl.CLOSED},vl={accept:pl.WS_DISCONNECTED,to:dl.PAUSED},ml={[dl.UNINIT]:{transitions:[{accept:pl.LOGIN_START,to:dl.INIT_LOGGING_IN},gl,fl]},[dl.CLOSED]:{transitions:[fl]},[dl.INIT_LOGGING_IN]:{transitions:[{accept:pl.LOGIN_FAIL,to:dl.INIT_LOGIN_FAIL},{accept:pl.LOGIN_SUCCESS,to:dl.INIT_LOGGED_IN},gl,fl]},[dl.INIT_LOGIN_FAIL]:{transitions:[{accept:pl.LOGIN_START,to:dl.INIT_LOGGING_IN},gl,fl]},[dl.INIT_LOGGED_IN]:{transitions:[{accept:pl.INIT_WATCH_START,to:dl.INIT_WATCH_PENDING},gl,fl]},[dl.INIT_WATCH_PENDING]:{transitions:[{accept:pl.INIT_WATCH_FAIL,to:dl.INIT_WATCH_FAIL},{accept:pl.INIT_WATCH_SUCCESS,to:dl.INIT_WATCH_SUCCESS},gl,fl]},[dl.INIT_WATCH_FAIL]:{transitions:[{accept:pl.LOGIN_START,to:dl.INIT_LOGGING_IN},gl,fl]},[dl.INIT_WATCH_SUCCESS]:{transitions:[{accept:pl.WS_DISCONNECTED,to:dl.PAUSED},{accept:pl.NEED_REBUILD_WATCH,to:dl.ABNORMAL_WATCH_STATUS},vl,fl]},[dl.PAUSED]:{transitions:[{accept:pl.LOGIN_START,to:dl.REBUILD_LOGGING_IN},vl,fl]},[dl.ABNORMAL_WATCH_STATUS]:{transitions:[{accept:pl.LOGIN_START,to:dl.REBUILD_LOGGING_IN},vl,fl]},[dl.REBUILD_LOGGING_IN]:{transitions:[{accept:pl.LOGIN_FAIL,to:dl.REBUILD_LOGIN_FAIL},{accept:pl.LOGIN_SUCCESS,to:dl.REBUILD_LOGGED_IN},vl,fl]},[dl.REBUILD_LOGIN_FAIL]:{transitions:[{accept:pl.LOGIN_START,to:dl.REBUILD_LOGGING_IN},vl,fl]},[dl.REBUILD_LOGGED_IN]:{transitions:[{accept:pl.REBUILD_WATCH_START,to:dl.REBUILD_WATCH_PENDING},vl,fl]},[dl.REBUILD_WATCH_PENDING]:{transitions:[{accept:pl.REBUILD_WATCH_FAIL,to:dl.REBUILD_WATCH_FAIL},{accept:pl.REBUILD_WATCH_SUCCESS,to:dl.REBUILD_WATCH_SUCCESS},vl,fl]},[dl.REBUILD_WATCH_FAIL]:{transitions:[{accept:pl.LOGIN_START,to:dl.REBUILD_LOGGING_IN},vl,fl]},[dl.REBUILD_WATCH_SUCCESS]:{transitions:[{accept:pl.NEED_REBUILD_WATCH,to:dl.ABNORMAL_WATCH_STATUS},vl,fl]}};class _l{constructor(e){for(var t in this.currentState=void 0,this.states=void 0,this.listeners=new Set,this.history=void 0,this.currentState=e.initialState,this.states=new Map,e.states)this.states.set(t,{name:t,transitions:new Map(e.states[t].transitions.map((({accept:e,to:t})=>[e,t])))});this.history={options:{enable:!1,limit:100},transitions:[]},e.history&&("boolean"==typeof e.history?e.history&&(this.history.options.enable=!0):Boolean(e.history.enable)&&(void 0===e.history.limit||null===e.history.limit?this.history.options={enable:!0,limit:100}:e.history.limit>0&&(this.history.options={enable:!0,limit:e.history.limit}))),this.history.options.enable&&this.history.transitions.push({state:this.currentState})}transition(e,t){if(t&&(t instanceof Set?!t.has(this.currentState):t!==this.currentState))throw new yl(`current state (${this.currentState}) != expected from state (${t instanceof Set?JSON.stringify([...t]):t})`,"unexpectedFromState");var r="string"==typeof e?{type:e}:e,n=this.states.get(this.currentState),i=n.transitions.get(r.type);if(!i)throw new yl(`current state (${this.currentState}) does not accept "${r.type}"`,"unexpectedInput");this.currentState=i,this.history.options.enable&&(this.history.transitions.push({event:r.type,state:this.currentState}),this.history.transitions.length>this.history.options.limit&&(this.history.transitions.length===this.history.options.limit+1?this.history.transitions.shift():this.history.transitions.splice(0,this.history.transitions.length-this.history.options.limit))),this.listeners.forEach((e=>{try{e({event:r,from:n.name,to:this.currentState})}catch(e){console.error("FSM listener exec error: ",e)}}))}canAccept(e){return this.states.get(this.currentState).transitions.has(e)}subscribe(e){this.listeners.add(e)}unsubscribe(e){this.listeners.delete(e)}getHistoryRepresentation(e){return this.history.options.enable?`states: ${(e.limit?this.history.transitions.slice(-e.limit):this.history.transitions).map((({state:e,event:t})=>`${t?`-(${t})->`:""}${e}`)).join("")}`:""}}class yl extends Error{constructor(e,t,r){super(e),this.type="transition",this.subtype=void 0,this.payload=void 0,this.generic=!0,this.subtype=t,this.payload=r}}function Al(e=""){return`${e?`${e}_`:""}${+new Date}_${Math.random()}`}var bl=1128,wl=1,El=2,Cl=3,Il=4,Sl=5,Tl=6,xl=7,Pl=8,kl=9,Dl=10,Rl=11,Ol=12,Ml=13,Ll=14,Nl=15,Bl=16,Wl=17,Fl=18,Ul=30,Vl=31,jl=32,Gl=33,Hl=34,Ql=35,$l=36,zl=37,Yl=38,Zl=39,ql=40,Jl=50,Xl=51,Kl=52,ec=53,tc=54,rc=55,nc=56,ic=57,ac=58,oc=59,sc=60;class lc{constructor(e){this.close=void 0,this.onChange=void 0,this.onError=void 0,this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:()=>e.virtualClient})}}class cc{constructor(e){this.id=void 0,this.docChanges=void 0,this.docs=void 0,this.type=void 0,this.EJSON=void 0,this.requestId=void 0,this.watchId=void 0;var{id:t,docChanges:r,docs:n,type:i,EJSON:a,requestId:o,watchId:s}=e;Object.defineProperties(this,{id:{get:()=>t,enumerable:!0},docChanges:{get:()=>r,enumerable:!0},docs:{get:()=>n,enumerable:!0},type:{get:()=>i,enumerable:!0}}),this.requestId=o,this.watchId=s}}class uc extends Error{constructor(e){super(`Watch Error ${JSON.stringify(e.msgData)} (requestid: ${e.requestId})`),this.isRealtimeErrorMessageError=!0,this.payload=void 0,this.payload=e}}var dc=e=>e&&e.isRealtimeErrorMessageError,pc=new Set([dl.REBUILD_LOGGING_IN,dl.INIT_LOGGING_IN]),hc=e=>{0};class fc{constructor(e){var t=this;this.watchId=void 0,this._parentFSM=void 0,this._fsm=void 0,this.envId=void 0,this.collectionName=void 0,this.query=void 0,this.limit=void 0,this.orderBy=void 0,this.queryType=void 0,this.send=void 0,this.login=void 0,this.isWSConnected=void 0,this.getWaitExpectedTimeoutLength=void 0,this.getEJSON=void 0,this.getServiceContext=void 0,this.onWatchStart=void 0,this.onWatchClose=void 0,this.timing=void 0,this.closeWatchInvoked=!1,this.userOnErrorInvoked=!1,this.debug=void 0,this.wsclient=void 0,this.listener=void 0,this._availableRetries=void 0,this._ackTimeoutId=void 0,this._loginInvalidated=!1,this._errors=[],this._parentFSMListener=void 0,this._FSMListener=void 0,this._wsDisconnectionTS=void 0,this.sessionInfo=void 0,this._waitExpectedTimeoutId=void 0,this._snapshotHistory=[],this._login=function(){var e=c()((function*(e){t._fsm.transition(pl.LOGIN_START);try{var r=yield t.login(t.envId,e||t._loginInvalidated,t.timing);t.envId||(t.envId=r.envId),t._fsm.transition(pl.LOGIN_SUCCESS,pc),t._loginInvalidated=!1}catch(e){t._errors.push(e),t._loginInvalidated=!0;try{t._fsm.transition(pl.LOGIN_FAIL,pc)}catch(e){console.warn("[realtime]",e)}}}));return function(t){return e.apply(this,arguments)}}(),this.initWatch=c()((function*(){var e=Date.now(),r=Al();try{t._fsm.transition(pl.INIT_WATCH_START,dl.INIT_LOGGED_IN);var n=t.envId,i={watchId:t.watchId,requestId:r,msgType:"INIT_WATCH",msgData:{envId:n,collName:t.collectionName,query:t.query,limit:t.limit,orderBy:t.orderBy,queryType:t.queryType}},a=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus();var{events:o,currEvent:s}=a.msgData;if(t.sessionInfo={queryID:a.msgData.queryID,currentEventId:s-1,currentDocs:[],currentEventTS:Date.now()},o.length>0){for(var l of o)l.ID=s;t.handleServerEvents(a)}else{t.sessionInfo.currentEventId=s;var c=new cc({id:s,docChanges:[],docs:[],type:"init",EJSON:t.getEJSON(),requestId:a.requestId,watchId:t.watchId});gr((()=>t.listener.onChange(c)))(),t.scheduleSendACK(),t.debug&&t._snapshotHistory.push(c)}t.onWatchStart(t,t.sessionInfo.queryID),t._availableRetries.INIT_WATCH=2,t._wsDisconnectionTS=void 0,rn(bl,Sl,!0),tn({apiName:"_realtime.initWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(pl.INIT_WATCH_SUCCESS)}catch(n){tn({apiName:"_realtime.initWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"INIT_WATCH",requestId:r})}})),this.rebuildWatch=c()((function*(){var e=Date.now(),r=Al();try{t._fsm.transition(pl.REBUILD_WATCH_START,dl.REBUILD_LOGGED_IN);var n=t.envId;if(!t.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");if(t._wsDisconnectionTS&&Date.now()-t._wsDisconnectionTS>.9*t.getServiceContext().appConfig.realtimeQueryEventCacheTimeout)throw new or("query event cache timeout, ws has been disconnected for too long, PLEASE RECONNECT manually",{subtype:"queryEventCacheClientTimeout",retryable:!1});var i={watchId:t.watchId,requestId:r,msgType:"REBUILD_WATCH",msgData:{envId:n,collName:t.collectionName,queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}},a=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus(),yield t.handleServerEvents(a),t._availableRetries.REBUILD_WATCH=2,t._wsDisconnectionTS=void 0,rn(bl,xl,!0),tn({apiName:"_realtime.rebuildWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(pl.REBUILD_WATCH_SUCCESS)}catch(n){tn({apiName:"_realtime.rebuildWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"REBUILD_WATCH",requestId:r})}})),this.handleWatchEstablishmentError=function(){var e=c()((function*(e,r){var n="INIT_WATCH"===r.operationName,i=i=>{var a=`${i||e} (${n?"initWatch":"rebuildWatch"} requestId ${r.requestId})`;if(t.closeWithError(new rr({errCode:n?tr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:tr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:a})),rn(bl,n?Tl:Pl,!0),!dc(e)){if(sr(e)){switch(e.payload.subtype){case"totalConnectionTimeout":rn(bl,n?tc:rc,!0);break;case"queryEventCacheClientTimeout":n||rn(bl,nc,!0)}return}return ur(e)?void rn(bl,n?ic:ac,!0):void rn(bl,n?oc:sc,!0)}switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":rn(bl,n?Jl:Xl,!0);break;default:rn(bl,n?Kl:ec,!0)}};t._errors.push(e),t.handleCommonError(e,{onSignError:()=>{t._loginInvalidated=!0,t._fsm.transition(t.initialized?pl.REBUILD_WATCH_FAIL:pl.INIT_WATCH_FAIL)},onTimeoutError:e=>{e.payload&&!e.payload.retryable?i(e):t._fsm.transition(t.initialized?pl.REBUILD_WATCH_FAIL:pl.INIT_WATCH_FAIL)},onNotRetryableError:i,onCancelledError:e=>{t._fsm.transition(t.initialized?pl.REBUILD_WATCH_FAIL:pl.INIT_WATCH_FAIL)},onUnknownError:()=>{t._fsm.transition(t.initialized?pl.REBUILD_WATCH_FAIL:pl.INIT_WATCH_FAIL)}})}));return function(t,r){return e.apply(this,arguments)}}(),this.closeWatch=c()((function*(){t.closeWatchInvoked=!0;var e=t.sessionInfo?t.sessionInfo.queryID:"";if(t._fsm.currentState!==dl.CLOSED)try{t._fsm.transition(pl.CLOSE),yield t.sendCloseWatch()}catch(e){console.warn(`[realtime] non-fatal error while closing watch: ${e}`)}finally{t.sessionInfo=void 0,t.onWatchClose(t,e),t._cleanup()}})),this.sendCloseWatch=c()((function*(){var e={watchId:t.watchId,requestId:Al(),msgType:"CLOSE_WATCH",msgData:null};yield t.send({msg:e})})),this.scheduleSendACK=()=>{this.clearACKSchedule(),this._ackTimeoutId=setTimeout((()=>{this._waitExpectedTimeoutId?this.scheduleSendACK():this.sendACK()}),1e4)},this.clearACKSchedule=()=>{this._ackTimeoutId&&clearTimeout(this._ackTimeoutId)},this.sendACK=c()((function*(){try{if(t._fsm.currentState!==dl.INIT_WATCH_SUCCESS&&t._fsm.currentState!==dl.REBUILD_WATCH_SUCCESS)return void t.scheduleSendACK();if(!t.sessionInfo)return void console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)");var e={watchId:t.watchId,requestId:Al(),msgType:"CHECK_LAST",msgData:{queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}};yield t.send({msg:e}),t.scheduleSendACK()}catch(e){if(dc(e)){var r=e.payload;switch(r.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return t._loginInvalidated=!0,void(t._fsm.currentState!==dl.INIT_WATCH_SUCCESS&&t._fsm.currentState!==dl.REBUILD_WATCH_SUCCESS||t._fsm.transition(pl.NEED_REBUILD_WATCH));case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return void t.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code}))}}t._availableRetries.CHECK_LAST&&t._availableRetries.CHECK_LAST>0?(t._availableRetries.CHECK_LAST--,t.scheduleSendACK()):t.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:e}))}})),this.handleCommonError=(e,t)=>{if(dc(e)){switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}}else{if(sr(e))return void t.onTimeoutError(e);if(ur(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId=`watchid_${+new Date}_${Math.random()}`,this._parentFSM=e.parentFSM,this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.queryType=e.queryType,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.getEJSON=e.getEJSON,this.getServiceContext=e.getServiceContext,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.timing=e.timing,this.debug=e.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this._fsm=new _l({initialState:dl.UNINIT,states:ml,history:!0}),this._subscribeParentFSMEvents(),this._subscribeFSMEvents(),this.listener=new lc({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this._parentFSM.currentState===so.CONNECTED&&this._login(),e.debug&&(this.wsclient=e.wsclient)}get initialized(){return Boolean(this.sessionInfo)}_cleanup(){this._parentFSM.unsubscribe(this._parentFSMListener)}_subscribeParentFSMEvents(){this._parentFSMListener=e=>{var{event:t,from:r,to:n}=e;if(this._fsm.currentState!==dl.CLOSED)if(t.type===lo.DISCONNECT||t.type===lo.CONNECTION_FAIL)switch(this._fsm.currentState){case dl.UNINIT:case dl.INIT_LOGGING_IN:case dl.INIT_LOGIN_FAIL:case dl.INIT_LOGGED_IN:case dl.INIT_WATCH_PENDING:case dl.INIT_WATCH_FAIL:this.closeWithError(t.error||new Error("websocket connection fail"),!1);break;default:t.type===lo.DISCONNECT?(this._wsDisconnectionTS||(this._wsDisconnectionTS=Date.now()),this._fsm.transition(pl.WS_DISCONNECTED)):this.closeWithError(t.error||new Error("websocket connection fail"),!1)}else if(t.type===lo.CONNECTION_SUCCESS)switch(this._fsm.currentState){case dl.UNINIT:case dl.PAUSED:this._login();break;case dl.CLOSED:break;default:console.warn(`[realtime] current state should not be ${this._fsm.currentState} (parent event ${t})`)}},this._parentFSM.subscribe(this._parentFSMListener)}_subscribeFSMEvents(){this._FSMListener=e=>{var{event:t,from:r,to:n}=e;switch(t.type){case pl.WS_CONNECTED:this._login().catch(hc);break;case pl.LOGIN_SUCCESS:r===dl.INIT_LOGGING_IN?this.initWatch().catch(hc):r===dl.REBUILD_LOGGING_IN?this.rebuildWatch().catch(hc):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case pl.LOGIN_FAIL:r===dl.INIT_LOGGING_IN?this.useRetryTicket("INIT_WATCH")?this._login().catch(hc):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):r===dl.REBUILD_LOGGING_IN?this.useRetryTicket("REBUILD_WATCH")?this._login().catch(hc):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case pl.INIT_WATCH_SUCCESS:this._availableRetries.INIT_WATCH=2,this._errors=[];break;case pl.INIT_WATCH_FAIL:this.useRetryTicket("INIT_WATCH")?this._login().catch(hc):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case pl.REBUILD_WATCH_SUCCESS:this._availableRetries.REBUILD_WATCH=2,this._errors=[];break;case pl.REBUILD_WATCH_FAIL:this.useRetryTicket("REBUILD_WATCH")?this._login().catch(hc):this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case pl.NEED_REBUILD_WATCH:this._login().catch(hc)}},this._fsm.subscribe(this._FSMListener)}useRetryTicket(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,!0)}assertAsyncTaskStatus(){if(this.closeWatchInvoked)throw new lr("closeWatch",{subtype:"closeWatch"});switch(this._fsm.currentState){case dl.PAUSED:throw new lr("pause",{subtype:"pause"});case dl.CLOSED:throw new lr("close",{subtype:"close"})}}handleServerEvents(e){var t=this;return c()((function*(){try{t.scheduleSendACK(),yield t._handleServerEvents(e),t._postHandleServerEventsValidityCheck(e)}catch(e){throw rn(bl,Gl,!0),e}}))()}_handleServerEvents(e){var t=this;return c()((function*(){var{requestId:r}=e,{events:n}=e.msgData;if(n.length&&t.sessionInfo){var i,a=t.sessionInfo;try{i=n.map(gc)}catch(e){return void t.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e}))}for(var o=[...a.currentDocs],s=!1,l=function(n,l){var c=i[n];if(a.currentEventId>=c.id)return!i[n-1]||c.id>i[n-1].id?rn(bl,Hl,!0):(console.error(`[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ${r})`),rn(bl,Ql,!0)),"continue";if(a.currentEventId===c.id-1){switch(c.dataType){case"update":if(!c.doc)switch(c.queueType){case"update":case"dequeue":var u=o.find((e=>e._id===c.docId));if(u){var d=hl(u);if(c.updatedFields)for(var p in c.updatedFields)ns(d,p,c.updatedFields[p]);if(c.removedFields)for(var h of c.removedFields)cs(d,h);c.doc=d}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated."),rn(bl,$l,!0);break;case"enqueue":var f=new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId ${e.requestId})`});throw t.closeWithError(f),f}break;case"limit":if(!c.doc)switch(c.queueType){case"dequeue":var g=o.find((e=>e._id===c.docId));g?c.doc=g:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType dequeue queueType event where no doc is associated.")}break;case"replace":if(!c.doc){var v=new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="replace" (requestId ${e.requestId})`});throw t.closeWithError(v),v}break;case"remove":var m=o.find((e=>e._id===c.docId));m?c.doc=m:(console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),rn(bl,zl,!0))}switch(c.queueType){case"init":s?o.push(c.doc):(s=!0,o=[c.doc]);break;case"enqueue":o.push(c.doc);break;case"dequeue":var _=o.findIndex((e=>e._id===c.docId));_>-1?o.splice(_,1):(console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),rn(bl,Yl,!0));break;case"update":var y=o.findIndex((e=>e._id===c.docId));y>-1?o[y]=c.doc:(console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),rn(bl,Zl,!0))}if(n===l-1||i[n+1]&&i[n+1].id!==c.id){var A=[...o],b=i.slice(0,n+1).filter((e=>e.id===c.id));t.sessionInfo.currentEventId=c.id,t.sessionInfo.currentDocs=o,t.sessionInfo.currentEventTS=Date.now();var w=new cc({id:c.id,type:"init"===b[0].queueType?"init":void 0,docChanges:t.getEJSON().deserialize(b),docs:t.getEJSON().deserialize(A),EJSON:t.getEJSON(),requestId:r,watchId:t.watchId});gr((()=>t.listener.onChange(w)))(),t.debug&&t._snapshotHistory.push(w)}}else rn(bl,ql,!0),t._fsm.transition(pl.NEED_REBUILD_WATCH)},c=0,u=i.length;c<u;c++)l(c,u)}}))()}_postHandleServerEventsValidityCheck(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn(`[realtime listener] internal non-fatal error: client eventId ${this.sessionInfo.currentEventId} does not match with server event id after server event handling ${e.msgData.currEvent} (requestId ${e.requestId})`)):console.error(`[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur. (requestId ${e.requestId})`)}clearWaitExpectedEvent(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}onMessage(e){switch(this._fsm.currentState){case dl.INIT_WATCH_SUCCESS:case dl.REBUILD_WATCH_SUCCESS:break;case dl.PAUSED:if("ERROR"!==e.msgType)return;break;default:return void console.warn(`[realtime listener] internal non-fatal error: unexpected message received while state is ${this._fsm.currentState}`)}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":0,this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((()=>{this._fsm.transition(pl.NEED_REBUILD_WATCH)}),this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:`${e.msgData.code} - ${e.msgData.message}`}));break;default:0}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}closeWithError(e,t=!0){if(this._fsm.currentState!==dl.CLOSED&&this._fsm.transition(pl.CLOSE),!this.userOnErrorInvoked){var r=this._fsm.getHistoryRepresentation({limit:20});nr(e)?(e.errMsg+=`\nhistory ${r}`,e.history=r):e&&((e=new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`${e} \nhistory ${r}`})).history=r),this.clearACKSchedule(),gr((()=>this.listener.onError(e)))(),this.userOnErrorInvoked=!0,this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),t&&this.sendCloseWatch().catch(hc),this.sessionInfo=void 0}}}function gc(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=e.removedFields?JSON.parse(e.removedFields):JSON.parse(e.RemovedFields))),t}var vc,mc={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3004:{code:3004,name:"Client Reconnect on Server Upgrade",description:"The client is terminating the connection in response to server upgrade"},3050:{code:3050,name:"Server Close Unauthenticated Idle Connection",description:"The server is terminating the connection because the connection is idle and not authenticated"},3051:{code:3051,name:"Server Upgrade",description:"The server is terminating the connection because it is upgrading"},3052:{code:3052,name:"Server Requires Authentication",description:"The server is terminating the connection because it has not received authentication message as the connection's first message"}};!function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.ReconnectOnServerUpgrade=3004]="ReconnectOnServerUpgrade",e[e.UnauthenticatedIdleConnection=3050]="UnauthenticatedIdleConnection",e[e.ServerUpgrade=3051]="ServerUpgrade",e[e.AuthenticationRequired=3052]="AuthenticationRequired"}(vc||(vc={}));var _c,yc=(e,t)=>{var r=mc[e],n=r?`${r.name}, code ${e}, reason ${t||r.description}`:`code ${e}`;return new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},Ac=1;class bc{constructor(e){var t=this;this._fsm=void 0,this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._totalConnectionTimeoutId=void 0,this._serviceContext=void 0,this._ws=void 0,this._lastPingSendTS=void 0,this._pingFailed=0,this._pongMissed=0,this._pingTimeoutId=void 0,this._pongTimeoutId=void 0,this._logins=new Map,this._signatures=new Map,this._wsResponseWait=new Map,this._rttObserved=[],this._closedWatches=new Set,this._EJSON=void 0,this._defaultEnvId=void 0,this._connectionEnvId=void 0,this.initWebSocketConnection=function(){var e=c()((function*(e,r=t._maxReconnect){var n;if(t._EJSON||(n=function(){return wc.apply(this,arguments)}().then((e=>t._EJSON=e))),t._fsm.currentState===so.DISCONNECTED){t._fsm.transition(lo.CONNECTION_START),t._logins=new Map,t._wsResponseWait=new Map;var i=!1,a=[],o=!1;if(!t._totalConnectionTimeoutId&&t._totalConnectionTimeout&&t._totalConnectionTimeout!==1/0){var s=t._totalConnectionTimeout;t._totalConnectionTimeoutId=setTimeout((()=>{o=!0,t._totalConnectionTimeoutId=void 0;var e=new or(`reconnect timeout (reach totalConnectionTimeout ${s}s)`,{subtype:"totalConnectionTimeout",retryable:!1});rn(bl,Wl,!0),t._fsm.transition({type:lo.CONNECTION_FAIL,error:e})}),1e3*s)}for(var l=t._maxReconnect;l>=0;l--)try{var c=yield*function*(){if(!(yield wn()).isConnected){if(!e)return t._fsm.transition({type:lo.CONNECTION_FAIL,error:new Error("network offline")}),{v:void 0};if(yield new Promise((e=>{_n&&_n.isConnected?e():bn.push(e)})),0===t._virtualWSClient.size)return t.clearTotalReconnectTimeout(),{v:void 0};Vn()&&(yield yn(100))}if(o)return{v:void 0};var r=yield t.getSignature(t._connectionEnvId);if(o)return{v:void 0};var a=Date.now();return yield new Promise(((e,n)=>{t._ws=Or(t._context.identifiers)._socketSkipCheckDomainFactory().connectSocket({url:r.wsUrl,header:{"content-type":"application/json"},perMessageDeflate:!0,success:e,fail:n})})),o?{v:void 0}:(tn({apiName:"_realtime.connectSocket",apiStartTime:a,apiEndTime:Date.now()}),yield t.initWebSocketEvent(),o||n&&(yield n,o)?{v:void 0}:(i=!0,"break"))}();if("break"===c)break;if("object"==typeof c)return c.v}catch(e){if(a.unshift(e),e.errCode===tr.TCB_PERMISSION_DENIED)break;var{isConnected:u}=yield wn();if(o)return;if(u&&(yield yn(t._reconnectInterval),o))return;if(Vn()&&(yield yn(0),o))return}if(i)return t.clearTotalReconnectTimeout(),rn(bl,e?Cl:wl,!0),void t._fsm.transition(lo.CONNECTION_SUCCESS);t.clearTotalReconnectTimeout(),rn(bl,e?Il:El,!0),e?t._fsm.transition({type:lo.CONNECTION_FAIL,error:new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(a.map((e=>e+"")))}`})}):t._fsm.transition({type:lo.CONNECTION_FAIL,error:new rr({errCode:tr.SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(a.map((e=>e+"")))}`})})}}));return function(t){return e.apply(this,arguments)}}(),this.initWebSocketEvent=()=>new Promise(((e,t)=>{if(!this._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;this._ws.onOpen((t=>{this._context.debug&&console.warn("[realtime] ws event: open",t),r=!0,e()}));var n=null;this._ws.onError((e=>{n=e,this._logins=new Map,r?(this._context.debug&&console.error("[realtime] ws event: error",e),this.clearHeartbeat(),rn(bl,Dl,!0)):(this._context.debug&&console.error("[realtime] ws open failed with ws event: error",e),t(e),rn(bl,kl,!0))})),this._ws.onClose((e=>{this._logins=new Map,this.clearHeartbeat();var t=n||yc(e.code);switch(e.code){case vc.ReconnectOnServerUpgrade:case vc.ReconnectWebSocket:case vc.NoRealtimeListeners:this._fsm.transition({type:lo.DISCONNECT,error:t});break;case vc.HeartbeatPingError:case vc.HeartbeatPongTimeoutError:case vc.NormalClosure:case vc.AbnormalClosure:this._maxReconnect>0?(this._fsm.transition({type:lo.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:lo.CONNECTION_FAIL,error:t}),e.code===vc.HeartbeatPingError?rn(bl,Ol,!0):e.code===vc.HeartbeatPongTimeoutError?rn(bl,Ml,!0):rn(bl,Ll,!0);break;case vc.UnauthenticatedIdleConnection:this._fsm.transition({type:lo.CONNECTION_FAIL,error:yc(e.code,e.reason)}),rn(bl,Nl,!0);break;case vc.ServerUpgrade:this._fsm.transition({type:lo.DISCONNECT,error:t}),this.initWebSocketConnection(!0),rn(bl,Fl,!0);break;default:this._maxReconnect>0?(this._fsm.transition({type:lo.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:lo.CONNECTION_FAIL,error:yc(e.code,e.reason)}),rn(bl,Bl,!0)}rn(bl,Rl,!0)}));var i={timing:{},startKey:"apiStartTime",endKey:"apiEndTime",samplePicker:ln,autoReport:"_realtime.onSocketMessage"};this._ws.onMessage(sn(this.onSocketMessage,i)),this.heartbeat()})),this.isWSConnected=()=>Boolean(this._ws&&this._ws.readyState===Ac),this.onSocketMessage=e=>{var t,r=e.data;this.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error(`[realtime] onMessage parse res.data error: ${e}`)}this._context.debug&&console.log(`[realtime] onMessage ${t.msgType} (${(new Date).toLocaleString()})`,t);var n=this._wsResponseWait.get(t.requestId);if(n){try{"ERROR"===t.msgType?n.reject(new uc(t)):n.resolve(t)}catch(e){this._context.debug&&console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{this._wsResponseWait.delete(t.requestId)}if(n.skipOnMessage)return}if("PONG"!==t.msgType){var i=t.watchId&&this._watchIdClientMap.get(t.watchId);if(i)i.onMessage(t);else switch(t.watchId?this._closedWatches.has(t.watchId)?rn(bl,Ul,!0):rn(bl,Vl,!0):rn(bl,jl,!0),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(i=this._queryIdClientMap.get(t.msgData.queryID))&&i.onMessage(t)}}else if(this._lastPingSendTS){var a=Date.now()-this._lastPingSendTS;if(a>1e4)return void(this._context.debug&&console.warn(`[realtime] untrusted rtt observed: ${a}`));this._rttObserved.length>=3&&this._rttObserved.splice(0,this._rttObserved.length-3+1),this._rttObserved.push(a)}},this.login=function(){var e=c()((function*(e,r,n){if(e=e||t._context.env||t._defaultEnvId,!r)if(e){var i=t._logins.get(e);if(i){if(i.loggedIn&&i.loginResult)return i.loginResult;if(i.loggingInPromise)return i.loggingInPromise}}else{var a=t._logins.get("");if(a&&a.loggingInPromise)return a.loggingInPromise}var o=new Promise(function(){var i=c()((function*(i,a){try{var o=yield n?sn(t.getSignature(e,r),{timing:n,startKey:"tunnelStartTime",endKey:"tunnelEndTime",condition:{emptyKey:!0}}):t.getSignature(e,r),s=(()=>{var e,t,r=Or().wx;if(r&&r.version){e=r.version.version,t=r.version.updateTime;var n=r.version.updateTime.match(/^(\d+)\.(\d+)\.(\d+)/);return{version:e,updateTime:t,updateDateInDashes:n?`${n[1]}-${n[2]}-${n[3]}`:"unknown"}}return{version:"unknown",updateTime:"unknown",updateDateInDashes:"unknown"}})(),l={watchId:void 0,requestId:Al(),msgType:"LOGIN",msgData:{envId:o.envId,signStr:o.signStr,secretVersion:o.secretVersion,referrer:"mp",sdkVersion:s.version,dataVersion:s.updateDateInDashes}},c=yield t.send({msg:l,waitResponse:!0,skipOnMessage:!0,timeout:5e3});c.msgData.code?a(new Error(`${c.msgData.code} ${c.msgData.message}`)):i({envId:o.envId})}catch(e){a(e)}}));return function(e,t){return i.apply(this,arguments)}}()),s=e&&t._logins.get(e),l=Date.now();s?(s.loggedIn=!1,s.loggingInPromise=o,s.loginStartTS=l):(s={loggedIn:!1,loggingInPromise:o,loginStartTS:l},t._logins.set(e||"",s));try{var u=yield o,d=t._logins.get(e||"");if(d&&d===s&&d.loginStartTS===l)return s.loggedIn=!0,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=u,u;if(d){if(d.loggedIn&&d.loginResult)return d.loginResult;if(d.loggingInPromise)return d.loggingInPromise;throw new Error("ws unexpected login info")}throw new Error("ws login info reset")}catch(e){throw s.loggedIn=!1,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=void 0,e}}));return function(t,r,n){return e.apply(this,arguments)}}(),this.getSignature=function(){var e=c()((function*(e,r){if(e=e||t._context.env||t._defaultEnvId,!r&&e&&t._signatures.has(e)){var n=t._signatures.get(e);if(Date.now()<n.expireTS)return n}else 0;var i=Date.now()+6e4,a=yield function(e,t){return Wa.apply(this,arguments)}(t._context,e);if(Date.now()-i>6e4)return t.getSignature(e,r);var o=s()(s()({},a),{},{expireTS:i});return t._signatures.set(o.envId,o),e||(t._defaultEnvId=o.envId),o}));return function(t,r){return e.apply(this,arguments)}}(),this.getWaitExpectedTimeoutLength=()=>this._rttObserved.length?this._rttObserved.reduce(((e,t)=>e+t))/this._rttObserved.length*1.5:5e3,this.ping=c()((function*(){var e={watchId:void 0,requestId:Al(),msgType:"PING",msgData:null};yield t.send({msg:e}),t._context.debug&&console.log("ping sent")})),this.send=e=>new Promise(function(){var r=c()((function*(r,n){if(t._fsm.currentState!==so.CONNECTED)return n(new Error("websocket not connected"));var i,a=!1,o=!1,s=e=>{a=!0,i&&clearTimeout(i),r(e)},l=e=>{o=!0,i&&clearTimeout(i),n(e)};e.timeout&&(i=setTimeout(c()((function*(){a&&o||(yield yn(0),a&&o||l(new or("wsclient.send timedout")))})),e.timeout));try{if(t._context.debug&&console.log(`[realtime] ws send ${e.msg.msgType} (${(new Date).toLocaleString()}): `,e),!t._ws)return void l(new Error("invalid state: ws connection not exists, can not send message"));if(t._ws.readyState!==Ac)return void l(new Error(`ws readyState invalid: ${t._ws.readyState}, can not send message`));e.waitResponse&&t._wsResponseWait.set(e.msg.requestId,{resolve:s,reject:l,skipOnMessage:e.skipOnMessage}),t._ws.send({data:JSON.stringify(e.msg),success:t=>{e.waitResponse||s(t)},fail:r=>{l(r),e.waitResponse&&t._wsResponseWait.delete(e.msg.requestId)}})}catch(e){l(e)}}));return function(e,t){return r.apply(this,arguments)}}()),this.onWatchStart=(e,t)=>{this._queryIdClientMap.set(t,e)},this.onWatchClose=(e,t)=>{t&&this._queryIdClientMap.delete(t),this._watchIdClientMap.delete(e.watchId),this._virtualWSClient.delete(e),this._closedWatches.add(e.watchId),this._virtualWSClient.size||this.close(vc.NoRealtimeListeners)},this.getEJSON=()=>this._EJSON,this._fsm=new _l({initialState:so.DISCONNECTED,states:Uo}),this._serviceContext=e.serviceContext}get _context(){return this._serviceContext}get _maxReconnect(){return this._context.appConfig.realtimeMaxReconnect}get _reconnectInterval(){return this._context.appConfig.realtimeReconnectInterval}get _totalConnectionTimeout(){return this._context.appConfig.realtimeTotalConnectionTimeout}heartbeat(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(c()((function*(){try{if(!t._ws||t._ws.readyState!==Ac)return;t._lastPingSendTS=Date.now(),yield t.ping(),t._pingFailed=0,t._pongTimeoutId=setTimeout((()=>{t._context.debug&&console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.close(vc.HeartbeatPongTimeoutError)}),t._context.appConfig.realtimePongWaitTimeout)}catch(e){t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(vc.HeartbeatPingError)}})),e?0:this._context.appConfig.realtimePingInterval)}clearHeartbeat(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}clearTotalReconnectTimeout(){this._totalConnectionTimeoutId&&clearTimeout(this._totalConnectionTimeoutId)}close(e){this.clearHeartbeat(),this._ws&&(this._ws.close({code:e,reason:mc[e].name}),this._ws=void 0)}watch(e){var t={apiStartTime:Date.now()},r=!1,n=()=>{tn(s()(s()({},t),{},{apiName:e.reportAPIName}))},i=e.onChange,a=e.onError;this._fsm.currentState===so.DISCONNECTED&&(this._connectionEnvId=e.envId,this.initWebSocketConnection(!1));var o=new fc(s()(s()({},e),{},{parentFSM:this._fsm,send:this.send,login:this.login,isWSConnected:this.isWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,getEJSON:this.getEJSON,getServiceContext:()=>this._context,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,timing:t,debug:this._context.debug,wsclient:this,onChange:c,onError:u}));this._virtualWSClient.add(o),this._watchIdClientMap.set(o.watchId,o);var l=o.listener;return l;function c(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),d(),gr((()=>l.onChange.apply(this,e)))()}function u(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),d(),gr((()=>l.onError.apply(this,e)))()}function d(){l.onChange===c&&(l.onChange=i),l.onError===u&&(l.onError=a)}}}function wc(){return(wc=c()((function*(){var e=Date.now(),t=a(795);return tn({apiName:"_realtime.importBSON",apiStartTime:e,apiEndTime:Date.now()}),t.EJSON}))).apply(this,arguments)}!function(e){e.ASC="asc",e.DESC="desc"}(_c||(_c={}));var Ec=e=>{class t{constructor(t,n){if(this.collectionName=void 0,this._query=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(Ir(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new bc({serviceContext:e.serviceContext})),e.serviceContext.ws.watch(s()(s()({},t),{},{envId:e.database.config.env||e.serviceContext.env,collectionName:this.collectionName,query:JSON.stringify(e.engine.QuerySerializer.encode(this._query.where||{})),limit:this._query.limit,orderBy:this._query.order?this._query.order.reduce(((e,t)=>(e[t.fieldPath]=t.order,e)),{}):void 0,queryType:ba.WHERE,reportAPIName:"cloud.db.collection.watch"}))),!t)throw new rr({errCode:tr.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"collectionName must be provided"});this.collectionName=t,this._query=new r(n),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=n&&n.field||{}}field(e){return Sr(e,"object","field"),new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{field:e}))}where(e){return Sr(e,"condition","where"),this._query.where?new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{where:$a.and(this._query.where,e)})):new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{where:e}))}orderBy(e,r){return Sr(e,"fieldPath","orderBy"),Sr(r,"order","orderBy"),new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{order:[...this._query.order||[],{fieldPath:e,order:r}]}))}limit(e){return Sr(e,"max","limit"),new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{limit:e}))}skip(e){return Sr(e,"offset","skip"),new t(this.collectionName,s()(s()({},this._query.getProperties()),{},{offset:e}))}get(t){var r="collection.get",n={apiStartTime:+new Date},i=()=>xa({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:ba.WHERE,options:Bo(this,e),instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,a){try{var o=yield i();if(null!=t&&t.explain&&Vn())return void e(o);e({data:o.list,errMsg:cn(r)})}catch(e){a(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}update(t){var r="collection.update",n={apiStartTime:+new Date},i=()=>{if(Sr(t,"options","update"),Ir(t,{data:"object"}),!this._query.where)throw new rr({errCode:-1,errMsg:"query condition must be provided"})},a=()=>ka({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),data:e.engine.UpdateSerializer.encode(t.data),queryType:ba.WHERE,options:{multi:!1!==t.multi,merge:!0},instanceContext:e,timing:n,explain:t.explain});var o=Cr(t),l=new Promise(function(){var e=c()((function*(e,o){try{i();var l=yield a();if(null!=t&&t.explain&&Vn())return e(l);e({stats:{updated:l.updated},errMsg:cn(r)})}catch(e){o(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return l;l.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}remove(t){var r="collection.remove",n={apiStartTime:+new Date},i=()=>{if(!this._query.where||0===Object.keys(this._query.where).length)throw new rr({errCode:-1,errMsg:"query condition must be provided and not be empty"})},a=()=>Sa({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:ba.WHERE,options:{multi:!0},instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var o=Cr(t),l=new Promise(function(){var e=c()((function*(e,o){try{i();var l=yield a();if(null!=t&&t.explain&&Vn())return e(l);e({stats:{removed:l.removed||0},errMsg:cn(r)})}catch(e){o(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return l;l.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}count(t){var r="collection.count",n={apiStartTime:+new Date},i=()=>Ma({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:ba.WHERE,instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,a){try{var o=yield i();if(null!=t&&t.explain&&Vn())return e(o);e({total:o.total,errMsg:cn(r)})}catch(e){a(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}toJSON(){}}class r{constructor(e){this.where=void 0,this.offset=void 0,this.limit=void 0,this.order=void 0,this.field=void 0,this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order,this.field=e&&e.field}getProperties(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order,field:this.field}}}return t},Cc="document.get",Ic="document.update",Sc="document.set",Tc="document.remove",xc=e=>class{constructor(t,r){if(this._id=void 0,this.collection=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(Ir(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new bc({serviceContext:e.serviceContext})),e.serviceContext.ws.watch(s()(s()({},t),{},{envId:e.database.config.env||e.serviceContext.env,collectionName:this.collection.collectionName,query:JSON.stringify({_id:this._id}),queryType:ba.DOC,reportAPIName:"cloud.db.document.watch"}))),this.collection=t,this._id=r,null==r)throw new rr({errCode:tr.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"docId must not be null or undefined"});Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}field(e){return Sr(e,"object","field"),Ir(e,"object","field"),this._field=e,this}get(t){var r=this,n={apiStartTime:+new Date},i=()=>xa({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),options:{projection:e.engine.ProjectionSerializer.encode(this._field)},queryType:ba.DOC,instanceContext:e,timing:n});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,t){try{var a=r._id,o=yield i();if(!o.list||!o.list.length)throw new Error(`cannot find document with _id ${a}, please make sure that the document exists and you have the corresponding access permission`);e({data:o.list[0],errMsg:cn(Cc)})}catch(e){t(ir(e,Cc))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:"cloud.db.document.get"}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(Cc,t,e)})).catch((e=>{Er(Cc,t,e)}))}set(t){var r={apiStartTime:+new Date},n=()=>Ra({env:e.database.config.env,collectionName:this.collection.collectionName,_id:this._id,data:e.engine.encodeInternalDataType(t.data),options:{},instanceContext:e,timing:r});var i=Cr(t),a=new Promise(function(){var e=c()((function*(e,i){try{Ir(t,{data:"object"}),xr({name:"options.data",target:t.data});var a=yield n();e({_id:a._id,errMsg:cn(Sc),stats:{updated:a.updated,created:a.created}})}catch(e){i(ir(e,Sc))}finally{tn(s()(s()({},r),{},{apiEndTime:+new Date,apiName:"cloud.db.document.set"}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return a;a.then((e=>{wr(Sc,t,e)})).catch((e=>{Er(Sc,t,e)}))}update(t){var r={apiStartTime:+new Date},n=()=>ka({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),data:e.engine.UpdateSerializer.encode(t.data),queryType:ba.DOC,options:{multi:!1,merge:!1},instanceContext:e,timing:r});var i=Cr(t),a=new Promise(function(){var e=c()((function*(e,i){try{Ir(t,{data:"object"}),xr({name:"options.data",target:t.data}),e({stats:{updated:(yield n()).updated},errMsg:cn(Ic)})}catch(e){i(ir(e,Ic))}finally{tn(s()(s()({},r),{},{apiEndTime:+new Date,apiName:"cloud.db.document.update"}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return a;a.then((e=>{wr(Ic,t,e)})).catch((e=>{Er(Ic,t,e)}))}remove(t){var r=this,n={apiStartTime:+new Date},i=()=>Sa({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),queryType:ba.DOC,options:{},instanceContext:e,timing:n});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,t){try{var a=r._id,o=yield i();if(0===o.removed)throw new Error(`cannot remove document with _id ${a}, please make sure that the document exists and you have the corresponding Write permission`);e({stats:{removed:o.removed||0},errMsg:cn(Tc)})}catch(e){t(ir(e,Tc))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:"cloud.db.document.remove"}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(Tc,t,e)})).catch((e=>{Er(Tc,t,e)}))}toJSON(){}},Pc=e=>{var t=Ec(e),r=xc(e),n=Fa(e);return class extends t{constructor(e){super(e),this.collectionName=void 0,this.__safe_props__=void 0,this.collectionName=e}doc(e){if(null==e)throw ir({errCode:-1,errMsg:"docId must not be empty"},"collection.doc");return new r(this,e)}add(t){var r="collection.add",n={apiStartTime:+new Date},i=()=>Ca({env:e.database.config.env,collectionName:this.collectionName,data:e.engine.encodeInternalDataType(t.data),instanceContext:e,timing:n});var a=Cr(t),o=new Promise(function(){var e=c()((function*(e,a){try{Ir(t,{data:"object"}),e({_id:(yield i())._id,errMsg:cn(r)})}catch(e){a(ir(e,r))}finally{tn(s()(s()({},n),{},{apiEndTime:+new Date,apiName:`cloud.db.${r}`}))}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return o;o.then((e=>{wr(r,t,e)})).catch((e=>{Er(r,t,e)}))}aggregate(){return new n(this,[])}}},kc=function(e){return new Dc(e)};class Dc{constructor(e){this.regexp=void 0,this.options=void 0,Ir(e,{regexp:"string"},"RegExp options"),e.options&&Ir(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}get _internalType(){return ra}toJSON(){return{$regex:this.regexp,$options:this.options}}}var Rc={},Oc={};for(var Mc in sa)Rc[sa[Mc]]=`$${sa[Mc]}`;for(var Lc in Fi)Rc[Fi[Lc]]=`$${Fi[Lc]}`;for(var Nc in pa)Rc[pa[Nc]]=`$${pa[Nc]}`;for(var Bc in ga)Oc[ga[Bc]]=`$${ga[Bc]}`;function Wc(e){return Rc[e]||`$${e.toLowerCase()}`}function Fc(e){return Oc[e]||`$${e.toLowerCase()}`}Rc[sa.NEQ]="$ne",Rc[pa.REMOVE]="$unset",Rc[pa.SHIFT]="$pop",Rc[pa.UNSHIFT]="$push",Rc[sa.GEO_NEAR]="$nearSphere",Rc[sa.GEO_WITHIN]="$geoWithin",Rc[sa.GEO_INTERSECTS]="$geoIntersects";class Uc{static encodeStages(e){return(new Vc).encodeStages(e)}static encode(e){return(new Vc).encodeAny(e)}}class Vc{encodeStages(e){return e.map((e=>this.encodePipelineStage(e)))}encodeAny(e){return Mo(e)?Ga(e)?this.encodePipeline(e):Ha(e)?this.encodePipelineStage(e):ma(e)?this.encodeAggregateCommand(e):Lo(e):zt(e)?this.encodeObject(e):Jt(e)?e.map((e=>this.encodeAny(e))):e}encodeObject(e){var t={};for(var r in e)t[r]=this.encodeAny(e[r]);return t}encodePipeline(e){return e._stages.map((e=>this.encodeAny(e)))}encodePipelineStage(e){var t=`$${e.stage}`;switch(e.stage){case"match":return{[t]:jc.encode(e.val)};default:return{[t]:this.encodeAny(e.val)}}}encodeAggregateCommand(e){return{[Fc(e.operator)]:this.encodeAny(e.operands[0])}}}class jc{constructor(){}static encode(e){return Gc(e)}}var Gc=e=>oa(e)?Qc(e):da(e)?$c(e):Ga(e)||ma(e)||Ha(e)?Uc.encode(e):zt(e)?Hc(e):Lo(e),Hc=e=>{var t=Do(e),r=[],n={[Fi.OR]:0,[Fi.NOR]:0,[Fi.AND]:0,[Fi.NOT]:0},i=function(e){var i=t[e];if(oa(i))switch(i.operator){case Fi.OR:case Fi.NOR:case Fi.AND:n[i.operator]++,r.push({[Wc(i.operator)]:i.operands.map((t=>Gc({[e]:t})))});break;case Fi.NOT:var a=i.operands[0];if(oa(a))switch(a.operator){case Fi.AND:n[Fi.OR]++,r.push(Qc(new aa(Fi.OR,a.operands.map((t=>({[e]:new aa(Fi.NOT,[t])}))))));break;case Fi.OR:n[Fi.NOR]++,r.push(Qc(new aa(Fi.NOR,a.operands.map((t=>({[e]:t}))))));break;case Fi.NOR:n[Fi.OR]++,r.push(Qc(new aa(Fi.OR,a.operands.map((t=>({[e]:t}))))));break;case Fi.NOT:r.push(Gc({[e]:a.operands[0]}))}else r.push({[e]:Qc(i)})}else da(i)?r.push({[e]:$c(i)}):r.push({[e]:Lo(i)})};for(var a in t)i(a);return zc(r)},Qc=e=>{switch(e.operator){case Fi.AND:if(e.operands.every((e=>da(e)))){var t={};for(var r of e.operands)Object.assign(t,$c(r));return t}return{[Wc(e.operator)]:e.operands.map(Gc)};case Fi.OR:case Fi.NOR:return{[Wc(e.operator)]:e.operands.map(Gc)};case Fi.NOT:var n=Wc(e.operator),i=e.operands[0];return{[n]:Gc(i)};default:return{[Wc(e.operator)]:e.operands.map(Gc)}}},$c=e=>{var t=Wc(e.operator);switch(e.operator){case sa.EQ:case sa.NEQ:case sa.LT:case sa.LTE:case sa.GT:case sa.GTE:case sa.EXISTS:case sa.SIZE:return{[t]:Lo(e.operands[0])};case sa.IN:case sa.NIN:case sa.MOD:return{[t]:Lo(e.operands)};case sa.ALL:return{[t]:e.operands.map(Gc)};case sa.ELEM_MATCH:case sa.EXPR:return{[t]:Gc(e.operands[0])};case sa.GEO_NEAR:return{[t]:{$geometry:Lo(e.operands[0].geometry),$maxDistance:e.operands[0].maxDistance,$minDistance:e.operands[0].minDistance}};case sa.GEO_WITHIN:var r={};return e.operands[0].geometry&&(r.$geometry=Lo(e.operands[0].geometry)),e.operands[0].centerSphere&&(r.$centerSphere=Lo(e.operands[0].centerSphere)),{[t]:r};case sa.GEO_INTERSECTS:return{[t]:{$geometry:Lo(e.operands[0].geometry)}};default:return{[t]:e.operands.length>1?e.operands.map(Gc):Gc(e.operands[0])}}},zc=e=>{var t={$and:0,$or:0,$nor:0};for(var r of e)r.$and&&t.$and++,r.$or&&t.$or++,r.$nor&&t.$nor++;var n=t.$and>1||t.$or>1||t.$nor>1,i=!1,a={};for(var o of e)for(var s in o){var l=o[s];n?i?a.$and.push(o):"$and"===s||"$or"===s||"$nor"===s?(i=!0,a.$and=[o]):a[s]=l:a[s]=l}return a};class Yc{constructor(){}static encode(e){return qc(e)}}var Zc,qc=e=>Jc(e),Jc=e=>{var t=Do(e),r={};for(var n in t){var i=t[n];if(fa(i)){var a=Wc(i.operator);switch(r[a]||(r[a]={}),i.operator){case pa.SET:case pa.INC:case pa.MUL:case pa.MIN:case pa.MAX:case pa.RENAME:case pa.BIT:r[a][n]=Lo(i.operands[0]);break;case pa.REMOVE:r[a][n]="";break;case pa.PUSH:var o=void 0;o=1===i.operands.length&&zt(i.operands[0])?{$each:i.operands[0].each.map(Lo),$position:i.operands[0].position,$slice:i.operands[0].slice,$sort:i.operands[0].sort}:{$each:i.operands.map(Lo)},r[a][n]=o;break;case pa.UNSHIFT:var s={$each:i.operands.map(Lo),$position:0};r[a][n]=s;break;case pa.POP:r[a][n]=1;break;case pa.SHIFT:r[a][n]=-1;break;case pa.ADD_TO_SET:r[a][n]=zt(i.operands[0])&&i.operands[0].each?{$each:i.operands[0].each}:i.operands[0];break;case pa.PULL:r[a][n]=jc.encode(i.operands[0]);break;case pa.PULL_ALL:default:r[a][n]=Lo(i.operands[0])}}else r.$set||(r.$set={}),r.$set[n]=Lo(i)}return r};class Xc{constructor(){}static encode(e){return(new Xc).encodeProjection(e)}encodeProjection(e){return Aa(e)?this.encodeProjectionCommand(e):"object"===$t(e)?this.encodeProjectionObject(e):e}encodeProjectionCommand(e){var t=Wc(e.operator);switch(e.operator){case _a.SLICE:default:return{[t]:e.operands[0]}}}encodeProjectionObject(e){var t=Do(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:Aa(t[r])?t[r]=this.encodeProjectionCommand(t[r]):delete t[r];return t}}class Kc{constructor(){}static decode(e){return(new Kc).decodeData(e)}decodeData(e){switch($t(e)){case"object":return this.decodeObject(e);case"array":return e.map((e=>{if(zt(e)){var t=No(e);return t!==e?t:this.decodeObject(e)}return e}));default:return e}}decodeObject(e){var t=s()({},e);for(var r in t){var n=t[r];switch($t(n)){case"object":var i=No(n);t[r]=i!==n?i:this.decodeObject(t[r]);break;case"array":var a=this.decodeData(n);a!==n&&(t[r]=a);break;default:continue}}return t}}!function(e){e[e.DEFAULT=0]="DEFAULT"}(Zc||(Zc={}));var eu=function(e,t){return new(ru(e.identifiers||{}))({context:e,config:t})};function tu(e){return e.debug}var ru=t=>{var r,i;return class{constructor(a){this.identifiers=void 0,this.config=void 0,this.command=void 0,this.Geo=void 0,this.serverDate=void 0,this.RegExp=void 0,this.__safe_props__=void 0;var{config:o,context:s}=a;this.identifiers=t,this.config=o||{},i=Pc(r={database:this,serviceContext:s,engine:n}),o&&o.env&&Ir(o.env,"string"),this.command=$a,this.Geo=e,this.serverDate=za,this.RegExp=kc,o&&o.hasOwnProperty("debug")&&Object.defineProperties(this,{debug:{value:!0},QuerySerializer:{enumerable:!1,configurable:!1,get(){return tu((e=r).database)?e.engine.QuerySerializer:void 0;var e},set(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get(){return tu((e=r).database)?e.engine.UpdateSerializer:void 0;var e},set(){}},ProjectionSerializer:{enumerable:!1,configurable:!1,get(){return tu((e=r).database)?e.engine.ProjectionSerializer:void 0;var e},set(){}},AggregateSerializer:{enumerable:!1,configurable:!1,get(){return tu((e=r).database)?e.engine.AggregateSerializer:void 0;var e},set(){}},Decoder:{enumerable:!1,configurable:!1,get(){return tu((e=r).database)?e.engine.Decoder:void 0;var e},set(){}}})}collection(e){return new i(e)}toJSON(){}}};function nu(e){return{database:eu.bind(null,e)}}var iu="database";function au(e){e.registerService(function(e){var t={name:iu,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(iu)},appConfig:{get docSizeLimit(){return e.appConfig.db_doc_size_limit},get realtimePingInterval(){return e.appConfig.db_realtime_ping_interval},get realtimePongWaitTimeout(){return e.appConfig.db_realtime_pong_wait_timeout},get realtimeMaxReconnect(){return e.config.database.realtime.maxReconnect},get realtimeReconnectInterval(){return e.config.database.realtime.reconnectInterval},get realtimeTotalConnectionTimeout(){return e.config.database.realtime.totalConnectionTimeout},get realtimeQueryEventCacheTimeout(){return e.appConfig.db_realtime_query_event_cache_timeout}}};return{name:iu,context:t,getAPIs:nu.bind(null,t)}}(e))}function ou(e){class t{constructor(e){this.cloudID=void 0,this._internalType=gn,this.cloudID=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toJSON(){return this.cloudID}toString(){return this.cloudID}}return function(e){return new t(e)}}function su(e){class t{constructor(e){this.target=void 0,this._internalType=vn,this.target=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toString(){return JSON.stringify({target:this.target})}}return function(e){return new t(e)}}function lu(e){return{CloudID:ou(),CDN:su()}}var cu="utils";function uu(e){e.registerService(function(e){var t={name:cu,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug}};return{name:cu,context:t,getAPIs:lu.bind(null,t)}}(e))}var du=new class{constructor(){this._running=0,this._onIdleCallbacks=[],this._idleTriggerTimer=void 0}get running(){return this._running}incrementRunning(e=1){this._running+=e,this._idleTriggerTimer&&clearTimeout(this._idleTriggerTimer)}decrementRunning(e=1){this._running-=e,this._running<0&&(this._running=0),this._running<=0&&this._onIdleCallbacks.length&&(this._idleTriggerTimer=setTimeout((()=>{if(this._idleTriggerTimer=null,this._onIdleCallbacks.length){var e=this._onIdleCallbacks.shift();e&&e()}}),50))}onceIdle(e){this._running>0?this._onIdleCallbacks.push(e):e()}};function pu(e,t={}){if(t.fireOnIdle&&du.running>0)return new Promise(((r,n)=>{du.onceIdle(c()((function*(){try{var i=yield pu(e,t);r(i)}catch(e){n(e)}})))}));if(t.onFire)try{t.onFire()}catch(e){}return new Promise(((r,n)=>{var i,a,o,l,c;du.incrementRunning(),Or((e.cloud||t.cloud||{}).identifiers).invokeOperateWXData({appid:null===(i=e.cloud)||void 0===i||null===(a=i.instanceOptions)||void 0===a?void 0:a.resourceAppid,accessToken:null===(o=e.cloud)||void 0===o||null===(l=o.authStorage)||void 0===l?void 0:l.getItem("access_token"),webRequest:null===(c=e.cloud)||void 0===c?void 0:c.webRequest,apiName:e.apiName||"qbase_commapi",reqData:e.data,requestInQueue:!1,success:e=>{var i=s()(s()({},e),{},{data:e.data});if(e.data)try{var a=e.data;if(a.baseresponse&&0!==a.baseresponse.errcode){var o=new rr({errCode:a.baseresponse.errcode,errMsg:a.baseresponse.errmsg});return void n(o)}i=s()(s()({},e),{},{data:a})}catch(e){var l=new rr({errMsg:e&&e.toString()});return void n(l)}else if(t&&t.requireDataNotEmpty){var c=new rr({errCode:e.errCode,errMsg:`error empty internal server response, ${e.errMsg}`});return void n(c)}r(i)},fail:e=>{if(e&&e.errMsg)if(e.errMsg.includes("invalid scope")){var t="invalid scope 没有权限，请先开通云服务";(e=new Error(t)).errMsg=t,e.operateWXDataFail=!0}else{var r=e.errMsg.replace(/^operateWXData:fail /,"");(e=new Error(r)).errMsg=r,e.operateWXDataFail=!0}n(e)},complete:function(){e.complete&&e.complete.apply(null,arguments),du.decrementRunning()}})}))}var hu=pu,fu={REALTIME_DB_MAX_RECONNECT:5,REALTIME_DB_WS_RECONNECT_INTERVAL:5e3,REALTIME_DB_TOTAL_CONNECTION_TIMEOUT:1/0},gu={db_doc_size_limit:524288,db_realtime_ping_interval:15e3,db_realtime_pong_wait_timeout:15e3,db_realtime_query_event_cache_timeout:18e4,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880,call_function_client_poll_timeout:15e3,call_function_valid_start_retry_gap:6e4,call_container_poll_max_retry:10,call_container_client_poll_timeout:15e3,call_container_valid_start_retry_gap:6e4,call_container_max_req_data_size:5242880},vu={},mu={},_u={},yu=`${Math.random()}_${Date.now()}`,Au="servicewechat.com";class bu{constructor(){this._tunnelRequest=void 0,this._meta=void 0}setMetaData(e){this._meta=e}setTunnelRequest(e){this._tunnelRequest=e}getEndpointSync(e){var t=vu[e];if("container"===e){if(null!=t&&t.url&&null!=t&&t.expiresTs&&Date.now()<t.expiresTs)return t;this.getEndpoint(e)}}getEndpoint(e){var t=this;return c()((function*(){var r=vu[e];return"container"===e?null!=r&&r.url&&null!=r&&r.expiresTs&&Date.now()<r.expiresTs?r:t.refreshContainerServiceEndpoint():null}))()}refreshContainerServiceEndpoint(){var e=this;return c()((function*(){return mu.container||(_u.servicewechatGetIP||(_u.servicewechatGetIP=!0,Or().wx.onNetworkStatusChange((e=>{e.isConnected&&wu()}))),clearTimeout(_u.container),mu.container=new Promise(function(){var t=c()((function*(t,r){for(var n,i=[],a=0;a<3;a++)try{var o=Date.now(),s=xn(),l=(e._tunnelRequest?yield e._tunnelRequest({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({client_random:yu,system:s.system,wx_app_version:s.version})}):yield hu({apiName:"qbase_commapi",data:{qbase_api_name:"tcbapi_get_service_info",qbase_req:JSON.stringify({client_random:yu,system:s.system,wx_app_version:s.version}),qbase_options:{},qbase_meta:e._meta,cli_req_id:`${+new Date}_${Math.random()}`}})).data;if(Date.now()-o>1e3*l.expires_in){i.push(`result already expired (startTs ${o} resultTs ${Date.now()})`);continue}var c=Date.now()+1e3*l.expires_in-(Date.now()-o),u=l.domain||"servicewechat.com";return vu.container={url:`https://${u}/wxa-qbase/container_service?token=${l.token}`,domain:u,token:l.token,http:l.http,key:l.key,timestamp:l.timestamp,ip:l.ip,vip:l.vip,ips:l.ips?new Set(l.ips):void 0,expiresTs:c,encryptedClientRandom:l.encrypted_client_random,protocol:l.protocol},t(vu.container),delete mu.container,wu(),n=l.token,Yr=n,Au=!l.vip||l.ips||vu.container.localDNSTrusted?vu.container.domain||"servicewechat.com":l.vip,Cu(),clearTimeout(_u.container),void(_u.container=setTimeout((()=>{e.refreshContainerServiceEndpoint()}),.8*(c-Date.now())))}catch(e){i.push(e+"")}r(`get container service endpoints errors: ${i.join("\n")}`),delete mu.container}));return function(e,r){return t.apply(this,arguments)}}())),mu.container}))()}}function wu(){if(vu.container){var e=vu.container.domain||"servicewechat.com",t=vu.container.encryptedClientRandom;Or()._requestSkipCheckDomain({url:`https://${e}/wxa-qbase/verify_server?client_random=${yu}&token=${vu.container.token}`,method:"POST",dataType:"json",data:JSON.stringify({client_random:yu}),success:e=>{vu.container&&(200===e.statusCode&&e.data.encrypted_client_random===t?vu.container.localDNSTrusted=!0:vu.container.localDNSTrusted=!1)},fail:e=>{vu.container&&(console.warn(`check servicewechat connection fail ${e}`),vu.container.localDNSTrusted=!1)}})}}var Eu=!1;function Cu(){return Iu.apply(this,arguments)}function Iu(){return(Iu=c()((function*(){if(!Eu){var e=Or(),t=()=>new Promise((t=>{var r=Date.now(),n=!/^\d+/.test(Au);e._requestSkipCheckDomain({url:`${n?"https":"http"}://${Au}/wxa-qbase/keepalive`,header:n?{}:{host:"servicewechat.com"},method:"GET",dataType:"text",enableHttp2:n,success:()=>{t(),an(22990,1,["privateHttpKeepAlive",Au,r,Date.now(),Date.now()-r].join(","))},fail:()=>{t()}})})),r=()=>{setTimeout(c()((function*(){yield t(),r()})),2e4)};return Eu=!0,r(),t()}}))).apply(this,arguments)}var Su=(e={})=>{var{sdk:t}=e,r=e.identifiers||{};return t&&((e,t)=>{Dr.set(e,t)})(r,t),new xu(r,!1)},Tu=(e={})=>Su(e).exportAPI;class xu{constructor(e,t){var r=this;this.inited=!1,this.isInstance=void 0,this.services={},this.apiServiceMap={},this.meta=void 0,this.config=void 0,this.identifiers=void 0,this.debug=!1,this.request=void 0,this.exportAPI=void 0,this.appConfig=void 0,this.apiPermissions=void 0,this.runtimeInfo=void 0,this.serviceEndpoint=void 0,this.authStorage=void 0,this.testSpeed=c()((function*(){var e,t,n=+new Date,i=n;return pu((t=(e={cloud:r,apiName:"tcbapi_testspeed",serializedReqData:null}).cloud,{apiName:"qbase_commapi",data:{qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:{env:e.env},qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`},cloud:t}),{fireOnIdle:!0,onFire:()=>{n=+new Date,i=n}}).then((e=>{tn({apiName:"cloud.testspeed",apiEndTime:+new Date,apiStartTime:n,tunnelEndTime:+new Date,tunnelStartTime:i,tunnelTimeNoCSNetCost:e.data.baseresponse.stat.qbase_cost_time})})).catch((e=>{0}))})),this.identifiers=e,this.isInstance=t,this.runtimeInfo=Si(),this.serviceEndpoint=new bu,this.request=function(e){var{cloud:t}=e;return function(e){var r=t.isInstance?s()(s()({},t.instanceOptions),{},{appid:t.instanceOptions.resourceAppid,env:t.instanceOptions.resourceEnv}):s()(s()({},e),{},{env:e.env});return pu({apiName:"qbase_commapi",data:{qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:r,qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`},cloud:t})}}({cloud:this});var n,i=this;this.exportAPI={init:this.init.bind(this)},this.isInstance||(this.exportAPI.Cloud=function(t){return new Pu(e,i,t).exportAPI}),ai(n=this),Wi(n),au(n),uu(n),Ei(n),this.meta={session_id:Date.now()+""},this.serviceEndpoint.setMetaData(this.getMetaData()),this.serviceEndpoint.setTunnelRequest(this.request),this.config={database:ku()},this.appConfig=s()({},gu),this.apiPermissions={};try{Un.onReady((()=>{setTimeout((()=>{(()=>{if(!Jr)try{var e=Or();e.wx.getNetworkType({success:e=>{Kr=e.networkType},complete:()=>{Jr=!0,en()}}),e.wx.onNetworkStatusChange((e=>{Jr||(Jr=!0,en()),Kr=e.networkType}))}catch(e){}})()}),2e3)}))}catch(e){}}getMetaData(){var e;if(!this.meta.sdk_version){var t=Or(this.identifiers);if(t){var r=t.wx;r&&r.version&&("miniprogram"===this.runtimeInfo.env?this.meta.sdk_version=`wx-miniprogram-sdk/${r.version.version} (${Date.parse(`${r.version.updateTime} GMT+0800`)})`:this.meta.sdk_version=`wx-web-sdk/undefined (${Date.parse("undefined GMT+0800")})`)}}return this.meta.filter_user_info="singlePage"===(null===(e=Un.appLaunchInfo)||void 0===e?void 0:e.mode),this.meta}getConfig(){return this.config}getEnvForService(e){if(this.isInstance)return this.instanceOptions.resourceEnv;var t=this.config;if(t.env)switch($t(t.env)){case"string":return t.env;case"object":return t.env[e];default:return}}checkAPIPermission(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]}init(e={}){return this.inited=!0,this.initConfig(e),Promise.all([this.sendInitRequest().then((()=>{this.testSpeed()}))]).then((()=>{}))}initConfig(e){this.config=JSON.parse(JSON.stringify(e)),this.config.database?this.config.database=Qt(this.config.database,ku()):this.config.database=ku()}sendInitRequest(){var e="string"==typeof this.config.env?this.config.env:void 0,t=JSON.stringify({trace_user:!1!==this.config.traceUser,env:e,region:this.config.region}),r=+new Date,n=r;return this.request(s()(s()({},this.config),{},{apiName:"tcbapi_init",serializedReqData:t,env:e})).then((e=>{var t=+new Date,i=e.data;this.appConfig=s()(s()({},this.appConfig),i.config);for(var a=i.tcb_api_list||[],o=0,l=a.length;o<l;o++)this.apiPermissions[a[o].apiname]=a[o].status;tn({apiName:"cloud.init",apiEndTime:+new Date,apiStartTime:r,tunnelEndTime:t,tunnelStartTime:n,tunnelTimeNoCSNetCost:i.baseresponse.stat.qbase_cost_time})})).catch((e=>{console.error("cloud init error: ",e)}))}registerService(e){this.services[e.name]=e;var t=e.getAPIs();for(var r in t)if(this.apiServiceMap[r]=e.name,"function"==typeof t[r])this.registerFunction(r,!0,t[r]);else{var{initRequired:n,fn:i}=t[r];this.registerFunction(r,n,i)}}registerFunction(e,t,r){var n=this;this.exportAPI[e]=t?function(){if(!n.inited)throw new rr({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。"});if(!n.checkAPIPermission(e))throw new rr({errCode:tr.SDK_API_PERMISSION_DENIED,errMsg:tr[tr.SDK_API_PERMISSION_DENIED]});return r.apply(n,arguments)}:r}toJSON(){}}class Pu extends xu{constructor(e,t,r){if(super(e,!0),this.defaultInstance=void 0,this.instanceOptions=void 0,this.webRequest=void 0,this._webCurrentRefreshTokenPromise=void 0,"web"===this.runtimeInfo.env){if(!r.identityless&&!r.appid)throw new Error("appid must be provided");if(!r.resourceAppid)throw new Error("resourceAppid must be provided")}if(!r.resourceEnv)throw new Error("resourceEnv must be provided");if(r.config||(r.config={}),this.defaultInstance=t,this.instanceOptions=JSON.parse(JSON.stringify(r)),this.meta=t.meta,this.apiPermissions=t.apiPermissions,this.instanceOptions.config.database=Qt(ku(),this.instanceOptions.config.database||{}),"web"===this.runtimeInfo.env){if(this.exportAPI.init=this.webInit.bind(this),this.webRequest=(0,Ci.getBoundAuthRequest)(this),this.registerService((0,Ci.createWebService)(this)),!this.instanceOptions.identityless&&(this.authStorage=this.defaultInstance.authStorage,!this.authStorage))throw new Error("authStorage not found")}else this.exportAPI.init=this.miniprogramInit.bind(this);this.instanceOptions.resourceAppid&&(this.exportAPI.refreshAuth=this.refreshAuth.bind(this))}miniprogramInit(){var e=()=>super.init,t=this;return c()((function*(){if(!t.inited){if(t.instanceOptions.resourceAppid){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}e().call(t)}}))()}webInit(){var e=()=>super.init,t=this;return c()((function*(){if(!t.inited){if(!t.instanceOptions.identityless){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(t.sendInitRequest().then((()=>{t.testSpeed()})),e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}t.inited=!0}}))()}webRefreshToken(){var e=this;return c()((function*(){return e._webCurrentRefreshTokenPromise||(e._webCurrentRefreshTokenPromise=new Promise(function(){var t=c()((function*(t,r){try{var n=(yield e.webRequest({url:"/refresh_token",method:"POST",json:{appid:e.instanceOptions.appid,refresh_token:e.authStorage.getItem("refreshToken")}})).data;e.authStorage.setItem("appid",n.access_token),t()}catch(e){r(e)}finally{e._webCurrentRefreshTokenPromise=void 0}}));return function(e,r){return t.apply(this,arguments)}}())),e._webCurrentRefreshTokenPromise}))()}refreshAuth(){var e=JSON.stringify({resource_appid:this.instanceOptions.resourceAppid,resource_env:this.instanceOptions.resourceEnv}),t=+new Date,r=t,n=this.request({apiName:"tcbapi_getenvauth",serializedReqData:e});return n.then((e=>{var n=+new Date;tn({apiName:"cloud.refreshAuth",apiEndTime:+new Date,apiStartTime:t,tunnelEndTime:n,tunnelStartTime:r})})),n}}function ku(){return{realtime:{maxReconnect:fu.REALTIME_DB_MAX_RECONNECT,reconnectInterval:fu.REALTIME_DB_WS_RECONNECT_INTERVAL,totalConnectionTimeout:fu.REALTIME_DB_TOTAL_CONNECTION_TIMEOUT}}}var Du=Symbol("CDN");class Ru{constructor(e){this.symbol=Du,this.options=void 0,this.options=e}}function Ou(e,t){return new Promise(((r,n)=>{(t||Or()).uploadToCommonCDN(s()(s()({},e),{},{success:r,fail:n}))}))}function Mu(e,t){return new Promise(((r,n)=>{(t||Or()).invokeOperateWXData(s()(s()({},e),{},{success:r,fail:n}))}))}var Lu,Nu,Bu,Wu=function(){var e=c()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===Du?void r.push(new Promise(((r,n)=>{var a,o={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;switch(a=s.options,Object.prototype.toString.call(a).slice(8,-1)){case"Object":if(!s.options.filePath)throw new Error("filePath must be provided");o.filePath=s.options.filePath;break;default:o.fileData=s.options}r(Ou(o,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n,i,a,o=JSON.stringify(e.data,((e,r)=>r&&r.symbol===Du&&t.has(r)?t.get(r):r)),{data:s}=yield Mu({apiName:"webapi_servicemarket_jsapi_comm",reqData:{service_id:e.service,api_name:e.api,data:o,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:1}},e.sdk);try{var l=s;if(n=l.request_id,0===l.errcode)i=JSON.parse(l.data);else{var c=`invokeService:fail ${l.errcode} ${l.errmsg} (requestId: ${n})`;(a=new Error(c)).errCode=l.errcode,a.errMsg=c,a.requestId=n}}catch(p){var u=`invokeService:fail inner protocol parse failed (requestId: ${n||"empty"})`;(a=new Error(u)).errCode=-1,a.errMsg=u,a.requestId=n}if(a)throw a;return{errMsg:"invokeService:ok",data:i,requestId:n}}catch(e){var d="invokeService:fail ";if(e&&e.errMsg&&e.err_code){d+=e.errMsg;var p=new Error(d+`(err_code ${e.err_code})`);throw p.errCode=e.err_code,p}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}}));return function(t){return e.apply(this,arguments)}}();!function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e[e.PreResp=3]="PreResp",e[e.FinalResp=4]="FinalResp"}(Lu||(Lu={})),function(e){e[e.None=0]="None",e[e.SysErr=1]="SysErr",e[e.Timeout=2]="Timeout"}(Nu||(Nu={})),function(e){e[e.Sync=0]="Sync",e[e.LongAsync=2]="LongAsync"}(Bu||(Bu={}));var Fu,Uu={SM_EXCEED_MAX_TIMEOUT_POLL_RETRY:100,SM_EMPTY_CALL_RESULT:101,SM_EXCEED_MAX_POLL_RETRY:102,SM_PROVIDER_EXECUTION_ERROR:103,SM_POLL_RESULT_EXPIRED:104,SM_EMPTY_POLL_RESULT_BASE_RESP:105,SM_POLL_RESULT_BASE_RESP_RET_ABNORMAL:106,SM_UNKNOWN_SCENE:107,SM_SYSTEM_ERROR:108},Vu="exceed max timeout retry",ju="empty call result",Gu="exceed max poll retry",Hu="invokeService",Qu=2e4;!function(e){e[e.InvalidRequestId=14]="InvalidRequestId"}(Fu||(Fu={}));var $u=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},zu=e=>e.join("->"),Yu=function(){var e=c()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===Du?void r.push(new Promise(((r,n)=>{var a,o={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;switch(a=s.options,Object.prototype.toString.call(a).slice(8,-1)){case"Object":if(!s.options.filePath)throw new Error("filePath must be provided");o.filePath=s.options.filePath;break;default:o.fileData=s.options}r(Ou(o,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n=JSON.stringify(e.data,((e,r)=>r&&r.symbol===Du&&t.has(r)?t.get(r):r)),i=`${Math.random()}_${Date.now()}`;if(e.async){var a={service_id:e.service,api_name:e.api,data:n,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:Lu.CALL,retry_reason:Nu.None,req_type:Bu.LongAsync},o=(yield Mu({apiName:"webapi_servicemarket_jsapi_comm",reqData:a},e.sdk)).data;if(o.scene===Lu.FinalResp&&0===o.errcode)return{errMsg:"invokeService:ok",requestId:o.request_id};var l=ir({errCode:Uu.SM_SYSTEM_ERROR,errMsg:`requestID ${o.request_id}, error message ${o.errmsg||"unknown"} (callid ${i})`},Hu);throw l.requestID=o.request_id,l}var{result:u,requestID:d}=yield function(e,t,r){return f.apply(this,arguments)}(e,n,i);return{errMsg:"invokeService:ok",data:u,requestId:d}}catch(e){var p="invokeService:fail ";if(e&&e.errMsg&&e.err_code){p+=e.errMsg;var h=new Error(p+`(err_code ${e.err_code})`);throw h.errCode=e.err_code,h}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}function f(){return(f=c()((function*(e,t,r){return new Promise(((n,i)=>{var a=[$u("start")],{resolve:o,reject:s}=m(a,n,i);g({param:e,data:t,callID:r,scene:Lu.CALL,retryReason:Nu.None,tryCount:50,systemErrorRetry:2,timeoutErrorRetry:2,trace:a,resolve:o,reject:s})}))}))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=c()((function*(t){var{param:r,data:n,callID:i,scene:a,retryReason:o,tryCount:l,trace:u,systemErrorRetry:d,timeoutErrorRetry:p,resolve:h,reject:f}=t,v={service_id:r.service,api_name:r.api,data:a===Lu.CALL?n:void 0,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:a,retry_reason:o},m=!1,_=!1,y=()=>{clearTimeout(b),_=!0},A=+new Date,b=setTimeout(c()((function*(){if(!(+new Date-A>2e4&&(yield yn(),_))){if(!Vn()&&+new Date-A>60)return u.push($u("timeout, exceed max retry gap")),f(ir({errCode:Uu.SM_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${i}) (trace: ${zu(u)})`},Hu));m=!0,t.timeoutErrorRetry>0?(u.push($u("timeout, retry")),g(s()(s()({},t),{},{scene:a,retryReason:Nu.Timeout,tryCount:l-1,timeoutErrorRetry:p-1}))):(u.push($u("timeout, abort")),f(ir({errCode:Uu.SM_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`${Vu} (callId: ${i}) (trace: ${zu(u)})`},Hu)))}})),Qu);try{var w=yield Mu({apiName:"webapi_servicemarket_jsapi_comm",reqData:v},e.sdk);try{if(m)return;y();var E=w.data;if(!E&&w.rawData)try{E=JSON.parse(w.rawData)}catch(e){}if(!E)return u.push($u("empty resp")),f(ir({errCode:Uu.SM_EMPTY_CALL_RESULT,errMsg:ju},Hu));if(E.scene!==Lu.PreResp){if(E.scene===Lu.FinalResp){if(0!==E.errcode){var C=ir({errCode:Uu.SM_PROVIDER_EXECUTION_ERROR,errMsg:`requestID ${E.request_id}, error message ${E.provider_errmsg||"unknown"} (callid ${i})`},Hu);return C.requestID=E.request_id,f(C)}var I=E.data;try{I=JSON.parse(I)}catch(e){}return h({result:I,requestID:E.request_id})}return u.push($u("unexpected scene")),f(ir({errCode:Uu.SM_UNKNOWN_SCENE,errMsg:`unknown scene ${E.scene} (callId: ${i}) (trace: ${zu(u)})`},Hu))}if(!(l>=0))return u.push($u("too many polls, abort")),f(ir({errCode:Uu.SM_EXCEED_MAX_POLL_RETRY,errMsg:`${Gu} (callId: ${i}) (trace: ${zu(u)})`},Hu));u.push($u("normal poll")),g(s()(s()({},t),{},{scene:Lu.POLL,retryReason:Nu.None,tryCount:l-1}))}catch(e){f(ir({errCode:Uu.SM_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${i})`},Hu))}}catch(e){if(m)return;y();var S=e instanceof Error?e:JSON.stringify(e);e&&e.operateWXDataFail&&d>0?(u.push($u(`system error (${S}), retry`)),g(s()(s()({},t),{},{scene:a,retryReason:Nu.SysErr,tryCount:l-1,systemErrorRetry:d-1}))):(u.push($u(`system error (${S}), abort`)),f(ir(`${S} (callId: ${i}) (trace: ${zu(u)})`,Hu)))}}))).apply(this,arguments)}function m(e,t,r){var n=t=>{e.push($u(`app ${t}`))};Sn(n);return{resolve:e=>{Tn(n),t(e)},reject:e=>{Tn(n),r(e)}}}}));return function(t){return e.apply(this,arguments)}}();function Zu(e){return qu.apply(this,arguments)}function qu(){return(qu=c()((function*(e){var t=(yield Mu({apiName:"webapi_servicemarket_jsapi_retrieve",reqData:{request_id:e.requestId}},e.sdk)).data;if(0===t.errcode)return t.provider_errmsg?{errCode:0,errMsg:"getAsyncResult:fail provider execution error",status:t.status,providerErrMsg:t.provider_errmsg,requestId:t.request_id}:{errCode:0,errMsg:"getAsyncResult:ok",data:JSON.parse(t.data),status:t.status,requestId:t.request_id};var r=new Error(`getAsyncResult:fail requestID ${t.request_id}, error message ${t.errmsg||"unknown"}`);throw r.errCode=t.errcode,r.errMsg=t.errmsg,r}))).apply(this,arguments)}var Ju="invokeService",Xu="getAsyncResult",Ku=e=>{(Vn()&&!e.async?Wu(e):Yu(e)).then((t=>{wr(Ju,e,t)})).catch((t=>{Er(Ju,e,t)}))},ed=e=>{Zu(e).then((t=>{wr(Xu,e,t)})).catch((t=>{Er(Xu,e,t)}))};function td(e={}){var{sdk:t}=e;return{invokeService:e=>(e=>Cr(e)?Ku(e):Vn()&&!e.async?Wu(e):Yu(e))(s()(s()({},e),{},{sdk:t})),getAsyncResult:e=>(e=>Cr(e)?ed(e):Zu(e))(s()(s()({},e),{},{sdk:t})),CDN:Ru}}})(),e=o})(),(()=>{var o={926:(e,t,r)=>{var n=r(947).Z,i="undefined"!=typeof __Function__?__Function__:globalThis.Function;e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var i=r("./node_modules/protocol-buffers/index.js"),a=r("./node_modules/protocol-buffers-encodings/index.js"),o=r("./node_modules/varint/index.js"),s=function(e,t){var r=new Uint8Array(8),n=t,i=0,a=0,o=0;do{a|=(127&e[n])<<o,(o+=7)>=8&&(r[i]=255&a,a>>=8,o-=8,i++)}while(e[n++]>=128);return r[i]=255&a,s.bytes=n-t,r};function l(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var c,u,d=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};a.uint64=(c=function(e,t){var r=l(e,t);if(r>=7&&n.decodeUint64Array){e=s(e,t);var i=n.decodeUint64Array(e);c.bytes=r}else i=o.decode(e,t),c.bytes=o.decode.bytes;return i},u=o.encode,d(0,u,c,(function(e){return e<0?10:o.encodingLength(e)}))),a.int64=function(){var e=function(r,i){if(((u=o.decode(r,i))>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&n.decodeUint64Array){var a=l(r,i),c=10==a;c&&(r[9+i]=127&r[9+i]),r=s(r,i);var u=n.decodeUint64Array(r);return e.bytes=a,c?"-"+u:u}if(u>=Math.pow(2,63)){for(var d=9;255===r[i+d-1];)d--;var p=new t(d=d||9);r.copy(p,0,i,i+d),p[d-1]=127&p[d-1],u=-1*o.decode(p,0),e.bytes=10}else e.bytes=o.decode.bytes;return u},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var i=n+9;for(o.encode(-1*e,t,n),t[n+=o.encode.bytes-1]=128|t[n];n<i-1;)t[++n]=255;t[i]=1,r.bytes=10}else o.encode(e,t,n),r.bytes=o.encode.bytes;return t};return d(0,r,e,(function(e){return e<0?10:o.encodingLength(e)}))}(),e.exports=function(e){var r=i(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var i=n.apply(this,arguments);return e.bytes=n.bytes,i}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),o=n[0],s=n[1],l=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(u(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),i=r("./node_modules/ieee754/index.js"),a=r("./node_modules/isarray/index.js");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function A(e,t,r,n){return G(V(t,e.length-r),e,r,n)}function b(e,t,r,n){return G(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function E(e,t,r,n){return G(j(t),e,r,n)}function C(e,t,r,n){return G(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=U(e[a]);return i}function D(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return a||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function W(e,t,r,n,a){return a||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return W(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return W(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:V(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,r){for(var n=r("./node_modules/util/util.js"),a=r("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,l=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],c={},u=0;u<l.length;u++)c[l[u]]=!0;var d=function(e){return a(e)&&!c.hasOwnProperty(e)},p={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},h=function(){var e=[],t=0,r={},l=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},c=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,l(e),void t++):o.test(e[e.length-1])?(l(e),void t++):s.test(e.trim()[0])?(t--,void l(e)):void l(e)},u=function(e){if(!e)return u;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)c(t[r].trim());else c(n.format.apply(n,arguments));return u};return u.scope={},u.formats=p,u.sym=function(e){return e&&d(e)||(e="tmp"),r[e]||(r[e]=0),e+(r[e]++||"")},u.property=function(e,t){return 1===arguments.length&&(t=e,e=""),a(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},u.toString=function(){return e.join("\n")},u.toFunction=function(t){t||(t={});var r="return ("+e.join("\n")+")";Object.keys(u.scope).forEach((function(e){t[e]||(t[e]=u.scope[e])}));var n=Object.keys(t).map((function(e){return e})),a=n.map((function(e){return t[e]}));return i.apply(null,n.concat(r)).apply(null,a)},arguments.length&&u.apply(null,arguments),u};h.formats=p,e.exports=h},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),i=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=n,i.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),i=r("./node_modules/signed-varint/index.js");function a(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=a,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=a(2,(function t(r,i,a){var s=a,l=o(r);return n.encode(l,i,a),a+=n.encode.bytes,e.isBuffer(r)?r.copy(i,a):i.write(r,a,l),t.bytes=(a+=l)-s,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+a);return r+=o.length,e.bytes=r-i,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=a(2,(function t(r,i,a){var o=a,s=e.byteLength(r);return n.encode(s,i,a,"utf-8"),a+=n.encode.bytes,i.write(r,a,s),t.bytes=(a+=s)-o,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+a);return e.bytes=(r+=a)-i,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=a(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=a(0,(function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r}),(function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,r,i){if(t<0){var a=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<a-1;)r[++i]=255;r[a]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r}),(function t(r,i){var a=n.decode(r,i);if(a>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,i,i+o),s[o-1]=127&s[o-1],a=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return a}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=a(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=a(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=a(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=a(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=a(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),i=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=i},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],a=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=a(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(f(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(l(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},l=function(e){return{name:e[1],message:u(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=a(e)),e.shift(),{name:t,val:r}},f=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var a=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(a=t(e.shift()))&&(a=v(e)),r[i]=a,";"===e[0]&&e.shift();break;case"{":if(e.shift(),a=v(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(a);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},_=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(y(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},y=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var a;if(/^("|')([^'"]*)$/.test(t[r]))for(a=1===t[r].length?r+1:r;a<t.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[a])){t=t.slice(0,r).concat(t.slice(r,a+1).join("")).concat(t.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(f(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(l(t));break;case"service":o.services||(o.services=[]),o.services.push(_(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,a,s;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],a=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===a})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var a={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(a[e.oneof]||(a[e.oneof]=[]),a[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(a).forEach((function(e){a[e].unshift("oneof "+e+" {"),a[e].push("}"),t.push(a[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},l=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(l(e,[]))})),t.push("}","")}(e,t)})),t.map(c("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),i={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function a(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,l){var c=Object.keys(r).filter((function(e){return!i[e]&&a(r[e])}));Object.keys(r).filter((function(e){if(i[e])return false;return!a(r[e])})).forEach((function(e){t+=l+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var i="{"+n.EOL;return r.forEach((function(a,o){i+=t+"  "+a+": "+e[a]+(o<r.length-1?",":"")+n.EOL})),i+t+"}"+n.EOL}(r[e],l)+n.EOL})),c.forEach((function(e){t+=l+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=l+"  buffer: true,"+n.EOL,t+=l+"  encodingLength: null,"+n.EOL,t+=l+"  encode: null,"+n.EOL,t+=l+"  decode: null"+n.EOL,t+=l+"}"+n.EOL,t+=n.EOL})),c.forEach((function(e){t+=l+"define"+e+"()"+n.EOL})),c.length&&(t+=n.EOL);c.forEach((function(i){t+=l+"function define"+i+" () {"+n.EOL,e(r[i],i,l+"  "),t+=l+"  "+i+".encodingLength = encodingLength"+n.EOL,t+=l+"  "+i+".encode = encode"+n.EOL,t+=l+"  "+i+".decode = decode"+n.EOL+n.EOL,t+=l+"  "+o(r[i].encodingLength,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].encode,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].decode,l+"  ")+n.EOL,t+=l+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),a=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},l=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,c){var u={},d={},p={},h=function(e,t){return c?(r=t[e],(i=n.name(r))?"encodings."+i:r.name?r.name:"encodings.enum"):"enc["+e+"]";var r,i},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,i={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[i.id]||(u[i.id]=i,e.messages.push(i)),r.type=n,r.repeated=!0}})),f(r,r.id)}))};f(e,"");var g=function(r,c){r.messages.forEach((function(e){c[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){c[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),c.type=2,c.message=!0,c.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),f=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],a("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var a=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=i.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),a?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",h(f[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",h(f[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:i,enc:p});var _=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");_("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?_("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):_("if (defined(%s)) {",r);var a,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=i.encode(t.tag<<3|2),l=i.encode(t.tag<<3|e.type);if(t.map&&(_()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(_()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",h(f[n],p),r+"[i]")("}"),_("if (packedLen) {"),a=0;a<l.length;a++)_("buf[offset++] = %d",s[a]);_("varint.encode(packedLen, buf, offset)"),_("offset += varint.encode.bytes"),_("}")}if(t.repeated&&(_("for (var i = 0; i < %s.length; i++) {",r),_("if (!defined(%s)) continue",r+="[i]")),!o)for(a=0;a<l.length;a++)_("buf[offset++] = %d",l[a]);e.message&&(_("varint.encode(%s.encodingLength(%s), buf, offset)",h(f[n],p),r),_("offset += varint.encode.bytes")),_("%s.encode(%s, buf, offset)",h(f[n],p),r),_("offset += %s.encode.bytes",h(f[n],p)),t.repeated&&_("}"),t.required||_("}")})),_()("encode.bytes = offset - oldOffset")("return buf")("}"),_=_.toFunction({encodingLength:m,defined:s,varint:i,enc:p,Buffer:t});var y,A=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),b=o(),w=[];return g((function(e,t){var n=t.options&&t.options.default,i=v(t.type,r.id,!1),o=i&&i.values;o?t.repeated?w.push(a.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,w.push(a.property(t.name)+": "+parseInt(n||0,10))):w.push(a.property(t.name)+": "+l(t,n))})),w=w.filter((y={},function(e){return!y.hasOwnProperty(e)&&(y[e]=!0,!0)})),b()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),w.forEach((function(e,t){b(e+(t===w.length-1?"":","))})),b("}"),g((function(e,t,r,n){t.required&&b("var found%d = false",n)})),b("while (true) {")("if (end <= offset) {")(A&&'if (%s) throw new Error("Decoded message is not valid")',A)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,i,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));b("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&b("delete %s",a("obj",e.name))})),s&&b()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(b("var len = varint.decode(buf, offset)"),b("offset += varint.decode.bytes"),n.map?(b("var tmp = %s.decode(buf, offset, offset + len)",h(f[o],p)),b("%s[tmp.key] = tmp.value",i)):n.repeated?b("%s.push(%s.decode(buf, offset, offset + len))",i,h(f[o],p)):b("%s = %s.decode(buf, offset, offset + len)",i,h(f[o],p))):n.repeated?b("%s.push(%s.decode(buf, offset))",i,h(f[o],p)):b("%s = %s.decode(buf, offset)",i,h(f[o],p)),b("offset += %s.decode.bytes",h(f[o],p)),s&&b("}"),n.required&&b("found%d = true",o),b("break")})),b()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),b=b.toFunction({varint:i,skip:n.skip,enc:p}),_.bytes=b.bytes=0,c.buffer=!0,c.encode=_,c.decode=b,c.encodingLength=m,c.dependencies=p,c},v=function(e,t,a){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:i}),a=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:i});return n.make(0,r,a,i.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),i=r("./node_modules/protocol-buffers/compile.js"),a=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var a="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;i(a,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(a)},o.prototype.toJSON=function(){return a},new o},e.exports.toJS=function(t){return a(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var a=n.encode(t,r,i);return e.bytes=n.encode.bytes,a},t.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<a;l=n[++r])g(l)||!A(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var a=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),w(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(E(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return d(r)}var c,A="",C=!1,I=["{","}"];(h(r)&&(C=!0,I=["[","]"]),E(r))&&(A=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(A=" "+RegExp.prototype.toString.call(r)),b(r)&&(A=" "+Date.prototype.toUTCString.call(r)),w(r)&&(A=" "+d(r)),0!==o.length||C&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=C?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)x(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,C)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,A,I)):I[0]+A+I[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function _(e){return void 0===e}function y(e){return A(e)&&"[object RegExp]"===C(e)}function A(e){return"object"==typeof e&&null!==e}function b(e){return A(e)&&"[object Date]"===C(e)}function w(e){return A(e)&&("[object Error]"===C(e)||e instanceof Error)}function E(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(_(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=y,t.isObject=A,t.isDate=b,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!A(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(k,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,r){var n,i=0,a=0,o=r=r||0,s=t.length;do{if(o>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=a<28?(127&n)<<a:(127&n)*Math.pow(2,a),a+=7}while(n>=128);return e.bytes=o-r,i}},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,n,i){n=n||[];var a=i=i||0;for(;t>=r;)n[i++]=255&t|128,t/=128;for(;-128&t;)n[i++]=255&t|128,t>>>=7;return n[i]=0|t,e.bytes=i-a+1,n};var r=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),l=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<l?7:e<c?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=globalThis;try{r=r||new i("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}})},947:(e,t)=>{"use strict";var r="undefined"!=typeof NativeGlobal?NativeGlobal:{};t.Z=r},185:()=>{},942:()=>{},130:(e,t,r)=>{function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(161)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},161:(e,t,r)=>{var n;function i(e){function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i);e.diff=a,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;l++;var i=t.formatters[n];if("function"==typeof i){var a=o[l];r=i.call(e,a),o.splice(l,1),l--}return r})),t.formatArgs.call(e,o);var c=r.log||t.log||console.log.bind(console);c.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(378),t.names=[],t.skips=[],t.formatters={}},654:e=>{function t(e,t){const r=[],n=~~(t/8),i=t%8;for(let t=0,a=e.length;t<a;t++)r[t]=(e[(t+n)%a]<<i&255)+(e[(t+n+1)%a]>>>8-i&255);return r}function r(e,t){const r=[];for(let n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){const r=[];for(let n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function i(e,t){const r=[];for(let n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function a(e,t){const r=[];let n=0;for(let i=e.length-1;i>=0;i--){const a=e[i]+t[i]+n;a>255?(n=1,r[i]=255&a):(n=0,r[i]=255&a)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(i(n(e,t),n(e,a)),n(t,a))}function l(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(n(e,t),n(function(e){const t=[];for(let r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),a))}function c(e,n){const i=[],c=[];for(let e=0;e<16;e++){const t=4*e;i.push(n.slice(t,t+4))}for(let e=16;e<68;e++)i.push(r(r((u=r(r(i[e-16],i[e-9]),t(i[e-3],15)),r(r(u,t(u,15)),t(u,23))),t(i[e-13],7)),i[e-6]));var u;for(let e=0;e<64;e++)c.push(r(i[e],i[e+4]));const d=[121,204,69,25],p=[122,135,157,138];let h,f,g,v,m=e.slice(0,4),_=e.slice(4,8),y=e.slice(8,12),A=e.slice(12,16),b=e.slice(16,20),w=e.slice(20,24),E=e.slice(24,28),C=e.slice(28,32);for(let e=0;e<64;e++){const n=e>=0&&e<=15?d:p;h=t(a(a(t(m,12),b),t(n,e)),7),f=r(h,t(m,12)),g=a(a(a(s(m,_,y,e),A),f),c[e]),v=a(a(a(l(b,w,E,e),C),h),i[e]),A=y,y=t(_,9),_=m,m=g,C=E,E=t(w,19),w=b,b=o(v)}return r([].concat(m,_,y,A,b,w,E,C),e)}e.exports=function(e){let t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;const n=new Array((r-7)/8);for(let e=0,t=n.length;e<t;e++)n[e]=0;const i=[];t=t.toString(2);for(let e=7;e>=0;e--)if(t.length>8){const r=t.length-8;i[e]=parseInt(t.substr(r),2),t=t.substr(0,r)}else t.length>0?(i[e]=parseInt(t,2),t=""):i[e]=0;const a=[].concat(e,[128],n,i),o=a.length/64;let s=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78];for(let e=0;e<o;e++){const t=64*e;s=c(s,a.slice(t,t+64))}return s}},31:(e,t,r)=>{const n=r(654);e.exports=function(e){return e="string"==typeof e?function(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e.codePointAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>>6),t.push(128|63&n);else if(n<=55295||n>=57344&&n<=65535)t.push(224|n>>>12),t.push(128|n>>>6&63),t.push(128|63&n);else{if(!(n>=65536&&n<=1114111))throw t.push(n),new Error("input is not supported");r++,t.push(240|n>>>18&28),t.push(128|n>>>12&63),t.push(128|n>>>6&63),t.push(128|63&n)}}return t}(e):Array.prototype.slice.call(e),n(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},378:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,a=365.25*i;function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,s){s=s||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?o(l=e,i,"day")||o(l,n,"hour")||o(l,r,"minute")||o(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,h,f=e[c].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},642:(e,t,r)=>{"use strict";t.decode=t.parse=r(808),t.encode=t.stringify=r(368)},639:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function g(e){throw RangeError(p[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function y(e){return v(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=l)e=h(e/35);return h(n+36*e/(e+38))}function w(e){var t,r,n,i,a,o,c,u,d,p,f,v=[],m=e.length,_=0,A=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(a=_,o=1,c=l;i>=m&&g("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||u>h((s-_)/o))&&g("overflow"),_+=u*o,!(u<(d=c<=w?1:c>=w+26?26:c-w));c+=l)o>h(s/(p=l-d))&&g("overflow"),o*=p;w=b(_-a,t=v.length+1,0==a),h(_/t)>s-A&&g("overflow"),A+=h(_/t),_%=t,v.splice(_++,0,A)}return y(v)}function E(e){var t,r,n,i,a,o,c,u,d,p,v,m,y,w,E,C=[];for(m=(e=_(e)).length,t=128,r=0,a=72,o=0;o<m;++o)(v=e[o])<128&&C.push(f(v));for(n=i=C.length,i&&C.push("-");n<m;){for(c=s,o=0;o<m;++o)(v=e[o])>=t&&v<c&&(c=v);for(c-t>h((s-r)/(y=n+1))&&g("overflow"),r+=(c-t)*y,t=c,o=0;o<m;++o)if((v=e[o])<t&&++r>s&&g("overflow"),v==t){for(u=r,d=l;!(u<(p=d<=a?1:d>=a+26?26:d-a));d+=l)E=u-p,w=l-p,C.push(f(A(p+E%w,0))),u=h(E/w);C.push(f(A(u,0))),a=b(r,y,n==i),r=0,++n}++r,++t}return C.join("")}o={version:"1.3.2",ucs2:{decode:_,encode:y},decode:w,encode:E,toASCII:function(e){return m(e,(function(e){return u.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},883:(e,t,r)=>{"use strict";var n=r(639),i=r(225);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=y;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(642);function y(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!r&&1===e.split("#").length){var A=l.exec(y);if(A)return this.path=y,this.href=y,this.pathname=A[1],A[2]?(this.search=A[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=o.exec(y);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,y=y.substr(b.length)}if(r||b||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===y.substr(0,2);!E||b&&v[b]||(y=y.substr(2),this.slashes=!0)}if(!v[b]&&(E||b&&!m[b])){for(var C,I,S=-1,T=0;T<p.length;T++){-1!==(x=y.indexOf(p[T]))&&(-1===S||x<S)&&(S=x)}-1!==(I=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(C=y.slice(0,I),y=y.slice(I+1),this.auth=decodeURIComponent(C)),S=-1;for(T=0;T<d.length;T++){var x;-1!==(x=y.indexOf(d[T]))&&(-1===S||x<S)&&(S=x)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var k=this.hostname.split(/\./),D=(T=0,k.length);T<D;T++){var R=k[T];if(R&&!R.match(h)){for(var O="",M=0,L=R.length;M<L;M++)R.charCodeAt(M)>127?O+="x":O+=R[M];if(!O.match(h)){var N=k.slice(0,T),B=k.slice(T+1),W=R.match(f);W&&(N.push(W[1]),B.unshift(W[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[w])for(T=0,D=u.length;T<D;T++){var V=u[T];if(-1!==y.indexOf(V)){var j=encodeURIComponent(V);j===V&&(j=escape(V)),y=y.split(V).join(j)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,H)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Q=this.search||"";this.path=F+Q}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",_=r.search||"";r.path=g+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),A=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=A||y||r.host&&e.pathname,w=b,E=r.pathname&&r.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(C&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===E[0])),A)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)r.hostname=r.host=E.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=E.slice(-1)[0],S=(r.host||e.host||E.length>1)&&("."===I||".."===I)||""===I,T=0,x=E.length;x>=0;x--)"."===(I=E[x])?E.splice(x,1):".."===I?(E.splice(x,1),T++):T&&(E.splice(x,1),T--);if(!b&&!w)for(;T--;T)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var P,k=""===E[0]||E[0]&&"/"===E[0].charAt(0);C&&(r.hostname=r.host=k?"":E.length?E.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(b=b||r.host&&E.length)&&!k&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},225:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},725:(e,t,r)=>{var n=r(130)("xml-parser");e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(a(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!s("?>");){var t=i();if(!t)return e;e.attributes[t.name]=t.value}return a(/\?>\s*/),e}}function r(){n("tag %j",e);var t=a(/^<([\w-:.]+)\s*/);if(t){for(var l,c={name:t[1],attributes:{},children:[]};!(o()||s(">")||s("?>")||s("/>"));){var u=i();if(!u)return c;c.attributes[u.name]=u.value}if(a(/^\s*\/>\s*/))return c;for(a(/\??>\s*/),c.content=function(){n("content %j",e);var t=a(/^([^<]*)/);return t?t[1]:""}();l=r();)c.children.push(l);return a(/^<\/[\w-:.]+>\s*/),c}}function i(){n("attribute %j",e);var t,r=a(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(r)return{name:r[1],value:(t=r[2],t.replace(/^['"]|['"]$/g,""))}}function a(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function o(){return 0==e.length}function s(t){return 0==e.indexOf(t)}}}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var c={};(()=>{"use strict";l.d(c,{default:()=>a8});var t={};l.r(t),l.d(t,{OffscreenCanvas:()=>Xp,SKIA_CANVAS_ENABLED:()=>_l,SkiaCanvas:()=>fl,canvas:()=>wl,canvasGetImageData:()=>Ol,canvasGetImageData4Plugin:()=>Ml,canvasInfo:()=>Al,canvasPutImageData:()=>Nl,canvasPutImageData4Plugin:()=>Bl,canvasToDataURL:()=>Zl,canvasToTempFilePath:()=>zl,canvasToTempFilePath4Plugin:()=>Yl,createCanvasContext:()=>Xl,createCanvasContext4Plugin:()=>Kl,createCanvasNode:()=>Uh,createContext:()=>ql,createOffscreenCanvas:()=>Kp,drawCanvas:()=>Ul,drawCanvas4Plugin:()=>Vl,drawCanvasImpl:()=>Fl,getOrCreateCanvas:()=>pl,onCanvasMethodCallbackOnce:()=>xl,skiaCanvasInsert:()=>ul,skiaCanvasRemove:()=>dl});var o={};l.r(o),l.d(o,{createAudioContext:()=>Jv,createCameraContext:()=>sf,createInnerAudioContext:()=>$v,createLivePlayerContext:()=>Tf,createLivePusherContext:()=>Qf,createMapContext:()=>On,createSQEditorContext:()=>am,createSQLivePlayerContext:()=>xf,createSQMapContext:()=>Mn,createSQVideoContext:()=>Ep,createVideoContext:()=>wp});var s={};l.r(s),l.d(s,{_triggerBeforeShareAppMessage:()=>l_,_triggerBeforeUnloadPage:()=>s_,createRouter:()=>Dm,navigateBack:()=>km,navigateTo:()=>Tm,navigateToWithRelatedInfo:()=>xm,normalizeUrl:()=>Em,onPageReload:()=>o_,reLaunch:()=>Sm,redirectTo:()=>Im,switchTab:()=>Pm});var u={};l.r(u),l.d(u,{ShareInfoStorage:()=>W0,_getRealRoute:()=>pn,_triggerBeforeShareAppMessage:()=>U0,_triggerBeforeUnloadPage:()=>F0,addToFavorites:()=>g0,checkAPIAvailable:()=>Vr,checkHandoffEnabled:()=>C0,createPluginConsole:()=>TK,createPluginWX:()=>SK,createPluginWXWebAssembly:()=>xK,emitIsloatedAppHide:()=>So,emitIsloatedAppShow:()=>hi,fontFaceRecords:()=>Ld,getAppConfig:()=>c0,getCachePermissionBytes:()=>BK,getCloudFileUrl:()=>gn,getInnerEnterOptionsSync:()=>Ir,getLaunchOptionsSync:()=>li,getLogManager:()=>fU,getNetworkType:()=>qi,getPreloadAdUnitIds:()=>Vk,getPreloadVideoAdUnitIds:()=>Dk,getPublicLibVersion:()=>GF,getShareCookieString:()=>Ii,getSystemInfoSync:()=>aa,invokeInnerShareCallbacks:()=>$w,invokeWebviewMethod:()=>ii,isIsolatedSubpackage:()=>MK,onAddToFavorites:()=>h0,onAppConfig:()=>u0,onAppEnterBackground:()=>Pi,onAppEnterForeground:()=>Un,onAppHide:()=>Io,onAppRoute:()=>Kn,onAppRouteDone:()=>Mo,onAppShow:()=>pi,onAppUnhang:()=>Ao,onCallMethodFromWxs:()=>Z0,onError:()=>Po,onNavigationBarTitleUpdate:()=>L0,onPageNotFound:()=>qo,onPageReload:()=>V0,onPullDownRefresh:()=>d0,onRealtimeDataResponse:()=>IU,onShareAppMessage:()=>p0,onShareTimeline:()=>R0,onStartHandoff:()=>f0,onTabItemTap:()=>v0,onThemeChange:()=>ts,onUnhandledRejection:()=>Do,onWebviewEvent:()=>j0,operateRealtimeData:()=>CU,publishAnalyticsConfig:()=>m0,publishFunctionalPage:()=>G0,publishPageScrollTo:()=>H0,publishTelecontrol:()=>Q0,publishUpdateAppData:()=>$0,reportPv:()=>Y0,reportRealtimeAction:()=>_0,reportRecycledAPI:()=>Kt,route:()=>s,shareAppMessage:()=>y0,shareAppMessageDirectly:()=>A0,shareAppMessageForFakeNative:()=>w0,shareAppMessageToSpecificContactDirectly:()=>b0,shareAppMessageToSpecificContactForFakeNativeDirectly:()=>E0,shareTimeline:()=>O0,showShareMenu:()=>N0,showShareTimelineMenu:()=>M0,showUpdatableMessageSubscribeButton:()=>D0,startHandoff:()=>l0,subscribeAnalyticsReport:()=>I0,subscribeRecycleStatistics:()=>S0,subscribeSavePageState:()=>T0,subscribeSubjectInfo:()=>z0,subscribeTapHandoffButton:()=>P0,subscribeTapShareButton:()=>x0,subscribeTapShareTimeLineButton:()=>k0,uploadUserLogOnHide:()=>JU,userShareMenuState:()=>B0});var d={};l.r(d),l.d(d,{getSubpackagesConfig:()=>q0,onSubpackageReady:()=>nB});var p={};function h(e,t,r){!function(e,t,r){__safeway__.bridge.publish(e,t,r)}(e,{data:t,options:{timestamp:Date.now()}},r)}function f(e,t){!function(e,t){__safeway__.bridge.subscribe(e,t)}(e,(({data:e,options:r},n,i={})=>{var a=r&&r.timestamp||0,o=Date.now();Reporter.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:i.nativeTime||0}}),"function"==typeof t&&t(e,n)}))}l.r(p),l.d(p,{_downloadFileSkipCheckDomain:()=>Od,_requestSkipCheckDomain:()=>Rg,_socketSkipCheckDomainFactory:()=>BB,_uploadFileSkipCheckDomain:()=>lB,invokeOperateWXData:()=>Kr,private_getUserAgent:()=>_a,uploadToCommonCDN:()=>WB});var g=BabelRuntimeHelpers.objectWithoutProperties,v=l.n(g),m=Symbol("ErrorInfosSymbol"),_=Object.prototype.toString;function b(e){return _.call(e).slice(8,-1)}var w=e=>"String"===b(e),E=e=>"Number"===b(e),C=e=>!0===e||!1===e||"Boolean"===b(e),I=e=>void 0===e,S=e=>null===e,T=(Number.isNaN,Number.isFinite,e=>"Object"===b(e)),x=Array.isArray||(e=>"Array"===b(e)),P=e=>"function"==typeof e,k=e=>"ArrayBuffer"===b(e);function D(e,t,r="parameter"){var n=b(t),i=b(e);if(i!==n)return`${r} should be ${n} instead of ${i};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=D(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var o=0;o<t.length;++o)a+=D(e[o],t[o],`${r}[${o}]`)}return a}var R=BabelRuntimeHelpers.objectSpread2,O=l.n(R),M=["errMsg"],L=["errMsg"],N=e=>(t={},...r)=>new Promise(((n,i)=>e(O()(O()({},t),{},{success:n,fail:e=>{var{errMsg:t}=e,r=v()(e,M),n=new Error(t.replace(/^\w+:fail ?/,""));Object.assign(n,r),n[m]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e,r=v()(e,L);if(t&&!/^\w+:(ok|fail)/.test(t)){var n=new Error(e.errMsg.replace(/^\w+:/,""));Object.assign(n,r),n[m]=r,n._complete_hook=!0,i(n)}}}),...r))),B=["success","fail","complete"];function W(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function F(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function U(){}var V=F((function(e){var t=b(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}),"anyTypeToString");var j=F((function(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}),"stringToAnyType");function G(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:a}=t;return n||i||a?e.apply(this,[t,...r]):new Promise(((n,i)=>{var a=Object.assign({success:n,fail:i},t);e.apply(this,[a,...r])}))}}function H(e,t,r){var n=G(r.value);return r.value=function(){return n.apply(this,arguments)},r}class Q extends Error{constructor(e,t={}){super(e),this[m]=t}}var $=(e,t)=>(r={},...n)=>{var{success:i,fail:a,complete:o}=r,s=v()(r,B),l={success:i,fail:a,complete:o};t(s,...n).then((t=>pt({name:e,args:l,success:!0,res:t})),(t=>{t._complete_hook?function({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,a=__errorTracer__.surroundThirdByTryCatch(t.complete||U,`at api ${e} complete callback function`);n.errMsg=i,a(n)}({name:e,args:l,errMsg:t.message,res:t[m]||{}}):pt({name:e,args:l,success:!1,errMsg:t.message,res:t[m]||{}})}))},z=(e,t)=>G($(e,t));function Y(e,t){!function(e,t){__safeway__.bridge.on(e,t)}(e,F(t,`at api ${e} callback function`))}var Z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function q(){this._events={},this._conf&&J.call(this,this._conf)}function J(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function X(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function K(e){this._events={},this._newListener=!1,this._removeListener=!1,J.call(this,e)}K.prototype.delimiter=".",K.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},K.prototype.event="",K.prototype.once=function(e,t){return this._once(e,t,!1)},K.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},K.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},K.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},K.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},K.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},K.prototype.emit=function(){this._events||q.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},K.prototype.emitAsync=function(){this._events||q.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},K.prototype.on=function(e,t){return this._on(e,t,!1)},K.prototype.prependListener=function(e,t){return this._on(e,t,!0)},K.prototype.onAny=function(e){return this._onAny(e,!1)},K.prototype.prependAny=function(e){return this._onAny(e,!0)},K.prototype.addListener=K.prototype.on,K.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},K.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||q.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,X.call(this,this._events[e].length,e))):this._events[e]=t,this},K.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r});for(var i=0;i<n.length;i++){if(r=n[i]._listeners,Z(r)){for(var a=-1,o=0,s=r.length;o<s;o++)if(r[o]===t||r[o].listener&&r[o].listener===t||r[o]._origin&&r[o]._origin===t){a=o;break}if(a<0)continue;return this._events[e].splice(a,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],a=t[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},K.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},K.prototype.removeListener=K.prototype.off,K.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||q.call(this),this):(this._events&&(this._events[e]=null),this)},K.prototype.listeners=function(e){return this._events||q.call(this),this._events[e]||(this._events[e]=[]),Z(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},K.prototype.eventNames=function(){return Object.keys(this._events)},K.prototype.listenerCount=function(e){return this.listeners(e).length},K.prototype.listenersAny=function(){return this._all?this._all:[]};var ee=K,te=new ee({maxListeners:20,newListener:!1}),re=new ee({maxListeners:20,newListener:!1});var ne={};function ie(e){if(e=e[0].toUpperCase()+e.slice(1),!ne[e]){var t=new WeakMap;ne[e]={getGlobalListeners:()=>te.listeners(e),getInternalListeners:()=>re.listeners(e),emit:(...t)=>{re.emit(e,...t),te.emit(e,...t)},emitGlobal:(...t)=>{te.emit(e,...t)},emitInternal:(...t)=>{re.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?re.prependOnceListener(e,t):re.prependListener(e,t):r.once?re.once(e,t):re.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&re.off(e,t)},onMethod:r=>{var n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):__errorTracer__.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);n&&(t.set(r,n),te.on(e,n))},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){var n=t.get(r);t.delete(r),te.off(e,n)}}else t=new WeakMap,te.removeAllListeners(e)}}}return ne[e]}var ae={},oe=(e,t)=>{var r=ie(`WeixinJSBridge-${e}`);ae[e]||(Y(e,((...e)=>{r.emit(...e)})),ae[e]=!0),r.internalOnMethod(t)},se=(e,t)=>{ie(`WeixinJSBridge-${e}`).internalOffMethod(t)},le=__wxConfig,ce="",ue=(e={})=>{try{ce=e.transitExtraData.adUxInfo}catch(e){ce=""}};void 0!==__safeway__&&(le.onReady((()=>{ue(le.appLaunchInfo)})),oe("onAppEnterForeground",(e=>{ue(e)})),oe("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(ce="")})),f("getAdUxInfo",((e,t)=>{h("adUxInfoGot",{adUxInfo:ce,callbackId:e.callbackId},[t])})));var de=()=>ce;function pe(e,t,r,n){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||de()),__safeway__.bridge.invoke(e,t,r,n)}var he={},fe={},ge={},ve=0,me=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),_e=()=>{var e=me(1,he),t=me(2,fe),r=me(3,ge),n=[].concat(e,t,r);0!==n.length&&it("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:Reporter.getAppType()})}),he={},fe={},ge={}},ye=0,Ae=1,be=2,we={lastRoute:"",lastOpenType:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:ye,navigationBarTitleMap:{},currentNetworkType:""},Ee=le.platform,Ce="devtools"===le.platform,Ie="android"===le.platform,Se="ios"===le.platform,Te="windows"===le.platform,xe="mac"===le.platform,Pe="mina"===le.platform,ke=Te||xe;var De=le.host||{},Re="SDK"===De.env,Oe="WMPF"===De.env,Me=(De.env,De.forceUseNativeMap||!1),Le="object"==typeof window&&window&&window.__wkrenderer_h5,Ne=0,Be=1,We=2,Fe=1,Ue=2,Ve=3,je={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},Ge=wxNativeConsole.createLogger("BanForPage"),He=!1,Qe=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),$e=[];function ze(e,t,r){var n=function(e,t,r){for(var n=-1,i=0;i<$e.length;i++){var a=$e[i];if((!w(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!w(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=i;break}}return Ge.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,r);return-1===n?(Ye(e,Fe,je.API,e),!0):function(e,t){var r,n,i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return Ge.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(Ge.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===Ne)r=!1;else if(i.state===Be)r=!0;else if(i.state===We&&(r=!0,1===e.is_valid)){var a=i.toast_wording||"该功能暂时无法使用";lt("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?Ue:Ve:Fe,Ye(t,n,je.API,t),1!==e.is_valid||!r}($e[n],e)}function Ye(e,t,r,n="",i=""){if(Ge.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${He}`),He){var{appLaunchInfo:a}=le,o=Object.keys(we.query).map((e=>`${e}=${we.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:we.lastRoute+(o?`?${o}`:""),title:we.navigationBarTitleMap[we.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:i};Ge.log("[reportAPIBanForPage], reqData:",s),Kr({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){Ge.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}le.onReady((()=>{if(!Ce)try{var{do_report:e,navigate_ban_rule_list:t}=le.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;$e=t,He=1===e,Qe=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),Qe))}catch(e){Ge.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var Ze,qe=["startPullDownRefresh"],Je=[],Xe={appRoute:!1,appRouteDone:!1},Ke=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function et(e,t){return Object.keys(e).reduce(((r,n)=>("function"==typeof e[n]&&(r[n]=__errorTracer__.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function tt(e,t,r,n,i){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?function(e,t,r,n,i){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof Ze&&Ze(t,i)}(r,t,e,n,i):o?function(e,t,r,n){var i=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(i,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,r,n):s&&function(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),P(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||Reporter.reportIDKey({key:`${t}_fail`})}(n,t,e,r),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),((e,t,r,n,i)=>{var a;(a=t?he:r?fe:ge)[e]=a[e]||{},a[e][i]=(a[e][i]||0)+1,Date.now()-ve>=6e4&&(ve=Date.now(),setTimeout(_e,6e4))})(t,a,s,0,e.errMsg)}function rt(e){return(t,r={},n={},i="/")=>{T(r)||(r={}),"operateWXData"===t&&r._isFromBaseOperateWXData;var a,o,s=et(r,t);if(r=Object.assign({},r),n=function(e,t){return Object.keys(e).reduce(((r,n)=>("function"==typeof e[n]&&(r[n]=F(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}(n,t),Reporter.reportIDKey({key:t}),!e){if(0===le.appType&&Qe.has(t)&&(a=t,o=Object.keys(we.query).reduce(((e,t)=>[...e,`${t}=${we.query[t]}`]),[]).join("&"),!ze(a,we.lastRoute+(o?`?${o}`:""),we.navigationBarTitleMap[we.lastRoute]||"")))return void tt({errMsg:`${t}:fail API has been banned`},t,s,n);delete r.pluginId,delete r.permissionBytes,"/"!==i&&(r.pluginId=i)}var l,c=(l=t,Le||Ie&&Ke.includes(l));pe(t,r,(e=>{tt(e,t,s,n,i)}),c)}}var nt=rt(!1),it=(e,t,r)=>{qe.indexOf(e)<0?nt(e,t,r):((e,t,r)=>{var{appRoute:n,appRouteDone:i}=Xe;!n&&i?nt(e,t,r):Je.push({name:e,args:t,option:r})})(e,t,r)},at=(e,t,r)=>N((t=>it(e,t,r)))(t),ot=e=>e?(t,r,n)=>{nt(t,r,n,e)}:it,st=rt(!0),lt=(e,t,r)=>{st(e,t,r)};function ct(e,t,r){var n=D(t,r);return!n||(dt(e,t,`parameter error: ${n}`),!1)}function ut(e,t){var r=D(e,t);if(r)throw new Error(`parameter error: ${r}`)}function dt(e,t={},r,n){var i=E(r);pt({name:e,args:t,errno:i&&r,errMsg:i||r,errCode:i||n,success:!1})}function pt({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:a,res:o={}}){t=t||{};var s=__errorTracer__.surroundThirdByTryCatch((r?t.success:t.fail)||U,`at api ${e} ${r?"success":"fail"} callback function`),l=__errorTracer__.surroundThirdByTryCatch(t.complete||U,`at api ${e} complete callback function`);E(n)?(o.errno=n,o.errMsg=`${e}:fail`):(o.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,E(a)&&(o.errCode=a)),s(o),l(o)}var ht=({success:e,fail:t,complete:r}={},n)=>{var i=e=>{"function"==typeof t&&(n?__errorTracer__.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?__errorTracer__.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?__errorTracer__.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?__errorTracer__.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:i,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${a||n}:fail`):(o.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),i(o)}}},ft="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",gt="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function vt(e){return t=>w(t)&&t.length>e?t.substr(0,e):t}function mt(e,t=!0){var r=b(e);switch(r){case"Number":case"Boolean":return e;case"String":return vt(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${mt(e.message)}|${mt(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${mt(t)}=${mt(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;default:return`[${r}]`}}function _t({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:i,result:a,errMsg:o,isConfirm:s,queueLength:l,wxdataQueueTimestamp:c,wxdataDequeueTimestamp:u,beginCGITimestamp:d,CGICallbackTimestamp:p,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:f,wxlibCallbackTimestamp:g,requestInQueue:v,requestingCount:m,cost1:_,cost2:y,cost3:A,cost4:b,cost5:w,cost6:E}){Math.random()<.05&&setTimeout((()=>{var C=we.currentNetworkType,I=le.appType+1e3,S=le.appLaunchInfo&&void 0!==le.appLaunchInfo.scene?le.appLaunchInfo.scene:0,T=[e,mt(JSON.stringify(t)),r?1:0,n,i,C,mt(a),I,S,ft,gt,o&&mt(o)||"",s?1:0,l,_,y,A,b,w,E,0,v?1:0,m,n,c,u,d,p,h,f,g].map(vt(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:T})}),0)}w(ft)&&(ft=ft.replace(" ","")),w(gt)&&(gt=gt.replace(" ","-"));var yt=0,At=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],bt=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile"],wt=["qbase_commapi","webapi_botdemo"];function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ct=/^[-+a-zA-Z0-9]+:\/\//,It=/^__[-+a-zA-Z0-9]+__\//;function St(e,t){return __errorTracer__.wrapSystemFunction("appServiceSDKScriptError",t,e)}function Tt(e,t,r=!0){if(r&&(t=Nt(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Tt(e,t.substr(2),!1);var n,i,a=t.split("/");for(n=0,i=a.length;n<i&&".."===a[n];n++);a.splice(0,n);var o=e.length>0?e.split("/"):[];o.splice(o.length-n-1,n+1);var s=o.concat(a).join("/");return s}function xt(e){var t=e.match(Ct);if(!t)return e;var r=t[0];if("plugin://"===r){var i=r.length,o=e.indexOf("/",i);if(o>=0){var s=e.slice(i,o),l=le.plugins&&le.plugins[s]?le.plugins[s].provider:s;e=e.slice(0,i)+l+e.slice(o)}var c=e.indexOf("?");c<0&&(c=e.length);var u=e.slice(0,c),d=n.Component._list[u];if(!d)throw new Wt(`Page "${u}" is not found`);e=d.is+e.slice(c)}else if("plugin-private://"===r){var p=e.indexOf("?");p<0&&(p=e.length);var h=e.slice(0,p);e="/"+a.convertComponentAliasToRoute(h)+e.slice(p)}else{if("wx://"!==r)throw new Wt(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(5)}return e}function Pt(e,t,r=!0){for(;Ct.test(t);)t=xt(t);return Tt(e,t,r)}function kt(e){var t=e.match(Ct),r=e.match(It),n="";if(t){var i=t[0];if("plugin://"===i){var a=i.length,o=e.indexOf("/",a);if(o>=0){var s=e.slice(a,o);n=le.plugins&&le.plugins[s]?le.plugins[s].provider:s}}else if("plugin-private://"===i){var l=i.length,c=e.indexOf("/",l);if(c>=0)n=e.slice(l,c)}else"wx://"===i&&(n="//")}if(r){var u=r[0];if("__plugin__/"===u){var d=u.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else"__wx__/"===u&&(n="//")}return n}function Dt(e,t){var r=kt(t);return!r||kt(i.convertRouteToComponentAlias(e))===r}function Rt(e,t=!1){if("object"!=typeof e)return e;var r=[];for(var n in e)if(Et(e,n))if(t)try{r.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`)}catch(t){r.push(`${n}=${e[n]}`)}else r.push(`${n}=${e[n]}`);return r.join("&")}function Ot(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function Mt(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function Lt(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),i=[];for(var a in n)Et(n,a)&&i.push(`${a}=${encodeURIComponent(n[a])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function Nt(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}function Bt(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}class Wt extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class Ft extends Error{constructor(e){super(`${e}`),this.type="ThirdScriptError"}}function Ut(e,t){for(var r in t)e[r]=t[r];return e}var Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",jt=globalThis.btoa||function(e){for(var t,r,n=String(e),i="",a=0,o=Vt;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i},Gt=globalThis.atob||function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=Vt.indexOf(i);return r};function Ht(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return jt(t)}function Qt(e){for(var t=Gt(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}function $t(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function zt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}le.clientVersion;function Yt(e,t,r){!1!==T(e)&&t!==r&&Et(e,t)&&(e[r]=e[t],delete e[t])}function Zt(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var i=parseInt(e[n],10),a=parseInt(t[n],10);if(i>a)return 1;if(i<a)return-1}return 0}function qt(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function Jt(e,t){return e||t?e?t?Zt(qt(e),qt(t)):1:-1:0}function Xt(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}var Kt=({name:e,scene:t,strategy:r,timeDiffToLastTap:n=0})=>{var i;void 0!==a&&(i=a.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===we.currentWebviewId))||{});var o=[e,t,Reporter.getAppType(),i?i.route:"",r||0,n].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"RecycledAPI",value:o})},er={},tr={lastShareTicket:null,get:e=>er[e],set(e,t){var r=zt();return er[r]={shareKey:e,shareName:t},r}},rr=new ee,nr={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:tr,emitter:rr},ir={requestVirtualPayment:285,setCookies:502,getCookies:503,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,authShareRelationship:852,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,plugin_launchApplicationDirectly_operateDirectly:1009,privateSearchContacts:1024,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,WXA_JSAPI_INDEX_useOldCanvas:977,reportRequestError:1069},ar={};le.onReady((()=>{var e=Object.keys(ir).map((e=>ir[e]));it("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var r=0;r<t.permissionBytes.length;r++){var n=e[r];ar[n]=1===t.permissionBytes[r]}},fail(e){}})}));var or,sr=e=>{var t=ir[e];if("number"!=typeof t)return!1;if(!I(ar[t]))return ar[t];var r=!1;return it("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(r=1===e.permissionBytes[0],ar[t]=r)}}),r};function lr(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:we.query)||{},e.path=Bt(t?e.path:we.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?we.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:we.lastShareInfo=void 0),nr.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(nr.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(it("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=nr.ShareInfoStorage.set(r.shareKey,r.shareName),nr.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function cr(e={},t){0===(e=Object.assign({},e)).scene?e.scene=or:or=e.scene;var r=e.scene;1103===r?r=1001:1104===r?r=1089:1131===r||1158!==r&&1159!==r&&1160!==r||!sr("getGroupToolbarInfo")&&(r=1008),[1106,1005,1006,1027,1042].indexOf(r)>-1&&(e.referrerInfo.appId=null);var n=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{};e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId&&(e.referrerInfo.appId&&(n.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var i={path:e.path,query:e.query,scene:r,shareTicket:e.shareTicket,referrerInfo:n};e.chatroomUsername&&1156===r&&(i.chatroomUsername=e.chatroomUsername),e.chatType&&(i.chatType=e.chatType);var a=e.nativeExtraData||{};return a.location&&(i.locationInfo=a.location),7!==le.appType&&10!==le.appType||(e.nativeExtraData&&(i.nativeExtraData=e.nativeExtraData),i.sessionId=e.sessionid||e.sessionId,i.isLaunch=e.isLaunch,e.isLaunch&&(i.prerender=!!le.prerender),i.clickTimestamp=e.clickTimestamp,i.preloadType=t),7===le.appType&&(e.isLaunch?i.userConfig=le.userConfig:i.userConfig=e.userConfig),e.mode&&(i.mode=e.mode),e.apiCategory&&(i.apiCategory=e.apiCategory),1173===r&&(a.mimeType?i.forwardMaterials=[{type:a.mimeType,path:a.materialPath,name:a.materialName,size:a.materialSize}]:Array.isArray(a.materials)&&(i.forwardMaterials=a.materials)),i}function ur(e){var t="default";switch(e.mode){case"default":case"halfPage":"nativeFunctionalized"===e.appearance&&(t="nativeFunctionalized");break;case"singlePage":t="browseOnly";break;case"embedded":t="embedded"}e.apiCategory=t}function dr(e,t=""){if(kt(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),10===le.appType&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),r}var pr=l(883),hr={emitter:new ee,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}},fr=new WeakMap,gr=e=>{for(var t in hr.puidToPluginWX)if(hr.puidToPluginWX[t]===e)return t},vr=e=>hr.pluginIDs[gr(e)],mr=e=>{if(jr()){var t=(e=>fr.get(e))(e);return t&&t.provider?t.provider:void 0}return vr(e)},_r=e=>hr.pluginVersions[gr(e)],yr=(e,t,r)=>{var n=new RegExp(`^${t}:`),i={};return["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(i[t]=i=>{i.errMsg=i.errMsg.replace(n,r+":"),e[t](i)})})),Object.assign({},e,i)},Ar={},br={};function wr(e){Ar=e}function Er(e){br=e}function Cr(){var e=vr(this)||"";return dr(Ar,e)}function Ir(){return br}function Sr(e,t){var r=Ir(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}f("getEnterAppInfo",(({callbackId:e},t)=>{h("appEnterInfoGot",{res:Ir(),callbackId:e},[t])}));var Tr=!1;var xr={sample:{invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,offGetWifiList:null,offWifiConnected:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null},ui:{invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,offGetWifiList:10,offWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30},log:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,offGetWifiList:3,offWifiConnected:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1},tap:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,offGetWifiList:0,offWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:40,openChannelsActivity:40,openChannelsUserProfile:40,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0},singlePage:{invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,offGetWifiList:0,offWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10},thirdApp:{invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,offGetWifiList:10,offWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10}},Pr=(e,t)=>xr[t][e];var kr=!1;function Dr(e){kr=!!e.state,e.success&&e.success({state:kr})}function Rr(e,t){!function(e){var t=Pr(e,"thirdApp");0!==t&&1!==t||!Yr()||1===t&&Br()&&it("showToast",{icon:"",title:"暂不支持当前功能",duration:2500})}(e);var r=Pr(e,"ui");if(r>0&&kr)return!1;if(r>=20)if(void 0===a){if(t)return!1}else{var n=a.getCurrentRoute()||"";if(/^\/?__wx__\//.test(n))return!1;var i=n.match(/(?:^|\/)__plugin__\/(.*?)\//);if((i?i[1]:"")!==t&&r>=30)return!1}var o,s,l=Pr(e,"singlePage");return!((!l||1===l)&&zr())||(1===l&&Br()&&(1==(1&((null===(s=le.appLaunchInfo)||void 0===s?void 0:s.secFlagForSinglePageMode)||0))?it("highlightTitleForSinglePage"):(it("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),o=!0,zr()&&(Tr=o))),!1)}var Or=!1;function Mr(e){Or="tap"===e}function Lr(){setTimeout((()=>{Or=!1}),0)}function Nr(e){return(...t)=>{if(4===le.appType)return Mr("tap"),e.apply(this,t),void Lr();i.wrapTapMark((()=>{e.apply(this,t)}))}}function Br(){return 4===le.appType?Or:Or||i.checkTapMark()}function Wr(e,t){return function(r,...n){var i=Pr(e,"tap"),a=Br(),o=r;if(10!==i||a||(Kt({name:e,scene:0,strategy:1}),!Ce&&Vr(e))){if((20===i&&a||30===i)&&("function"==typeof r?o=Nr.call(this,r):"object"==typeof r&&(o=Object.assign({},r),["success","fail","complete"].forEach((e=>{"function"==typeof o[e]&&(o[e]=Nr.call(this,o[e]))})))),40!==i||4===le.appType||a){var s=t.apply(this,[o].concat(n));return 4===le.appType&&[10,30,40].includes(i)&&Lr(),s}r&&(r.fail||r.complete)&&setTimeout((()=>{dt(e,r,"can only be invoked by user TAP gesture.")}),0)}else r&&(r.fail||r.complete)&&setTimeout((()=>{dt(e,r,"can only be invoked by user TAP gesture.")}),0)}}class Fr{constructor(e={maxListeners:2e3}){this.emitter=new ee(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}function Ur(e){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function Vr(e){var t="unknown";if(le.appContactInfo&&le.appContactInfo.operationInfo&&le.appContactInfo.operationInfo.jsonInfo&&le.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=le.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}function jr(){return 4===le.appType}function Gr(e){return(t={})=>new Promise(((r,n)=>{e(Object.assign(t,{success:r,fail:n}))}))}function Hr(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Qr(e,t){return t.reduce(((t,r)=>(I(e[r])||(t[r]=e[r]),t)),{})}function $r(e){if(!Ce||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}function zr(){return le.appLaunchInfo&&"singlePage"===le.appLaunchInfo.mode}function Yr(){var e=le.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}var Zr=function(){return le.isIsolateContext};function qr(e,t){var r=function(e){if("string"==typeof e){for(var t=e.split(".").map((e=>parseInt(e,10)));t.length<4;)t.push(0);return function(e){for(var t=e.length,r=0,n=0;n<t;++n)r=r<<8|e[n];return r}(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=r(e))>(t=r(t))?1:e<t?-1:0}var Jr=JSON.parse,Xr=e=>({apiName:t,reqData:r,sdkApiName:n,pluginId:i,success:a,fail:o,complete:s,fromComponent:l=!1,withCredentials:c=!1,showConfirm:u=!1}={})=>{if(ct("operateWXData",{apiName:t,success:a,fail:o,complete:s},{apiName:""})){var d={success:a,fail:o,complete:s};n=n||"operateWXData";var p={api_name:t,data:r||{},operate_directly:e};"string"==typeof i&&(p.plugin_appid=i),!0===l&&(p.from_component=!0),!0===c&&(p.with_credentials=!0),!0===u&&(p.show_confirm=!0),((e={},t={},...r)=>{var n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var i=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail,s=n.data&&n.data.api_name;At.includes(s)?n.requestInQueue=!0:n.requestInQueue=!1,bt.includes(s)?n.isImportant=!0:n.isImportant=!1,wt.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);var l={isSuccess:void 0,WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++yt};it("operateWXData",n,{beforeAll(e){var r=Date.now();yt--,l.costTime=r-l.invokeTime;try{if(e&&e.data&&e.data.data?l.result=JSON.stringify(e.data):l.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{l[e]=n[e]})),l.cost1=n.wxdataQueueTimestamp-l.invokeTime,l.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,l.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,l.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,l.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,l.cost6=r-n.wxlibCallbackTimestamp}}catch(e){wxNativeConsole.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess(e){l.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof a&&a.call(t,e),_t(l)},beforeFail(e){l.isSuccess=!1,l.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof o&&o.call(t,e),_t(l)}},...r)})({data:p,success(t){"string"==typeof t.data&&(t.data=Jr(t.data));var{data:r}=t;delete t.data;var{data:i,encryptedData:o,iv:l,cloud_id:c,err_no:u,signature:p}=r;e?(void 0!==i&&(t.rawData=i),t.respData=r):t.data="string"==typeof i?Jr(i):{},p&&(t.signature=p),o&&(t.encryptedData=o,t.iv=l,c&&(t.cloudID=c)),"number"==typeof u&&0!==u?dt(n,d,u):("function"==typeof a&&a(t),"function"==typeof s&&s(t))},fail(e){"function"==typeof o&&o(e),"function"==typeof s&&s(e)}},{beforeAll(e){"operateWXData"!==n&&(e.errMsg=e.errMsg.replace("operateWXData",n))}})}},Kr=Xr(!1),en=Gr(Kr),tn=Xr(!0),rn=Object.assign;function nn(e,t,r=(()=>{}),n=(()=>{})){return(i={})=>{var{success:a,fail:o}=ht(i,e);Kr({apiName:t,reqData:r(i)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,rn(e,e.rawDataObject),n(e),delete e.rawDataObject,a(e)},fail:o})}}var an=null;f("onInputComponentData",(e=>{an=e,sn.forEach((e=>{on(e,e.webviewId)})),sn=[]}));var on=(e,t=0)=>{var r=an.data;if(r&&"function"==typeof we.webviewEventCallback){var n=JSON.parse(r);if(n.bindkeyboardheightchange)try{we.webviewEventCallback({data:{type:"keyboardheightchange",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{duration:e.duration||0,height:e.height||0}},eventName:n.bindkeyboardheightchange,webviewId:t||we.currentWebviewId,nodeId:n.nodeId})}catch(e){throw new Wt("bind key input error")}}};f("removeInputComponent",(e=>{an&&an.inputId===e.inputId&&(an=null)}));var sn=[];oe("onKeyboardHeightChange",((e,t=0)=>{an?on(e,t):sn.push({inputId:e.inputId,height:e.height,duration:e.duration,webviewId:t})})),oe("onKeyboardValueChange",((e,t=0)=>{var r=e.value;if(h("setKeyboardValue",{value:r,cursor:e.cursor,inputId:e.inputId},[t]),e.data){var n=JSON.parse(e.data);if(n.modelValueName&&i.setModelValueData(e.value,n.modelValueName,t,n.nodeId),"function"==typeof we.webviewEventCallback&&n.bindinput){var a;try{a=we.webviewEventCallback({data:{type:"input",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor,keyCode:e.keyCode}},eventName:n.bindinput,webviewId:t,nodeId:n.nodeId})}catch(e){throw new Wt("bind key input error")}if(n.setKeyboardValue)if(null==a||!1===a);else if("Object"===b(a)){var o={inputId:e.inputId};r!==a.value&&(o.value=a.value+""),Number.isNaN(parseInt(a.cursor,10))||(o.cursor=parseInt(a.cursor,10),void 0===o.value&&(o.value=r),o.cursor>o.value.length&&(o.cursor=-1)),it("setKeyboardValue",o)}else r!==a&&it("setKeyboardValue",{value:a+"",cursor:-1,inputId:e.inputId})}}}));var ln=BabelRuntimeHelpers.applyDecoratedDescriptor,cn=l.n(ln),un=new ee;Y("onPageReload",((e={},t=0)=>{e.webviewId=t,un.emit("onPageReload",e)}));var dn=function(e,t){un.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},pn=(e,t=!0)=>Tt(we.lastRoute,e,t),hn=function(e,t){return nn(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))}("getCloudFileUrl","qbase_commapi");var fn,gn=function(e,t,r){mn({fileIds:e,type:t,success:r})},vn=new Map,mn=function(e){var{fileIds:t,type:r,success:n}=e,i=new Map,a=[],o=!1;if(t.forEach((e=>{var t=vn.get(e);if(t){if(Date.now()<t.expireTime)return void(i.has(e)||(i.set(e,t.data),o||(o=!0)));vn.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0!==a.length){var s=0,l=function(e,t){for(var r=[],n=Math.ceil(e.length/t),i=0;i<n;i++)r.push(e.slice(i*t,(i+1)*t));return r}(t,50);Promise.all(l.map((e=>new Promise((t=>{hn({data:{fileid_list:e,type:r},requestInQueue:!1,success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{i.set(e.fileid,e),!vn.has(e.fileid)&&e.max_age&&vn.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{i.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),vn.has(e)&&vn.delete(e)})):e.forEach((e=>{i.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),vn.has(e)&&vn.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var a=n.baseresponse.stat.qbase_cost_time;a>s&&(s=a)}t()},fail(){t()},complete(e){}})}))))).then((()=>{_n(t,i,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?_n(t,i,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function _n(e,t,r,n){var i=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?i.push({url:r.download_url}):i.push({url:e,code:r.service_errcode,msg:r.errmsg}):i.push({url:e,code:-1,msg:"NO_RESULT"})}else i.push({url:e})})),"function"==typeof n&&n({data:i,cost:r})}var yn=ke||Ce||!Me&&Re||Pe,An={},bn={},wn=new K,En={},Cn={},In={},Sn=["getCenterLocation","getRegion","getScale","includePoints","moveToLocation","translateMarker","setIndoorFloor","getIndoorFloor","setIndoorMaskColor","getRotate","getSkew","eraseLines","setCenterOffset","addCustomLayer","removeCustomLayer","moveAlong","initMarkerCluster","addMarkers","removeMarkers","on","off","once","toScreenLocation","fromScreenLocation","addGroundOverlay","updateGroundOverlay","removeGroundOverlay","openMapApp","setLocMarkerIcon","addVisualLayer","removeVisualLayer"];var Tn=0;f("mapInsert",((e,t)=>{var{nodeId:r,domId:n,mapId:a,pluginId:o}=e,s=`${t}_${o}_${n}_`;r&&r!==i.getRootNodeId(t)&&(s+=r),An[s]=a,bn[`${t}_${a}`]=e,wn.emit("mapInsert"),function(e){En[e]||(En[e]=!0,dn(e,(e=>{delete En[e],Object.keys(An).forEach((t=>{new RegExp("^"+e).test(t)&&(delete bn[`${e}_${An[t]}`],delete An[t])})),Object.keys(Cn).forEach((t=>{new RegExp("^api_"+e).test(t)&&(delete bn[`${e}_${An[t.substr(4)]}`],delete Cn[t])})),Object.keys(Cn).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&(delete bn[t.substr(3)],delete Cn[t])}))})))}(t)})),f("mapRemove",(({domId:e,mapId:t,pluginId:r,nodeId:n},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(o+=n),delete An[o],delete bn[`${a}_${t}`];var s=`api_${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(s+=n);var l=`SQ_${a}_${t}`;delete Cn[s],delete Cn[l]}));class xn{}f("operateMapCallback",(e=>{var t=e.callbackId;t&&"function"==typeof In[t]&&(In[t](e),delete In[t])}));var Pn=(fn=class{constructor(){var e=this.exportContext=new xn;Sn.forEach((t=>e[t]=this[t].bind(this))),this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={}}on(e,t){this._listenerHandler("on",e,t)}off(e,t){this._listenerHandler("off",e,t)}once(e,t){this._listenerHandler("once",e,t)}_invoke(e,t){if(["openMapApp"].indexOf(e)<0&&(yn||["includeMapPoints","getMapMarker"].indexOf(e)>=0)){t.method=e;var r=`callback${this.webviewId}_${t.mapId}_${Tn++}`;In[r]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=r,h("operateMap",t,[this.webviewId])}else it(e,t)}toScreenLocation(e={}){this._invokeMethod("toScreenLocation",e)}fromScreenLocation(e={}){this._invokeMethod("fromScreenLocation",e)}getCenterLocation(e={}){this._invokeMethod("getMapCenterLocation",e)}setLocMarkerIcon(e={}){if(ct("setLocMarkerIcon",e,{iconPath:""})){var t=Object.assign({},e);/^(wxfile|https?)/.test(t.iconPath)||(t.iconPath=pn(t.iconPath,!1)),this._invokeMethod("setMapLocMarkerIcon",t)}}getScale(e={}){this._invokeMethod("getMapScale",e,{beforeSuccess(e){e.scale=+Number.parseFloat(e.scale).toFixed(2)}})}getRegion(e={}){this._invokeMethod("getMapRegion",e)}moveToLocation(e={}){this._invokeMethod("moveToMapLocation",e)}addGroundOverlay(e={}){if(ct("addGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);/^(wxfile|https?)/.test(t.src)||(t.src=pn(t.src,!1)),this._invokeMethod("addMapGroundOverlay",t)}}openMapApp(e={}){ct("openMapApp",e,{longitude:0,latitude:0,destination:""})&&this._invokeMethod("openMapApp",e)}removeGroundOverlay(e={}){ct("removeGroundOverlay",e,{id:0})&&this._invokeMethod("removeMapGroundOverlay",e)}updateGroundOverlay(e={}){if(ct("updateGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);this._invokeMethod("updateMapGroundOverlay",t)}}moveAlong(e={}){if(ct("moveAlong",e,{duration:0,markerId:0,path:[]})){var t={autoRotate:!0};Object.assign(t,e),this._invokeMethod("moveMapMarkerAlong",t)}}addMarkers(e={}){if(ct("addMarkers",e,{markers:[]}))if(yn){var t=Object.assign({clear:!1},e);this._invokeMethod("addMapMarkers",t)}else{var r=e.markers.map(((e={})=>{E(e.id)||E(e.clusterId)||console.warn("marker id must be a number");var t=Object.assign({},e);t.anchor=T(t.anchor)?t.anchor:{x:.5,y:1},t.alpha=E(t.alpha)?t.alpha:1,t.rotate=E(t.rotate)?t.rotate:0;var r=t.iconPath;return w(r)&&!/^(wxfile|https?)/.test(r)&&(t.iconPath=pn(r,!1)),T(t.label)&&(t.label=Object.assign({content:"",color:"#000000",fontSize:12,borderRadius:0,borderWidth:0,borderColor:"#000000",bgColor:"#00000000",padding:0,anchorX:0,anchorY:0,textAlign:"right"},t.label)),T(t.callout)?(t.callout=Object.assign({content:"",color:"#000000",fontSize:12,display:"BYCLICK",borderRadius:0,borderWidth:0,borderColor:"#00000000",bgColor:"#ffffff",padding:0,anchorX:0,anchorY:0,textAlign:"center"},t.callout),t.callout.display="ALWAYS"===t.callout.display?1:0):w(t.title)&&(t.callout={content:t.title,bgColor:"#FFFFFF",padding:10,display:0,textAlign:"center"}),delete t.title,t.data=JSON.stringify({markerId:t.id}),t})),n={};r.forEach(((e,t)=>{var r=e.iconPath;w(r)&&/^cloud:/.test(r)&&(n[r]||(n[r]=[]),n[r].push(t))}));var i=Object.keys(n);gn(i,"image",(t=>{[...t.data.map((e=>e.url))].forEach(((e,t)=>{n[i[t]].forEach((t=>{r[t].iconPath=e}))}));var a=Object.assign({clear:!1},e,{markers:r});this._invokeMethod("addMapMarkers",a)}))}}removeMarkers(e={}){if(ct("removeMarkers",e,{markerIds:[]})){var t=Object.assign({},{markers:e.markerIds},e);this._invokeMethod("removeMapMarkers",t)}}initMarkerCluster(e={}){var t=Object.assign({enableDefaultStyle:!0,zoomOnClick:!0,gridSize:60},e);this._invokeMethod("initMapMarkerCluster",t)}translateMarker(e={}){var t=e.markerId;if(void 0!==t)if(e.destination)if(this._translating[t])this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e];else{if(!this._isGetMarkerPos[t])return this._translating[t]=!0,this._invokeMethod("getMapMarker",{markerId:t,success:e=>{this._lastMarkerPos[t]=e.pos},complete:()=>{this._isGetMarkerPos[t]=!0,this._translating[t]=!1;var e=this._delayTranslate[t];e&&e.length&&this.translateMarker(e.shift())}}),void(this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e]);0===e.duration&&(e.duration=1);var r={markerId:t,keyFrames:[],success:t=>{"function"==typeof e.success&&e.success.call(this,t),"function"==typeof e.animationEnd&&e.animationEnd.call(this)},fail:r=>{this._delayTranslate[t]=[],"function"==typeof e.fail&&e.fail.call(this,r)},complete:r=>{"function"==typeof e.complete&&e.complete.call(this,r),this._translating[t]=!1;var n=this._delayTranslate[t];n&&n.length&&this.translateMarker(n.shift())}},n=0,i=this._lastMarkerPos[t],a=e.destination,o=!(i&&i.latitude===a.latitude&&i.longitude===a.longitude);if(e.autoRotate||"number"!=typeof e.rotate){var s,l;if(i){var c=a.latitude-i.latitude,u=a.longitude-i.longitude,d=c/u||0;s=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(d)/Math.PI))*(c>0?-1:1)}"number"==typeof this._lastMarkerDeg[t]&&(l=s-this._lastMarkerDeg[t],Math.abs(l)>180&&(l=l>0?l-360:l+360),Math.abs(l)>3&&e.autoRotate&&o&&(n=l)),(Math.abs(l)>3&&e.autoRotate||void 0===this._lastMarkerDeg[t])&&(this._lastMarkerDeg[t]=s)}else{var p=e.rotate-(this._lastMarkerDeg[t]||0);Math.abs(p)>3&&(Math.abs(p)>180&&(p=p>0?p-360:p+360),n=p,this._lastMarkerDeg[t]=e.rotate)}var h="number"==typeof e.duration?e.duration:1e3;e.moveWithRotate?r.keyFrames.push(O()({rotate:n,duration:h},e.destination)):(o&&r.keyFrames.push(O()({duration:h},e.destination)),0!==n&&r.keyFrames.unshift({rotate:n,duration:Math.abs(n)<10?100:500})),r.keyFrames.length>0?(this._translating[t]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((function(){r.success(),r.complete()})),this._lastMarkerPos[t]=e.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}includePoints(e={}){if(e.points&&e.points instanceof Array){e.points.forEach((e=>{e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}setIndoorFloor(e={}){e.buildingId?e.floorName?this._invokeMethod("setMapIndoorFloor",e):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}getIndoorFloor(e={}){this._invokeMethod("getMapIndoorFloor",e)}getRotate(e={}){this._invokeMethod("getMapRotate",e)}getSkew(e={}){this._invokeMethod("getMapSkew",e)}setIndoorMaskColor(e={}){this._invokeMethod("setMapIndoorMaskColor",e)}eraseLines(e={}){e.lines&&e.lines instanceof Array?this._invokeMethod("eraseMapLines",e):console.warn("MapContext.eraseLines: require lines")}setCenterOffset(e={}){var t=Object.assign({offset:[.5,.5],animated:!1},e);this._invokeMethod("setMapCenterOffset",t)}addCustomLayer(e={}){ct("addCustomLayer",e,{layerId:""})&&this._invokeMethod("addMapCustomLayer",e)}removeCustomLayer(e={}){ct("removeCustomLayer",e,{layerId:""})&&this._invokeMethod("removeMapCustomLayer",e)}addVisualLayer(e={}){ct("addVisualLayer",e,{layerId:""})&&this._invokeMethod("addMapVisualLayer",e)}removeVisualLayer(e={}){ct("removeVisualLayer",e,{layerId:""})&&this._invokeMethod("removeMapVisualLayer",e)}},cn()(fn.prototype,"toScreenLocation",[H],Object.getOwnPropertyDescriptor(fn.prototype,"toScreenLocation"),fn.prototype),cn()(fn.prototype,"fromScreenLocation",[H],Object.getOwnPropertyDescriptor(fn.prototype,"fromScreenLocation"),fn.prototype),cn()(fn.prototype,"getCenterLocation",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getCenterLocation"),fn.prototype),cn()(fn.prototype,"setLocMarkerIcon",[H],Object.getOwnPropertyDescriptor(fn.prototype,"setLocMarkerIcon"),fn.prototype),cn()(fn.prototype,"getScale",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getScale"),fn.prototype),cn()(fn.prototype,"getRegion",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getRegion"),fn.prototype),cn()(fn.prototype,"moveToLocation",[H],Object.getOwnPropertyDescriptor(fn.prototype,"moveToLocation"),fn.prototype),cn()(fn.prototype,"addGroundOverlay",[H],Object.getOwnPropertyDescriptor(fn.prototype,"addGroundOverlay"),fn.prototype),cn()(fn.prototype,"openMapApp",[H],Object.getOwnPropertyDescriptor(fn.prototype,"openMapApp"),fn.prototype),cn()(fn.prototype,"removeGroundOverlay",[H],Object.getOwnPropertyDescriptor(fn.prototype,"removeGroundOverlay"),fn.prototype),cn()(fn.prototype,"updateGroundOverlay",[H],Object.getOwnPropertyDescriptor(fn.prototype,"updateGroundOverlay"),fn.prototype),cn()(fn.prototype,"moveAlong",[H],Object.getOwnPropertyDescriptor(fn.prototype,"moveAlong"),fn.prototype),cn()(fn.prototype,"addMarkers",[H],Object.getOwnPropertyDescriptor(fn.prototype,"addMarkers"),fn.prototype),cn()(fn.prototype,"removeMarkers",[H],Object.getOwnPropertyDescriptor(fn.prototype,"removeMarkers"),fn.prototype),cn()(fn.prototype,"initMarkerCluster",[H],Object.getOwnPropertyDescriptor(fn.prototype,"initMarkerCluster"),fn.prototype),cn()(fn.prototype,"translateMarker",[H],Object.getOwnPropertyDescriptor(fn.prototype,"translateMarker"),fn.prototype),cn()(fn.prototype,"includePoints",[H],Object.getOwnPropertyDescriptor(fn.prototype,"includePoints"),fn.prototype),cn()(fn.prototype,"setIndoorFloor",[H],Object.getOwnPropertyDescriptor(fn.prototype,"setIndoorFloor"),fn.prototype),cn()(fn.prototype,"getIndoorFloor",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getIndoorFloor"),fn.prototype),cn()(fn.prototype,"getRotate",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getRotate"),fn.prototype),cn()(fn.prototype,"getSkew",[H],Object.getOwnPropertyDescriptor(fn.prototype,"getSkew"),fn.prototype),cn()(fn.prototype,"setIndoorMaskColor",[H],Object.getOwnPropertyDescriptor(fn.prototype,"setIndoorMaskColor"),fn.prototype),cn()(fn.prototype,"eraseLines",[H],Object.getOwnPropertyDescriptor(fn.prototype,"eraseLines"),fn.prototype),cn()(fn.prototype,"setCenterOffset",[H],Object.getOwnPropertyDescriptor(fn.prototype,"setCenterOffset"),fn.prototype),cn()(fn.prototype,"addCustomLayer",[H],Object.getOwnPropertyDescriptor(fn.prototype,"addCustomLayer"),fn.prototype),cn()(fn.prototype,"removeCustomLayer",[H],Object.getOwnPropertyDescriptor(fn.prototype,"removeCustomLayer"),fn.prototype),cn()(fn.prototype,"addVisualLayer",[H],Object.getOwnPropertyDescriptor(fn.prototype,"addVisualLayer"),fn.prototype),cn()(fn.prototype,"removeVisualLayer",[H],Object.getOwnPropertyDescriptor(fn.prototype,"removeVisualLayer"),fn.prototype),fn);class kn extends Pn{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ft("Parameter 1 should be a string");this.domId=e,this.pluginId=n,this.webviewId=t,this.nodeId=r}_invokeMethod(e,t,r={}){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;"number"==typeof An[n]||An[n]?(t.mapId=An[n],this._invoke(e,t,r)):wn.on("mapInsert",(()=>{t.mapId=An[n],this._invoke(e,t,r)}))}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n,i=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,a=this.webviewId;"number"==typeof An[i]||An[i]?(n=An[i],Rs[e](`${t}_${a}_${n}`,r)):wn.on("mapInsert",(()=>{n=An[i],Rs[e](`${t}_${a}_${n}`,r)}))}}}class Dn extends Pn{constructor(e,t){super(),this.mapId=e,this.webviewId=t}_invokeMethod(e,t,r={}){t.mapId=this.mapId,this._invoke(e,t,r)}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n=this.webviewId,i=this.mapId;Rs[e](`${t}_${n}_${i}`,r)}}}var Rn,On=(e,t,r="",n="")=>{var a=`api_${t}_${n}_${e}_`;if(r&&r!==i.getRootNodeId(t)&&(a+=r),Cn[a])return Cn[a].exportContext;var o=new kn(e,t,r,n);return Cn[a]=o,o.exportContext},Mn=(e,t)=>{var r=`SQ_${t}_${e}`;if(Cn[r])return Cn[r].exportContext;var n=new Dn(e,t);return Cn[r]=n,n.exportContext},Ln=BabelRuntimeHelpers.asyncToGenerator,Nn=l.n(Ln),Bn=(Rn=!1,(Se||Ie&&le.clientVersion>=637865520)&&(Rn=!0),()=>Rn);(()=>{var e=!1;Se&&le.clientVersion>=385877248&&(e=!0)})(),(()=>{var e=!1;Se&&le.clientVersion>=385878314&&(e=!0)})(),(()=>{var e=!1;Se&&le.clientVersion>=402655232&&le.clientVersion<=402655487&&(e=!0)})();var Wn=new class{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}};le.onReady((()=>{we.scene=le.appLaunchInfo.scene,we.sceneNote=le.appLaunchInfo.scene_note}));var Fn=ie("AppEnterForeground"),Un=Fn.internalOnMethod,Vn=Date.now(),jn="";function Gn(e){if(!jr()){if(function(e){var t=!1;return Ie&&le.clientVersion>=671090944&&le.clientVersion<=671091003&&1038===e.scene&&e.sessionId===jn&&Date.now()-Vn<250&&we.lastEmitIsEnterForeground&&(t=!0),we.lastEmitIsEnterForeground=!0,Vn=Date.now(),jn=e.sessionId,t}(e=lr(e,!1)))return;Vn=Date.now(),Er(e);var t=cr(e);e.__public=dr(t,""),wr(t),Wn.set("api_call_from_hot_boot_time",Date.now(),!0),Fn.emit(e),we.scene=e.scene,we.sceneNote=e.scene_note}}oe("onAppEnterForeground",((e={})=>{var t=e.debugLaunchInfo||{};Object.assign(e,t),delete e.debugLaunchInfo,ur(e),!Bn()||1!==e.reLaunch&&!0!==e.reLaunch?Gn(e):nr.emitter.once("onAppRoute",(()=>{Gn(e)})),h("onAppEnterForeground",e)}));var Hn=Object.hasOwnProperty,Qn=ie("AppRouteNotFound"),$n=Qn.onMethod,zn=(Qn.offMethod,Qn.emit),Yn=(e,t)=>{wxNativeConsole.info(`[rewriteRoute] (webviewId=${t}) ${e}`)},Zn={},qn=(e,{needHtmlSuffix:t})=>{var r=xt(e.replace(/\.html(\?|$)/i,(e=>e.slice(5))));if("/"===r[0]&&(r=r.slice(1)),!t)return r;var n=r.indexOf("?");return n<0&&(n=r.length),r.slice(0,n)+".html"+r.slice(n)},Jn=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return!1;if("rewriteRoute"===e.openType&&(e=((e,t)=>{var r=0;if(Hn.call(e,"originalWebviewId"))r=e.originalWebviewId,Yn(`Found originalWebviewId=${r}`,t);else{if(1!==Object.keys(Zn).length)return Yn(`No originalWebviewId found and we have ${Object.keys(Zn).length} backup data, guess failed, cleaning backups and giving up`,t),Zn={},e;r=Object.keys(Zn)[0],Yn(`No originalWebviewId found and guess it=${r}`,t)}var n=Zn[r];return delete Zn[r],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=n[t]})),e})(e,t)),!e.notFound)return!1;for(var r=!1,n=e.rawPath;/^[-_+a-z]+:\/\//i.test(n);){Yn(`${n} has protocol, try rewriting`,t);try{n=qn(n,{needHtmlSuffix:!0}),r=!0}catch(e){return"AppServiceSdkKnownError"===e.type&&console.error(e.message),it("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),!1}}return r?(Zn[t]=e,Yn(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),it("rewriteRoute",{url:n,webviewId:t}),!0):(zn(e,t),!1)},Xn=ie("AppRoute"),Kn=Xn.internalOnMethod,ei=Xn.internalOffMethod,ti=new Set;oe("onAppRoute",((e,t=0)=>{if(wxNativeConsole.info("received onAppRoute, res=",JSON.stringify(e)),Xe.appRoute=!0,Xe.appRouteDone=!1,!Jn(e,t)){if(e.path=Bt(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==e.openType&&(we.lastRoute=e.path||"",we.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),we.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&ti.add(t),!ti.has(t))for(var r in e.query)try{e.query[r]=decodeURIComponent(e.query[r])}catch(e){}if("dismissPip"!==e.openType&&(we.query=e.query,we.currentWebviewId=e.webviewId),"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage){var n=e.preloadRule||le._preloadRule&&le._preloadRule[e.path],i=e.page||le._page&&le._page[e.path+".html"];if(n&&(le.updatePreloadRule(e.path,n),e.preloadRule,le.preloadRule),i){var a=le.global&&le.global.window||{};i.window=Object.assign({},a,i.window),le.updatePage(e.path,i),e.page,le.page}}h("onAppRoute",e,[]),Bn()&&nr.emitter.emit("onAppRoute"),Xn.emit(e)}}));var ri=0,ni=[],ii=(e,t={},r,n)=>{var i=ri++;ni[i]=n,h("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===r?[we.currentWebviewId]:r)};f("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=ni[t];delete ni[t],r&&r(e)}));var ai,oi;function si(){if(!ai)throw new Error("getLaunchOptionsSync:fail get launch options");var e=vr(this)||"";return dr(ai||{},e)}function li(){if(!oi)throw new Error("getLaunchOptionsSync:fail get launch options");return oi||{}}f("getLaunchAppInfo",(({callbackId:e},t)=>{h("appLaunchInfoGot",{res:{sceneHistory:nr.sceneHistory,appId:nr.appId},callbackId:e},[t])})),le.onReady((()=>{if(!jr()){var e=le.appLaunchInfo||{};Object.assign(e,le.debugLaunchInfo||{}),ur(e),nr.appLaunchInfo=e,nr.appLaunchShareInfo=e.shareInfo,Er(e),oi=lr(e,!0),ai=cr(oi,le.preloadType),oi.__public=dr(ai,""),wr(ai)}}));var ci=ie("AppShow"),ui=ci.onMethod,di=ci.offMethod,pi=ci.internalOnMethod;function hi(e){ci.emitGlobal(e)}Un((e=>{ci.emitInternal(e)})),Kn((function e(t){if("appLaunch"===t.openType){var r=li();ci.emitInternal(r),ei(e)}}));var fi=[],gi=[],vi=["expires","domain","path","busid","indate","receivetime","spread"],mi={scene:-1,sceneNote:"",sessionId:""};function _i(e){return Ce||sr(e)}function yi(e){!function(e){var t=le.accountInfo&&le.accountInfo.appId||"noAppId";ii("getCookiesFromGlobalStorage",{appId:t},void 0,e)}((t=>{t&&bi(t,!1,fi),e&&e()}))}function Ai(){var e=Date.now(),t=[];fi.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var i=[];for(var a in r)vi.indexOf(a)>=0&&i.push(`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`);i.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(i.join("; "))}}));var r=t.join(";; ");r.length>=4096||function(e,t){var r=le.accountInfo&&le.accountInfo.appId||"noAppId";e&&e.trim()&&ii("setCookiesToGlobalStorage",{cookies:e,appId:r},void 0,t)}(r,(()=>{}))}function bi(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r&&(vi.indexOf(t)>=0?i[decodeURIComponent(t)]=decodeURIComponent(r):(i.key=decodeURIComponent(t),i.value=decodeURIComponent(r)))})),i){t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var a=i.expires||i.__wxprivate_calc_expires__;a&&!(1e3*a>n)||function(e,t){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e.busid===i.busid&&e.key===i.key)return!0}return!1}(i,r)||r.push(i),le.accountInfo&&le.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=le.accountInfo.appId)}}))}}pi(((e={})=>{mi.scene=e.scene,mi.sceneNote=e.scene_note,mi.sessionId=e.sessionid}));function wi(e){var t=[];for(var r in e)vi.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var Ei=e=>{var t=Date.now(),r=[];fi.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(wi(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},Ci=e=>{var t=Date.now(),r=[];fi.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=le&&le.accountInfo&&le.accountInfo.appId||"",i=mi.scene||"",a=mi.sceneNote||"",o=mi.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:o,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:a,busid:"wxapp"});var{hostAppId:s,pluginAppId:l}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==l){var c=r.find((e=>"appid"===e.key));c&&(c.value=s),r.push({key:"plugin_appid",value:l,busid:"wxapp"})}var u=le.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var d=r.map(wi).join(";; ");return e&&e.success&&e.success({cookies:d}),d},Ii=()=>{var e=Date.now(),t=[];return gi.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;(!n||1e3*n>e)&&t.push(wi(r))})),t.join(";; ")},Si=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?gi:fi,a=[],o={},s={},l=le.accountInfo&&le.accountInfo.appId||"";if(r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)o[e.key]={key:e.key,busid:e.busid};else{var i={key:e.key,value:e.value};vi.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&l&&(i.spread="*"===r?"":r+":",i.spread+=l),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(i[t]=r)})),s[e.key]=i,a.push(i)}}})),i.forEach((e=>{var r=o[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=s[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var i=e.expires||e.__wxprivate_calc_expires__;i&&1e3*i<t||a.push(e)}}})),function(e){var t=[];return e.forEach((e=>{t.push(wi(e))})),t.join(";; ")}(a).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?gi=a:(fi=a,Ai())}},Ti=e=>{var t=Date.now(),r=e.keys||[],n=e.busid,i=e.isTemporary;if(r instanceof Array){var a=[];return(i?gi:fi).forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&r.indexOf(e.key)>=0&&(!n||n&&n===e.busid)){var o={[e.key]:e.value};Object.keys(e).forEach((t=>{vi.indexOf(t)>=0&&(o[t]=e[t]),"indate"!==t&&"expires"!==t||(o[t]=+o[t])})),a.push(o)}})),a}},xi=ie("AppEnterBackground"),Pi=xi.internalOnMethod;oe("onAppEnterBackground",((e={})=>{xi.emit(e),h("onAppEnterBackground",e),we.lastEmitIsEnterForeground=!1}));var ki=(e={})=>{if("[object Object]"===Object.prototype.toString.call(le.expt)){var t=le.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}it("getABTestConfig",e)},Di=ie("navigateBackIntercept"),Ri={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},Oi=[Ri.SlideBack,Ri.BottomBackButton,Ri.NavigationBarBack,Ri.NavigateBackCall],Mi=[],Li=0;Y("onNavigateBackIntercept",((e={})=>{var{id:t}=Mi[Mi.length-1]||{};Di.emit(O()(O()({},e),{},{id:t})),h("onNavigateBackIntercept",O()(O()({},e),{},{id:t}))}));var Ni=({scopes:e}={})=>{var t=new Set(e||[]),r={scopes:Oi.map((e=>({type:e,interception:t.has(e)})))};return at("setNavigateBackInterception",r)},Bi=function(){var e=Nn()((function*(e={}){var t;e=O()(O()({},e),{},{scopes:null!==(t=e.scopes)&&void 0!==t?t:Oi}),yield Ni(e);var r=++Li;return Mi.push({id:r,options:e}),{id:r}}));return function(){return e.apply(this,arguments)}}(),Wi=$("setNavigateBackInterception",Bi),Fi=function(){var e=Nn()((function*({id:e}={}){var t=Mi.findIndex((t=>t.id===e));if(!(t<0)){var r;if(t===Mi.length-1)r=Mi.length>1?Mi[Mi.length-2].options:{scope:[]},yield Ni(r);Mi.splice(t,1)}}));return function(){return e.apply(this,arguments)}}(),Ui=$("stopNavigateBackInterception",Fi),Vi=Di.internalOnMethod,ji=Di.internalOffMethod,Gi=function(){var e=Nn()((function*(e,t=Oi){var{id:r}=yield Bi({scopes:t}),n=t=>{t.id===r&&e(t)};return Vi(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),Hi=function(){var e=Nn()((function*(e){var{id:t,handler:r}=(yield e)||{};yield Fi({id:t}),ji(r)}));return function(t){return e.apply(this,arguments)}}(),Qi=e=>(t={})=>{if(!0!==we.openUrlLock)if(t.url=t.url||"",Ot(t.url))we.openUrlLock=!0,it(e,t,{afterAll(){we.openUrlLock=!1}});else{console.error("invalid url",t.url);var r={errMsg:`${e}: invalid url "${t.url}"`};"function"==typeof t.fail&&t.fail(r),"function"==typeof t.complete&&t.complete(r)}},$i=Qi("openUrl"),zi=Qi("private_openUrl"),Yi="",Zi=ie("networkstatusChange"),qi=e=>{it("getNetworkType",e)},Ji=Zi.onMethod,Xi=Zi.offMethod,Ki=()=>Yi;Y("onNetworkStatusChange",((e={})=>{Yi=e.networkType,we.currentNetworkType=Yi,Zi.emit(e),h("onNetworkStatusChange",e)})),le.onReady((()=>{qi({success(e){Yi=e.networkType,we.currentNetworkType=Yi}})}));var ea="undefined"==typeof __libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version,ta=null,ra=e=>{var t=Ee;Se&&(e.brand="iPhone"),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=ea,e.enableDebug=Boolean(le.debug),le.devicePixelRatio&&(e.devicePixelRatio=le.devicePixelRatio),le.theme&&(e.theme=le.theme),le.host&&(e.host=le.host),le.appLaunchInfo&&le.appLaunchInfo.mode&&(e.mode=le.appLaunchInfo.mode),Ie&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),delete(ta=Object.assign({},e)).errMsg,zr()&&4!==le.appType&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Le&&(e.renderer="h5")},na=()=>{le.isReady||(new Error).stack},ia=e=>{na();it("getSystemInfo",e,{beforeSuccess:ra})},aa=()=>{var e={};return ia({success(t){delete t.errMsg,e=t,ta=Object.assign({},e)}}),e},oa=()=>ta||aa(),sa=null,la=0,ca=0,ua=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];le.onReady((()=>{sa={};for(var e=0;e<ua.length;e++){if(!(ua[e]in le)){sa=oa();break}sa[ua[e]]=le[ua[e]]}if(le.screenHeight&&le.screenWidth)la=le.screenWidth,ca=le.screenHeight;else{var t=oa();la=t.screenWidth,ca=t.screenHeight}}));var da,pa=()=>le.isReady?Object.assign({},sa):((new Error).stack,{}),ha=()=>le.isReady?{screenWidth:la,screenHeight:ca,deviceOrientation:la>ca?"landscape":"portrait"}:((new Error).stack,{}),fa=!1,ga=new Set;oe("onAppRouteDone",(()=>{fa=!0,ga.forEach((e=>e())),ga.clear()}));var va=new Set,ma=()=>{ii("getUserAgent",{},void 0,(e=>{da=e,va.forEach((t=>{try{t(e)}catch(e){}})),va.clear()}))},_a=e=>{da?e(da):fa?(va.add(e),ma()):(ga.has(ma)||ga.add(ma),va.add(e))},ya=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(sa)return sa;e=aa()}else e=aa();return e}})(),Aa=Object.defineProperty,ba=(e,t)=>{Aa(e,t,{get:()=>{var e;return it("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},wa=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],Ea=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],Ca=(e=0)=>new Promise((t=>{setTimeout(t,e)})),Ia=(e,t)=>{for(var r="",n=0,i=0;i<e.length;i++){if((n+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)>t){r+="...";break}r+=e[i]}return r},Sa=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),Ta=e=>(t={})=>new Promise(((r,n)=>{e(Object.assign(t,{success:r,fail:n}))})),xa=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},Pa=new ee({maxListeners:2e5}),ka=32768,Da="portrait",Ra="";le.onReady((()=>{Da=le.deviceOrientation||Da,Ra=pa().model||""}));var Oa=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class Ma{constructor({parentId:e=0,id:t=ka++,style:r={},props:n={},name:i=""}={}){var a=le.platform;this.parentId=e,this.dest=0,this.id=t,this.name=i,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},r),Object.assign(r,r[Da]);var o=/iphone x/.test(Ra.toLowerCase())?"iphone x":a;Object.assign(r,r[o]),Object.assign(r,r[`${o}-${Da}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==wa.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&wa.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?(this.id,this.name,this.computedStyle.width,this.computedStyle.height,Ea.forEach((e=>{this.computedStyle[e]=0}))):(this.id,this.name,this.lastComputedStyle.width,this.lastComputedStyle.height,Ea.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),wa.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&Ea.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},t);i.x+=r,i.y+=n,this.parent.emit(e,i)}else{var a=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,a)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){Pa.emit(Oa(e,this.id),t)}on(e,t){Pa.on(Oa(e,this.id),t)}once(e,t){Pa.once(Oa(e,this.id),t)}off(e,t){Pa.off(Oa(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=Oa(e,this.id);Pa.removeAllListeners(t)}))}}var La=e=>{var{id:t}=JSON.parse(e.data);Pa.emit(Oa("click",t))};oe("onTextViewClick",La),oe("onImageViewClick",La),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();oe(e,(e=>{try{var{id:r}=JSON.parse(e.data);Pa.emit(Oa(t,r),e.touch||e.touches)}catch(e){}}))}));var Na=new Map,Ba=new WeakMap,Wa=new WeakMap,Fa=new WeakMap;function Ua(e){return new Promise(((t,r)=>{var n=Wa.get(this);it("insertHTMLWebView",{htmlId:this.id,position:n,src:Ba.get(this),zIndex:Fa.get(this),backgroundColor:n.backgroundColor,__skipDomainCheck__:e,success:t,fail:r})}))}class Va extends Ma{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n}){super({style:r}),Na.set(this.id,this),Ba.set(this,e),Wa.set(this,r),Fa.set(this,t),Ua.call(this,n),this.isInserted=!0}get src(){return Ba.get(this)}set src(e){Ba.set(this,e),it("updateHTMLWebView",{htmlId:this.id,src:e})}get style(){return Wa.get(this)}set style(e){this.style||Wa.set(this,{});var t=Object.assign(this.style,e);this.isInserted&&it("updateHTMLWebView",{htmlId:this.id,position:t,backgroundColor:t.backgroundColor})}get zIndex(){return Fa.get(this)}set zIndex(e){Fa.set(this,e),it("updateHTMLWebView",{htmlId:this.id,zIndex:e})}destroy(){Na.delete(this.id),it("removeHTMLWebView",{htmlId:this.id})}}function ja({htmlId:e}){var t=Na.get(e);t&&t.onload&&setTimeout(t.onload)}function Ga({name:e,arg:t,htmlId:r}){"postMessage"===e&&Na.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))}))}le.onReady((()=>{4===le.appType&&(oe("onWebviewFinishLoad",ja),oe("onWebInvokeAppService",Ga),oe("WEB_INVOKE_APPSERVICE",Ga))}));var Ha=4,Qa=5,$a=6,za=14,Ya={sampleEventList:[]},Za=new Map;function qa(e,t){var r=function(e){return Ya.sampleEventList.find((t=>e===t.event))}(e);if(r){var n=Date.now(),i=Za.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;it("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,success(){Za.set(r,n)},fail({errMsg:e}){}})}}var Ja=ie("XWebTextareaSupportedEvent"),Xa=!1;f("xWebTextareaSupported",(({canInsert2XWeb:e})=>{Xa=e,Ja.emit({canInsert2XWeb:e})})),(Ce||Te||xe||Ie||Pe)&&f("SPECIAL_PAGE_EVENT",(({data:e,eventName:t,ext:r,nodeId:n,instanceId:a},o=0)=>{if((!Ie||Xa)&&(e&&"input"===e.type&&r&&r.modelValueName&&i.setModelValueData(e.detail.value,r.modelValueName,o,n),e&&"input"===e.type&&"function"==typeof we.webviewEventCallback)){var s=we.webviewEventCallback({data:e,eventName:t,webviewId:o,nodeId:n}),l=e.detail.value;if(r&&r.setKeyboardValue)if(void 0===s);else if("Object"===b(s)){var c={};a&&(c.instanceId=a),l!==s.value&&(c.value=s.value+""),Number.isNaN(parseInt(s.cursor,10))||(c.cursor=parseInt(s.cursor,10)),h("setKeyboardValue",c,[o])}else l!==s&&h("setKeyboardValue",{value:s+"",cursor:-1,instanceId:a},[o])}}));var Ka=ie("DomReady"),eo=Ka.internalOnMethod,to=e=>{we.webviewEventCallback=e,f("PAGE_EVENT",(({data:t,eventName:r,nodeId:n},i=0)=>{"__DOMReady"===r&&Ka.emit({data:t,eventName:r,webviewId:i,nodeId:n}),e({data:t,eventName:r,webviewId:i,nodeId:n})}))},ro=(e={})=>{var t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==__wxConfig.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==__wxConfig.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(ct("showModal",t=Ut(t,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var r=!1;e.__sdk_inner_allowShowMoreLength__&&(r=!0),!r&&t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?dt("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?dt("showModal",e,"cancelText length should not larger than 4 Chinese characters"):it("showModal",t,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=Se||xe?!e.confirm:!e.confirm&&Boolean(e.cancel),Ps()},beforeAll(){!0},afterAll(){!1}})}},no=(e={})=>{e.__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,ro(e),jr()&&qa(za)},io={},ao={};Kn((e=>{ao[e.webviewId]=[]})),eo((e=>{setTimeout((()=>{var t=e.webviewId,r=ao[t]||[];io[t]=!0,r.length>0&&(so=!1,uo=!1,r.forEach((e=>{var{res:t,args:r}=e,n=/hideLoading/.test(t.errMsg)?{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}}:{};it("hideToast",r,n)}))),delete ao[t]}),100)}));var oo=1,so=!1,lo=(e={})=>{var t={duration:1500,title:"",icon:"success",mask:!1};if(t=Ut(t,e),e.image&&(t.image=Tt(we.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),ct("showToast",t,{duration:1,title:"",icon:""})){var r=ao[we.currentWebviewId]||[];r.length>0&&(so=!1,uo=!1,r.forEach((e=>{var{res:t,args:r}=e;"function"==typeof r.success&&r.success(t),"function"==typeof r.complete&&r.complete(t)})),delete ao[we.currentWebviewId]),so=oo++,setTimeout((function(){so=!1}),t.duration),t.maskAll=!1,it("showToast",t)}},co=(e={})=>{if(Ce&&uo&&(!so||so<uo))return so=!1,"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");we.currentWebviewId;so=!1,it("hideToast",e)},uo=!1,po=(e={})=>{var t={title:"",icon:"loading",mask:!1,duration:1e8};if((t=Ut(t,e)).icon="loading",delete t.image,ct("showLoading",t,{duration:1,title:""})){var r=ao[we.currentWebviewId]||[];r.length>0&&(so=!1,uo=!1,r.forEach((e=>{var{res:t,args:r}=e;"function"==typeof r.success&&r.success(t),"function"==typeof r.complete&&r.complete(t)})),delete ao[we.currentWebviewId]),uo=oo++,t.maskAll=!1,it("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}})}},ho=(e={})=>{if(Ce&&so&&(!uo||uo<so))return uo=!1,"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");we.currentWebviewId;uo=!1,it("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},fo=(e={})=>{var t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==__wxConfig.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=Ut(t,e)).cancelText,delete t.cancelColor,ct("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?dt("showActionSheet",e,"parameter error: itemList should not be large than 6"):it("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&Ps(),!0},afterAll:()=>{!1}}))},go={constant:{modalCancel:"取消"}};go.attemptSkipMaxThreshold=5,go.currentAttemptSkipCount=0,go.currentUserFirstUseThisGame=!1,go.currentUserUseThisGameTime=0,go.currentUserUseThisGameTimer=null,go.isPause=null,go.limitStrategy=null;var vo=e=>1===e?3303:3304,mo={count:0,uuid:W(),navigateCount:0,bannedCount:0},_o=(e,t,r)=>{parseInt(Date.now()/100,10),Reporter.reportKeyValue({key:"WeAppNavBan",value:[le.appType+1e3,le.appLaunchInfo.scene,33,vo(e),0,1,"","",Ki(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:mo.uuid,bannedCount:mo.bannedCount,navigateCount:mo.navigateCount,count:mo.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})};Object.defineProperties(go,O()(O()({allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,_o(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,_o(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1}},["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"].reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{go[t]=e},configurable:!1},e)),{})),{},{modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],Reporter.reportKeyValue({key:"WeAppNavBan",value:[le.appType+1e3,le.appLaunchInfo.scene,33,vo(e),1,2,"","",Ki(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1},reportModalCancel:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],Reporter.reportKeyValue({key:"WeAppNavBan",value:[le.appType+1e3,le.appLaunchInfo.scene,33,vo(e),2,2,"","",Ki(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1}})),go.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},go.pauseLimitTimer=function(){this.isPause=!0},go.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var yo=ie("AppUnhang"),Ao=yo.internalOnMethod,bo=yo.onMethod;Y("onAppUnhang",((e={})=>{yo.emit(e)}));var wo=ie("AppHide"),Eo=wo.onMethod,Co=wo.offMethod,Io=wo.internalOnMethod;function So(){wo.emitGlobal()}Pi((e=>{wo.emitInternal(e)}));var To=ie("AppService-Error"),xo=ie("AppService-UnhandledRejection"),Po=To.onMethod,ko=To.offMethod,Do=xo.onMethod,Ro=xo.offMethod;Reporter.registerThirdErrorListener((e=>{To.emit(e)})),Reporter.registerThirdUnhandledRejectionListener(((e,t)=>{xo.emit({reason:e,promise:t})}));var Oo=ie("AppRouteDone"),Mo=Oo.internalOnMethod,Lo=Oo.internalOffMethod;oe("onAppRouteDone",((e,t=0)=>{Xe.appRoute=!1,Xe.appRouteDone=!0,Je.forEach((e=>{var{name:t,args:r,option:n}=e;nt(t,r,n)})),Je=[];var r="";we.navigatorLock=!1,e.path&&(r=e.path,e.path=e.path.substring(0,e.path.length-5)),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==we.lastOpenType&&(we.lastRoute=e.path||""),Oo.emit(e),h("onAppRouteDone",{frameset:e.frameset},[t]),e.path,function(e,t){if(0===le.appType&&e&&t&&!we.navigationBarTitleMap[e]){var r="";le.page[t]&&le.page[t].window&&w(le.page[t].window.navigationBarTitleText)?r=le.page[t].window.navigationBarTitleText:le.global&&le.global.window&&w(le.global.window.navigationBarTitleText)&&(r=le.global.window.navigationBarTitleText),we.navigationBarTitleMap[e]=r}}(e.path,r)}));var No=[],Bo=null,Wo=null,Fo=!1,Uo=[],Vo=!1,jo="",Go=0,Ho=0,Qo=e=>{e.deviceOrientation&&(jo=e.deviceOrientation),Go=e.size.windowWidth,Ho=e.size.windowHeight};oe("onViewDidResize",(e=>{(e=>{Bo=e;var t=!1,r=!0;e.deviceOrientation!==jo&&(t=!0),e.size.windowWidth!==Go&&(t=!0),e.size.windowHeight!==Ho&&(t=!0),Qo(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(Vo=!0),"auto"===e.pageOrientation.originalPageOrientation||Vo||(t=!1,r=!1)),void 0!==a&&a.isFramesetMode()&&(r=!1),t&&(Fo=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{Uo.indexOf(e)<0&&Uo.push(e)})),Wo||(Wo=setTimeout((()=>{Wo=null;var e=Fo;Fo=!1;var t=Uo;Uo=[];var r={deviceOrientation:Bo.deviceOrientation,size:Bo.size};e&&No.forEach((e=>{__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==a?a.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),16))})(e)}));var $o=e=>{No.push(e)},zo=ie("AppRouteResized"),Yo=zo.internalOnMethod;zo.internalOffMethod;oe("onAppRouteResized",(e=>{"object"==typeof e&&null!==e&&Qo(e),zo.emit({})}));var Zo=ie("PageNotFound"),qo=Zo.onMethod,Jo=Zo.offMethod;var Xo={page:void 0,time:Date.now(),count:0};Y("onPageNotFound",(()=>{wxNativeConsole.info("Ignored onPageNotFound.")})),$n(((e,t=0)=>{wxNativeConsole.info(`Page not found, webviewId=${t}`),we.lastRoute="",e&&"string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Bt(e.path)),e&&"string"==typeof e.query&&(e.query=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(i.length>1)try{t[i[0]]=decodeURIComponent(i[1])}catch(e){}}return t}(e.query)),Xo.page&&Xo.page===e.path?Xo.count++:Xo={page:e.path,time:Date.now(),count:1};var r=!0;Date.now()-Xo.time<=3e3&&Xo.count>3?(r=!1,console.error(`onPageNotFound error: page "${e.path}" is not found.`)):Zo.emit(e);var n=Zo.getGlobalListeners().length>0&&r;n||Reporter.thirdErrorReport({error:new Error(`onPageNotFound error: page "${e.path}" is not found.`),extend:" at onPageNotFound"}),it("pageNotFoundCallback",{hasHandler:n,webviewId:t})}));var Ko=ie("ThemeChange"),es=Ko.onMethod,ts=Ko.internalOnMethod,rs=Ko.offMethod;Y("onThemeChange",(e=>{void 0!==le.theme&&(le.theme=e.theme,Ko.emit({theme:e.theme}))}));var ns=ie("tapAnyWhere");f("tapAnyWhere",ns.emitInternal);var is,as=ns.internalOnMethod,os=ns.internalOffMethod,ss=N(Kr),ls=function(){var e=Nn()((function*(e={},t={},r={}){JSON.stringify(e),JSON.stringify(t),JSON.stringify(r);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,7!==le.appType&&(delete n.scene,delete n.sceneNote);var i=Ei();i?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=i):n.privateExtraData&&delete n.privateExtraData.cookies;var a=Object.assign({},n,t);return"string"==typeof a.path&&a.path.trim().length>0?a.path=Nt(a.path).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",JSON.stringify(a),a.needTransferToWeChat&&Yr()?(yield at("sdk_navigateToMiniProgram",a,r),{}):at("navigateToMiniProgram",a,r)}));return function(){return e.apply(this,arguments)}}(),cs=$("doNavigateToMiniProgram",ls),us=(e,t,r,n)=>{var i=[e,t,le.appType+1e3,r+1e3,n].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:i})},ds=()=>(is||(is=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),is),ps=function(){var e=Nn()((function*(e){var t,r=yield ds();switch(fs){case hs.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:hs.HALF_SCREEN_DIALOG});break;case hs.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:hs.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case hs.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:hs.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:fs})}var n=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&t.handleCancel()})),i=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return Hi(n),i}));return function(t){return e.apply(this,arguments)}}(),hs={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},fs=hs.DEFAULT;le.onReady((()=>{ki({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:e=>{JSON.stringify(e),e&&void 0!==e.testConfig&&(fs=Number(e.testConfig)||hs.DEFAULT,Object.values(hs).includes(fs)||(fs=hs.DEFAULT))}})}));var gs,vs=function(){var e=Nn()((function*(e,t,r,n,i,a){if(1!==t){var o,s=fs!==hs.DEFAULT&&void 0!==__sclEngine__&&(Ce||Se||Ie)&&i,l=s?fs:hs.DEFAULT;try{o=s?yield ps(O()(O()({},i),{},{oldWording:e,expensiveWording:a})):yield at("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})}catch(e){throw us(3,r,n,l),e}var{confirm:c}=o;if(!c)throw us(2,r,n,l),new Error("cancel");go.shouldExecuteSkipMaxLimitStrategy&&go.setCurrentAttemptSkipCount(0),us(1,r,n,l)}}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),ms=function(){var e=Nn()((function*({appId:e,path:t,shortLink:r}){var n,i=new Promise((e=>{n=e}));e&&!r&&n(e);var a=i.then((e=>As({appId:e}))),o=0,s=1;try{var l=yield ss({apiName:"webapi_getnavigatewxaappinfo",reqData:{req_type:r?s:o,target_appid:e,target_short_link:r}});JSON.stringify(l.data);var c=l.data,u=c.action_code,d=c.skip_local_check,p=Boolean(c.runtime_sdk_whitelist),h=c.target_short_link_info,f=c.allow_embedded_mode;return h&&(e=h.wxa_appid,t=(h.wxa_path||"").replace(/\.html(\?|$)/,"$1"),n(e)),{appId:e,path:t,actionCode:u,skipLocalCheck:d,reason:c.reason,wording:c.wording,appType:c.apptype,newWording:c.new_wording,popupInfo:c.pop_up_info,needTransferToWeChat:p,shortLinkInfo:h,allowEmbeddedMode:f,expensiveInfo:a}}catch(e){throw e.message||e.errMsg,e}}));return function(t){return e.apply(this,arguments)}}(),_s=1,ys=2,As=function(){var e=Nn()((function*(e){var t=[];switch(fs){case hs.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(ys);break;case hs.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(_s)}if(!t.length)return{};e.appId;try{var{data:r}=yield ss({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),bs=(gs=[],le.onReady((()=>{Array.isArray(le.navigateToMiniProgramAppIdList)&&(gs=le.navigateToMiniProgramAppIdList,sr("openWxappLimit5")&&gs.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=Vr("navigateToMiniProgramConfig");!1===i||Ce?t?r():gs.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i&&r({sourcetype:4})}))),ws=!1,Es=function(){var e=Nn()((function*({appId:e,path:t,shortLink:r},n){if(ws)throw new Error("another navigation is in progress");ws=!0;try{fs!==hs.DEFAULT&&ds();try{n||(n=yield ms({appId:e,path:t,shortLink:r}))}catch(r){return r.errMsg||r.message,{appId:e,path:t}}var{actionCode:i,skipLocalCheck:a,reason:o,wording:s,appType:l,newWording:c,popupInfo:u,needTransferToWeChat:d,expensiveInfo:p}=n,h=1===i;if(e=n.appId,t=n.path,1!==i&&2!==i)throw u?(Reporter.reportKeyValue({key:"WeAppNavBan",value:[le.appType+1e3,le.appLaunchInfo.scene,33,3302,0,1,o,"跳转跳出",Ki()].join(",")}),it("showModal",{showCancel:!0,content:u.desc,confirmText:u.confirm_wording,cancelText:u.cancel_wording,success({confirm:e}){var t=u.confirm_url;e&&zi({url:t}),Reporter.reportKeyValue({key:"WeAppNavBan",value:[le.appType+1e3,le.appLaunchInfo.scene,33,3302,e?1:2,2,o,"跳转跳出",Ki()].join(",")})}})):s&&it("showModal",{content:s,showCancel:!1}),new Error(o);var f=Ir().apiCategory;if(1!==i&&["nativeFunctionalized","embedded"].includes(f)){if(7!==l)throw lo({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${f} apiCategory.`);h=!0}try{var g=yield bs(e,a);return h||(yield vs(s,i,e,l,c,p)),O()(O()({},g),{},{appId:e,path:t,needTransferToWeChat:d})}catch(e){var v=e.errMsg||e.message;throw new Error(v)}}finally{ws=!1}}));return function(t,r){return e.apply(this,arguments)}}(),Cs=$("checkBeforeNavigateToMiniProgram",Es),Is=function(){var e=Nn()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&ut(e,{appId:""}),e.shortLink&&ct(e,{shortLink:""}),e.appId,e.path,e.shortLink;try{var t=yield Es({appId:e.appId,path:e.path,shortLink:e.shortLink});return JSON.stringify(t),yield ls(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw["cancel","another navigation is in progress"].includes(r)||Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(){return e.apply(this,arguments)}}(),Ss=($("navigateToMiniProgramWithoutTapCheck",Is),!1),Ts=0;as((e=>{Ts=e.timeStamp,Ss=!0})),Pi((()=>{Ts=0,Ss=!1}));var xs=()=>Ss,Ps=()=>{Ts=Date.now(),Ss=!0},ks=$("navigateToMiniProgram",function(){var e=Nn()((function*(e){var t=le.accountInfo.appId;if(0!==le.appType||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return Is(e);if(!Ss)throw new Error("can only be invoked by user TAP gesture.");return Kt({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===Ts?-2:Date.now()-Ts}),Is(e)}));return function(t){return e.apply(this,arguments)}}()),Ds=$("navigateToMiniProgramDirectly",function(){var e=Nn()((function*(e){if(!sr("navigateToMiniProgramDirectly"))throw new Error("no permission");return ls(e,e)}));return function(t){return e.apply(this,arguments)}}()),Rs=new ee({maxListeners:2e5}),Os={onMapMarkerClusterCreate:"markerClusterCreate",onMapMarkerClusterClick:"markerClusterClick"};Object.keys(Os).forEach((e=>{oe(e,((t={},r=0)=>{var n=t.mapId,i=Os[e];delete t.mapId,Rs.emit(`${i}_${r}_${n}`,t)}))})),f("mapEvent",((e,t)=>{var r=e.res,n=e.mapId,i=e.event;Rs.emit(`${i}_${t}_${n}`,r)})),Y("onMapMarkerClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];if(r&&r.bindmarkertap&&"function"==typeof we.webviewEventCallback){var n=JSON.parse(e.data);we.webviewEventCallback({data:{type:"markertap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindmarkertap,webviewId:t,nodeId:r.nodeId})}})),Y("onMapCalloutClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];if(r&&r.bindcallouttap&&"function"==typeof we.webviewEventCallback){var n=JSON.parse(e.data);we.webviewEventCallback({data:{type:"callouttap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindcallouttap,webviewId:t,nodeId:r.nodeId})}})),Y("onMapLabelClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];if(r&&r.bindlabeltap&&"function"==typeof we.webviewEventCallback){var n=JSON.parse(e.data);we.webviewEventCallback({data:{type:"labeltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindlabeltap,webviewId:t,nodeId:r.nodeId})}})),Y("onMapControlClick",((e={},t=0)=>{if(Ps(),e.data&&"function"==typeof we.webviewEventCallback){var r=JSON.parse(e.data);r.bindcontroltap&&we.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),f("onMapControlTap",(({data:e},t)=>{if(Ps(),e&&"function"==typeof we.webviewEventCallback){var r=JSON.parse(e);r.bindcontroltap&&we.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),Y("onMapRegionChange",((e={},t=0)=>{var r=bn[`${t}_${e.mapId}`];if(r&&r.bindregionchange&&"function"==typeof we.webviewEventCallback){var n={type:e.type,rotate:e.rotate,skew:e.skew,gesture:e.gesture,scale:+Number.parseFloat(e.scale).toFixed(2),centerLocation:e.centerLocation,region:e.region},i={target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{type:e.type},type:e.type,causedBy:e.causedBy};"end"===e.type&&(i.detail=n),we.webviewEventCallback({data:i,eventName:r.bindregionchange,webviewId:t,nodeId:r.nodeId})}})),Y("onMapClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];r&&r.bindtap&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"tap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindtap,webviewId:t,nodeId:r.nodeId})})),Y("onMapPoiClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];if(r&&r.bindpoitap&&"function"==typeof we.webviewEventCallback){var n={name:e.name,longitude:e.longitude,latitude:e.latitude};e.buildingId&&(n.buildingId=e.buildingId),e.floorName&&(n.floorName=e.floorName),we.webviewEventCallback({data:{type:"poitap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:n,_userTap:!0},eventName:r.bindpoitap,webviewId:t,nodeId:r.nodeId})}})),Y("onMapIndoorChange",((e={},t=0)=>{var r=bn[`${t}_${e.mapId}`];r&&r.bindindoorchange&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{},info:{buildingId:e.buildingId,buildingName:e.buildingName,floorIndex:e.floorIndex,floorList:e.floorList}},eventName:r.bindindoorchange,webviewId:t,nodeId:r.nodeId})})),Y("onMapAnchorPointClick",((e={},t=0)=>{Ps();var r=bn[`${t}_${e.mapId}`];r&&r.bindanchorpointtap&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"anchorpointtap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindanchorpointtap,webviewId:t,nodeId:r.nodeId})}));var Ms=(e,t,r)=>{e=e||[];var n=[],i=[];if("onTouchStart"===t){for(var a=0;a<e.length;++a)n.push(e[a]);var o={x:r.touch.x,y:r.touch.y,identifier:r.touch.id};i.push(o),n.push(o)}else if("onTouchMove"===t)for(var s=0;s<e.length;++s){for(var l=e[s],c=!1,u=0;u<r.touches.length;++u){var d={x:r.touches[u].x,y:r.touches[u].y,identifier:r.touches[u].id};if(d.identifier===l.identifier&&(l.x!==d.x||l.y!==d.y)){n.push(d),i.push(d),c=!0;break}}c||n.push(l)}else if("onTouchEnd"===t)for(var p={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},h=0;h<e.length;++h){var f=e[h];f.identifier===p.identifier?i.push(p):n.push(f)}else if("onTouchCancel"===t)for(var g=0;g<r.touches.length;++g){var v={x:r.touches[g].x,y:r.touches[g].y,identifier:r.touches[g].id};i.push(v)}else if("onLongPress"===t){for(var m={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},_=0;_<e.length;++_)e[_].identifier===m.identifier?n.push(m):n.push(e[_]);i.push(m)}return{touches:n,changedTouches:i}},Ls={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"},Ns={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"},Bs=l(947);void 0!==globalThis.ImageData&&globalThis.ImageData;function Ws(e,t,r="",n=""){var a=`canvas_${e}_${t}_${r}_`;return n&&n!==i.getRootNodeId(e)&&(a+=n),a}function Fs(e){var t=[],r=1;return f(e,(e=>{for(var r=-1,n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){r=n,o(e);break}}r>=0&&t.splice(r,1)})),function(e,n){e.cid=r++,t.push([e,n])}}var Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vs=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,js="undefined"!=typeof window&&window.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Vs.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var r,n,i="",a=0;a<e.length;)t=Us.indexOf(e.charAt(a++))<<18|Us.indexOf(e.charAt(a++))<<12|(r=Us.indexOf(e.charAt(a++)))<<6|(n=Us.indexOf(e.charAt(a++))),i+=64===r?String.fromCharCode(t>>16&255):64===n?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return i};function Gs(e){for(var t=js(e),r=t.length,n=new Uint8ClampedArray(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function Hs(e,t,r,n){if(/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e)return e;if(!/wxfile:\/\//.test(e))if(r||t){r=r.split("/")[0];var a=i.getNodeById(t,n),o=a&&a.is||"";e=r?0===e.indexOf("/")?i.getPluginRoutePrefix(r)+Tt(o,e,!1).replace(/\.html$/,""):Tt(i.convertComponentAliasToRoute(o),e,!1).replace(/\.html$/,""):Tt(o,e,!1).replace(/\.html$/,"")}else e=Tt(we.lastRoute,e,!1).replace(/.html$/,"");return e}function Qs(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+Hs(e,t,r,n)}function $s(e,t){var r=e.setSrc.bind(e),n=e.getSrc.bind(e),i=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):()=>{},a=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):()=>{};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set:function(e){var n=Hs(e,t.nodeId,t.pluginId,t.webviewId);r(n)},get:function(){return n()}}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set(e){a(e)},get:()=>i()}),e}function zs(e){return e&&e.length>0&&e.forEach((e=>{e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function Ys(e){return e&&e.length>0&&e.forEach((e=>{e.clientX=e.x,e.clientY=e.y,e.pageX=e.x,e.pageY=e.y})),e}function Zs(...e){return function(...t){for(var r,n=0;n<e.length;++n){var i=e[n];"function"==typeof i&&(r=0===n?i.apply(null,t):i.call(null,r))}return r}}function qs(){if(Se&&Yr()){var e=255&Number(le.host.version);if(e>=16&&e<=31)return!0}return le.clientVersion>=385881088&&le.clientVersion<=385881343&&sr("WXA_JSAPI_INDEX_useOldCanvas")}var Js={},Xs={};function Ks(e){return"number"==typeof e}function el(e){var t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var r=t[1].slice(0,1),n=t[1].slice(1,2),i=t[1].slice(2,3);return[r=parseInt(r+r,16),n=parseInt(n+n,16),i=parseInt(i+i,16),255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e){return Math.min(255,parseInt(e.trim(),10))})).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e,t){return 3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))}));var a=e.toLowerCase();if(Et(Ns,a)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(Ns[a]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),l=parseInt(t[1].slice(4,6),16),c=parseInt(t[1].slice(6,8),16);return[o,s,l,c=c>=0?c:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function tl(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push(tl(e))})),t}if("object"==typeof e){var r={};for(var n in e)r[n]=tl(e[n]);return r}return e}function rl(e,t){if(!(Ce||ke||Pe||/wxfile:\/\//.test(t)))if(e.pluginId||e.nodeId){var r=e.pluginId.split("/")[0],n=i.getNodeById(e.nodeId,e.webviewId),a=n&&n.is||"";t=r?0===t.indexOf("/")?i.getPluginRoutePrefix(r)+Tt(a,t,!1).replace(/\.html$/,""):Tt(i.convertComponentAliasToRoute(a),t,!1).replace(/\.html$/,""):Tt(a,t,!1).replace(/\.html$/,"")}else t=Tt(we.lastRoute,t,!1).replace(/.html$/,"");return t}class nl{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){_l?this.colorStop.push([e,t]):this.colorStop.push([e,el(t)])}}class il{constructor(e){this.width=e}}class al{constructor(e,t){this.image=e,this.repetition=t}}class ol{constructor(e,t,r,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=Ws(e,t,n,r),this.drawingState=Js[this._id]=Js[this._id]||[],this.state=Xs[this._id]=Xs[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:_l?"#000000":Se?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},Ce||ke){var i=Oe?new Bs.Z.OffscreenCanvas(0,0):document.createElement("canvas");this._context=i.getContext("2d")}}getActions(){var e=tl(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){var r=this.canvasId,n=tl(this.actions),i=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?Fl({isWidgetCanvas:!0,actions:n,reserve:e}):Fl({canvasId:r,actions:n,reserve:e,useHardwareAccelerate:i,complete:t},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,r,n){return new nl("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new nl("radial",[e,t,r])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e._src?e._src:rl(this,e),new al(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){var t;return Ce||ke?(this._context.font=this.state.font,t=this._context.measureText(e)):it("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new il(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=Xs[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:_l?"#000000":Se?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(Ce||_l)&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,a){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,a]}),this.subpath.push([i,a])}arc(e,t,r,n,i,a=!1){if(!Ie||_l)return this.path.push({method:"arc",data:[e,t,r,n,i,a]}),void this.subpath.push([e,t]);var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r;if(this.subpath.push([o,s]),a&&n-i>=2*Math.PI||!a&&i-n>=2*Math.PI)this.subpath.push([o,s]);else{var l=e+Math.cos(i)*r,c=t+Math.sin(i)*r;this.subpath.push([l,c])}this.path.push({method:"arc",data:[e,t,r,n,i,a]})}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]],Ie&&!_l&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,r,n,i,a){if((!Ie||_l)&&!a)return this.path.push({method:"arcTo",data:[e,t,r,n,i]}),void this.subpath.push([r,n]);var o=this.subpath[this.subpath.length-1],s=o[0],l=o[1];if(s===e&&l===t||e===r&&t===n||0===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===r||l===t&&l===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var c,u,d,p,h,f,{sqrt:g,acos:v,sin:m,tan:_,atan:y,PI:A}=Math,b=function(e){return e**2},w=s-e,E=l-t,C=r-e,I=n-t,S=v((w*C+E*I)/(g(b(w)+b(E))*g(b(C)+b(I))))/2,T=Math.round(i/m(S)*1e6)/1e6,x=Math.round(i/_(S)*1e6)/1e6;if(s-e==0)c=e,u=l-t>0?t+x:t-x;else if(l-t==0)c=s-e>0?e+x:e-x,u=t;else{var P=(l-t)/(s-e),k=l-P*s;u=P*(c=(g(b(w)+b(E))*x+w*e+E*t-k*E)/(w+P*E))+k}if(r-e==0)d=e,p=n-t>0?t+x:t-x;else if(n-t==0)d=r-e>0?e+x:e-x,p=t;else{var D=(n-t)/(r-e),R=n-D*r;p=D*(d=(g(b(C)+b(C))*x+C*e+I*t-R*I)/(C+D*I))+R}var O=(c+d)/2-e,M=(u+p)/2-t;if(0===M)h=e,f=M>0?t+T:t-T;else{var L=M/O,N=t-L*e;f=L*(h=(g(b(O)+b(M))*T+e*O+t*M-N*M)/(O+L*M))+N}h=Math.round(1e6*h)/1e6;var B=u-(f=Math.round(1e6*f)/1e6),W=c-h,F=A-2*S,U=y(B/W);0===B&&W<0&&(U=Math.PI);var V=(c-h)*(p-f)-(u-f)*(d-h);this.path.push({method:"arc",data:[h,f,i,U,V>0?U+F:U-F,V<0]}),this.subpath.push([d,p])}getTransform(){return this._transform}clip(){this.actions.push({method:"clip",data:tl(this.path)})}set lineDashOffset(e){if(Ce||ke||Pe)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){Ce||ke||Pe?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){var t;Ce||ke||Pe?this.actions.push({method:"setShadowColor",data:[e]}):(t=_l?e:Se&&0===this.state.shadowBlur?[]:el(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}set shadowOffsetX(e){Ce||ke||Pe?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){Ce||ke||Pe?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;var t=e.match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(t){var r=t[1].trim().split(/\s/),n=parseFloat(t[3]),i=t[7],a=[],o="",s=this;if(r.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(a.push({method:"setFontStyle",data:["normal"]}),s.state.fontStyle="normal"):1===t&&l()})),1===r.length&&l(),o=a.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=i,Ce||ke||Pe)return o=`${o} ${n}px ${i}`,void this.actions.push({method:"setFont",data:[o]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function l(){a.push({method:"setFontWeight",data:["normal"]}),s.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){sl(this,"setFillStyle",e)}set strokeStyle(e){sl(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function sl(e,t,r){"string"==typeof r?_l?e.actions.push({method:t,data:["normal",r]}):e.actions.push({method:t,data:["normal",el(r)]}):"object"==typeof r&&r instanceof nl?e.actions.push({method:t,data:[r.type,r.data,r.colorStop]}):r instanceof al&&e.actions.push({method:t,data:["pattern",r.image,r.repetition]})}[].concat(["scale","rotate","translate","setTransform","transform"],["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"]).forEach((function(e){ol.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:tl(this.path)})}:"fillRect"===e?function(e,t,r,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,r,n]}]})}:"strokeRect"===e?function(e,t,r,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,r,n]}]})}:"fillText"===e||"strokeText"===e?function(t,r,n,i){var a=[t.toString(),r,n];"number"==typeof i&&a.push(i),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,r,n,i,a,o,s,l,c){var u;t=t._src?t._src:rl(this,t),void 0===c&&(o=r,s=n,l=i,c=a,r=void 0,n=void 0,i=void 0,a=void 0),u=Ks(r)&&Ks(n)&&Ks(i)&&Ks(a)?[t,o,s,l,c,r,n,i,a]:Ks(l)&&Ks(c)?[t,o,s,l,c]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e||"setTransform"===e?function(t,r,n,i,a,o){this._transform={a:t,b:r,c:n,d:i,e:a,f:o},this.actions.push({method:e,data:[t,r,n,i,a,o]})}:function(){this._ignoreScale&&"scale"===e?this._ignoreScale=!1:this.actions.push({method:e,data:[].slice.apply(arguments)})}})),["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"].forEach((function(e){"setFillStyle"===e||"setStrokeStyle"===e?ol.prototype[e]=function(){var t=arguments[0];sl(this,e,t)}:"setGlobalAlpha"===e?ol.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?ol.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);_l||(t[3]=Se&&0===t[2]?[]:el(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?ol.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?ol.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:ol.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));var ll={},cl={};function ul({canvasId:e,viewId:t,canvasNumber:r,pluginId:n,position:i,nodeId:a},o){var s=Ws(o,e,n,a),l=pl(s);l.context&&(l=hl(s)),l.context||l.init(r,i.width,i.height,t,o)}function dl({canvasId:e,pluginId:t,nodeId:r,viewId:n,webviewId:i}){var a=Ws(i,e,t,r);delete ll[a],delete cl[n]}function pl(e){return ll[e]?ll[e]:hl(e)}function hl(e){var t=new fl(e);return ll[e]=t,t}Ie&&Y("onXWebCanvasSurfaceChange",((e={})=>{var t=cl[e.viewId];t&&"function"==typeof t.swapSurface&&t.swapSurface()})),f("skiaCanvasSizeChanged",(({canvasId:e,pluginId:t,nodeId:r,position:n},i)=>{var a=Ws(i,e,t,r),o=ll[a];0===n.width&&0===n.height||!o||o.width===n.width&&o.height===n.height||(o.width=n.width,o.height=n.height,o.canvas&&o.context&&(o.canvas.width=n.width,o.canvas.height=n.height,o.needsReplay()&&o.replayActions()))}));class fl{constructor(e){this.id=e,this.width=0,this.height=0,this.context=null,this._actionsDefer=[],this._actionsWaiting=!1,this._images=[],this._actionsQueue=[],this._contextPromise=new Promise((e=>{this._resolveContext=e}))}init(e,t,r,n){this.width=t,this.height=r,Se&&(this.canvas=new l.g.Canvas(e),this.context=this.canvas.getContext("2d")),Ie&&(this.canvasView=HTMLCanvasView.createView(n),cl[n]=this.canvasView,this.canvas=HTMLCanvasElement.createElement(this.canvasView),this.context=this.canvas.getContext("2d")),this._resolveContext&&this._resolveContext(this.context)}preloadImage(e){e.forEach((e=>{var t="",r=e.method,n=e.data;"drawImage"===r?t=n[0]:"setFillStyle"===r&&"pattern"===n[0]&&(t=n[1]),t&&!this._images[t]&&(Se?(this._images[t]=new l.g.Image,this._images[t].onload=()=>{this._images[t].ready=!0}):Ie&&(this._images[t]=new SkiaImage,this._images[t].onload=()=>{this._images[t].ready=!0}),this._images[t].setSrc(t))}))}checkImageLoaded(e,t,r){var n=this._images[e];return n.ready?(r(n),!0):(this._actionsDefer.unshift([t,!0]),this._actionsWaiting=!0,n.onload=()=>{n.ready=!0,r(n),this._actionsWaiting=!1;var e=this._actionsDefer.slice(0);this._actionsDefer=[];for(var t=e.shift();t;)this.draw(t[0],t[1],t[2],this._webviewId,this._nodeId,this._pluginId),t=e.shift()},!1)}draw(e,t,r,n,i,a){this._webviewId=n,this._nodeId=i,this._pluginId=a,this.context?this._draw(e,t,r,n,i,a):this._contextPromise.then((()=>(this._draw(e,t,r,n,i,a),null))).catch((()=>{}))}_draw(e,t,r,n,i,a){var o=this,s=this.context;if(e)if(t||this._flushQueue(),this._enqueue({actions:e,reserve:t}),this._actionsWaiting)this._actionsDefer.push([e,t,r]);else{t||(s.fillStyle="#000000",s.strokeStyle="#000000",s.shadowColor="#000000",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0,s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,this.width,this.height)),this.preloadImage(e,n,i,a),s.save();for(var l=function(t){var r=e[t],n=r.method,i=r.data;if(/^set/.test(n)&&"setTransform"!==n){var a=n[3].toLowerCase()+n.slice(4),l=void 0;if("fillStyle"===a||"strokeStyle"===a){if("normal"===i[0])l=i[1];else if("linear"===i[0])l=s.createLinearGradient(...i[1]),i[2].forEach((function(e){var t=e[0],r=e[1];l.addColorStop(t,r)}));else if("radial"===i[0]){var c=i[1][0],u=i[1][1],d=[c,u,0,c,u,i[1][2]];l=s.createRadialGradient(...d),i[2].forEach((function(e){var t=e[0],r=e[1];l.addColorStop(t,r)}))}else if("pattern"===i[0]){return o.checkImageLoaded(i[1],e.slice(t+1),(e=>{e&&(s[a]=s.createPattern(e,i[2]))}))?"continue":"break"}s[a]=l}else if("globalAlpha"===a)s[a]=i[0]/255;else if("shadow"===a){var p=["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"];i.forEach((function(e,t){s[p[t]]=e}))}else"fontSize"===a?s.font=s.font.replace(/\d+\.?\d*px/,i[0]+"px"):"lineDash"===a?(s.setLineDash(i[0]),s.lineDashOffset=i[1]||0):"textBaseline"===a?("normal"===i[0]&&(i[0]="alphabetic"),s[a]=i[0]):s[a]=i[0]}else if("fillPath"===n||"strokePath"===n)n=n.replace(/Path/,""),s.beginPath(),i.forEach((function(e){s[e.method](...e.data)})),s[n]();else if("fillText"===n){var[h,...f]=i;f&&f.map&&(f=f.map((e=>"string"==typeof e?parseFloat(e):e))),s.fillText(h,...f)}else if("drawImage"===n){var[g,...v]=i;if(o._images=o._images||{},v&&v.map&&(v=v.map((e=>"string"==typeof e?parseFloat(e):e))),!o.checkImageLoaded(g,e.slice(t+1),(e=>{e&&s.drawImage.apply(s,[e,...v.slice(4,8),...v.slice(0,4)])})))return"break"}else if("clip"===n)i.forEach((function(e){s[e.method](...e.data)})),s.clip();else if("arcTo"===n||"rotate"===n){var m=i;i&&i.map&&(m=i.map((e=>"string"==typeof e?parseFloat(e):e))),s[n](...m)}else if("strokeText"===n){var[_,...y]=i;y&&y.map&&(y=y.map((e=>"string"==typeof e?parseFloat(e):e))),s[n](_,...y)}else s[n](...i)},c=0;c<e.length;c++){var u=l(c);if("break"===u)break}s.restore(),Ie&&this.canvasView.present(),this._actionsWaiting||"function"==typeof r&&r()}}getImageData(e={}){this.context?this._getImageData(e):this._contextPromise.then((()=>(this._getImageData(e),null))).catch((()=>{}))}_getImageData(e={}){var t;try{var{x:r,y:n,width:i,height:a}=e||{};t=this.context.getImageData(r,n,i,a)}catch(t){return void Xt(e,t)}t?function(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}(e,{width:t.width,height:t.height,data:t.data}):Xt("canvasGetImageData:fail")}putImageData(e={}){this.context?this._putImageData(e):this._contextPromise.then((()=>(this._putImageData(e),null))).catch((()=>{}))}_putImageData(e={}){try{var t,{x:r,y:n,width:i,height:a,data:o}=e||{};Se?t=new l.g.ImageData(o,i,a):Ie&&(t=new SkiaImageData(o,i,a)),Ie&&this.canvasView.prepareDraw(),this.context.putImageData(t,r,n),Ie&&this.canvasView.present()}catch(t){return void Xt(e,t)}!function(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)}(e,"canvasPutImageData:ok")}replayActions(){var e=()=>{};this._actionsQueue.forEach((t=>{this.draw(t.actions,t.reserve,e,this._webviewId,this._nodeId,this._pluginId)}))}needsReplay(){return this._actionsQueue.length>0}_flushQueue(){this._actionsQueue=[]}_enqueue(e){this._actionsQueue.push(e)}}var gl=Ie&&le.useXWebCanvas,vl=Se&&le.useSkiaCanvas,ml=Ie&&le.useNewXWebCanvasToTFP,_l=gl||vl,yl=()=>{},Al={},bl={},wl={},El={},Cl=0,Il=0,Sl=4500,Tl=Date.now,xl=Fs("onCanvasMethodCallback"),Pl=Fs("onDrawCanvas");function kl({canvasId:e,pluginId:t,nodeId:r,viewId:n,webviewId:i}){var a=Ws(i,e,t,r);wl[a]&&delete wl[a],_l&&dl({webviewId:i,canvasId:e,pluginId:t,nodeId:r,viewId:n})}function Dl(e,t,r){var n={errMsg:`${e}: ${r||"fail canvas is empty"}`},i=__errorTracer__.surroundThirdByTryCatch(t.fail||yl,`at api ${e} fail callback function`),a=__errorTracer__.surroundThirdByTryCatch(t.complete||yl,`at api ${e} complete callback function`);i(n),a(n)}function Rl(e,t="",r=""){var n=Ws(we.currentWebviewId,e.canvasId,r,t),i=Mt({},e);if("number"==typeof wl[n]||_l){if(i.canvasId=wl[n],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.width=Number(i.width)||0,i.height=Number(i.height)||0,0===i.width)return void Dl("canvasGetImageData",e,"the source width is 0");if(0===i.height)return void Dl("canvasGetImageData",e,"the source height is 0");if(_l)return void pl(n).getImageData(i);if(Ce||Te||xe||Pe)i.method="getImageData",xl(i,(function(t){var r={width:t.width,height:t.height,data:Oe?new Uint8ClampedArray(t.data):Gs(t.data)};"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)})),h("invokeCanvasMethod",i);else{var a=i.success,o=i.fail;i.success=e=>{"[object ArrayBuffer]"===Object.prototype.toString.call(e.data)?(e.width=i.width,e.height=i.height,e.data=new Uint8ClampedArray(e.data),"function"==typeof a&&a(e)):(delete e.data,e.errMsg="canvasGetImageData: fail","function"==typeof o&&o(e))},it("canvasGetImageData",i)}}else Dl("canvasGetImageData",e)}function Ol(e,t){Rl(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"")}function Ml(e,t,r){Rl(e,r,t)}function Ll(e,t="",r=""){var n=Ws(we.currentWebviewId,e.canvasId,r,t),i=Mt({},e);if("number"==typeof i.width)if(i.data&&"[object Uint8ClampedArray]"===Object.prototype.toString.call(i.data))if("number"==typeof wl[n]||_l){if(i.canvasId=wl[n],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.height="number"==typeof i.height?i.height:i.data.length/i.width/4|0,i.width*i.height*4!==i.data.length)return void Dl("canvasPutImageData",e,"invalid data format");if(Ce||Te||xe||Pe)i.data=Te||Pe?WeixinNativeBuffer.new(i.data.buffer).id:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return(window.__global||window).btoa(t)}(i.data),i.method="putImageData",h("invokeCanvasMethod",i),"function"==typeof e.success&&e.success({errMsg:"canvasPutImageData:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"canvasPutImageData:ok"});else{if(i.data=i.data.buffer,_l)return i.data=e.data,void pl(n).putImageData(i);it("canvasPutImageData",i)}}else Dl("canvasPutImageData",e);else Dl("canvasPutImageData",e,"data argument must be an Uint8ClampedArray");else Dl("canvasPutImageData",e,"invalid width argument")}function Nl(e,t){Ll(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"")}function Bl(e,t,r){Ll(e,r,t)}function Wl(e,t,r=!1,n,i,a,o){if(Ce||Te||xe||Pe){var s={actions:t,reserve:r,canvasId:e};Pl(s,(function(e){"function"==typeof o&&o({errMsg:e.errMsg})})),h("canvasActionsChanged",s)}else it("drawCanvas",{canvasId:e,reserve:r,useHardwareAccelerate:n,actions:t,success:i,fail:a,complete:o})}function Fl({isWidgetCanvas:e,canvasId:t,actions:r,reserve:n,useHardwareAccelerate:i,success:a,fail:o,complete:s},l=we.currentWebviewId,c="",u=""){var d=Tl();if(Array.isArray(r)){if(e){if(d-Cl<Sl){var p={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return(Il+=1)>500&&(Il=0,console.warn(p.errMsg)),void("function"==typeof o&&o(p))}return Cl=d,void it("drawCanvas",{canvasId:void 0,reserve:n,actions:r,success:a,fail:o,complete:s})}var h=Ws(l,t,c,u);if(_l)pl(h).draw(r,n,s,l,u,c);else if("number"==typeof wl[h])Wl(wl[h],r,n,i,a,o,s);else El[h]=El[h]||[],El[h]=El[h].concat({actions:r,reserve:n,useHardwareAccelerate:i,success:a,fail:o,complete:s})}}function Ul(e){Fl(e)}function Vl(e,t,r){Fl(e,we.currentWebviewId,t,r)}"undefined"!=typeof __widgetConfig__&&(Sl="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),f("canvasInsert",(({canvasId:e,viewId:t,canvasNumber:r,pluginId:n,data:i,position:a,nodeId:o,compPath:s},l)=>{_l&&ul({canvasId:e,viewId:t,canvasNumber:r,pluginId:n,position:a,nodeId:o},l);var c=Ws(l,e,n,o);Al[r]={lastTouches:[],data:i,compPath:s},wl[c]=r,bl[r]=a,Array.isArray(El[c])&&(El[c].forEach((function(e){Wl(r,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)})),delete El[c]),dn(l,(()=>{kl({canvasId:e,pluginId:n,nodeId:o,viewId:t,webviewId:l})}))})),f("canvasUpdate",(({canvasNumber:e,position:t})=>{Et(bl,e)&&(bl[e]=t)})),f("canvasRemove",(({canvasId:e,pluginId:t,nodeId:r,viewId:n},i)=>{kl({canvasId:e,pluginId:t,nodeId:r,viewId:n,webviewId:i})}));var jl=null,Gl=(e,t,r,n)=>{e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width):r-e.x,e.height=e.height?Math.min(n-e.y,e.height):n-e.y,e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t},Hl=(e,t)=>{var r=Mt({},t);r.success=t.success,r.fail=t.fail,r.complete=t.complete;var n=300,i=150;Et(bl,t.canvasId)&&(n=bl[t.canvasId].width,i=bl[t.canvasId].height),!Se||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?Gl(r,e.pixelRatio,n,i):((e,t,r,n)=>{r*=t,n*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width*t):r-e.x,e.height=e.height?Math.min(n-e.y,e.height*t):n-e.y,e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t})(r,e.pixelRatio,n,i),it("canvasToTempFilePath",r)};function Ql(e,t){if(e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,e.canvas){var r=e.canvas;delete e.canvas;var n=r._width?r.width/r._width:jl.pixelRatio;if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,Ie){if(e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||r.width-e.x,e.height=Number(e.height)||r.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>r.width&&(e.width=r.width-e.x),e.y+e.height>r.height&&(e.height=r.height-e.y),0===e.width)return void Xt(e,"width is 0");if(0===e.height)return void Xt(e,"height is 0");var i=r._ctx.getImageData(e.x,e.y,e.width,e.height);return void(ml?(e.viewId=r.id,it("xwebCanvasToTempFilePath",e)):(e.data=i.data.buffer,it("canvasToTempFilePath",e)))}if(Se)return e.canvasId=r.id,Gl(e,n,r.width/n,r.height/n),void setTimeout((()=>{it("canvasToTempFilePath",e)}),100);if(Ce){e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||r.width-e.x,e.height=Number(e.height)||r.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>r.width&&(e.width=r.width-e.x),e.y+e.height>r.height&&(e.height=r.height-e.y);var a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.destWidth,a.height=e.destHeight,o.drawImage(r._canvasRef,e.x,e.y,e.width,e.height,0,0,e.destWidth,e.destHeight);var s=a.toDataURL(e.fileType,e.quality);return s=s.replace(/^data:image\/(jpg|png|jpeg);base64,/,""),void it("base64ToTempFilePath",Mt({base64Data:s},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})}}if(Ce||Te||xe||Pe)e.method="toDataURL",xl(e,(function({dataUrl:t}){it("base64ToTempFilePath",Mt({base64Data:t},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})})),h("invokeCanvasMethod",e);else if(_l&&Ie){var l=pl(t);l._contextPromise.then((()=>{e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||l.width-e.x,e.height=Number(e.height)||l.height-e.y,0!==e.width?0!==e.height?l.getImageData({x:e.x,y:e.y,width:e.width,height:e.height,success(t){e.data=t.data.buffer,it("canvasToTempFilePath",e)},fail(){Xt(e,"fail")}}):Xt(e,"height is 0"):Xt(e,"width is 0")}))}else jl||(jl=oa()),Hl(jl,e)}function $l(e,t="",r=""){if(e.canvasId||e.canvas){var n=Ws(we.currentWebviewId,e.canvasId,r,t);if(e.canvas)return jl||(jl=oa()),void Ql(e,n);"number"==typeof wl[n]?(e.canvasId=wl[n],Ql(e)):Dl("canvasToTempFilePath",e)}}function zl(e,t){$l(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"")}function Yl(e,t,r){$l(e,r,t)}function Zl(e={}){var t=Ws(we.currentWebviewId,e.canvasId),r=Object.assign({},e),n=r.success,i=r.complete;r.success=function(e){var t=`${`data:image/${r.fileType||"png"}`};base64,${e.data}`;"function"==typeof n&&n({dataURL:t}),"function"==typeof i&&i({dataURL:t})},r.complete=yl,"number"==typeof wl[t]?(r.canvasId=wl[t],function(e){Ce||Te||xe||Pe?(e.method="toDataURL",xl(e,(function({dataUrl:t}){e.success({data:t})})),h("invokeCanvasMethod",e)):it("canvasToData",e)}(r)):Dl("canvasToDataURL",e)}var ql=()=>new ol,Jl=(e,t,r="",n="")=>new ol(e,t,r,n),Xl=(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"";return Jl(we.currentWebviewId,e,r)},Kl=(e,t,r)=>Jl(we.currentWebviewId,e,r,t);function ec(){return l.g.WeixinCanvas}class tc{_init(){}_onReady(){}_initCanvasInstance(){}getContext(){}createImage(){}requestAnimationFrame(){}cancelAnimationFrame(){}get width(){}set width(e){}get height(){}set height(e){}}var rc=new ee,nc={map:{},set(e){var t=W();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},ic=0,ac={};le.onReady((()=>{ic=le.appType,ac=le.appLaunchInfo}));var oc=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},sc=["getAccountInfoSync","getLaunchOptionsSync","arrayBufferToBase64","base64ToArrayBuffer","getExtConfig","getExtConfigSync","canIUse","setPageStyle","onError","offError"],lc=({name:e,data:t})=>{var n=void 0!==a?a.getCurrentPagesByDomain(""):[],i=n.length>0&&n[n.length-1].__route__||"",o=Ki(),s=r&&r.version&&r.version.version||"",l="";switch(e){case"loadFontFace":l=oc(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":l=oc(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":l=oc(t,["extInfo","corpId"])}var c=[Math.round(Date.now()/1e3),ac.scene,ac.sessionid||ac.sessionId,i,o,s,e,l,ic,1,""].join(",");Reporter.reportKeyValue({key:"APIUse",value:c,immediately:!0})},cc={};function uc(e){var t=we.currentWebviewId;cc[t]=cc[t]||{},cc[t][e]=!0}Io((()=>{var e=!1;Object.keys(cc).forEach((t=>{var r=cc[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&lc({name:"suspectAR",data:{}}),cc={}}));var dc={query:{},scene:0,sceneNote:""},pc=0,hc=[],fc=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:hc,appType:Reporter.getAppType()},null,2);it("reportRealtimeAction",{actionData:e}),hc=[]},gc=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var i=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=i}catch(e){}})),t},vc=(e,t,r,n,i,o,s,l=0,c=0,u={})=>{t.length>1024&&(t=t.substring(0,1024));var d="",p="",h=0,f="";if(jr()?(p=gc(dc.query),h=dc.scene,f=dc.sceneNote):(h=we.scene,f=we.sceneNote),void 0!==a){var g=a.getCurrentPages();if(g&&g.length>0){var v=g[g.length-1];v&&(d=v.route,p=v.__displayReporter&&v.__displayReporter.showOptions&&v.__displayReporter.showOptions.query)}}var m=[e,t,r,n,i,Reporter.getAppType(),o,l,Ki(),d,p,c,gc(u),h,f].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:m}),Reporter.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`}),hc.push([e,t,r,o||"",n,i,Ki(),s?"1":"0",Reporter.getAppType(),l].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Date.now()-pc>=6e4&&(pc=Date.now(),setTimeout(fc,6e4))};class mc{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){P(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==__errorTracer__)__errorTracer__.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==__subContextEngine__)__subContextEngine__.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}var _c=e=>{ct("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,it("openDocument",e))},yc=0,Ac="",bc="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",wc="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";w(bc)&&(bc=bc.replace(" ","")),w(wc)&&(wc=wc.replace(" ","-"));var Ec=Date.now(),Cc=Date.now();function Ic(){if(void 0===a)return"";var e=a.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}le.onReady((()=>{Ec=Date.now(),Cc=Date.now()})),le.onReady((()=>{yc=le.appLaunchInfo.scene,Ac=le.appLaunchInfo.sessionid||le.appLaunchInfo.sessionId,oe("onAppEnterForeground",(e=>{Cc=Date.now(),e&&e.scene&&(yc=e.scene),e&&(e.sessionid||e.sessionId)&&(Ac=e.sessionid||e.sessionId)}))}));var Sc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString"],Tc=["chooseMedia","chooseVideo","compressVideo","createCameraContext","stopRecord"],xc=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],Pc=new WeakSet,kc=[{match:/^connectSocket/,version:1},{match:/^request/,version:1},{match:/^downloadFile/,version:1}];function Dc(){return 1e4*Date.now()+Math.round(9999*Math.random())}function Rc(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);return!n.get&&(!!n.writable&&(!(!t||"_"===t[0])&&(!Sc.includes(t)&&(!(r&&!Tc.includes(t))&&!!P(e[t])))))}function Oc(e,...t){P(e)&&e(...t)}function Mc(e,t=!0){var r=b(e);switch(r){case"Number":case"Boolean":return e;case"String":return Lc(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${Mc(e.message)}|${Mc(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${Mc(t)}=${Mc(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;default:return`[${r}]`}}function Lc(e){return t=>w(t)&&t.length>e?t.substr(0,e):t}function Nc(e,t,r,n,i,a,o,s,l,c){var u=0;for(var d of(kc.forEach((({match:t,version:r})=>("string"==typeof t?e===t&&(u=r):t instanceof RegExp&&t.test(e)&&(u=r),!1))),xc))if(d.test(e)){r="",s="";break}var p=Wn.get("api_call_from_hot_boot_time",Cc),h=[e,t,Mc(r),n,i,Date.now()-i,a,o,Mc(s),le.appType+1e3,yc,bc,wc,u,l,Ic(),Ac,Date.now()-Ec,Date.now()-p].map(Lc(1024)).join(",");c||1!==o||(Reporter.reportIDKey({key:"asyncApiCount"}),Reporter.reportIDKey({key:"asyncApiCost",value:Date.now()-i})),Reporter.reportKeyValue({key:c?"WeAppInvoke2":"WeAppInvoke",value:h})}var Bc=Map,Wc=Math.random;function Fc(e,t,r,n,i,a=!1,o=!1){if(T(t)){var s=new Bc;for(var l of Object.getOwnPropertyNames(t))Rc(t,l,a)&&s.set(l,t[l]);var c=Object.getPrototypeOf(t);for(var u of Object.getOwnPropertyNames(c))Rc(c,u,a)&&s.set(u,c[u]);s.forEach(((s,l)=>{var c,u=`${e}${l}`;o?t[l]=new Proxy(t[l],{construct(e,t){var r=Ki(),n=Date.now(),o=Dc();c=t;try{var s=Reflect.construct(e,t);return Nc(u,o,t,null===s?0:1,n,r,0,s,i,a),s}catch(e){throw Nc(u,o,c,0,n,r,0,e,i,a),e}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]}):t[l]=function(e,...o){if(Wc()>n){var l=s.call(t,e,...o);return r&&T(l)&&!Pc.has(l)&&(Fc(`${u}.`,l,!1,n,i,a),Pc.add(l)),l}var c=Ki(),d=Date.now(),p=Dc();try{var h=s.call(t,T(e)&&("success"in e||"fail"in e||"complete"in e)?Object.assign({},e,{success:t=>{Nc(u,p,e,1,d,c,1,t,i,a),Oc(e.success,t)},fail:t=>{Nc(u,p,e,0,d,c,1,t,i,a),Oc(e.fail,t)}}):e,...o);return Nc(u,p,e,null===h?0:1,d,c,0,h,i,a),r&&T(h)&&!Pc.has(h)&&(Fc(`${u}.`,h,!1,n,i,a),Pc.add(h)),h}catch(t){throw Nc(u,p,e,0,d,c,0,t,i,a),t}}}))}}var Uc=!1;function Vc(e,t){kc.push({match:e,version:t})}var jc=Bs.Z.fs,Gc=!1;jc&&jc.FileReader&&le.onReady((()=>{var e=!1,t=Se?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";ki({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(Vc(/readFile(?:Sync)?$/,1),e=!0)},fail(e){}});var r=sr("bindingReadFile");Gc=e||r}));var Hc=(e={})=>{if(ct("readFile",e,{filePath:""}))if(I(e.encoding)||w(e.encoding))if(I(e.position)||E(e.position))if(I(e.length)||E(e.length))if(Gc){var t=new jc.FileReader;t.onerror=t=>dt("readFile",e,t),t.onread=t=>pt({name:"readFile",args:e,res:{data:t}}),t.read(e.filePath,e.encoding)}else it("readFile",e);else dt("readFile",e,`invalid length: ${e.length}`);else dt("readFile",e,`invalid position: ${e.position}`);else dt("readFile",e,`invalid encoding: ${e.encoding}`)},Qc=(e,t,r,n)=>{if(!e||!w(e))throw new Ft(`invalid filePath: ${e}`);if(!I(t)&&!w(t))throw new Ft(`invalid encoding: ${t}`);if(!I(r)&&!E(r))throw new Ft(`invalid position: ${r}`);if(!I(n)&&!E(n))throw new Ft(`invalid length: ${n}`);if(Gc)try{return jc.readFileSync(e,t)}catch(a){throw new Error(a)}var i,a;if(it("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){i=e.data},fail(e){a=e.errMsg}}),a)throw new Error(a);return i},$c=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"];class zc{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var Yc=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new zc(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new zc(e.stats[""]);else{var n=[],i=e.stats;Ie&&(i=e,n.push({path:"/",stats:Zc(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new zc(t)}),delete i[e]}})),e.stats=n}},Zc=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n;if(it("statSync",{path:e,recursive:t,success(t){Yc(t,e),r=t.stats},fail(e){n=e.errMsg}}),n)throw new Error(n);return r},qc="readZipEntry",Jc=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],Xc=l.g.WeixinArrayBuffer;delete l.g.WeixinArrayBuffer;var Kc=Xc,eu={saveFile:e=>{ct("saveFile",e,{tempFilePath:""})&&it("saveFile",e)},saveFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(it("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},getSavedFileList:(e={})=>{it("getSavedFileList",e)},getSavedFileInfo:(e={})=>{ct("getSavedFileInfo",e,{filePath:""})&&it("getSavedFileInfo",e)},removeSavedFile:(e={})=>{ct("removeSavedFile",e,{filePath:""})&&it("removeSavedFile",e)},getFileInfo:(e={})=>{if(ct("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=D(e,{digestAlgorithm:""});if(t)return void dt("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void dt("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}it("getFileInfo",e,{})}},readFile:Hc,readFileSync:Qc,writeFile:(e={})=>{ct("writeFile",e,{filePath:""})&&(e.encoding&&-1===$c.indexOf(e.encoding)?dt("writeFile",e,`invalid encoding "${e.encoding}"`):it("writeFile",e,{}))},writeFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===$c.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n;if(it("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg}}),n)throw new Error(n)},mkdir:(e={})=>{ct("mkdir",e,{dirPath:""})&&it("mkdir",e)},mkdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r;if(it("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg}}),r)throw new Error(r)},rmdir:(e={})=>{ct("rmdir",e,{dirPath:""})&&it("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r;if(it("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg}}),r)throw new Error(r)},readdir:(e={})=>{(ke||"wxfile://"!==e.dirPath)&&(!ke||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?ct("readdir",e,{dirPath:""})&&it("readdir",e):dt("readdir",e,"path permission denied")},readdirSync:e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r;if(it("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg}}),r)throw new Error(r);return t},access:(e={})=>{ct("access",e,{path:""})&&it("access",e)},accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if(it("accessSync",{path:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},unlink:(e={})=>{ct("unlink",e,{filePath:""})&&it("unlink",e)},unlinkSync:e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t;if(it("unlinkSync",{filePath:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},stat:(e={})=>{ct("stat",e,{path:""})&&it("stat",e,{beforeSuccess:t=>{Yc(t,e.path)}})},statSync:Zc,unzip:(e={})=>{ct("unzip",e,{zipFilePath:""})&&it("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:(e={})=>{ct("copyFile",e,{srcPath:"",destPath:""})&&it("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r;if(it("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:")}}),r)throw new Error(r)},rename:(e={})=>{ct("rename",e,{oldPath:"",newPath:""})&&it("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r;if(it("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,"")}}),r)throw new Error(r)},appendFile:(e={})=>{ct("appendFile",e,{filePath:""})&&(e.encoding&&-1===$c.indexOf(e.encoding)?dt("appendFile",e,`invalid encoding "${e.encoding}"`):it("fs_appendFile",e,{}))},appendFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===$c.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n;if(it("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg}}),n)throw new Error(n)},readZipEntry:(e={})=>{ct(qc,e,{filePath:""})&&(I(e.encoding)||-1!==$c.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?it(qc,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg="readZipEntry:ok":e.entries[t].errMsg=`readZipEntry:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):dt(qc,e,"invalid entries"):dt(qc,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);ct("open",e,{filePath:""})&&(void 0===e.flag||Jc.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),it("open",t)):dt("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,{filePath:n}=e,{flag:i}=e;if(!n||"string"!=typeof n)throw new TypeError("filePath must be a string");if(void 0!==i&&!Jc.includes(i))throw new Ft(`invalid flag: ${i}`);if(void 0===i&&(i="r"),it("openSync",{filePath:n,flag:i,fail(e){r=e.errMsg},success(e){t=e.fd}}),r)throw new Error(r);return t},truncate:(e={})=>{ct("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),it("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),it("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg}}),r)throw new Error(r)}},tu={close:(e={})=>{ct("close",e,{fd:""})&&it("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t;if(it("closeSync",{fd:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},fstat:(e={})=>{ct("fstat",e,{fd:""})&&it("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new zc({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(it("fstatSync",{fd:e,fail(e){r=e.errMsg},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:a}=e;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new zc({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:a})}}),r)throw new Error(r);return t},write:(e={})=>{var t=Object.assign({},e);if(ct("write",t,{fd:""}))if(t.encoding&&-1===$c.indexOf(t.encoding))dt("write",t,`invalid encoding "${t.encoding}"`);else{if(k(t.data)){if(t.data.byteLength>10485760)return void dt("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!w(t.data))return void dt("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),it("write",t)}},writeSync:({fd:e,data:t,offset:r,length:n,encoding:i,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(i&&-1===$c.indexOf(i))throw new Ft(`invalid encoding "${i}"`);if(k(t)){if(t.byteLength>10485760)throw new Ft("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!w(t))throw new TypeError("data must be a string or ArrayBuffer");var o,s;if("number"!=typeof a&&(a=void 0),it("writeSync",{fd:e,data:t,offset:r,length:n,encoding:i,position:a,fail(e){o=e.errMsg},success(e){s={bytesWritten:e.bytesWritten}}}),o)throw new Error(o);return s},read:(e={})=>{if(ct("read",e,{fd:""}))if(k(e.arrayBuffer)){var t=Object.assign({},e);Se&&Kc&&Kc.trace&&(t.arrayBufferId=Kc.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),E(t.position)&&t.position<0?t.position=0:I(t.position)||S(t.position)?t.position=null:E(t.position)||(t.position=0);var r=Number(t.length);Number.isNaN(r)?t.length=0:t.length=r;var n=Number(t.offset);Number.isNaN(n)?t.offset=0:t.offset=n,it("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){Se&&Kc&&Kc.untrace&&Kc.untrace(t.arrayBufferId)}})}else dt("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!k(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e);Se&&Kc&&Kc.trace&&(n.arrayBufferId=Kc.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),E(n.position)&&n.position<0?n.position=0:I(n.position)||S(n.position)?n.position=null:E(n.position)||(n.position=0);var i=Number(n.length);Number.isNaN(i)?n.length=0:n.length=i;var a,o,s=Number(n.offset);if(Number.isNaN(s)?n.offset=0:n.offset=s,it("readSync",O()(O()({},n),{},{fail(e){o=e.errMsg},success(e){a={bytesRead:e.bytesRead,arrayBuffer:r}}})),Se&&Kc&&Kc.untrace&&Kc.untrace(n.arrayBufferId),o)throw new Error(o);return a},ftruncate:(e={})=>{ct("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),it("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),it("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg}}),r)throw new Error(r)}},ru="",nu="",iu="",au=e=>`${iu}/${e}`;le.onReady((()=>{try{ru=le.env.USER_DATA_PATH,nu=le.env.OPEN_DATA_PATH,delete le.env.OPEN_DATA_PATH,iu=ru+"/__plugins__"}catch(e){}}));var ou={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null},su={openSync:!0,truncateSync:!0},lu=(e,t="")=>{var r={},n=new Set;return Object.keys(eu).forEach((i=>{var a=eu[i];if(!I(ou[i])){r[i]=(...r)=>{if(null===ou[i])return a(...r);var n=i.endsWith("Sync"),o=!n||su[i]?r[0]:r,s=ou[i].every((r=>((e,t,r)=>"string"!=typeof e||!e.startsWith("wxfile://ad")&&(!zr()||!e.startsWith("wxfile://usr")&&!e.startsWith("http://usr"))&&("opendata"===t?!e.startsWith(ru):"game"===t?!e.startsWith(nu):"app"===t?!e.startsWith(nu)&&!e.startsWith(iu)&&!e.match(/__plugin__\/wx[a-z0-9]{16}/):"app-plugin"===t&&!e.startsWith(nu)&&(!e.startsWith(ru)||e.startsWith(au(r)))))(o[r],e,t)));if("app-plugin"===e&&ou[i].forEach((e=>{var n=i.endsWith("Sync")?r:r[0];if("string"==typeof n[e]&&!n[e].match(/^[a-zA-Z0-9]+:\/\//)){var a=`plugin-private://${t}`;n[e].startsWith("/")||(a+="/"),n[e]=xt(a+n[e])}})),s)return a(...r);if(n)throw new Error(`${i}:fail permission denied`);dt(i,o,"permission denied")};var o=r[i];"open"===i?r[i]=(e={})=>{var{success:t}=e;o(Object.assign({},e,{success:e=>{n.add(e.fd),"function"==typeof t&&t(e)}}))}:"openSync"===i?r[i]=(e={})=>{var t=o(e);return n.add(t),t}:"close"===i?r[i]=(e={})=>{var{fd:t,success:r}=e;o(Object.assign({},e,{fd:t,success:e=>{n.delete(t),"function"==typeof r&&r(e)}}))}:"closeSync"===i&&(r[i]=(e={})=>{var{fd:t}=e;o({fd:t}),n.delete(t)})}})),Object.keys(tu).forEach((e=>{var t=tu[e];r[e]=(r={})=>{var{fd:i}=r;if(n.has(i))return t(Object.assign({},r,{fd:i}));if(e.endsWith("Sync"))throw new Error(`${e}:fail invalid fd`);dt(e,r,"invalid fd")}})),r},cu={app:lu("app"),game:lu("game"),opendata:lu("opendata")},uu=Object.assign({},eu,tu);var{saveFile:du,saveFileSync:pu,getSavedFileList:hu,getSavedFileInfo:fu,removeSavedFile:gu,getFileInfo:vu,readFile:mu,readFileSync:_u,writeFile:yu,writeFileSync:Au,mkdir:bu,mkdirSync:wu,rmdir:Eu,rmdirSync:Cu,readdir:Iu,readdirSync:Su,access:Tu,accessSync:xu,unlink:Pu,unlinkSync:ku,stat:Du,statSync:Ru,unzip:Ou,copyFile:Mu,copyFileSync:Lu,rename:Nu,renameSync:Bu,appendFile:Wu,appendFileSync:Fu}=cu.app;class Uu{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new Uu((t=>t(e)))}static reject(e){return new Uu((()=>{throw e}))}}var Vu,ju,Gu=(Vu=!1,Ie&&le.onReady((()=>{ki({experimentId:"clicfg_appbrand_android_createdownloadtaskasync",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Vu=!0,Vc(/^downloadFile/,3))},fail(e){}})})),()=>Vu),Hu=(()=>{var e=!1;return Ie&&le.onReady((()=>{ki({experimentId:"clicfg_appbrand_android_createrequesttaskasync",experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,Vc(/^request/,3))},fail(e){}})})),()=>e})(),Qu=(ju={},e=>{if(C(ju[e]))return ju[e];if(Le)ju[e]=!0;else if(Ie)switch(e){case"Download":(Gu()||$u())&&(ju[e]=!0);break;case"Request":(Hu()||$u())&&(ju[e]=!0)}else ju[e]=!1;return ju[e]}),$u=()=>Object.keys(le.gamePlugins||le.plugins||{}).some((e=>{var t=(le.gamePlugins||le.plugins)[e];return!(!t||"wx20afc706a711eefc"!==t.provider&&"wx4d5893418b75cb20"!==t.provider)})),zu=Gr(Du),Yu=0,Zu=new WeakMap,qu=new WeakMap,Ju=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,ed=new WeakMap,td=new WeakMap,rd=new WeakMap,nd=new WeakMap,id=new WeakMap,ad={},od=new mc("Network",!0),sd=wxNativeConsole.createLogger("NetworkTask");class ld{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:i}){var a=Yu++;Zu.set(this,a),Ju.set(this,"waiting"),Xu.set(this,e),Ku.set(this,t),td.set(this,r),rd.set(this,n),P(i)&&nd.set(this,i);var o=!1;(Qu(t)||(Se||Ie)&&e.forceCellularNetwork)&&(o=!0),id.set(this,o),this.promise=new Uu(((e,t)=>{this.resolve=e,this.reject=t}));var s=()=>{gd.call(this)?ad[t].taskQueue.push({id:a,item:this}):ud.call(this)};P(e.customCheck)?e.customCheck(e,(r=>{r?cd(t,e,r):s()})):s()}abort(){if(sd.info(`[${Ku.get(this)}][${Zu.get(this)}]abort()`),"waiting"===Ju.get(this)){sd.info(`[${Ku.get(this)}][${Zu.get(this)}] waiting=true`);var e=ad[Ku.get(this)].taskQueue.findIndex((e=>e.id===Zu.get(this)));e>-1&&(ad[Ku.get(this)].taskQueue.splice(e,1),dt(ad[Ku.get(this)].functionName,Xu.get(this),"abort")),Ju.set(this,"done")}else this.promise.then((()=>{it(`operate${Ku.get(this)}Task`,{[`${Ku.get(this).toLowerCase()}TaskId`]:qu.get(this),operationType:"abort"})}))}onProgressUpdate(e){this.promise.then((()=>{od.on(`${Ku.get(this)}${qu.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){this.promise.then((()=>{od.off(`${Ku.get(this)}${qu.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){this.promise.then((()=>{od.on(`${Ku.get(this)}${qu.get(this)}headersReceived`,e)}))}offHeadersReceived(e){this.promise.then((()=>{od.off(`${Ku.get(this)}${qu.get(this)}headersReceived`,e)}))}onChunkReceived(e){this.promise.then((()=>{od.on(`${Ku.get(this)}${qu.get(this)}chunked`,e)}))}offChunkReceived(e){this.promise.then((()=>{od.off(`${Ku.get(this)}${qu.get(this)}chunked`,e)}))}}function cd(e,t,r){pt({name:ad[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function ud(){var e=Xu.get(this),t=Ku.get(this),r=id.get(this);Ju.set(this,"sending"),ed.set(this,Date.now());var n=dd.call(this);r?this.promise.then((()=>{pd.call(this)})).catch((r=>{cd(t,e,r)})):n?cd(t,e,n):pd.call(this)}function dd(){var e,t=Ku.get(this),r=Xu.get(this);ad[t].currentTaskCount++;var n={data:r.data,url:r.url,header:r.header,method:r.method,timeout:E(r.timeout)?r.timeout:0,enableHttp2:!!C(r.enableHttp2)&&r.enableHttp2,enableQuic:!!C(r.enableQuic)&&r.enableQuic,enableCache:!!C(r.enableCache)&&r.enableCache,enableProfile:!C(r.enableProfile)||r.enableProfile,ip:r.ip,port:r.port,forbidReuse:!!C(r.forbidReuse)&&r.forbidReuse,host:r.host,enableChunked:r.enableChunked,__skipDomainCheck__:r.__skipDomainCheck__,success:e=>{var r=e[`${t.toLowerCase()}TaskId`];qu.set(this,r),ad[t].taskIdMap[r]=this,this.resolve()},fail:n=>{ad[t].currentTaskCount--;var i=n[`${t.toLowerCase()}TaskId`];e=n.errMsg,hd.call(this,{taskType:t,options:r,errMsg:e,success:!1}),this.reject(e),sd.error(`[${t}][createTask][Fail] taskId=${i}`)},complete:()=>{Ju.set(this,"done")}},i=id.get(this),a=`create${t}Task${i?"Async":""}`;return(Se||Ie)&&r.forceCellularNetwork&&(a="createCellularNetworkRequestTaskAsync"),it(a,td.get(this)(n)),e}function pd(){var e=qu.get(this),t=Xu.get(this),r=Ku.get(this),n=ad[r].functionName;od.on(`${r}${e}success`,(e=>{rd.get(this).call(this,e),pt({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),od.on(`${r}${e}fail`,(e=>{var r=nd.get(this);r&&r.call(this,e),pt({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg})}))}function hd({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:a="",responseDataLength:o=0,profile:s={}}){var l=t.url,c=n?1:2,u=Date.now()-ed.get(this),d=t.__skipDomainCheck__;u>=6e4&&sd.error(`reportTask costTime too long: ${u}ms, taskId=${qu.get(this)}`),vc(ad[e].functionName,l,c,u,r,a,d,i,o,s)}function fd(e,t){var r,n=`${t.toLowerCase()}TaskId`,i=e[n],{state:a,header:o}=e;if(delete e.state,delete e[n],"chunked"!==a&&(e.cookies=o&&(r=o["Set-Cookie"]||o["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]),od.emit(`${t}${i}${a}`,e),"success"===a||"fail"===a){var s=ad[t].taskIdMap[i],l=Xu.get(s);if(!s)return;ad[t].currentTaskCount-=1,ad[t].taskQueue.length>0&&ud.call(ad[t].taskQueue.shift().item);var c=Promise.resolve(Ur(l.data));if("Upload"===t){var u=0;"object"==typeof l.formData&&null!==l.formData&&(u=JSON.stringify(l.formData).length),c=zu({path:l.filePath}).then((e=>u+e.stats.size)).catch((()=>u))}var d=Promise.resolve(Ur(e.data));if("Download"===t){var p=e.dataLength;d="number"==typeof p?Promise.resolve(p):zu({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([c,d]).then((([r,n])=>{hd.call(s,{taskType:t,options:l,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===a,dataLength:r,responseDataLength:n,profile:e.profile})})),vd.call(s)}}function gd(){var e=Ku.get(this);return ad[e].currentTaskCount>=ad[e].maxTaskCount}function vd(){var e=Ku.get(this),t=qu.get(this);delete ad[e].taskIdMap[t],od.removeAllListeners(`${e}${t}success`),od.removeAllListeners(`${e}${t}fail`),od.removeAllListeners(`${e}${t}complete`)}function md(e,t){var r=ad[e]?ad[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Y(`on${e}TaskStateChange`,(t=>{fd.call(this,t,e)})),ad[e]=Object.assign(r,t)}md("Download",{maxTaskCount:10,functionName:"downloadFile"}),le.onReady((()=>{try{"number"==typeof le.wxAppInfo.maxDownloadConcurrent&&md("Download",{maxTaskCount:le.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));var _d=class extends ld{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}},yd=({api:e,url:t})=>(Ce?le.urlCheck:!0!==le.debug)?new Promise(((r,n)=>{it("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})):Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}),Ad=Bs.Z.Download,bd=new WeakMap,wd=new WeakMap,Ed=new WeakMap,Cd=[],Id=0,Sd=10;function Td(e=!1){for(e&&(bd.delete(e),wd.delete(e),Ed.delete(e),Id--);Cd.length>0&&Id<Sd;){var t=Cd.shift(),r=bd.get(t),n=wd.get(t);r&&n&&(r.start(n),Id++)}}le.onReady((()=>{le.wxAppInfo&&le.wxAppInfo.maxDownloadConcurrent&&(Sd=le.wxAppInfo.maxDownloadConcurrent)}));class xd{constructor(e){var t=new Ad,r=new ee;bd.set(this,t),Ed.set(this,r),wd.set(this,Qr(e,["url","header","filePath","enableProfile"])),t.onfail=t=>{dt("downloadFile",e,t),Td(!0)},t.onsuccess=t=>{pt({name:"downloadFile",args:e,res:t}),Td(!0)},t.onheader=e=>r.emit("header",{header:e}),t.onprogress=(e,t,n)=>r.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:n}),yd({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(Cd.push(this),Td()):dt("downloadFile",e,"invalid url")})).catch((()=>{dt("downloadFile",e,"url validate error")}))}abort(){var e=bd.get(this);e&&e.abort()}onHeadersReceived(e){var t=Ed.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=Ed.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=Ed.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=Ed.get(this);t&&t.off("progress",e)}}var Pd=!1;function kd(e){return Pd?new xd(e):new _d(e)}l.g.__isAppServiceRemoteDebugMode__||Bs.Z.Download&&le.onReady((()=>{var e=!1,t=Se?"clicfg_appbrand_ios_native_download":"clicfg_appbrand_native_download";ki({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,Vc(/^downloadFile/,2))},fail(e){}});var r=sr("bindingDownload");Pd=e||r}));var Dd=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(ct("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new kd(t)}catch(e){return void dt("downloadFile",t,e.message)}}}),Rd=Dd(),Od=Dd({__skipDomainCheck__:!0}),Md=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith(nu))return Rd(e);dt("downloadFile",e,"permission denied")},Ld=[],Nd=new Map,Bd=0,Wd=/url\((.*)\)/i,Fd=/([^.]*)(\..*)?/i;f("loadedFontFace",(e=>{var{callbackId:t,errMsg:r=""}=e;if(Nd.has(t)){var n=Nd.get(t);Nd.delete(t);var{success:i,fail:a,complete:o}=n,s=0===r.indexOf("loadFontFace:ok"),l={status:s?"loaded":"error",errMsg:r};s?"function"==typeof i&&i(l):"function"==typeof a&&a(l),"function"==typeof o&&o(l)}}));var Ud=(e={})=>new Promise(((t,r)=>{((e={})=>{Bd++;var{success:t,fail:r,complete:n}=e;if(delete e.success,delete e.fail,delete e.complete,e.callbackId=Bd,Nd.set(Bd,{success:t,fail:r,complete:n}),e.global){var i=encodeURIComponent(JSON.stringify(e));Ld.indexOf(i)<0&&Ld.push(i),h("loadFontFace",e)}else h("loadFontFace",e,[we.currentWebviewId])})(O()(O()({},e),{},{success(e){t(e)},fail(e){r(e)}}))})),Vd=[],jd=ie("skiaCanvasLoadFontFace");var Gd=(e={})=>{var t="",r=e.source.match(Wd);return r.length>=2&&(t=(t=r[1]).substring(1,t.length-1)),new Promise(((r,n)=>{Od({url:t,timeout:2e4,success(t){var n;n={originalSrc:e.source,src:t.tempFilePath,family:e.family,style:e.desc&&e.desc.style,weight:e.desc&&e.desc.weight,variant:e.desc&&e.desc.variant},Vd.push(n),jd.emit({nativeFontAssets:Vd});var i=(t.tempFilePath||"").replace(Fd,((...e)=>e[1]));nc.set(i),r()},fail(){n()}})}))},Hd=(e={})=>{if(ct("loadFontFace",e,{family:"",source:""})){var t="";if(""===e.family&&(t="parameter error: family can not be empty string"),""===e.source&&(t="parameter error: source can not be empty string"),t)dt("loadFontFace",e,t);else{Wd.test(e.source)||(e.source=`url("${e.source}")`),e.scopes||(e.scopes=["webview"]),lc({name:"loadFontFace",data:{family:e.family,source:encodeURIComponent(e.source),global:Boolean(e.global),scopes:e.scopes}});var r=[];if(e.scopes.indexOf("webview")>=0){var n=Ud(e);r.push(n)}if(e.scopes.indexOf("native")>=0){var i=Gd(e);r.push(i)}Promise.all(r).then((()=>{pt({name:"loadFontFace",args:e,success:!0,errMsg:"",res:{status:"loaded"}})})).catch((()=>{pt({name:"loadFontFace",args:e,success:!1,errMsg:"",res:{status:"error"}})}))}}},Qd={},$d={},zd=new WeakMap,Yd={},Zd={},qd=ie("skiaCanvasLoadFontFace");function Jd(e,t){var r=Ws(t,e.canvasNumber);$d[r]={top:e.position.top,left:e.position.left,width:e.position.width,height:e.position.height,canvasNumber:e.canvasNumber,nodeId:e.nodeId,pluginId:e.pluginId,webviewId:t},Yd[e.canvasNumber]={lastTouches:[],data:e.data,compPath:e.compPath};var n=Qd[r];"function"==typeof n&&(n.call(),delete Qd[r]),dn(t,(()=>{Xd(e,t)}))}function Xd(e,t){var r=Ws(t,e.canvasNumber);delete Qd[r],delete $d[r],delete Zd[r],delete Yd[e.canvasNumber]}class Kd{constructor(){this._fontAssets=[],this.loadFontFace(Vd),this.subscribeFontLoadEvent()}loadFontFace(e){this._fontAssets.push(...e)}subscribeFontLoadEvent(){var e=this;qd.internalOnMethod((({nativeFontAssets:t}={})=>{var r=[],n=function(t){e._fontAssets.find((e=>e.src===t.src||e.originalSrc===t.originalSrc))||r.push(t)};for(var i of t)n(i);r.length>0&&this.loadFontFace(r)}))}static initialize(e){this.fontManagerInstance||(this.fontManagerInstance=new e)}}Kd.fontManagerInstance=null;class ep extends tc{constructor(e,t,r,n){super(),this._webviewId=e,this._canvasId=Ws(e,t),this._nodeId=n,this._nodeCanvasId=r,Zd[this._canvasId]=this}_init(){var e=$d[this._canvasId];if(this.id=e.canvasNumber,this._top=e.top,this._left=e.left,this._width=e.width,this._height=e.height,this.id){var t=this._initCanvasInstance();t.width=300,t.height=150,zd.set(this,t)}else console.error("Canvas node cannot be found")}_onReady(e=(()=>{})){var t=()=>{zd.get(this)||this._init(),e()};$d[this._canvasId]?t():Qd[this._canvasId]=t}getContext(e,t){if("2d"===e){var r=zd.get(this);if(!r)return void console.error("Canvas getContext failed due to missing canvas instance");if(this._ctx)return this._ctx;var n=r.getContext("2d",t);return Object.defineProperty(this,"_ctx",{enumerable:!1,configurable:!1,writable:!1,value:n}),n}"webgl"===e?console.error("Canvas: current node only supports 2d context"):console.error("Invalid context type ["+e+"] for Canvas#getContext")}get width(){var e=zd.get(this);return e&&e.width}set width(e){var t=zd.get(this);t&&(t.width=e)}get height(){var e=zd.get(this);return e&&e.height}set height(e){var t=zd.get(this);t&&(t.height=e)}createImageData(){}createPath2D(e){}requestAnimationFrame(e){}cancelAnimationFrame(){}toDataURL(e,t){var r=zd.get(this);return r?r.toDataURL(e,t):""}}var tp=Ce||Te||xe||Pe,rp={},np={},ip={},ap=new K,op={},sp=new WeakMap,lp={},cp={},up=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster"],dp={},pp={},hp=!0,fp=!0,gp=Object.keys;function vp(e){op[e]||(op[e]=!0,dn(e,(e=>{delete op[e],gp(rp).concat(gp(np)).forEach((t=>{new RegExp("^"+e).test(t)&&delete rp[t]})),gp(lp).forEach((t=>{(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete lp[t]})),Pe&&it("setKeepScreenOn",{keepScreenOn:!1},{})})))}f("updateVideoPictureInPicture",((e={},t)=>{ip.webviewId=t,ip.playerId=e.playerId})),f("videoAdPlay",(({videoPlayerId:e,type:t},r)=>{cp[`${r}_${e}`]=t})),f("videoPlayerInsert",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n,nodeInfo:a,data:o},s)=>{var l=`${s}_${r}_${e}_`;n&&n!==i.getRootNodeId(s)&&(l+=n),rp[l]=t,function(e,t,r){if(!Ce)return;var n=document.createElement("video");e.elem=n,np[`${r}_${t}`]=e,n.controls=!1,n.preload="auto",n.muted=!0,n.autoplay=e.autoplay,n.style.width=e.width+"px",n.style.height=e.height+"px"}(a,t,s),ap.emit("videoPlayerInsert"),vp(s),pp[`${s}_${t}`]=o||{}})),f("xWebVideoInserted",(({domId:e,viewId:t,pluginId:r,nodeId:n,data:a},o)=>{var s=`${o}_${r}_${e}_`;n&&n!==i.getRootNodeId(o)&&(s+=n),rp[s]=t,pp[`${o}_${t}`]=a||{},ap.emit("videoPlayerInsert"),vp(o)})),f("videoPlayerUpdated",(({action:e,value:t,videoPlayerId:r},n)=>{bp({_videoId:r,_webviewId:n},e,t)})),f("videoPlayerRemoved",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(o+=n),delete rp[o],function(e,t){delete np[`${t}_${e}`]}(t,a);var s=`api_${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(s+=n);var l=`SQ_${a}_${t}`;delete lp[s],delete lp[l],delete pp[`${a}_${t}`]})),f("xWebVideoRemoved",(({domId:e,pluginId:t,nodeId:r},n)=>{var a=`${n}_${t}_${e}_`;r&&r!==i.getRootNodeId(n)&&(a+=r);var o=rp[a];delete rp[a],delete pp[`${n}_${o}`]})),f("xWebVideoSupported",(({isXWebSupported:e})=>{hp=hp&&e})),f("insertVideoToWebLayerStateChanged",(({viewId:e,inserted:t},r)=>{dp[`${r}_${e}`]=t})),le.onReady((()=>{le.global&&le.global.window&&"seperated"===le.global.window.renderingMode&&(fp=!1,hp=!1)}));class mp{}class _p{constructor(e,t){var r=this.exportContext=new mp;up.forEach((e=>{r[e]=this[e].bind(this)})),r._videoId=e,r._webviewId=t}play(){var e=this._getAppStatus();e===Ae||e===be||this._invokeMethod("play")}pause(){this._invokeMethod("pause")}stop(){this._invokeMethod("stop")}seek(e,t="accurate"){if("accurate"!==t&&"inaccurate"!==t)throw new Ft("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}sendDanmu({text:e,color:t}){this._invokeMethod("sendDanmu",[e,t])}playbackRate(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}requestFullScreen(e={}){var t=e.direction;[0,90,-90].indexOf(t)>-1?this._invokeMethod("requestFullScreen",[t]):this._invokeMethod("requestFullScreen"),sp.set(this,!0)}exitFullScreen(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),sp.set(this,!1)}showStatusBar(e={}){it("showStatusBar",e)}hideStatusBar(e={}){if(Ie){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!sp.get(this)){var r="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:r}),void("function"==typeof e.complete&&e.complete({errMsg:r}))}it("hideStatusBar",e)}exitPictureInPicture(e={}){if(ip){var t=ip.playerId;Se?it("operateVideoPlayer",O()(O()({},e),{},{videoPlayerId:t,type:"exitPictureInPicture"}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):Ie&&it("operateXWebVideo",O()(O()({},e),{},{viewId:t,type:"exitPictureInPicture"}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}requestBackgroundPlayback(){this._invokeMethod("requestBackgroundPlayback",[])}exitBackgroundPlayback(){this._invokeMethod("exitBackgroundPlayback",[])}hidePoster(){this._invokeMethod("hidePoster")}_invokeMethodWithId(e,t,r){"number"==typeof e?function(){if("begin"!==cp[`${this.webviewId}_${e}`])if(fp&&(Ie&&hp||Se&&dp[`${this.webviewId}_${e}`])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play"].indexOf(t)>-1)h(`video_${this.webviewId}_${e}_actionChanged`,{method:t,data:r},[this.webviewId]);else{var n=this._getAppStatus();if(!tp&&n===Ae&&"stop"===t){var i="operateVideoPlayerBackground";return Ie&&hp&&(i="operateXWebVideoBackground"),void it(i,{viewId:e,videoPlayerId:e,type:t})}tp?(this._sendAction(e,{method:t,data:r}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&bp(this.exportContext,t,r&&r[0])):Ie&&hp?it("operateXWebVideo",{viewId:e,type:t,data:r}):it("operateVideoPlayer",{data:r,videoPlayerId:e,type:t})}else console.error(`${t}:fail cannot operate video while ad playing.`)}.apply(this):ap.once("videoPlayerInsert",(()=>{this._invokeMethod(t,r)}))}_sendActionWithEvnetName(e,t){h(e,t,[this.webviewId])}_getAppStatus(){return we.appStatus}_getHanged(){return we.hanged}}class yp extends _p{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ft("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,n=rp[r];this._invokeMethodWithId(n,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}class Ap extends _p{constructor(e,t){super(e,t),this.videoPlayerId=e,this.webviewId=t}_invokeMethod(e,t){var r=this.videoPlayerId;this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}function bp(e,t,r){if(Ce&&void 0!==e._webviewId){var n=np[`${e._webviewId}_${e._videoId}`].elem;switch(t){case"setSrc":n.src=r;break;case"play":n.play();break;case"pause":case"stop":n.pause();break;case"seek":0===n.readyState||1===n.readyState?n.oncanplay=()=>{n.currentTime=r,n.oncanplay=null}:n.currentTime=r;break;case"playbackRate":n.playbackRate=r}}}function wp(e,t,r="",n=""){var a=`api_${t}_${n}_${e}_`;if(r&&r!==i.getRootNodeId(t)&&(a+=r),lp[a])return lp[a].exportContext;var o=new yp(e,t,r,n);return lp[a]=o,o.exportContext}function Ep(e,t){var r=`SQ_${t}_${e}`;if(lp[r])return lp[r].exportContext;var n=new Ap(e,t);return lp[r]=n,n.exportContext}class Cp{constructor(e){Object.defineProperty(this,"_ptr",{value:e,writable:!1,configurable:!1,enumerable:!1})}set src(e){/^(http|https):\/\//.test(e)&&(e=encodeURI(e));var t=e=>()=>{setTimeout((()=>{e()}),0)};this._ptr.onload=t((()=>{"function"==typeof this.__onload&&this.__onload.apply(this)})),this._ptr.onerror=t((()=>{"function"==typeof this.__onerror&&this.__onerror.apply(this)})),this._ptr.src=e}set referrerPolicy(e){"string"==typeof e&&(this._ptr.referrerPolicy=e)}set onload(e){Object.defineProperty(this,"__onload",{value:e,writable:!1,configurable:!1,enumerable:!1})}set onerror(e){Object.defineProperty(this,"__onerror",{value:e,writable:!1,configurable:!1,enumerable:!1})}get referrerPolicy(){return this._ptr.referrerPolicy}get src(){return this._ptr.src}get onload(){return this._ptr.onload}get onerror(){return this.__onload}get complete(){return this._ptr.complete}get width(){return this._ptr.width}get height(){return this._ptr.height}}var Ip=new WeakMap,Sp=l.g.SkiaCanvasExternalTexture;function Tp(e,t){return Ce?np[`${(r=e)._webviewId}_${r._videoId}`].elem:new Sp(t,e._videoId,"video");var r}function xp(e,t){if(!e)return e;var r=e.drawImage.bind(e),n=e.createPattern.bind(e);return e.drawImage=(e,...n)=>{if(e instanceof Cp)return e._isWebStandard?r(e._ptr._imageData,...n):r(e._ptr,...n);if(e instanceof mp){var i=e;if("number"!=typeof i._videoId)throw new Error("Failed to execute 'drawImage' on 'CanvasRenderingContext2D': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.");var a=Ip.get(i)||{};a[t]?e=a[t]:(e=Tp(i,t),a[t]=e,Ip.set(i,a))}return r(e,...n)},e.createPattern=(e,t)=>n(e instanceof Cp?e._ptr:e,t),e}function Pp(e){if(!e)return e;var t=e.fill.bind(e),r=e.putImageData.bind(e);return e.fill=e=>e?t(e,e):t(),e.putImageData=(e,...t)=>0===e||"object"!=typeof e?null:r(e,...t),e}delete l.g.SkiaCanvasExternalTexture,Se&&(f("skiaCanvasInsert",((e,t)=>{Jd(e,t)})),f("skiaCanvasRemove",((e,t)=>{Xd(e,t),h("skiaCanvasRemoved_"+e.canvasNumber)})),f("skiaCanvasSizeChangedBinding",((e,t)=>{var r=Ws(t,e.canvasNumber),n=Zd[r];n&&(n._top=e.position.top,n._left=e.position.left,n._width=e.position.width,n._height=e.position.height)})));class kp extends Kd{loadFontFace(e=[]){super.loadFontFace(e);var t=l.g.skiacanvasLoadNewFont;"function"==typeof t&&t(e.map((e=>(e.src=e.src||"",e.family=e.family||"",e.style=e.style||"",e.weight=e.weight||"",e.variant=e.variant||"",e))))}}class Dp extends ep{_initCanvasInstance(){return Kd.initialize(kp),new l.g.Canvas(this.id)}getContext(e,t){return Zs(xp,Pp)(super.getContext(e,t),this.id)}createImage(){var e=$s(new l.g.Image,$d[this._canvasId]);return new Cp(e)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),new l.g.ImageData(e,t,r)):null}createPath2D(...e){return 0===e.length?new Path2D:1===e.length?new Path2D(...e):null}requestAnimationFrame(e){return ec().requestAnimationFrame(e)}cancelAnimationFrame(e){return ec().cancelAnimationFrame(e)}}var Rp=new WeakMap;class Op extends tc{constructor(e={}){var{id:t,width:r,height:n,top:i,left:a,nodeId:o,pluginId:s}=O()({id:-1,width:1,height:1,top:0,left:0,nodeId:"",pluginId:""},e);super(),this.id=t,this._top=i,this._left=a,this._width=r,this._height=n,this._nodeId=o,this._pluginId=s,this._onReady()}_init(){if(this.id){var e=this._initCanvasInstance();e.width=this._width,e.height=this._height,Rp.set(this,e)}else console.error("Canvas node cannot be found")}_onReady(e=(()=>{})){(()=>{Rp.get(this)||this._init(),e()})()}getContext(e,t){if("2d"===e){var r=Rp.get(this);if(!r)return void console.error("Canvas getContext failed due to missing canvas instance");if(this._ctx)return this._ctx;var n=r.getContext("2d",t);return Object.defineProperty(this,"_ctx",{enumerable:!1,configurable:!1,writable:!1,value:n}),n}"webgl"===e?console.error("Canvas: current node only supports 2d context"):console.error("Invalid context type ["+e+"] for Canvas#getContext")}get width(){var e=Rp.get(this);return e&&e.width}set width(e){var t=Rp.get(this);t&&(t.width=e)}get height(){var e=Rp.get(this);return e&&e.height}set height(e){var t=Rp.get(this);t&&(t.height=e)}createImage(){}createImageData(){}}class Mp extends Op{_initCanvasInstance(){return Kd.initialize(kp),new l.g.Canvas(this.id)}getContext(e,t){return Zs(xp,Pp)(super.getContext(e,t),this.id)}createImage(){return $s(new l.g.Image,{nodeId:this.nodeId,pluginId:this.pluginId,webviewId:""})}}var Lp={};function Np(e,t){var r=Ws(t,e.canvasNumber),n=Lp[r];delete Lp[r],n&&n.dispose()}Ie&&(f("skiaCanvasInsert",((e,t)=>{Jd(e,t),dn(t,(()=>{Np(e,t)}))})),f("skiaCanvasRemove",((e,t)=>{Xd(e,t),Np(e,t),h("skiaCanvasRemoved_"+e.canvasNumber)})),f("skiaCanvasSizeChangedBinding",((e,t)=>{var r=Ws(t,e.canvasNumber),n=Zd[r];n&&(n._top=e.position.top,n._left=e.position.left,n._width=e.position.width,n._height=e.position.height)})),Y("onXWebCanvasSurfaceChange",((e={},t)=>{var r=Ws(t,e.viewId),n=Zd[r];n&&"function"==typeof n._swap&&n._swap()})));class Bp{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var Wp={offset:Date.now(),now:function(){return Date.now()-this.offset}};class Fp{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new Bp,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[Wp.now()])})),this.canvasView.present()}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class Up extends Kd{loadFontFace(e=[]){super.loadFontFace(e);var t=Bs.Z.SkiaCanvasLoadNewFont||l.g.SkiaCanvasLoadNewFont;"function"==typeof t&&t(e.map((e=>(e.src=e.src||"",e.family=e.family||"",e.style=e.style||"",e.weight=e.weight||"",e.variant=e.variant||"",e))))}}class Vp extends ep{_initCanvasInstance(){Kd.initialize(Up);var e=(Bs.Z.HTMLCanvasView||l.g.HTMLCanvasView).createView(this.id),t=(Bs.Z.HTMLCanvasElement||l.g.HTMLCanvasElement).createElement(e);return this._scheduler=new Fp(e),Lp[this._canvasId]=this._scheduler,this._swap=()=>{e.swapSurface()},t}getContext(e,t){return Zs(xp,Pp)(super.getContext(e,t),this.id)}createImage(){var e=$s(new(Bs.Z.SkiaImages||SkiaImage),$d[this._canvasId]);return new Cp(e)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),new(Bs.Z.SkiaImageData||l.g.SkiaImageData)(e,t,r)):null}createPath2D(...e){var t=Bs.Z.SkiaPath2D||l.g.SkiaPath2D;return 0===e.length?new t:1===e.length?new t(...e):null}requestAnimationFrame(e){return le.useSkiaCanvasRaf?(Bs.Z.SkiaCanvasRequestAnimationFrame||l.g.SkiaCanvasRequestAnimationFrame)(e):this._scheduler.requestAnimationFrame(e)}cancelAnimationFrame(e){le.useSkiaCanvasRaf?(Bs.Z.SkiaCanvasCancelAnimationFrame||l.g.SkiaCanvasCancelAnimationFrame)(e):this._scheduler.cancelAnimationFrame(e)}}class jp extends Op{_initCanvasInstance(){Kd.initialize(Up);var e=(Bs.Z.HTMLCanvasView||l.g.HTMLCanvasView).createView(this.id);return(Bs.Z.HTMLCanvasElement||l.g.HTMLCanvasElement).createElement(e)}getContext(e,t){return Zs(xp,Pp)(super.getContext(e,t),this.id)}createImage(){var e=$s(new(Bs.Z.SkiaImages||SkiaImage),{nodeId:this._nodeId,pluginId:this._pluginId,webviewId:""});return new Cp(e)}}class Gp extends Op{_initCanvasInstance(){var e=document.createElement("canvas");return e.style.position="absolute",e.style.top=this._top+"px",e.style.left=this._left+"px",e.style.width=this._width+"px",e.style.height=this._height+"px",e.width=this._width,e.height=this._height,e._canvasId=this.id,e}getContext(e,t){return Zs(xp)(super.getContext(e,t),this.id)}createImage(){if("function"==typeof window.__global.createCustomImage)return window.__global.createCustomImage((e=>Qs(e,this.nodeId,this.pluginId,we.currentWebviewId)),(e=>e.replace(/^\/__pageframe__\//,"")));console.warn("开发工具暂不支持 createImage")}}var Hp={};function Qp(e,t){var r=Ws(t,e.canvasNumber),n=Hp[r];delete Hp[r],n&&n.dispose()}le.onReady((()=>{qs()&&(f("skiaCanvasInsert",((e,t)=>{Jd(e,t),dn(t,(()=>{Qp(e,t)}))})),f("skiaCanvasRemove",((e,t)=>{Xd(e,t),Qp(e,t),h("skiaCanvasRemoved_"+e.canvasNumber)})),f("skiaCanvasSizeChangedBinding",((e,t)=>{var r=Ws(t,e.canvasNumber),n=Zd[r];n&&(n._top=e.position.top,n._left=e.position.left,n._width=e.position.width,n._height=e.position.height)})))}));class $p{set width(e){this._w=e}get width(){return this._w}set height(e){this._h=e}get height(){return this._h}}class zp{constructor(){this._src=null,this._referrerPolicy=""}setSrc(e){this._src=e,/^(http|https):\/\//.test(e)?Od({url:e,success:e=>{this._src=e.tempFilePath,"function"==typeof this.onload&&this.onload()},fail:this.onerror||(()=>{})}):"function"==typeof this.onload&&this.onload()}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class Yp{sync(e){var t=()=>{e(),this.t=setTimeout(t,1e3/60)};this.t=setTimeout(t,1e3/60)}dispose(){clearInterval(this.t)}}var Zp={offset:Date.now(),now:function(){return Date.now()-this.offset}};class qp{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new Yp,this.vSync.sync((()=>{var e=new Map(this.callbacks);if(this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[Zp.now()])})),this.canvasView.actions.length>0){for(var t=!0,r=this.canvasView.actions,n=0;n<r.length;n++)"clearRect"===r[n].method&&(t=!1);this.canvasView.draw(t)}}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class Jp extends ep{_initCanvasInstance(){return this._context=new ol(this._webviewId,this._nodeCanvasId,this._nodeId,""),this._scheduler=new qp(this._context),Hp[this._canvasId]=this._scheduler,new $p}getContext(){return Zs(xp)(this._context,this.id)}get width(){var e=zd.get(this);return e&&e.width}set width(e){e!==this._width&&(this._context._ignoreScale=!0);var t=zd.get(this);t&&(t.width=e)}get height(){var e=zd.get(this);return e&&e.height}set height(e){e!==this._height&&(this._context._ignoreScale=!0);var t=zd.get(this);t&&(t.height=e)}createImage(){var e=$s(new zp,$d[this._canvasId]);return new Cp(e)}createImageData(){return null}createPath2D(){return null}requestAnimationFrame(e){return this._scheduler.requestAnimationFrame(e)}cancelAnimationFrame(e){this._scheduler.cancelAnimationFrame(e)}}class Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){this._id=e,this._width=t,this._height=r,this._nodeId=n,this._pluginId=i}get id(){return this._id}get _offscreenCanvasId(){return null}createImage(){}getContext(){}get width(){}set width(e){}get height(){}set height(e){}}function Kp(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},{type:i,width:a,height:o,compInst:s,pluginId:l}=O()({type:"webgl",width:1,height:1,compInst:null,pluginId:""},n);switch(i){case"2d":return function(e,t,r,n){var i=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return Se?function(e,t,r,n){var i=-1*th();return new nh({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):Ie?function(e,t,r,n){var i=-1*th();return new ah({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):Ce?function(e,t,r,n){if(!document.createElement)return void console.warn("createOffscreenCanvas: 开发者工具暂不支持创建离屏 Canvas");var i=-1*th();return new sh({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):void 0}(a,o,s,l);case"webgl":return function(e,t,r,n){var i=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return Se?function(e,t,r,n){var i=-1*th();return new rh({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):Ie?function(e,t,r,n){var i=-1*th();return new ih({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):Ce?function(e,t,r,n){if(!document.createElement)return void console.warn("createOffscreenCanvas: 开发者工具暂不支持创建离屏 Canvas");var i=-1*th();return new oh({id:i,width:e,height:t,nodeId:r,pluginId:n})}(e,t,i,n):void 0}(a,o,s,l);default:throw new Error(`unknown type "${i}"`)}}var eh={},th=()=>{for(;;){var e=Math.floor(32767*Math.random());if(!eh[e])return eh[e]=!0,e}};class rh extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i}),this.__id=-we.currentWebviewId||this.id,it("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:this.__id,keepAlive:!0,fail(){}});var a=ec();this.canvas=a.createOffscreenCanvas(this.__id,t,r)}getContext(e,...t){if("webgl"===e)return this.canvas.getContext(e,...t)}createImage(){return $s(ec().createImage(this.__id),{nodeId:this.nodeId,pluginId:this.pluginId})}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}get _offscreenCanvasId(){return this.canvas.__id}}class nh extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i}),this.canvas=qs()?new Jp(we.currentWebviewId,e):new Mp({id:e,width:t,height:r,nodeId:n,pluginId:i})}getContext(e,...t){if("2d"===e)return this.canvas.getContext(e,...t);console.warn("can only create 2d context")}createImage(){return this.canvas.createImage()}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}}class ih extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i}),this.canvas=new Bs.Z.OffscreenCanvas(t,r)}getContext(e,...t){if("webgl"===e)return this.canvas.getContext(e,...t)}createImage(){return $s(new Bs.Z.Image,{nodeId:this.nodeId,pluginId:this.pluginId})}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}get _offscreenCanvasId(){return this.canvas.__id}}class ah extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i}),this.canvas=qs()?new Jp(we.currentWebviewId,e):new jp({id:e,width:t,height:r,nodeId:n,pluginId:i})}getContext(e,...t){if("2d"===e)return this.canvas.getContext(e,...t)}createImage(){return this.canvas.createImage()}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}}class oh extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i});var a=document.createElement("canvas");a.width=t,a.height=r,this.canvas=a}getContext(e,...t){if("webgl"===e)return this.canvas.getContext(e,...t)}createImage(){if("function"==typeof window.__global.createCustomImage)return window.__global.createCustomImage((e=>Qs(e,this.nodeId,this.pluginId,we.currentWebviewId)),(e=>e.replace(/^\/__pageframe__\//,"")));console.warn("开发工具暂不支持 createImage")}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}}class sh extends Xp{constructor({id:e,width:t,height:r,nodeId:n,pluginId:i}){super({id:e,width:t,height:r,nodeId:n,pluginId:i}),this.canvas=new Gp({id:e,width:t,height:r,nodeId:n,pluginId:i})}getContext(e,...t){if("2d"===e)return this.canvas.getContext(e,...t)}createImage(){return this.canvas.createImage()}get width(){return this.canvas.width}set width(e){this.canvas.width=e}get height(){return this.canvas.height}set height(e){this.canvas.height=e}}var lh={},ch={},uh={},dh=new WeakMap,ph={};function hh(e,t){var r=Ws(t,e.canvasNumber);uh[r]={top:e.top,left:e.left,width:e.width,height:e.height,canvasNumber:e.canvasNumber,nodeId:e.nodeId,pluginId:e.pluginId,webviewId:t},ch[r]=Object.assign({},e.data,{webviewId:t});var n=lh[r];"function"==typeof n&&(n.call(),delete lh[r]),dn(t,(()=>{fh(e,t)}))}function fh(e,t){var r=Ws(t,e.canvasNumber);delete uh[r],delete ch[r],delete lh[r],delete ph[r]}class gh extends tc{constructor(e,t){super(),this._canvasId=Ws(e,t),ph[this._canvasId]=this}_init(){var e=uh[this._canvasId];if(this.id=e.canvasNumber,this._top=e.top,this._left=e.left,this._width=e.width,this._height=e.height,this.id){var t=this._initCanvasInstance();dh.set(this,t)}else console.error("Canvas node cannot be found")}getContext(e,t){if("2d"===e)console.info("getContext for canvas 2d is not yet supported");else{if("webgl"===e){var r=dh.get(this);if(!r)return void console.error("Canvas getContext failed due to missing canvas instance");if(uc("webgl"),this._ctx)return this._ctx;var n=r.getContext("webgl",t);return this._ctx=n,n}console.error("Invalid type ["+e+"] for Canvas#getContext")}}_onReady(e){var t=()=>{this._init(),"function"==typeof e&&e()};uh[this._canvasId]?t():lh[this._canvasId]=t}get width(){var e=dh.get(this);return e&&e.width}set width(e){var t=dh.get(this);t&&(t.width=e)}get height(){var e=dh.get(this);return e&&e.height}set height(e){var t=dh.get(this);t&&(t.height=e)}_initCanvasInstance(){}createImage(){}requestAnimationFrame(){}cancelAnimationFrame(){}}var vh=null,mh=!1,_h={},yh=["touchstart","touchmove","touchend","touchcancel"];Se&&(f("webGLInserted",((e,t)=>{var r;vh||(vh=ec()),mh||(mh=!0,r=vh,yh.forEach((e=>{r[`on${e}`]=t=>{var r=_h[t.canvasId];r?r.handlers[`bind${e}`]&&we.webviewEventCallback({data:{type:e,target:r.target,currentTarget:r.target,timeStamp:t.timeStamp,touches:zs(t.touches),changedTouches:zs(t.changedTouches)},eventName:r.handlers[`bind${e}`],webviewId:r.webviewId,nodeId:r.nodeId}):console.error("event can not be dispatched due to missing node info")}}))),_h[e.canvasNumber]=Object.assign({},e.data,{webviewId:t}),hh(e,t)})),f("webGLRemoved",((e,t)=>{delete _h[e.canvasNumber],fh(e,t)})));class Ah extends gh{_initCanvasInstance(){var e,t;return e=this,(t=vh.createCanvas(e.id))._canvasId=e._canvasId,t}createImage(){return e=this,$s(vh.createImage(e.id),uh[e._canvasId]||{});var e}requestAnimationFrame(e){return vh.requestAnimationFrame(e)}cancelAnimationFrame(e){return vh.cancelAnimationFrame(e)}}var bh=["touchstart","touchmove","touchend","touchcancel"],wh=!1;Ie&&(f("webGLInserted",((...e)=>{var t;wh||(wh=!0,t=Bs.Z.EventHandler,bh.forEach((e=>{t[`on${e}`]=t=>{var r=t.currentTarget,n=ch[r._canvasId];n?n.handlers[`bind${e}`]&&we.webviewEventCallback({data:{type:e,target:n.target,currentTarget:n.target,timeStamp:t.timeStamp,touches:zs(t.touches),changedTouches:zs(t.changedTouches)},eventName:n.handlers[`bind${e}`],webviewId:n.webviewId,nodeId:n.nodeId}):console.error("event can not be dispatched due to missing node info")}}))),hh(...e)})),f("webGLRemoved",fh));class Eh extends gh{_initCanvasInstance(){var e,t,r=(e=this,(t=new Bs.Z.findElementById(e.id))._canvasId=e._canvasId,t);return this.__canvasNumber=this.id,this.id=r.__id,r}getContext(e,t){return t&&t.alpha||h("xwebWebGLSetOpaqueBackground",{canvasNumber:this.__canvasNumber}),super.getContext(e,t)}createImage(){return e=this,$s(new Bs.Z.Image,uh[e._canvasId]);var e}requestAnimationFrame(e){return Bs.Z.requestAnimationFrame(e)}cancelAnimationFrame(e){return Bs.Z.cancelAnimationFrame(e)}}var Ch={},Ih={},Sh={},Th={},xh=we.currentWebviewId;Ce&&(f("webGLInserted",hh),f("webGLUpdated",(function(e,t){var r=Ws(t,e.canvasNumber),n=Ch[r];if(!n)return;n.style.top=e.box.top+"px",n.style.left=e.box.left+"px",n.style.width=e.box.width+"px",n.style.height=e.box.height+"px"})),f("webGLRemoved",((e,t)=>{var r=Ws(t,e.canvasNumber);fh(e,t),delete Ch[r]})),f("webGLPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),Sh[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),Kn((e=>{Th[e.webviewId]||(dn(e.webviewId,(()=>{var t=Ih[e.webviewId];if(t){for(var r of t)delete Ch[r._canvasId],document.body.removeChild(r);delete Sh[e.webviewId],delete Ih[e.webviewId],delete Th[e.webviewId]}})),Th[e.webviewId]=!0);var t=e.webviewId;if(t!==xh)for(var[r,n]of Object.entries(Ih))if(String(r)===String(t)){for(var i of n)i.style.visibility="visible";var a=Sh[r];a?window.scrollTo(a.scrollLeft,a.scrollTop):window.scrollTo(0,0)}else for(var o of n)o.style.visibility="hidden";xh=t})));class Ph extends gh{constructor(e,t){super(e,t),this._webviewId=e}_initCanvasInstance(){return function(e){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=e._top+"px",t.style.left=e._left+"px",t.style.width=e._width+"px",t.style.height=e._height+"px",t.width=e._width,t.height=e._height,t._canvasId=e._canvasId,document.body.appendChild(t),Ch[e._canvasId]=t,Ih[e._webviewId]||(Ih[e._webviewId]=[]),Ih[e._webviewId].push(t),t}(this)}createImage(){return function(e){var t=uh[e._canvasId];return window.__global.createCustomImage((e=>Qs(e,t.nodeId,t.pluginId,t.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}(this)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}}var kh={},Dh={},Rh={},Oh=we.currentWebviewId;Ce&&(f("skiaCanvasInsert",((e,t)=>{Jd(e,t)})),f("skiaCanvasRemove",((e,t)=>{Xd(e,t);var r=Ws(t,e.canvasNumber);delete kh[r]})),f("skiaCanvasUpdated",(function(e,t){var r=Ws(t,e.canvasNumber),n=kh[r];if(!n||"function"==typeof n){return void new Promise((e=>{kh[r]=e})).then((t=>{t.style.top=e.box.top+"px",t.style.left=e.box.left+"px",t.style.width=e.box.width+"px",t.style.height=e.box.height+"px"}))}n.style.top=e.box.top+"px",n.style.left=e.box.left+"px",n.style.width=e.box.width+"px",n.style.height=e.box.height+"px"})),f("skiaPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),Rh[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),Kn((e=>{dn(e.webviewId,(()=>{var t=Dh[e.webviewId];if(t){for(var r of t)document.body.removeChild(r);delete Rh[e.webviewId],delete Dh[e.webviewId]}}));var t=e.webviewId;if(t!==Oh)for(var[r,n]of Object.entries(Dh))if(String(r)===String(t)){for(var i of n)i.style.visibility="visible";var a=Rh[r];a?window.scrollTo(a.scrollLeft,a.scrollTop):window.scrollTo(0,0)}else for(var o of n)o.style.visibility="hidden";Oh=t})));class Mh extends ep{constructor(e,t){super(e,t),this._webviewId=e}_initCanvasInstance(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top=this._top+"px",e.style.left=this._left+"px",e.style.width=this._width+"px",e.style.height=this._height+"px",e.width=this._width,e.height=this._height,e._canvasId=this._canvasId,document.body.appendChild(e);var t=kh[this._canvasId];return t&&"function"==typeof t&&t(e),kh[this._canvasId]=e,Dh[this._webviewId]||(Dh[this._webviewId]=[]),Dh[this._webviewId].push(e),this._canvasRef=e,e}getContext(e,t){return Zs(xp)(super.getContext(e,t),this.id)}createImage(){var e=$d[this._canvasId];return window.__global.createCustomImage((t=>Qs(t,e.nodeId,e.pluginId,e.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}createImageData(e,t,r){if(!e)return null;t=parseFloat(t),r=parseFloat(r);for(var n=document.createElement("canvas").getContext("2d").createImageData(t,r),i=0;i<e.length;i++)n.data[i]=e[i];return n}createPath2D(...e){return window.Path2D?new Path2D(...e):null}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}}Te&&(f("skiaCanvasInsert",((e,t)=>{Jd(e,t)})),f("skiaCanvasRemove",((e,t)=>{Xd(e,t);var r=Ws(t,e.canvasNumber);Bs.Z.removeOffScreenCanvas(r),h("skiaCanvasRemoved_"+e.canvasNumber)})));class Lh{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var Nh={offset:Date.now(),now:function(){return Date.now()-this.offset}};class Bh{constructor(){this.id=0,this.callbacks=new Map,this.vSync=new Lh,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[Nh.now()])}))}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class Wh{constructor(){this._src=null,this._referrerPolicy="",this._imageData="",this._isWebStandard=!0}setSrc(e){if(this._src=e,/^(http|https):\/\//.test(e))Bs.Z.fetch(this._src,{referrerPolicy:this._referrerPolicy});else{var t=new Bs.Z.Blob(Qc(e));globalThis.createImageBitmap(t).then((e=>{this._imageData=e,"function"==typeof this.onload&&this.onload()})).catch((()=>{"function"==typeof this.onerror&&this.onerror()}))}}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class Fh extends ep{_initCanvasInstance(){return this._scheduler=new Bh,Bs.Z.getOffScreenCanvas(this._canvasId)}requestAnimationFrame(e){return this._scheduler.requestAnimationFrame(e)}cancelAnimationFrame(e){return this._scheduler.cancelAnimationFrame(e)}getContext(e,t){return Zs(xp)(super.getContext(e,t),this.id)}createImage(){var e=$s(new Wh,$d[this._canvasId]);return new Cp(e)}}function Uh(e,t,r,n){if("2d"===t){var i=function(e,t){var r=Ws(e,t);return Zd[r]||null}(we.currentWebviewId,e);if(i)return i;if(qs())return new Jp(we.currentWebviewId,e,r,n);if(Se)return new Dp(we.currentWebviewId,e);if(Ie)return new Vp(we.currentWebviewId,e);if(Te)return new Fh(we.currentWebviewId,e);if(Ce){if(window&&"function"==typeof window.scrollTo)return new Mh(we.currentWebviewId,e);console.warn("开发工具暂不支持获取 Canvas 节点")}}else if("webgl"===t){var a=function(e,t){var r=Ws(e,t);return ph[r]||null}(we.currentWebviewId,e);if(a)return a;if(Se)return new Ah(we.currentWebviewId,e);if(Ie)return new Eh(we.currentWebviewId,e);if(Ce){if(window&&"function"==typeof window.scrollTo)return new Ph(we.currentWebviewId,e);console.warn("开发工具暂不支持获取 Canvas 节点")}}return null}function Vh(e,t,r,n){if("onLongPress"!==e){var i=function(e,t){var r=Ws(e,t);return ch[r]}(n,t.canvasNumber),{touches:a,changedTouches:o}=Ms(i.lastTouches,e,r);i.lastTouches=a,i[e]&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:Ls[e],timeStamp:new Date-i.startTime,target:i.target,touches:Ys(a),changedTouches:Ys(o)},eventName:i[e],webviewId:n,nodeId:i.nodeId})}}le.onReady((()=>{["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach((e=>{oe(e,((t,r=0)=>{var n=JSON.parse(t.data||"{}"),{canvasNumber:i,skia:a,type:o}=n;if("TextView"!==o&&"ImageView"!==o)if("android-webgl"!==o){if(a){if(!Et(Yd,i))return}else if(!Et(Al,i))return;var s;s=a?Yd[i].data:Al[i].data;var{touches:l,changedTouches:c}=Ms(s.lastTouches,e,t);s.lastTouches=l,s[e]&&"function"==typeof we.webviewEventCallback&&("onTouchMove"===e&&0===c.length||we.webviewEventCallback({data:{type:Ls[e],timeStamp:new Date-s.startTime,target:s.target,touches:l,changedTouches:c},eventName:s[e],webviewId:r,nodeId:n.nodeId}))}else Vh(e,n,t,r)}))}))}));var jh=["onVideoPlay","onVideoPause","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoLoadedMetaData","onVideoProgress","onVideoBackgroundPlaybackChange"];le.onReady((()=>{Ie&&(jh=jh.map((e=>e.replace("on","onXWeb"))).concat(jh)),jh.forEach((e=>{oe(e,((t={},r)=>{var n=`bind${e.replace("XWeb","").substring(7).toLowerCase()}`,{handlers:i,event:a,createdTimestamp:o,nodeId:s}=JSON.parse(t.data);if(i){var l=JSON.parse(t.data);if(t.videoPlayerId=t.videoPlayerId||l&&l.videoPlayerId||"-1000",i[n]&&"function"==typeof we.webviewEventCallback){var c={type:n.substring(4),target:a.target,currentTarget:a.currentTarget,timeStamp:(t.timeStamp||Date.now())-o,detail:{}};if("bindtimeupdate"===n&&(c.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===n){var u=t.direction;u=0===u||180===u||"vertical"===u?"vertical":"horizontal",c.detail={fullScreen:t.fullScreen,fullscreen:t.fullScreen,direction:u}}"binderror"===n?c.detail={errMsg:t.errMsg}:"bindprogress"===n?c.detail={buffered:t.buffered}:"bindloadedmetadata"===n?c.detail={duration:t.duration,width:t.width,height:t.height}:"bindbackgroundplaybackchange"===n&&(c.detail={playInBackground:t.playInBackground}),we.webviewEventCallback({data:c,eventName:i[n],webviewId:r,nodeId:s})}}}))}))})),Y("onEnterVideoPictureInPicture",((e={})=>{var t=ip.webviewId,r=pp[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Y("onLeaveVideoPictureInPicture",((e={})=>{var t=ip.webviewId,r=pp[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var Gh=!1,Hh={};f("enableCoverViewScrollEventTransfer",(({nodeId:e})=>{Hh[e]=!0})),f("disableCoverViewScrollEventTransfer",(({nodeId:e})=>{Hh[e]=!1})),Y("onScrollViewScroll",((e={},t=0)=>{if(Gh||(setTimeout((function(){Gh=!1}),500),it("hideKeyboard",{}),Gh=!0),e.data&&"function"==typeof we.webviewEventCallback){var r=JSON.parse(e.data);r.bindscroll&&we.webviewEventCallback({data:{type:"scroll",target:r.target,currentTarget:r.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-r.timeStamp},eventName:r.bindscroll,webviewId:t,nodeId:r.nodeId}),Hh[r.nodeId]&&h("coverViewScrollEvent",{nodeId:r.nodeId,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})}}));var Qh,$h=({innerContext:e={},args:t={}}={})=>{ct("authorize",t,{scope:""})&&("scope.userInfo"!==t.scope||Vr("getUserInfo")||Vr("authorize")?it("authorize",Mt(t,{scope:[t.scope],requestInQueue:!e.hasOwnProperty("requestInQueue")||Boolean(e.requestInQueue)}),{beforeAll(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):dt("authorize",t,"scope unauthorized"))},zh=(e={})=>{$h({args:e})},Yh=$h,Zh={},qh={},Jh={},Xh=[],Kh={},ef=new K,tf=new WeakMap;var rf=function(e){var t=[],r=1;return f(e,(e=>{t.forEach((t=>{var r=t[0],n=t[1];r.cid===e.cid&&r.cameraId===e.cameraId&&n(e)})),t=[]})),function(e,n){e.cid=r++,t.push([e,n])}}("onOperateCameraCallback"),nf={};function af({cameraId:e,pluginId:t},r){ef.emit("cameraRemoved"),delete Zh[`${r}_${t}`],delete qh[`${r}_${e}`],delete Jh[`${r}_${e}`],delete nf[r]}oe("onCameraInitDone",(()=>{nf[we.currentWebviewId]=!0,ef.emit("cameraInitialized")})),f("cameraInserted",(({cameraId:e,pluginId:t,bindings:r},n)=>{Zh[`${n}_${t}`]=e,qh[`${n}_${e}`]=r,ef.emit("cameraInsert"),dn(n,(()=>{af({cameraId:e,pluginId:t},n)}))})),f("cameraUpdated",(({cameraId:e,hidden:t},r)=>{Jh[`${r}_${e}`]=t})),f("cameraRemoved",(({cameraId:e,pluginId:t},r)=>{af({cameraId:e,pluginId:t},r)})),Mo((()=>{if(void 0!==a&&"function"===a.getCurrentPagesByDomain){var e=a.getCurrentPagesByDomain("").map((e=>e.__wxWebviewId__));Object.keys(Zh).forEach((t=>{var r=t.split("_").shift();-1===e.indexOf(Number(r))&&(delete qh[`${r}_${Zh[t]}`],delete Jh[`${r}_${Zh[t]}`],delete Zh[t],Kh[r]&&(Kh[r].forEach((e=>{clearTimeout(e)})),delete Kh[r]))}))}})),Y("onCameraVideoTaken",((e={},t=0)=>{Xh.forEach((r=>{r(e,t)}))}));var of=(Qh=class{constructor(e,t){this.webviewId=e,this.pluginId=t}onCameraFrame(e){if(Ce||Te)return function(e,t,r){var n=null,i=null,a=null,o=z("start",Nn()((function*(){var l=480,c=640,u=`${t}_${r}`;if(!e||"function"!=typeof e)throw new Error("callback is not a function");if("number"!=typeof Zh[u]&&!Zh[u])return yield new Promise((e=>ef.once("cameraInsert",e))),o();var d=qh[`${t}_${Zh[u]}`],{frameSize:p}=d||{};"small"===p?(l=288,c=352):"medium"===p?(l=480,c=640):"large"===p&&(l=720,c=1280),a=()=>{s()},ef.once("cameraRemoved",a);var h,f=window.createObjectURL||window.URL&&window.URL.createObjectURL||window.webkitURL.createObjectURL,g=document.createElement("video"),v=document.createElement("canvas"),m=v.getContext("2d");v.width=l,v.height=c,g.style.width=l+"px",g.style.height=c+"px";try{h=yield new Promise(((e,t)=>{navigator.getUserMedia({video:{width:l,height:c},audio:!1},e,t)}))}catch(e){throw new Error("camera is not found")}"srcObject"in g?g.srcObject=h:g.src=f(h),g.play(),n=h.getTracks()[0];var _=()=>{m.drawImage(g,0,0),e({width:l,height:c,data:m.getImageData(0,0,l,c).data.buffer}),i=window.requestAnimationFrame(_)};i=window.requestAnimationFrame(_)}))),s=z("stop",Nn()((function*(){window.cancelAnimationFrame(i),ef.off("cameraRemoved",a),n&&n.stop()})));return{start:o,stop:s}}(e,this.webviewId,this.pluginId);var t=this.webviewId,r=N(this._invokeMethod.bind(this,"listenFrameChange")),n=N(this._invokeMethod.bind(this,"closeFrameChange")),i=!1,a=null,o=null,s=null,l=z("start",Nn()((function*(){if(!i){if(i=!0,!e||"function"!=typeof e)throw new Error("callback is not a function");if(Ie&&!nf[t]&&(yield new Promise((e=>ef.once("cameraInitialized",e)))),!i)throw new Error("listener has been stopped");var n;Se&&oe("onCameraFrame",a=()=>{if(i&&o){var t={width:o.width,height:o.height,data:o.data};e(t)}});try{n=yield r({})}catch(e){throw Se&&se("onCameraFrame",a),e}if(!i)throw new Error("listener has been stopped");if(!Kc)throw new Error("onCameraFrame is not supported on your device");var l=Kc.get(n.bufferId);if(!l)throw new Error("onCameraFrame fails to allocate ArrayBuffer");l.__proto__=ArrayBuffer.prototype;var u={width:n.width,height:n.height,data:l};Se?o={width:n.width,height:n.height,data:l}:oe("onCameraFrame",a=()=>{i&&e(u)}),s=()=>{c()},ef.once("cameraRemoved",s),uc("cameraFrame")}}))),c=z("stop",Nn()((function*(){i&&(i=!1,s&&(ef.off("cameraRemoved",s),s=null),a&&(se("onCameraFrame",a),a=null),yield n({}))})));return{start:l,stop:c}}_invoke(e,t){t.type=e,Ce||Te||Pe?(rf(t,(function({imageData:r,videoData:n}){function i(t,n){it("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:r},t),{beforeAll:r=>{"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}n?it("base64ToTempFilePath",{fileType:"webm",base64Data:n,complete(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),h("operateCamera",t,[this.webviewId])):it("operateCamera",t)}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}`;if("number"==typeof Zh[r]||Zh[r]){var n=qh[`${this.webviewId}_${Zh[r]}`];if(n.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===n.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=Zh[r],this._invoke(e,t)}else ef.once("cameraInsert",(()=>{this._invokeMethod(e,t)}))}takePhoto(e={}){var t=`${this.webviewId}_${this.pluginId}`;if(Jh[`${this.webviewId}_${Zh[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));this._invokeMethod("takePhoto",e)}setZoom(e={}){ct("CameraContext.setZoom",e,{zoom:1})&&(e.zoom<1&&(e.zoom=1),this._invokeMethod("setZoom",e))}startRecord(e={}){zh({scope:"scope.record",success:()=>{tf.set(this,!0),this._startRecord(e)},fail:()=>{"function"==typeof e.fail&&e.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof e.complete&&e.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}_startRecord(e={}){if(tf.get(this)){var t=`${this.webviewId}_${this.pluginId}`;if(Jh[`${this.webviewId}_${Zh[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r=e.timeoutCallback,n=e.fail;if(e.fail=e=>{this._isRecording=!1,clearTimeout(a),"function"==typeof n&&n(e)},this._invokeMethod("startRecord",e),!this._isRecording){this._isRecording=!0;var i="number"==typeof e.timeout?Math.max(0,e.timeout):30,a=this._timer=setTimeout((()=>{this._isRecording&&(this.stopRecord({complete:r||function(){}}),this._isRecording=!1)}),1e3*i);0===i?clearTimeout(a):Kh[this.webviewId]?Kh[this.webviewId].push(a):Kh[this.webviewId]=[a];var o=this._videoTaken=(e,t)=>{var n=`${t}_${this.pluginId}`;if(e.cameraId===Zh[n]){var i=Xh.indexOf(o);i>-1&&Xh.splice(i,1),this._isRecording&&(delete e.cameraId,"function"==typeof r&&r(e),this._isRecording=!1,clearTimeout(a))}};Xh.push(o)}}}stopRecord(e={}){var t=Xh.indexOf(this._videoTaken);t>-1&&(Xh.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}},cn()(Qh.prototype,"takePhoto",[H],Object.getOwnPropertyDescriptor(Qh.prototype,"takePhoto"),Qh.prototype),cn()(Qh.prototype,"setZoom",[H],Object.getOwnPropertyDescriptor(Qh.prototype,"setZoom"),Qh.prototype),cn()(Qh.prototype,"startRecord",[H],Object.getOwnPropertyDescriptor(Qh.prototype,"startRecord"),Qh.prototype),cn()(Qh.prototype,"stopRecord",[H],Object.getOwnPropertyDescriptor(Qh.prototype,"stopRecord"),Qh.prototype),Qh);function sf(e,t,r,n=""){return new of(t,n)}oe("onCameraNeedAuthCancel",((e={},t=0)=>{var r=qh[`${t}_${e.cameraId}`];r&&r.binderror&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"error",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:r.binderror,webviewId:t,nodeId:r.nodeId}),r&&(r.isCancelAuth=!0)})),oe("onCameraStop",((e={},t=0)=>{var r=qh[`${t}_${e.cameraId}`];r&&r.bindstop&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"stop",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{}},eventName:r.bindstop,webviewId:t,nodeId:r.nodeId})})),oe("onCameraInitDone",((e={},t=0)=>{var r=qh[`${t}_${e.cameraId}`];r&&r.bindinitdone&&"function"==typeof we.webviewEventCallback?we.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId}):ef.once("cameraInsert",(()=>{var r=qh[`${t}_${e.cameraId}`];r&&r.bindinitdone&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId})}))})),oe("onCameraScanCode",((e={},t=0)=>{var r=qh[`${t}_${e.cameraId}`];if(r&&r.bindscancode&&"function"==typeof we.webviewEventCallback){var n={data:{type:"scancode",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{type:e.type,result:e.result,rawData:e.rawData,charSet:e.charSet,scanArea:e.scanArea}},eventName:r.bindscancode,webviewId:t,nodeId:r.nodeId};"barcode"===e.type&&(delete n.data.detail.rawData,delete n.data.detail.charSet),we.webviewEventCallback(n)}}));var lf,cf=(e={})=>{ct("setKeepScreenOn",e,{keepScreenOn:!0})&&it("setKeepScreenOn",e,{})},uf=Ce,df={},pf={},hf={},ff=new K,gf={},vf=new WeakMap,mf={},_f=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot","requestPictureInPicture","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback"],yf=Object.assign,Af={};function bf(e,t){return`${e}_${t}`}function wf(e){gf[e]||(gf[e]=!0,dn(e,(e=>{delete gf[e],Object.keys(df).forEach((t=>{new RegExp("^"+e).test(t)&&(delete pf[`${e}_${df[t]}`],delete df[t])})),Object.keys(mf).forEach((t=>{new RegExp("^api_"+e).test(t)?(delete pf[`${e}_${df[t.substr(4)]}`],delete mf[t]):new RegExp("^SQ_"+e).test(t)&&(delete pf[t.substr(3)],delete mf[t])})),function(e){delete Df[e]}(e),cf({keepScreenOn:!1})})))}f("xWebLivePlayerSupported",(({insert2XWebEnabled:e,viewId:t},r)=>{Af[bf(r,t)]=e,kf(Af)})),f("updateLivePlayerPictureInPicture",((e={},t)=>{hf.webviewId=t,hf.playerId=e.playerId})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((e=>{f(e,(({viewId:e,domId:t,playerId:r,pluginId:n,data:a,nodeId:o},s)=>{var l=Af[bf(s,e)]?e:r,c=`${s}_${n}_${t}_`;o&&o!==i.getRootNodeId(s)&&(c+=o),df[c]=l,pf[`${s}_${l}`]=a||{},ff.emit("livePlayerInsert"),wf(s),function(e){var t=Df[e];if(Df[e]=[],!t)return;for(var r=0;r<t.length;r++){var n=t[r];Mf(n[0],n[1],n[2])}}(s)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((e=>{f(e,(({viewId:e,domId:t,playerId:r,pluginId:n,nodeId:a},o)=>{var s=Af[bf(o,e)]?e:r,l=`${o}_${n}_${t}_`;a&&a!==i.getRootNodeId(o)&&(l+=a),delete df[l],delete pf[`${o}_${s}`];var c=`api_${o}_${n}_${t}_`;a&&a!==i.getRootNodeId(o)&&(c+=a);var u=`SQ_${o}_${s}`;delete mf[c],delete mf[u],cf({keepScreenOn:!1})}))}));class Ef{}var Cf=(lf=class{constructor(){var e=this.exportContext=new Ef;_f.forEach((t=>e[t]=this[t].bind(this)))}play(e={}){var t=this._getAppStatus();t===Ae||t===be||(this._invokeMethod("play",[],e),cf({keepScreenOn:!0}))}stop(e={}){this._invokeMethod("stop",[],e),cf({keepScreenOn:!1})}mute(e={}){this._invokeMethod("mute",[],e)}pause(e={}){this._invokeMethod("pause",[],e),cf({keepScreenOn:!1})}resume(e={}){this._invokeMethod("resume",[],e),cf({keepScreenOn:!0})}requestFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();if(Af[bf(r,t)])this._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e);else{var n=e.direction;[0,90,-90].indexOf(n)>-1?this._invokeMethod("requestFullScreen",[n],e):this._invokeMethod("requestFullScreen",[],e),vf.set(this,!0)}}exitFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();Af[bf(r,t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),vf.set(this,!1))}exitPictureInPicture(e={}){if(hf){var t=ot(this.pluginId);Se?t("operateLivePlayer",O()(O()({},e),{},{type:"exitPictureInPicture",livePlayerId:hf.playerId}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateLivePlayer","exitPictureInPicture")}}):Ie&&t("operateXWebLivePlayer",O()(O()({},e),{},{type:"exitPictureInPicture",viewId:hf.playerId}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebLivePlayer","exitPictureInPicture")}})}}showStatusBar(e={}){it("showStatusBar",e)}hideStatusBar(e={}){if(!vf.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}it("hideStatusBar",e)}snapshot(e={}){if(uf)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),void("function"!=typeof e.fail&&"function"!=typeof e.complete||(e.fail||e.complete)({errMsg:"operateLivePlayer:fail not support in devtools"}));this._invokeMethod("snapshot",[],yf({quality:"raw"},e))}requestBackgroundPlayback(e={}){this._invokeMethod("requestBackgroundPlayback",[],e)}exitBackgroundPlayback(e={}){this._invokeMethod("exitBackgroundPlayback",[],e)}requestPictureInPicture(e={}){var t=this._getPlayerId();"number"==typeof t?ot(this.pluginId)("requestLivePlayerPictureInPicture",O()(O()({},e),{},{viewId:t,livePlayerId:t,beforeAll(e){e.errMsg=e.errMsg.replace("requestLivePlayerPictureInPicture","requestPictureInPicture")}})):dt("requestPictureInPicture",e,"playerId not exists")}_invokeMethodWithId(e,t,r,n){var i=this._getPlayerId(),a=this._getWebviewId(),o=Af[bf(a,i)],s=o?"operateXWebLivePlayer":"operateLivePlayer";"number"==typeof e?(uf&&(n.type=t,n.playerId=e,h("operateLivePlayer",n,[this.webviewId])),function(){var i=o?{viewId:e}:{livePlayerId:e},a=ot(this.pluginId);this._getAppStatus()===Ae&&"stop"===t&&(s=`${s}Background`),a(s,yf({},n,O()({data:r,type:t},i)))}.apply(this)):ff.once("livePlayerInsert",(()=>{this._invokeMethod(t,r,n)}))}_getAppStatus(){return we.appStatus}_getHanged(){return we.hanged}_getPlayerId(){}_getWebviewId(){}},cn()(lf.prototype,"play",[H],Object.getOwnPropertyDescriptor(lf.prototype,"play"),lf.prototype),cn()(lf.prototype,"stop",[H],Object.getOwnPropertyDescriptor(lf.prototype,"stop"),lf.prototype),cn()(lf.prototype,"mute",[H],Object.getOwnPropertyDescriptor(lf.prototype,"mute"),lf.prototype),cn()(lf.prototype,"pause",[H],Object.getOwnPropertyDescriptor(lf.prototype,"pause"),lf.prototype),cn()(lf.prototype,"resume",[H],Object.getOwnPropertyDescriptor(lf.prototype,"resume"),lf.prototype),cn()(lf.prototype,"requestFullScreen",[H],Object.getOwnPropertyDescriptor(lf.prototype,"requestFullScreen"),lf.prototype),cn()(lf.prototype,"exitFullScreen",[H],Object.getOwnPropertyDescriptor(lf.prototype,"exitFullScreen"),lf.prototype),cn()(lf.prototype,"exitPictureInPicture",[H],Object.getOwnPropertyDescriptor(lf.prototype,"exitPictureInPicture"),lf.prototype),cn()(lf.prototype,"snapshot",[H],Object.getOwnPropertyDescriptor(lf.prototype,"snapshot"),lf.prototype),cn()(lf.prototype,"requestBackgroundPlayback",[H],Object.getOwnPropertyDescriptor(lf.prototype,"requestBackgroundPlayback"),lf.prototype),cn()(lf.prototype,"exitBackgroundPlayback",[H],Object.getOwnPropertyDescriptor(lf.prototype,"exitBackgroundPlayback"),lf.prototype),cn()(lf.prototype,"requestPictureInPicture",[H],Object.getOwnPropertyDescriptor(lf.prototype,"requestPictureInPicture"),lf.prototype),lf);class If extends Cf{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ft("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.nodeId=r,this.pluginId=n}_invokeMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=df[n];this._invokeMethodWithId(i,e,t,r)}_getPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return df[e]}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=df[n];"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),h(e,O()({viewId:i},t),[this.webviewId])}}class Sf extends Cf{constructor(e,t,r){super(),this.playerId=e,this.webviewId=t,this.pluginId=r}_invokeMethod(e,t,r){var n=this.playerId;this._invokeMethodWithId(n,e,t,r)}_getPlayerId(){return this.playerId}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),h(e,O()({viewId:this.playerId},t),[this.webviewId])}}function Tf(e,t,r="",n=""){var a=`api_${t}_${n}_${e}_`;if(r&&r!==i.getRootNodeId(t)&&(a+=r),mf[a])return mf[a].exportContext;var o=new If(e,t,r,n);return mf[a]=o,o.exportContext}function xf(e,t,r=""){var n=`SQ_${t}_${e}`;if(mf[n])return mf[n].exportContext;var i=new Sf(e,t,r);return mf[n]=i,i.exportContext}var Pf={},kf=e=>{Pf=e},Df={},Rf={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus",onLivePlayerAudioVolume:"bindaudiovolumenotify",onLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"},Of={onXWebLivePlayerEvent:"bindstatechange",onXWebLivePlayerNetStatus:"bindnetstatus",onXWebLivePlayerAudioVolume:"bindaudiovolumenotify",onXWebLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"};function Mf(e,t,r){if(t){2004===t.errCode&&cf({keepScreenOn:!0});var n=Pf[bf(r,t.viewId)],i=n?t.viewId:t.livePlayerId,a=pf[`${r}_${i}`],o=n?Of[e]:Rf[e],s={};switch(e){case"onLivePlayerEvent":case"onXWebLivePlayerEvent":s.code=t.errCode,s.message=t.errMsg,h("onLivePlayerStateChange"+t.livePlayerId,{code:t.errCode},[r]);break;case"onLivePlayerNetStatus":case"onXWebLivePlayerNetStatus":t.info=t.info||{},s.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE,vDecCacheSize:t.info.V_DEC_CACHE_SIZE,vSumCacheSize:t.info.V_SUM_CACHE_SIZE,avPlayInterval:t.info.AV_PLAY_INTERVAL,avRecvInterval:t.info.AV_RECV_INTERVAL,audioCacheThreshold:t.info.AUDIO_CACHE_THRESHOLD},h("onLivePlayerNetStatusChange"+t.livePlayerId,{info:s.info},[r]);break;case"onLivePlayerAudioVolume":case"onXWebLivePlayerAudioVolume":s.volume=t.volume;break;case"onLivePlayerBackgroundPlaybackChange":case"onXWebLivePlayerBackgroundPlaybackChange":s.playInBackground=t.playInBackground}if(!a)return Df[r]=Df[r]||[],void Df[r].push([e,t,r]);if(n&&("onXWebLivePlayerEvent"===e||"onXWebLivePlayerNetStatus"===e)){var l=O()({},t.info);"onXWebLivePlayerEvent"===e&&(l={code:t.errCode,message:t.errMsg}),h("xWebLivePlayerStateChange",{type:e,detail:{info:l},viewId:t.viewId},[r])}a.handlers[o]&&"function"==typeof we.webviewEventCallback&&(n&&"onXWebLivePlayerEvent"===e&&t&&-9999999===t.errCode||we.webviewEventCallback({data:{type:o.replace("bind",""),target:a.target,currentTarget:a.target,timeStamp:Date.now()-a.createdTimeStamp,touches:[],detail:s},eventName:a.handlers[o],webviewId:r,nodeId:a.nodeId}))}}var Lf;["onLivePlayerEvent","onLivePlayerNetStatus","onLivePlayerAudioVolume","onLivePlayerBackgroundPlaybackChange"].concat(["onXWebLivePlayerEvent","onXWebLivePlayerNetStatus","onXWebLivePlayerAudioVolume","onXWebLivePlayerBackgroundPlaybackChange"]).forEach((e=>{oe(e,((t={},r)=>{Mf(e,t,r)}))})),f("xWebLivePlayerFullScreenEvent",(({viewId:e,data:t},r)=>{var n=pf[`${r}_${e}`];n&&n.handlers.bindfullscreenchange&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:t.fullScreen,direction:0===t.direction||180===t.direction||"vertical"===t.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:r,nodeId:n.nodeId})})),oe("onLivePlayerFullScreenChange",((e={},t)=>{h("videoFullScreenChange",e,[t]),h("videoFullScreenChange"+e.livePlayerId,{fullScreen:e.fullScreen},[t]);var r=pf[`${t}_${e.livePlayerId}`];r&&r.handlers.bindfullscreenchange&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"fullscreenchange",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:r.handlers.bindfullscreenchange,webviewId:t,nodeId:r.nodeId})})),oe("onEnterLivePlayerPictureInPicture",((e={})=>{var t=hf.webviewId,r=pf[`${t}_${e.livePlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),oe("onLeaveLivePlayerPictureInPicture",((e={})=>{var t=hf.webviewId,r=pf[`${t}_${e.livePlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof we.webviewEventCallback&&we.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var Nf=Ie;f("xWebLivePusherSupported",(({enforcedXWebLive:e,canInsert2XWeb:t})=>{Nf=e||t,zf({enforcedXWebLive:e,canInsert2XWeb:t})}));var Bf={},Wf={},Ff=new K,Uf={},Vf=Object.assign;function jf(e){Uf[e]||(Uf[e]=!0,dn(e,(e=>{delete Uf[e],Object.keys(Bf).forEach((t=>{new RegExp("^"+e).test(t)&&(delete Wf[`${e}_${Bf[t]}`],delete Bf[t])})),function(e){delete qf[e]}(e)})))}function Gf(e,t){var r=`${this.webviewId}_${this.pluginId}`;"number"==typeof Bf[r]?(Nf?t.viewId=Bf[r]:t.livePusherId=Bf[r],t.type=e,function(e,t,r){if(Ce)console.warn(`开发者工具暂不支持调用 LivePusherContext.${e} 方法`);else{ot(r)(Nf?"operateXWebLivePusher":"operateLivePusher",t)}}(e,t,this.pluginId)):Ff.once("livePusherInserted",(()=>{Gf.call(this,e,t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((e=>{f(e,(({viewId:e,pusherId:t,pluginId:r,data:n},i)=>{var a=Nf?e:t,o=`${i}_${r}`;Bf[o]=a,Wf[`${i}_${a}`]=n,Ff.emit("livePusherInserted"),jf(i),function(e){var t=qf[e];if(qf[e]=[],!t)return;for(var r=0;r<t.length;r++){var n=t[r];Jf(n[0],n[1],n[2])}}(i)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((e=>{f(e,(({viewId:e,pusherId:t,pluginId:r},n)=>{var i=Nf?e:t;delete Bf[`${n}_${r}`],delete Wf[`${n}_${i}`]}))}));var Hf=(Lf=class{constructor(e,t){this.webviewId=e,this.pluginId=t}start(e={}){Gf.call(this,"start",e)}stop(e={}){Gf.call(this,"stop",e)}pause(e={}){Gf.call(this,"pause",e)}resume(e={}){Gf.call(this,"resume",e)}switchCamera(e={}){Gf.call(this,"switchCamera",e)}snapshot(e={}){Gf.call(this,"snapshot",Vf({quality:"raw"},e))}toggleTorch(e={}){Gf.call(this,"toggleTorch",e)}playBGM(e={}){ct("LivePusherContext.playBGM",e,{url:""})&&Gf.call(this,"playBGM",e)}stopBGM(e={}){Gf.call(this,"stopBGM",e)}pauseBGM(e={}){Gf.call(this,"pauseBGM",e)}resumeBGM(e={}){Gf.call(this,"resumeBGM",e)}setBGMVolume(e={}){ct("LivePusherContext.setBGMVolume",e,{volume:0})&&Gf.call(this,"setBGMVolume",e)}setMICVolume(e={}){ct("LivePusherContext.setMICVolume",e,{volume:0})&&Gf.call(this,"setMICVolume",e)}startPreview(e={}){Gf.call(this,"startPreview",e)}stopPreview(e={}){Gf.call(this,"stopPreview",e)}sendMessage(e={}){Gf.call(this,"sendMessage",e)}},cn()(Lf.prototype,"start",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"start"),Lf.prototype),cn()(Lf.prototype,"stop",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"stop"),Lf.prototype),cn()(Lf.prototype,"pause",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"pause"),Lf.prototype),cn()(Lf.prototype,"resume",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"resume"),Lf.prototype),cn()(Lf.prototype,"switchCamera",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"switchCamera"),Lf.prototype),cn()(Lf.prototype,"snapshot",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"snapshot"),Lf.prototype),cn()(Lf.prototype,"toggleTorch",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"toggleTorch"),Lf.prototype),cn()(Lf.prototype,"playBGM",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"playBGM"),Lf.prototype),cn()(Lf.prototype,"stopBGM",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"stopBGM"),Lf.prototype),cn()(Lf.prototype,"pauseBGM",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"pauseBGM"),Lf.prototype),cn()(Lf.prototype,"resumeBGM",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"resumeBGM"),Lf.prototype),cn()(Lf.prototype,"setBGMVolume",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"setBGMVolume"),Lf.prototype),cn()(Lf.prototype,"setMICVolume",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"setMICVolume"),Lf.prototype),cn()(Lf.prototype,"startPreview",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"startPreview"),Lf.prototype),cn()(Lf.prototype,"stopPreview",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"stopPreview"),Lf.prototype),cn()(Lf.prototype,"sendMessage",[H],Object.getOwnPropertyDescriptor(Lf.prototype,"sendMessage"),Lf.prototype),Lf);function Qf(e,t,r,n=""){return new Hf(t,n)}var $f=Ie,zf=({enforcedXWebLive:e,canInsert2XWeb:t})=>{$f=e||t},Yf={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus",onLivePusherBGMStart:"bindbgmstart",onLivePusherBGMProgress:"bindbgmprogress",onLivePusherBGMComplete:"bindbgmcomplete",onLivePusherError:"binderror",onLivePusherAudioVolume:"bindaudiovolumenotify"},Zf={onXWebLivePusherEvent:"bindstatechange",onXWebLivePusherNetStatus:"bindnetstatus",onXWebLivePusherBGMStart:"bindbgmstart",onXWebLivePusherBGMProgress:"bindbgmprogress",onXWebLivePusherBGMComplete:"bindbgmcomplete",onXWebLivePusherError:"binderror",onXWebLivePusherAudioVolume:"bindaudiovolumenotify"},qf={};function Jf(e,t,r){var n=$f?t.viewId:t.livePusherId,i=Wf[`${r}_${n}`],a=$f?Zf[e]:Yf[e],o={};switch(e){case"onLivePusherEvent":case"onXWebLivePusherEvent":o.code=t.errCode,o.message=t.errMsg,h("onLivePusherStateChange"+t.livePusherId,{code:t.errCode},[r]);break;case"onLivePusherNetStatus":case"onXWebLivePusherNetStatus":t.info=t.info||{},o.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE},h("onLivePusherNetStatusChagne"+t.livePusherId,{info:o.info},[r]);break;case"onLivePusherBGMProgress":case"onXWebLivePusherBGMProgress":o.progress=t.progress,o.duration=t.duration;break;case"onLivePusherBGMComplete":case"onXWebLivePusherBGMComplete":o.errCode=t.errCode;break;case"onLivePusherError":case"onXWebLivePusherError":o.errCode=t.errCode,o.errMsg=t.errMsg,o.data=t.data,h("onLivePusherError"+t.livePusherId,{errcode:t.errcode},[r]);break;case"onLivePusherAudioVolume":case"onXWebLivePusherAudioVolume":o.volume=t.volume}if(!i)return qf[r]=qf[r]||[],void qf[r].push([e,t,r]);if($f&&("onXWebLivePusherEvent"===e||"onXWebLivePusherNetStatus"===e)){var s=O()({},t.info);"onXWebLivePusherEvent"===e&&(s={code:t.errCode,message:t.errMsg}),h("xWebLivePusherStateChange",{type:e,detail:{info:s},viewId:t.viewId},[r])}i.handlers[a]&&"function"==typeof we.webviewEventCallback&&($f&&"onXWebLivePusherEvent"===e&&t&&-9999999===t.errCode||we.webviewEventCallback({data:{type:a.replace("bind",""),target:i.target,currentTarget:i.target,timeStamp:Date.now()-i.createdTimeStamp,touches:[],detail:o},eventName:i.handlers[a],webviewId:r,nodeId:i.nodeId}))}["onLivePusherEvent","onLivePusherNetStatus","onLivePusherBGMStart","onLivePusherBGMProgress","onLivePusherBGMComplete","onLivePusherError","onLivePusherAudioVolume"].concat(["onXWebLivePusherEvent","onXWebLivePusherNetStatus","onXWebLivePusherBGMStart","onXWebLivePusherBGMProgress","onXWebLivePusherBGMComplete","onXWebLivePusherError","onXWebLivePusherAudioVolume"]).forEach((e=>{oe(e,((t={},r=0)=>{Jf(e,t,r)}))}));var Xf=ie("AudioInterruptionBegin"),Kf=Xf.onMethod,eg=Xf.offMethod,tg=(Xf.internalOnMethod,Xf.internalOffMethod,ie("AudioInterruptionEnd")),rg=tg.onMethod,ng=tg.offMethod,ig=(tg.internalOnMethod,tg.internalOffMethod,null);Bs.Z&&Bs.Z.WXAUDIO?ig=Bs.Z.WXAUDIO:Bs.Z&&Bs.Z.AudioContext?ig=Bs.Z.AudioContext:"undefined"!=typeof AudioContext?ig=AudioContext:"undefined"!=typeof webkitAudioContext&&(ig=webkitAudioContext);var ag=ig,og="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",sg="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function lg({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:i,beginCGITimestamp:a,CGICallbackTimestamp:o,wxlibCallbackTimestamp:s,requestingCount:l,cost1:c,cost2:u,cost3:d,cost4:p,cost5:h,cost6:f,JSApiType:g}){Math.random()<.002&&setTimeout((()=>{var v,m=we.currentNetworkType,_=le.appType+1e3,y=le.appLaunchInfo&&void 0!==le.appLaunchInfo.scene?le.appLaunchInfo.scene:0,A=["","",e?1:0,t,r,m,"",_,y,og,sg,"",0,0,c,u,d,p,h,f,0,0,l,t,n,i,a,o,0,0,s,g].map((v=1024,e=>w(e)&&e.length>v?e.substr(0,v):e)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:A})}),0)}w(og)&&(og=og.replace(" ","")),w(sg)&&(sg=sg.replace(" ","-"));var cg={};function ug(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=b(e)}return t.replace(/,/g,";").substr(0,1024)}function dg(e,t){Reporter.reportKeyValue({key:"WeAppRequestError",value:[Ki(),e.url,t.errMsg,t.statusCode,ug(e.header),ug(e.data),ug(t.header),ug(t.data),e.method,cg.scene,encodeURIComponent(cg.scene_note||cg.sceneNote)].join(",")})}function pg(e,t=!0){if(!e)return!1;if("string"==typeof e)return/err|fail|错误|失败/i.test(e)&&!/ok|success|成功/i.test(e);if("object"==typeof e)for(var r in e){if(/ret|msg|text|message|result/i.test(r)&&/err|fail|错误|失败/i.test(e[r])&&!/ok|success|成功/i.test(e[r]))return!0;if(/err|code/i.test(r)&&"number"==typeof e[r]&&0!==e[r])return!0;if(t&&"object"==typeof e[r]&&pg(e[r],!1))return!0}return!1}function hg(e,t){(le.accountInfo&&"wxe5f52902cf4de896"===le.accountInfo.appId||sr("reportRequestError")&&(t.errMsg||t.statusCode>=400||pg(t.data)))&&dg(e,t)}le.onReady((()=>{Object.assign(cg,le.appLaunchInfo),oe("onAppEnterForeground",(e=>{Object.assign(cg,e)}))}));var fg={},gg={},vg={};Ji((()=>{fg={},gg={},vg={}}));var mg=0;md("Request",{maxTaskCount:10,functionName:"request"}),le.onReady((()=>{try{"number"==typeof le.wxAppInfo.maxRequestConcurrent&&md("Request",{maxTaskCount:le.wxAppInfo.maxRequestConcurrent})}catch(e){}}));function _g(e,t,r){var n=Date.now();if(mg--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var i=e.clientInfo;t.wxdataQueueTimestamp=i.invokeTime,t.wxdataDequeueTimestamp=i.invokeTime,t.beginCGITimestamp=i.beginCGITimestamp,t.CGICallbackTimestamp=i.CGICallbackTimestamp,t.wxlibCallbackTimestamp=i.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,lg(t)}}var yg=class extends ld{constructor(e){var t={JSApiType:1,invokeTime:Date.now(),requestingCount:++mg};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t.apiSigningSeq=e.apiSigningSeq,t.apiSignature=e.apiSignature,t),beforeSuccess:r=>{var n,i;return e.host&&e.ip&&(n=e.host,i=e.ip,gg[n]=i),t.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(r),function(e){e.statusCode=parseInt(e.statusCode,10)}(r),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(r),"json"===e.dataType&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(r),_g(r,t,e),hg(e,r),r},beforeFail:r=>(t.isSuccess=!1,_g(r,t,e),hg(e,r),r)})}},Ag=new WeakMap;class bg{constructor(){var e,t=new Promise((t=>{e=t}));Ag.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=Ag.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=Ag.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=Ag.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=Ag.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=Ag.get(this);t.then((t=>{t.offChunkReceived(e)}))}}function wg({args:e}){var t=b(e.header);e.header=e.header||{},e.header=$t(e.header),"Undefined"!==t&&"Object"!==t&&(console.warn("wx.request: header must be an object"),e.header={}),e.header=Object.keys(e.header).reduce(((t,r)=>("content-type"===r.toLowerCase()?t[r.toLowerCase()]=e.header[r]:t[r]=e.header[r],t)),{});var r="text";e.responseType&&(r=e.responseType.toLowerCase());var n,i=e.header||{},a="GET";return"string"==typeof e.method&&(a=e.method.toUpperCase()),e.dataType=e.dataType||"json",i["content-type"]=i["content-type"]||"application/json",n=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==b(e.data)?i["content-type"].indexOf("application/x-www-form-urlencoded")>-1?Rt(e.data,!0):i["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):n.toString():e.data,"GET"===a&&(e.url=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var r=e.split("?");return r[0]+"?"+Rt(Mt((r[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),Object.keys(t).reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{})))}return e}(e.url,e.data)),{header:i,method:a,responseType:r,dataStr:n,args:e}}function Eg({args:e={},host:t}){var r,{enableHttpDNS:n,httpDNSServiceId:i}=e;if(!0===n&&w(i)){var a=(e=>{var t=fg[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null})(t);return a&&!1===a.expired?(r=a.ip,{host:t,ip:r}):((e,t)=>(vg[e]||(vg[e]=en({sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:e,service_id:t}}).then((t=>{delete vg[e];var{wxa_state:r,ip:n,ttl:i}=t.data;if(0===r)return fg[e]={ip:n,expireTime:1e3*i+Date.now()},fg[e];throw new Error(r)})).catch((t=>{throw delete vg[e],t}))),vg[e]))(t,i).then((e=>(r=e.ip,{host:t,ip:r})))}return!0===n?Promise.reject(new Error("invalid httpDNSServiceId")):{}}function Cg({host:e,ip:t}){return{forbidReuse:((e,t)=>{var r=gg[e];return t?!(r&&r===t||(delete gg[e],0)):(delete gg[e],!1)})(e,t)}}function Ig({args:e}){var{host:t,protocol:r}=function(e){var t={protocol:/^(.+)\:\/\//,host:/\:\/\/(.+?)[\?\#\s\/]/,path:/\w(\/.*?)[\?\#\s]/,query:/\?(.+?)[\#\/\s]/,hash:/\#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}(e.url);return{host:t,protocol:r}}function Sg({protocol:e}){return{port:"http"===e?80:"https"===e?443:0}}var Tg=__safeway__.apiSign.makeApiSign;class xg{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){var t=e(this.innerParams,this.asyncTasks);if(t instanceof Promise){var r=t.then((e=>{Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this}catch(e){return this.catchFn=e,this}execute(){if(this.asyncTasks.length>0){var e=new bg;return Promise.all(this.asyncTasks).then((()=>{var t=this.createRequestTask();((e,t)=>{var{resolve:r}=Ag.get(e);r(t)})(e,t)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn})),e}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:a,responseType:o,dataStr:s,options:l,forbidReuse:c}=this.innerParams;try{return new yg(Object.assign({},e,{header:n,method:i,responseType:o,data:s,ip:r,host:t,port:a,forbidReuse:c},Tg("createRequestTask",{url:e.url,__skipDomainCheck__:l.__skipDomainCheck__})))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var Pg,kg=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),function(t={}){if(ct("request",t,{url:""}))if(!1!==Ot(t.url)){try{JSON.stringify(t.data)}catch(e){return void dt("request",t,"fail to stringify data")}if("function"!=typeof t.data){var r=new xg({args:t,options:e});return r.catch((e=>{dt("request",t,e.errno||e.message||e.errMsg)})).use(wg).use(Ig).use(Sg).use(Eg).useAfterAsyncTasks(Cg),r.execute()}dt("request",t,"data should not be Function")}else dt("request",t,`invalid url "${t.url}"`)}),Dg=kg(),Rg=kg({__skipDomainCheck__:!0}),Og=new WeakMap,Mg=new WeakMap,Lg=new WeakMap,Ng=new WeakMap,Bg=new WeakMap,Wg=new WeakMap,Fg=new WeakMap,Ug=new WeakMap,Vg=new WeakMap,jg=new WeakMap,Gg=new WeakMap,Hg={},Qg=Gr(Rg),$g=Gr(Hc),zg=e=>$g({filePath:e}).then((e=>e.data)),Yg=e=>Qg({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((e=>e.data)),Zg=e=>new Promise((t=>{gn([e],"audio",(e=>{t(Yg(e.data[0].url))}))})),qg=e=>Promise.resolve(Wn.get(e)),Jg=function(e){Og.set(this,Object.assign(Og.get(this),e))},Xg=function(e){return Og.get(this)[e]},Kg=function(){return Og.get(this)},ev=function(){this.stop(!0),Jg.call(this,{_source:null});var e=Lg.get(this);e&&e()},tv=function(e){var t=Pg.createBufferSource(),{currentPlayBackTime:r,state:n}=rv.call(this,e),{loop:i,playbackRate:a,_buffer:o,_gainNode:s}=n,l=ev.bind(this);t.onended=l,t.buffer=o,t.loop=i,t.playbackRate.value=a,s&&t.connect(s),t.start(0,r),Pg.resume(),Jg.call(this,{_isPlaying:!0,paused:!1,_source:t,_played:!0,_playbackTime:0,_lastCurrentTime:r,_startedAt:Pg.currentTime,_endedHandler:l})},rv=function(e){e=e||Kg.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:i,playbackRate:a,_lastCurrentTime:o,duration:s}=e;return(t=i?o+(Pg.currentTime-r)*a:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},nv=function(){this.stop(!0);var{_gainNode:e}=Kg.call(this);e&&e.disconnect(),Jg.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null}),Mg.delete(this),Lg.delete(this),Ng.delete(this),Bg.delete(this),Fg.delete(this),Wg.delete(this),Ug.delete(this),Vg.delete(this),Gg.delete(this),clearInterval(jg.get(this)),jg.delete(this)},iv=function(){this.stop(!0),Jg.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null})},av=function(e){var t;iv.call(this);var r=new Promise((e=>{t=e}));Jg.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:r,_audioLoadPromiseResolve:t})};class ov{constructor(){Pg||"function"==typeof(Pg=new ag).create&&Pg.create();var e=Pg.createGain();e.connect(Pg.destination);var t={},r=new Promise((e=>{t._audioLoadPromiseResolve=e}));Og.set(this,Object.assign(t,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!1,duration:NaN,_loadPromise:r,_gainNode:e,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:""}))}get src(){return Xg.call(this,"src")}set src(e){var{src:t}=Kg.call(this);"string"==typeof e&&e.length>0&&t!==e&&(t&&av.call(this,e),Jg.call(this,{src:e}),(e=>{var t=Hg[e];if(t&&t.audioBuffer)return Promise.resolve(t.audioBuffer);if(t&&t.loadPromise)return t.loadPromise;var r=(/^(http|https):\/\//.test(e)?Yg(e):/^(cloud):\/\//.test(e)?Zg(e):/^(wxblob:\/\/)/.test(e)?qg(e):zg(e)).then((t=>new Promise(((r,n)=>{Pg.decodeAudioData(t,(t=>{var n=Hg[e];n.audioBuffer||(n.audioBuffer=t),r(n.audioBuffer)}),n)}))));return Hg[e]={loadPromise:r},r})(e).then((e=>{var t=Kg.call(this),r=Mg.get(this),{_isPlaying:n,autoplay:i,_audioLoadPromiseResolve:a}=t;return Jg.call(this,{_ready:!0,_buffer:e,duration:e.duration}),r&&r(),i&&!n&&this.play(),a(),null})).catch((t=>{var r=Ng.get(this);r&&r({type:"error",errMsg:`set audio src ${e} fail: ${t.message}`})})))}get startTime(){return Xg.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r}=Kg.call(this);e!==r&&"number"==typeof e&&e>=0&&(Jg.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return Xg.call(this,"autoplay")}set autoplay(e){var{autoplay:t}=Kg.call(this);if(!!e!==t&&(Jg.call(this,{autoplay:!!e}),e)){var{_loadPromise:r}=Kg.call(this);r.then((()=>{var e=Kg.call(this),{_isPlaying:t,autoplay:r,_source:n}=e;return n&&!t&&r&&this.play(),null}))}}get loop(){return Xg.call(this,"loop")}set loop(e){var t=Xg.call(this,"_source");Jg.call(this,{loop:e=!!e}),t&&(t.loop=e)}get volume(){return Xg.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=Kg.call(this);"number"==typeof e&&e>=0&&e<=1&&e!==t&&(Jg.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return Xg.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r}=Kg.call(this);"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(Jg.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:Pg.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return Xg.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=rv.call(this);return e}get paused(){return Xg.call(this,"paused")}get buffered(){var{duration:e}=Kg.call(this);return e>0?e:0}play(e=!1){var t=Kg.call(this),{_isPlaying:r,_ready:n,_loadPromise:i}=t;if(!r){var a=()=>e?null:Bg.get(this);if(n){tv.call(this,t);var o=a();o&&o()}else i.then((()=>{tv.call(this);var e=a();return e&&e(),null}))}}pause(){var e=Kg.call(this),{_isPlaying:t,_source:r}=e;if(r&&t){var n=Wg.get(this);r.stop(0),r.disconnect(),r.onended=null,Jg.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),n&&n()}}stop(e=!1){var{_source:t}=Kg.call(this);if(t){var r=Fg.get(this);t.stop(0),t.disconnect(),t.onended=null,Jg.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&r&&r()}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t}=Kg.call(this),r=Ug.get(this),n=Vg.get(this),i=Mg.get(this);n&&n(),t?(this.stop(!0),Jg.call(this,{_playbackTime:e}),this.play(!0)):Jg.call(this,{_playbackTime:e}),r&&r(),i&&i()}}destroy(){nv.call(this)}set oncanplay(e){"function"==typeof e?Mg.set(this,e):Mg.delete(this)}set onended(e){"function"==typeof e?Lg.set(this,e):Lg.delete(this)}set onerror(e){"function"==typeof e?Ng.set(this,e):Ng.delete(this)}set onplay(e){"function"==typeof e?Bg.set(this,e):Bg.delete(this)}set onpause(e){"function"==typeof e?Wg.set(this,e):Wg.delete(this)}set onstop(e){"function"==typeof e?Fg.set(this,e):Fg.delete(this)}set onseeked(e){"function"==typeof e?Ug.set(this,e):Ug.delete(this)}set onseeking(e){"function"==typeof e?Vg.set(this,e):Vg.delete(this)}set ontimeupdate(e){if("function"==typeof e){var t=jg.get(this);clearInterval(t);var r=setInterval((()=>{var{_isPlaying:t}=Kg.call(this);t&&e()}),350);jg.set(this,r)}else jg.delete(this)}set onwaiting(e){"function"==typeof e?Gg.set(this,e):Gg.delete(this)}}var sv=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],lv=["startTime","duration","currentTime"],cv=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],uv=new Set,dv=new WeakMap,pv=new WeakMap,hv=new WeakMap,fv=new WeakMap;class gv{constructor(e,t=1e3){var r=new ee;dv.set(this,e),uv.add(this),fv.set(this,{conversion:t}),sv.forEach((r=>Object.defineProperty(this,r,{get:()=>lv.includes(r)?e[r]/t:e[r],set(n){lv.includes(r)?e[r]=t*n:e[r]=n}}))),cv.forEach((t=>{this["on"+t]=e=>{var n=__errorTracer__.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);pv.set(e,n),hv.set(n,e),r.on(t,n)},this["off"+t]=e=>{if(P(e)){var n=pv.get(e);P(n)&&(r.off(t,n),pv.delete(e),hv.delete(n))}else r.listeners(t).forEach((e=>{var t=hv.get(e);pv.delete(t),hv.delete(e)})),r.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,n)=>{e?r.emit(t,{errCode:e,errMsg:n}):r.emit(t)}}))}play(){dv.get(this).play()}stop(){dv.get(this).stop()}pause(){dv.get(this).pause()}seek(e){var{conversion:t}=fv.get(this);dv.get(this).seek(t*e)}destroy(){var e=dv.get(this);e.destroy&&e.destroy(),cv.forEach((e=>{this["off"+e]()})),uv.delete(this),dv.delete(this)}static pauseAllAudio(){uv.forEach((e=>{var t=dv.get(e);t&&t.pause()}))}}class vv extends gv{constructor(){super(new Bs.Z.Audio,1e3)}}class mv extends gv{constructor(){super(new ov,1)}}var _v=!1;Y("onAudioInterruptionBegin",(e=>{!0,!1===_v&&Xf.emit(e)})),Y("onAudioInterruptionEnd",(e=>{!1,!1===_v&&tg.emit(e)}));var yv=()=>_v,Av=new WeakMap,bv=new WeakMap,wv=new WeakMap,Ev=new WeakMap,Cv=new WeakMap,Iv=new WeakMap,Sv=new WeakMap,Tv=new Map,xv=new Map,Pv=new Map,kv=wxNativeConsole.createLogger("InnerAudio");Bs.Z.EventHandler&&(Bs.Z.EventHandler.onbindingobjectdestruct=e=>{var t=xv[e];t&&it("getAudioState",{audioId:t,success(e){!0===e.paused?(Tv.delete(t),it("destroyAudioInstance",{audioId:t})):Tv.get(t)&&!1===Tv.get(t).loop&&Nv.once(`${t}_onAudioStateChange_ended`,(()=>{Tv.delete(t),it("destroyAudioInstance",{audioId:t})}))}})});var Dv=function(e,t){bv.set(this,Object.assign(bv.get(this),{[e]:t})),"src"===e&&bv.set(this,Object.assign(bv.get(this),{paused:!0})),Ev.get(this)&&(setTimeout((()=>{var r=Object.assign({},bv.get(this),Cv.get(this),{timestamp:Date.now(),audioId:Av.get(this),success:()=>{bv.set(this,Object.assign(bv.get(this),{[e]:t}))},fail:()=>{Ov.call(this)}});yv()&&(r.autoplay=!1),it("setAudioState",r),Ev.set(this,!0)}),0),Ev.set(this,!1)),Cv.set(this,Object.assign(Cv.get(this),{[e]:t}))},Rv=function(e,t){Sv.get(this).then((()=>{Dv.call(this,e,t)}))},Ov=function(e,t){var r=bv.get(this)[e];return it("getAudioState",{audioId:Av.get(this),success:n=>{delete n.errMsg,bv.set(this,Object.assign(bv.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},Mv=function(e){var t=Av.get(this);it("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:e})=>{kv.error(`operateAudio fail: errMsg="${e}"`),Vv.call(this,"error",{errMsg:e,errCode:-1})}},e))},Lv=function(e){Sv.get(this).then((()=>{setTimeout((()=>{Mv.call(this,e)}),0)}))},Nv=new ee;Y("onAudioStateChange",((e={})=>{e.state=e.state.toLowerCase();var{state:t,audioId:r}=e;delete e.audioId,delete e.state;var n="play"!==t,i=Tv.get(r);i&&(i.paused=n);var a=Pv.get(r);a&&t in a&&Nv.emit(`${r}_onAudioStateChange_${t}`,e)}));var Bv=function(e,t){var r=`${Av.get(this)}_onAudioStateChange_${e}`,n=r=>{__errorTracer__.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};Iv.set(t,n),Nv.on(r,n)},Wv=function(e,t){Sv.get(this).then((()=>{Bv.call(this,e,t)}))},Fv=function(e,t){var r=`${Av.get(this)}_onAudioStateChange_${e}`;if(P(t)){var n=Iv.get(t);P(n)&&Nv.off(r,n)}else Nv.removeAllListeners(r)},Uv=function(e,t){Sv.get(this).then((()=>{Fv.call(this,e,t)}))},Vv=function(e,t){Nv.emit(`${Av.get(this)}_onAudioStateChange_${e}`,t)},jv=0,Gv=!1;var Hv=class{constructor(){var e,t;bv.set(this,{}),Cv.set(this,{}),wv.set(this,void 0),Ev.set(this,!0),Sv.set(this,new Uu(((r,n)=>{e=r,t=n})));var r={};it(Ie||Le?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:t=>{var n={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:""};if(Pv.set(t.audioId,r),Tv.set(t.audioId,n),Av.set(this,t.audioId),bv.set(this,n),Bs.Z.BindingObject){var i=new Bs.Z.BindingObject;this.__bindingObject=i,xv[i.__id]=t.audioId}jv+=1,++jv>=1024&&!Gv&&Se&&(Gv=!0,Reporter.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),setTimeout(e,0)},fail:e=>{t(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var n=e.toLowerCase();r[n]=1,Wv.call(this,n,t)},this[`off${e}`]=t=>{var n=e.toLowerCase();delete r[n],Uv.call(this,n,t)}}))}get src(){return this.cloudId?this.cloudId:Ov.call(this,"src")}set src(e){"string"==typeof e&&0!==e.length?gn([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Rv.call(this,"src",e)})):Vv.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return Ov.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?Rv.call(this,"startTime",1e3*e):Vv("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){"boolean"==typeof e&&Rv.call(this,"autoplay",e)}get autoplay(){return Ov.call(this,"autoplay")}set loop(e){"boolean"==typeof e&&Rv.call(this,"loop",e)}get loop(){return Ov.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&Rv.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return Ov.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||Rv.call(this,"volume",e)}get volume(){return Ov.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||Rv.call(this,"playbackRate",e)}get playbackRate(){return Ov.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&Rv.call(this,"referrerPolicy",e)}get referrerPolicy(){return Ov.call(this,"referrerPolicy")}get paused(){return Ov.call(this,"paused")}get duration(){return Ov.call(this,"duration")/1e3}get currentTime(){return Ov.call(this,"currentTime")/1e3}get buffered(){return Ov.call(this,"buffered")/1e3}play(){!1===yv()&&Lv.call(this,{operationType:"play"})}pause(){Lv.call(this,{operationType:"pause"})}stop(){Lv.call(this,{operationType:"stop"})}seek(e){"number"!=typeof e||e<0?Vv("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`}):Lv.call(this,{operationType:"seek",currentTime:1e3*e})}destroy(){Sv.get(this).then((()=>{var e=Av.get(this);Tv.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Nv.removeAllListeners(r)})),Pv.delete(e),Tv.delete(e),jv-=1,it("destroyAudioInstance",{audioId:e}))}))}onTimeUpdate(e){Sv.get(this).then((()=>{var t=`${Av.get(this)}_onAudioStateChange_timeupdate`;void 0===wv.get(this)&&wv.set(this,setInterval((()=>{if("active"===we.runningStatus&&!0!==bv.get(this).paused&&1!==bv.get(this).paused){var e=bv.get(this).currentTime;Ov.call(this,"currentTime",(r=>{r!==e&&Nv.emit(t)}))}}),250)),Nv.removeAllListeners(t);var r=t=>{__errorTracer__.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};Iv.set(e,r),Nv.on(t,r)}))}offTimeUpdate(e){Sv.get(this).then((()=>{Uv.call(this,"timeupdate",e)}))}static pauseAllAudio(){Tv.forEach(((e,t)=>{it("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}},Qv=wxNativeConsole.createLogger("InnerAudioContext"),$v=(e={})=>{var t=!1;if(Ie){var{system:r}=oa();-1===Jt(r,"6.0.0")&&(t=!0)}var{useWebAudioImplement:n}=e;return(ke||Pe)&&Bs.Z.Audio?(Qv.info("using NativeAudio"),new vv):!t&&n&&ag?(Qv.info("using WebAudio"),new mv):(Qv.info("using AudioJsApi"),new Hv)},zv={},Yv=new K,Zv={};f("audioInsert",(({audioId:e,pluginId:t,nodeId:r},n)=>{var a=`${n}_${t}_${e}_`;r&&r!==i.getRootNodeId(n)&&(a+=r),zv[a]=!0,Yv.emit(`audioInsert_${a}`),function(e){Zv[e]||(Zv[e]=!0,dn(e,(e=>{delete Zv[e],Object.keys(zv).forEach((t=>{new RegExp("^"+e).test(t)&&delete zv[t]}))})))}(n)})),f("audioRemove",(({audioId:e,pluginId:t,nodeId:r},n)=>{var a=`${n}_${t}_${e}_`;r&&r!==i.getRootNodeId(n)&&(a+=r),delete zv[a]}));class qv{constructor(e,t,r,n){if("string"!=typeof e)throw new Ft("Parameter 1 should be a string");this.audioId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}setSrc(e){this._sendAction({method:"setSrc",data:e})}play(){this._getAppStatus()===Ae||this._sendAction({method:"play"})}pause(){this._sendAction({method:"pause"})}seek(e){this._sendAction({method:"setCurrentTime",data:e})}_ready(e){var t=`${this.webviewId}_${this.pluginId}_${this.audioId}_${this.nodeId}`;zv[t]?e():Yv.on(`audioInsert_${t}`,(()=>{e()}))}_sendAction(e){this._ready((()=>{h(`audio_${this.pluginId}_${this.audioId}_${this.nodeId}_actionChanged`,e,[this.webviewId])}))}}function Jv(e,t,r="",n=""){var i=new qv(e,t,r,n);return i._getAppStatus=()=>we.appStatus,i._getHanged=()=>we.hanged,Pi.call(this,(()=>{i.pause()})),i}var Xv={},Kv={},em={},tm={},rm=1;f("editorInsert",(({domId:e,editorId:t,pluginId:r,nodeId:n},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(o+=n),Xv[o]=t,function(e){em[e]||(em[e]=!0,dn(e,(e=>{delete em[e],Object.keys(Xv).forEach((t=>{new RegExp("^"+e).test(t)&&delete Xv[t]})),Object.keys(Kv).forEach((t=>{new RegExp("^api_"+e).test(t)&&delete Kv[t]})),Object.keys(Kv).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&delete Kv[t]}))})))}(a)})),f("editorRemoved",(({domId:e,editorId:t,pluginId:r,nodeId:n},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==i.getRootNodeId(a)&&(o+=n),delete Xv[o];var s=`SQ_${a}_${t}`;delete Kv[`api_${a}_${r}_${e}_${n}`],delete Kv[s]})),f("doEditorActionCallback",(e=>{var t=e.callbackId;if(t&&void 0!==tm[t]){delete e.callbackId;var r=tm[t];e.errMsg&&(e.errMsg.indexOf("ok")>-1?"function"==typeof r.success&&r.success(e):e.errMsg.indexOf("fail")>-1&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete tm[t]}}));class nm{format(e,t=!1){this._execCommand("format",{name:e,value:t,needCallBack:!1})}scrollIntoView(){this._execCommand("scrollIntoView",{needCallBack:!1})}_execCommandWithId(e,t,r){if(r.needCallBack){var n={};Object.keys(r).forEach((e=>{"function"==typeof r[e]&&(n[e]=r[e],delete r[e])}));var i=`callback${this.webviewId}_${e}_${rm++}`;tm[i]=n,r.callbackId=i}delete r.needCallBack,this.action={method:t,args:r},h(`editor_${this.webviewId}_${e}_actionChanged`,this.action,[this.webviewId])}}["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","getSelectionText"].forEach((e=>{nm.prototype[e]=G((function(t){this._execCommand(e,O()(O()({},t),{},{needCallBack:!0}))}))}));class im extends nm{constructor(e,t){super(),this.editorId=e,this.webviewId=t}_execCommand(e,t){this._execCommandWithId(this.editorId,e,t)}}function am(e,t){var r=`SQ_${t}_${e}`;if(Kv[r])return Kv[r];var n=new im(e,t);return Kv[r]=n,n}var om=e=>{if(""!==we.currentClipBoardData){var t;void 0!==a&&(t=a.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===we.currentWebviewId))||{});var r=[we.currentClipBoardData,t?t.route:"",e?1:0,t?Object.keys(t.options||{}).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t.options[e])}`)).join("&"):"",Reporter.getAppType()].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Clipboard",value:r})}},sm=__safeway__.apiSign.makeApiSign;function lm(){var e=sm("getClipboardData",{success(e){we.currentClipBoardData=e.data}});cm()&&lt("getClipboardData",e)}function cm(){var{system:e,useClipboardWithPermissionNotify:t}=le;return!t&&(!/^iOS /i.test(e)||parseInt(e.split(" ")[1],10)<14)}le.onReady(lm),Un(lm),Pi((()=>{var e=sm("getClipboardData",{success(e){e.data!==we.currentClipBoardData&&(we.currentClipBoardData=e.data,om(!1))}});cm()&&lt("getClipboardData",e)}));var um=new ee,dm=e=>{um.removeAllListeners("onBLEConnectionStateChanged"),um.on("onBLEConnectionStateChanged",(t=>{__errorTracer__.surroundThirdByTryCatch(e,"at onBLEConnectionStateChange callback function")(t)}))},pm=()=>{um.removeAllListeners("onBLEConnectionStateChanged")};Y("onBLEConnectionStateChanged",(e=>{um.emit("onBLEConnectionStateChanged",e),um.emit("_onBLEConnectionStateChanged",e)}));var hm=new ee,fm=e=>{hm.removeAllListeners("onBluetoothAdapterStateChange"),hm.on("onBluetoothAdapterStateChange",(t=>{__errorTracer__.surroundThirdByTryCatch(e,"at onBluetoothAdapterStateChange callback function")(t)}))},gm=()=>{hm.removeAllListeners("onBluetoothAdapterStateChange")};Y("onBluetoothAdapterStateChange",(e=>{hm.emit("onBluetoothAdapterStateChange",e),hm.emit("_onBluetoothAdapterStateChange",e)}));var vm=0,mm=!1,_m={connects:null,scene:null,targetAction:null,startTime:null,endTime:null};um.on("_onBLEConnectionStateChanged",(e=>{e&&(e.connected?vm++:vm--)})),hm.on("_onBluetoothAdapterStateChange",(e=>{e&&!e.available&&(vm=0)})),Pi((e=>{vm>0&&(mm=!0,_m.startTime=Date.now(),_m.targetAction=e.targetAction)})),Un((e=>{mm&&(_m.endTime=Date.now(),setTimeout((()=>{var t,r;vm>0&&(_m.connects=vm,_m.scene=e.scene,Object.values(_m).every((e=>null!==e))&&(t=[_m.connects,_m.scene,_m.targetAction,_m.endTime-_m.startTime],r=t.map(encodeURIComponent).join(","),Reporter.reportKeyValue({key:"BLEConnection",value:r}))),mm=!1,(()=>{for(var e in _m)_m[e]=null})()}),100))}));var ym={};class Am{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=__errorTracer__.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=__errorTracer__.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var i=0;!(i>=this.listener[e].length);)r===this.listener[e][i].fn.toString()&&(this.listener[e].splice(i,1),i--),i++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}var bm=ie("AppPerfRouteNavigation");function wm(e,t,r){return!Dt(void 0===r._relativePath?we.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||function(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!a.hasPageRoute(n)||(dt(e,r,`page "${Bt(t)}" is not found`),!1)}(e,t,r)}function Em(e,t,r){var n=void 0===t._relativePath?we.lastRoute:t._relativePath;try{return Pt(n,t.url,!r)}catch(i){if(!(i instanceof Wt))throw i;if(!r){if(!Dt(n,t.url))return t.url;dt(e,t,i.message)}}return""}function Cm(e,t){var r=Em(e,t,!0);if(!r)return!0;var n,i=function(e){if(!e)return-1;var t=-1;try{t=$e.findIndex((t=>w(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){Ge.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return Ge.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}(r),a=je[(n=e,n.split(/(?=[A-Z])/).join("_").toLowerCase()).toUpperCase()],o=!0,s="",l=Fe;if(i>-1){var c=$e[i];(s=c.redirect_url)&&1===c.is_valid?(dt(e,t,"url has been banned"),ii("openUrl",{url:s}),l=Ue,o=!1):s&&1!==c.is_valid&&(l=Ve)}return Ye(e,l,a,s,r),o}var Im=e=>{if(ct("redirectTo",e,{url:""})&&Cm("redirectTo",e)){var t=Em("redirectTo",e,!1);t&&(e.url=t,e.url=Lt(e.url),wm("redirectTo",e.url,e)&&(we.navigatorLock=!0,it("redirectTo",e,{afterFail(){we.navigatorLock=!1}}),bm.emit({type:"redirectTo",start:Date.now()})))}},Sm=e=>{if("active"===we.runningStatus||"ios"!==Ee){if(ct("reLaunch",e,{url:""})&&Cm("reLaunch",e)){var t=Em("reLaunch",e,!1);t&&(e.url=t,e.url=Lt(e.url),wm("reLaunch",e.url,e)&&(we.navigatorLock=!0,it("reLaunch",e,{afterFail(){we.navigatorLock=!1}}),bm.emit({type:"reLaunch",start:Date.now()})))}}else dt("reLaunch",e,"can not invoke reLaunch in background")},Tm=e=>{if(ct("navigateTo",e,{url:""})&&Cm("navigateTo",e)){var t=Em("navigateTo",e,!1);if(t&&(e.url=t,e.url=Lt(e.url),wm("navigateTo",e.url,e))){var r=function(){var e=new Am,t=new Am,r={},n=["listener","emit","on","once","off","_addListener"];for(var i of n)"emit"===i?r[i]=t[i].bind(t):"function"==typeof e[i]?r[i]=e[i].bind(e):r[i]=e[i];for(var a of n)"emit"===a?ym[a]=e[a].bind(e):"function"==typeof t[a]?ym[a]=t[a].bind(t):ym[a]=t[a];return r}();if(e.events)for(var n in e.events)r.on(n,e.events[n]);we.navigatorLock=!0,it("navigateTo",e,{afterFail(){we.navigatorLock=!1},beforeSuccess(e){e.eventChannel=r}}),bm.emit({type:"navigateTo",start:Date.now()})}}},xm=e=>{a.DisplayReporter.setEventRelatedInfo(e._relatedInfo),Tm(e)},Pm=(e={})=>{if(ct("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),Cm("switchTab",e))){var t=Em("switchTab",e,!1);t&&(e.url=t,e.url=Lt(e.url),wm("switchTab",e.url,e)&&(we.navigatorLock=!0,it("switchTab",e,{afterFail(){we.navigatorLock=!1}}),bm.emit({type:"switchTab",start:Date.now()})))}},km=(e={})=>{var t=(e=Object.assign({},e))._webviewId;if(void 0!==t){e.delta=void 0;var r=a.getPageMetaByWebviewId(t);if(r){var n=r.framesetViewId;e.viewId=n}}if(("number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),"function"==typeof a.getCurrentPagesByDomain)&&a.getCurrentPagesByDomain("").length<=1)return void dt("navigateBack",e,"cannot navigate back at first page.");it("navigateBack",e),bm.emit({type:"navigateBack",start:Date.now()})},Dm=(e,t)=>{var r={_relativePath:e,_webviewId:t};return{navigateTo(e){Tm(Object.assign({},e,r))},redirectTo(e){Im(Object.assign({},e,r))},switchTab(e){Pm(Object.assign({},e,r))},navigateBack(e){km(Object.assign({},e,r))},reLaunch(e){Sm(Object.assign({},e,r))}}};function Rm(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var Om,Mm,Lm=nn("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),Nm=nn("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),Bm=nn("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=tr.get(t),{shareKey:n,shareName:i}=r;return{key:e,share_key:n,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),{pluginInfos:Wm}=hr,Fm=[],Um=(()=>{var e=!1;return le.clientVersion>=369431584&&le.clientVersion<=369432575&&(e=!0),le.clientVersion>=637867008&&le.clientVersion<=637868031&&(e=!0),()=>e})(),Vm=e=>{var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])};var jm=e=>{"android"===le.platform&&le.clientVersion<=654315519&&(Mm=()=>{for(var t=function(t){var r=e[t],n=r.plugin_id,i=Wm[n];if(!i)return{v:void 0};var a=(e,t)=>{var n=new Set(i.domains[e]);r[t].forEach((e=>{n.add(e)})),i.domains[e]=Array.from(n)};a("request","request_domain"),a("uploadFile","upload_domain"),a("downloadFile","download_domain"),a("connectSocket","wsrequest_domain")},r=0;r<e.length;r++){var n=t(r);if("object"==typeof n)return n.v}Object.keys(Wm).map((e=>[e,Wm[e].domains]))})},Gm=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),Hm=!1;le.onReady((()=>{Hm=Hm||1037===(le.appLaunchInfo||{}).scene})),Un((e=>{Hm=Hm||1037===e.scene}));var Qm=(e={},t="/")=>{if(ct("navigateToDevMiniProgram",e,{appId:""}))if(["undefined","string"].includes(typeof e.relativeURL)){var r=Object.assign({},e);"string"==typeof r.path&&void 0===r.relativeURL&&(r.relativeURL=Nt(r.path)),ot(t)("navigateToDevMiniProgram",r,{})}else dt("navigateToDevMiniProgram",e,"relativeURL should be string or undefined")},$m=(e={})=>{it("exitMiniProgram",e,{})},zm=ie("NavigationBarTitleUpdate"),Ym=zm.internalOnMethod,Zm=(e={})=>{ct("setNavigationBarTitle",e,{title:""})&&(we.navigationBarTitleMap[we.lastRoute]=e.title,we.lastRoute,e.title,it("setNavigationBarTitle",e,{beforeAll(t){zm.emitInternal(O()({title:e.title},t))}}))},qm=e=>{it("showNavigationBarLoading",e)},Jm=e=>{it("hideNavigationBarLoading",e)},Xm="#000000",Km="#ffffff";function e_(e){var t=(le.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&0===le.appType){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),a=parseInt(r[1].slice(4),16),o=Math.round(.299*n+.587*i+.114*a).toString(16).toUpperCase();it("setNavigationBarColor",{frontColor:Km,backgroundColor:`#${o}${o}${o}`})}}}le.onReady((function(){Kn((function(){if(void 0!==le&&le.global&&le.global.window){var e=le.global.window;Xm=e.navigationBarBackgroundColor||Xm,Km="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=we.lastRoute+".html";if(void 0!==le&&le.page&&le.page[t]&&le.page[t].window){var r=le.page[t].window;Xm=r.navigationBarBackgroundColor||Xm,Km="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}e_(Xm)}))}));var t_=(e={})=>{if(ct("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?it("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&it("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);Xm=e.backgroundColor,Km=e.frontColor,it("setNavigationBarColor",t),e_(Xm)}else dt("setNavigationBarColor",e,`invalid frontColor "${e.frontColor}"`)},r_=(e={})=>{var t=Object.assign({},e);t.backgroundColor=Xm,it("setNavigationBarColor",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},n_=(e={})=>{ct("setNavigationBarRightButton",e,{hide:!0})&&it("setNavigationBarRightButton",e,{})},i_=e=>{Y("onCustomRightButtonClick",__errorTracer__.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},a_=0,o_=function(e){un.on("onPageReload",(t=>{t.path&&(t.path=Bt(t.path)),"function"==typeof e&&e(t)}))},s_=function(e){un.emit(`onBeforeUnloadPage_${e}`,e),un.removeAllListeners(`onBeforeShareAppMessage_${e}`)},l_=function(e){un.emit(`onBeforeShareAppMessage_${e}`,e)};Kn((e=>{try{le.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}));var c_=null;le.onReady((()=>{c_=le.tabBar&&le.tabBar.list||[]}));var u_=1,d_={};f("pageScrollDone",(e=>{if(!(e.callbackId<0||void 0===d_[e.callbackId])){var t=d_[e.callbackId];delete d_[e.callbackId],delete e.callbackId;var r="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",r);var n=0===e.errMsg.indexOf(`${r}:ok`),i=0===e.errMsg.indexOf(`${r}:fail`);n?"function"==typeof t.success&&t.success(e):i&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var p_=e=>{var t=a.getCurrentPagesByDomain(""),r=t[t.length-1].__wxWebviewId__;Et(e,"page")&&Et(e.page,"__wxWebviewId__")&&(r=e.page.__wxWebviewId__);var n={};for(var i in e)"function"==typeof e[i]&&(n[i]=e[i],delete e[i]);e.callbackId=u_,d_[u_]=n,u_++,h("pageScrollTo",e,[r])},h_=(e={})=>{it("startPullDownRefresh",e,{})},f_=e=>{it("stopPullDownRefresh",e)},g_=0,v_={},m_=(e={})=>{v_[g_]={success:e.success,fail:e.fail,complete:e.complete},h("setPageStyle",{callbackId:g_,style:e.style},[we.currentWebviewId]),g_+=1};f("callbackSetPageStyle",(({res:e,callbackId:t})=>{var{errMsg:r}=e,n=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=v_[t];delete v_[t],"object"==typeof a&&(n?"function"==typeof a.success&&a.success(e):i&&"function"==typeof a.fail&&a.fail(e),"function"==typeof a.complete&&a.complete(e))}));var __=-1;function y_(){return __}f("xWebTextareaFocusChanged",(({focus:e}={},t)=>{__=e?t:-1}));var A_=!1;ie("XWebTextareaSupportedEvent").internalOnMethod((({canInsert2XWeb:e}={})=>{A_=e}));var b_=null,w_=()=>{b_&&(se("onKeyboardHeightChange",b_),b_=null)};class E_{constructor(e={}){this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==e.duration?e.duration:400,timingFunction:void 0!==e.timingFunction?e.timingFunction:"linear",delay:void 0!==e.delay?e.delay:0},transformOrigin:e.transformOrigin||"50% 50% 0"}}export(){var e=this.actions;return this.actions=[],{actions:e}}step(e={}){return this.currentStepAnimates.forEach((e=>{"style"!==e.type?this.currentTransform[e.type]=e:this.currentTransform[`${e.type}.${e.args[0]}`]=e})),this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[...e,this.currentTransform[t]]),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}matrix(e=1,t=0,r=0,n=1,i=1,a=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,r,n,i,a]}),this}matrix3d(e=1,t=0,r=0,n=0,i=0,a=1,o=0,s=0,l=0,c=0,u=1,d=0,p=0,h=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g]}),this.stepping=!1,this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,r=0,n=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,r,n]}),this.stepping=!1,this}rotateX(e=0){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}rotateY(e=0){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}rotateZ(e=0){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}scale(e=1,t){return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,r=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,r]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,r=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,r]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}translateZ(e=0){return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}width(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}height(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}right(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}top(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}bottom(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}var C_,I_,S_,T_=(e={})=>{if(ct("createAnimation",e,{}))return new E_(e)};le.onReady((()=>{if(le.screenHeight&&le.screenWidth)I_=le.screenWidth,S_=le.screenHeight;else{var e=oa();I_=e.screenWidth,S_=e.screenHeight,C_=e.deviceOrientation}})),oe("onViewDidResize",(e=>{C_=e.deviceOrientation,I_=e.size.windowWidth,S_=e.size.windowHeight}));var x_=()=>C_||(I_>S_?"landscape":"portrait"),P_=e=>{it("setPageOrientation",e)},k_=e=>/^#[0-9a-fA-F]{6}$/.test(e),D_=(e={})=>{(e=Object.assign({},e)).backgroundColor&&!k_(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!k_(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!k_(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&it("setBackgroundColor",e)},R_=(e={})=>{-1!==["dark","light"].indexOf(e.textStyle)?it("setBackgroundTextStyle",e):dt("setBackgroundTextStyle",e,`invalid textStyle "${e.textStyle}"`)},O_=()=>{};var M_=()=>{var e,t={};if(it("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new Ft(e);return t},L_=!1;ie("XWebTextareaSupportedEvent").internalOnMethod((({canInsert2XWeb:e}={})=>{L_=e}));var N_=0,B_={};f("onGetXWebSelectedTextRange",(({taskId:e,focus:t,start:r,end:n}={})=>{var i=B_[e];i&&(t?("function"==typeof i.success&&i.success({errMsg:"getSelectedTextRange:ok",start:r,end:n}),"function"==typeof i.complete&&i.complete({errMsg:"getSelectedTextRange:ok",start:r,end:n})):("function"==typeof i.fail&&i.fail({errMsg:"getSelectedTextRange:fail:no focused input"}),"function"==typeof i.complete&&i.complete({errMsg:"getSelectedTextRange:fail:no focused input"}))),delete B_[e]}));var W_=!1,F_=function(){var e=Nn()((function*(e){try{var t=yield Es({appId:e.appId,path:e.path},e);return JSON.stringify(t),ls({},{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw["cancel","another navigation is in progress"].includes(r)||Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(t){return e.apply(this,arguments)}}(),U_=(()=>{var e=[];return le.onReady((()=>{Array.isArray(le.embeddedAppIdList)&&(e=le.embeddedAppIdList)})),t=>e.indexOf(t)>=0})(),V_=function(){var e=Nn()((function*({appId:e,path:t,shortLink:r},n){if(W_)throw new Error("another navigation is in progress");W_=!0;try{try{n||(n=yield ms({appId:e,path:t,shortLink:r}))}catch(r){r.errMsg||r.message,n={appId:e,path:t}}var{actionCode:i,allowEmbeddedMode:a,appType:o}=n;e=n.appId,t=n.path;var s=x_(),l=!1;return 4!==le.appType&&4!==o&&[1,2].includes(i)&&a&&"landscape"!==s||(l=!0),U_(e)||(console.warn(`appId "${e}" is not in embeddedAppIdList`),l=!0),O()(O()({},n),{},{shouldFallback:l})}finally{W_=!1}}));return function(t,r){return e.apply(this,arguments)}}(),j_=function(){var e=Nn()((function*(e){JSON.stringify(e),delete(e=O()({},e)).sourcetype,delete e.preScene,delete e.preSceneNote,e.mode="embedded",7!==le.appType&&(delete e.scene,delete e.sceneNote);var t=Ei();return t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&e.path.trim().length>0?e.path=Nt(e.path).trim():e.path=void 0,JSON.stringify(e),at("navigateToMiniProgram",e)}));return function(t){return e.apply(this,arguments)}}();function G_(){return(G_=Nn()((function*(e={}){if(!xs())throw new Error("can only be invoked by user TAP gesture.");var t=Ir().apiCategory;if(["nativeFunctionalized","embedded"].includes(t))throw lo({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${t} apiCategory.`);if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&ut(e,{appId:""}),e.shortLink&&ut(e,{shortLink:""}),e.appId,e.path,e.shortLink;try{var r=yield V_({appId:e.appId,path:e.path,shortLink:e.shortLink});return JSON.stringify(r),r.shouldFallback?yield F_(r):yield j_(O()(O()({},e),{},{appId:r.appId,path:r.path,sourcetype:r.sourcetype}))}catch(e){var n=e.errMsg||e.message;throw["cancel","another navigation is in progress"].includes(n)||Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before open embed miniprogram"}),new Error(n)}}))).apply(this,arguments)}var H_=$("openEmbeddedMiniProgram",(function(){return G_.apply(this,arguments)})),Q_={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}]},$_=e=>{var t=Q_[e.toString()];return t?t.concat([]):[]},z_=e=>Number(e).toString()===e,Y_=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),Z_=e=>e&&"object"==typeof e&&!Array.isArray(e);function q_(e,...t){if(!t.length)return e;var r=t.shift();if(Z_(e)&&Z_(r))for(var n of Object.keys(r))Z_(r[n])?(e[n]||Object.assign(e,{[n]:{}}),q_(e[n],r[n])):Object.assign(e,{[n]:r[n]});return q_(e,...t)}var J_=(e,t,r)=>{for(var n="string"==typeof t?t.split("."):t,i=e,a=0;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},X_=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...X_(t)):e.push(t),e)),[]),K_=e=>JSON.parse(JSON.stringify(e));class ey extends Ma{constructor({id:e,parentId:t,style:r,props:n={},type:i="text",name:a="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:c=!1}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===i?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=c,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new ey({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click"}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var u=Date.now(),d={x:0,y:0};this.on("touchstart",(e=>{l&&this.mask&&(this.mask.style.hidden=!1),u=Date.now(),d=e}));var p=e=>{l&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+d.x,absoluteY:t.top+d.y,relativeX:d.x,relativeY:d.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-u};this.emit("click",n)};this.on("touchend",p),this.on("touchcancel",p),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=xa(this.computedStyle[t])),e)),{});t.bgColor=xa(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{it(`insert${this.type}`,Object.assign(e,{success:e=>{this.name,this.id,this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{it(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id};return new Promise(((t,r)=>{it(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:a=0,duration:o=500}={}){var s={dest:this.dest,viewId:this.id,easing:"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:r,rotate:a,scaleX:n,scaleY:i}};return new Promise(((e,t)=>{it("animateCoverView",Object.assign(s,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==a&&(this.style.rotate=a),o))).catch((e=>{wxNativeConsole.error("animateCoverView fail",e)}))}}class ty extends ey{constructor({id:e,style:t,value:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var ry=function(){var e,t="inherit",r="row",n="row-reverse",i="column",a="column-reverse",o="flex-start",s="center",l="flex-start",c="center",u="flex-end",d="stretch",p="relative",h="absolute",f={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},g={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},v={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},m={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function _(e){return void 0===e}function y(e){return e===r||e===n}function A(e,t){if(void 0!==e.style.marginStart&&y(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function b(e,t){if(void 0!==e.style.marginEnd&&y(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&y(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function E(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&y(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function C(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&y(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+w(e,t)}function I(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&y(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+E(e,t)}function S(e,t){return w(e,t)+E(e,t)}function T(e,t){return A(e,t)+b(e,t)}function x(e,t){return C(e,t)+I(e,t)}function P(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function k(e,t){if("rtl"===t){if(e===r)return n;if(e===n)return r}return e}function D(e,t){return function(e){return e===i||e===a}(e)?k(r,t):i}function R(e){return e.style.position?e.style.position:"relative"}function O(e){return R(e)===p&&e.style.flex>0}function M(e,t){return e.layout[m[t]]+T(e,t)}function L(e,t){return void 0!==e.style[m[t]]&&e.style[m[t]]>=0}function N(e,t){return void 0!==e.style[t]}function B(e,t){return void 0!==e.style[t]?e.style[t]:0}function W(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],i={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=r;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==n&&n>=0&&a<n&&(a=n),a}function F(e,t){return e>t?e:t}function U(e,t){void 0===e.layout[m[t]]&&L(e,t)&&(e.layout[m[t]]=F(W(e,t,e.style[m[t]]),x(e,t)))}function V(e,t,r){t.layout[g[r]]=e.layout[m[r]]-t.layout[m[r]]-t.layout[v[r]]}function j(e,t){return void 0!==e.style[f[t]]?B(e,f[t]):-B(e,g[t])}function G(E,G,Q){var $=function(e,r){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===r?"ltr":r),n}(E,Q),z=k(function(e){return e.style.flexDirection?e.style.flexDirection:i}(E),$),Y=D(z,$),Z=k(r,$);U(E,z),U(E,Y),E.layout.direction=$,E.layout[f[z]]+=A(E,z)+j(E,z),E.layout[g[z]]+=b(E,z)+j(E,z),E.layout[f[Y]]+=A(E,Y)+j(E,Y),E.layout[g[Y]]+=b(E,Y)+j(E,Y);var q=E.children.length,J=x(E,Z);if(function(e){return void 0!==e.style.measure}(E)){var X=!_(E.layout[m[Z]]),K=e;K=L(E,Z)?E.style.width:X?E.layout[m[Z]]:G-T(E,Z),K-=J;var ee=!L(E,Z)&&!X,te=!L(E,i)&&_(E.layout[m.column]);if(ee||te){var re=E.style.measure(K);ee&&(E.layout.width=re.width+J),te&&(E.layout.height=re.height+x(E,i))}if(0===q)return}var ne,ie,ae,oe,se=function(e){return"wrap"===e.style.flexWrap}(E),le=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(E),ce=C(E,z),ue=C(E,Y),de=x(E,z),pe=x(E,Y),he=!_(E.layout[m[z]]),fe=!_(E.layout[m[Y]]),ge=y(z),ve=null,me=null,_e=e;he&&(_e=E.layout[m[z]]-de);for(var ye=0,Ae=0,be=0,we=0,Ee=0,Ce=0;Ae<q;){var Ie,Se=0,Te=0,xe=0,Pe=0,ke=he&&le===o||!he&&le!==s,De=ke?q:ye,Re=!0,Oe=q,Me=null,Le=null,Ne=ce,Be=0;for(ne=ye;ne<q;++ne){if((ae=E.children[ne]).lineIndex=Ce,ae.nextAbsoluteChild=null,ae.nextFlexChild=null,($e=P(E,ae))===d&&R(ae)===p&&fe&&!L(ae,Y))ae.layout[m[Y]]=F(W(ae,Y,E.layout[m[Y]]-pe-T(ae,Y)),x(ae,Y));else if(R(ae)===h)for(null===ve&&(ve=ae),null!==me&&(me.nextAbsoluteChild=ae),me=ae,ie=0;ie<2;ie++)oe=0!==ie?r:i,!_(E.layout[m[oe]])&&!L(ae,oe)&&N(ae,f[oe])&&N(ae,g[oe])&&(ae.layout[m[oe]]=F(W(ae,oe,E.layout[m[oe]]-x(E,oe)-T(ae,oe)-B(ae,f[oe])-B(ae,g[oe])),x(ae,oe)));var We=0;if(he&&O(ae)?(Te++,xe+=ae.style.flex,null===Me&&(Me=ae),null!==Le&&(Le.nextFlexChild=ae),Le=ae,We=x(ae,z)+T(ae,z)):(Ie=e,ge||(Ie=L(E,Z)?E.layout[m[Z]]-J:G-T(E,Z)-J),0===be&&H(ae,Ie,$),R(ae)===p&&(Pe++,We=M(ae,z))),se&&he&&Se+We>_e&&ne!==ye){Pe--,be=1;break}ke&&(R(ae)!==p||O(ae))&&(ke=!1,De=ne),Re&&(R(ae)!==p||$e!==d&&$e!==l||_(ae.layout[m[Y]]))&&(Re=!1,Oe=ne),ke&&(ae.layout[v[z]]+=Ne,he&&V(E,ae,z),Ne+=M(ae,z),Be=F(Be,W(ae,Y,M(ae,Y)))),Re&&(ae.layout[v[Y]]+=we+ue,fe&&V(E,ae,Y)),be=0,Se+=We,Ae=ne+1}var Fe=0,Ue=0,Ve=0;if(Ve=he?_e-Se:F(Se,0)-Se,0!==Te){var je,Ge,He=Ve/xe;for(Le=Me;null!==Le;)(je=He*Le.style.flex+x(Le,z))!==(Ge=W(Le,z,je))&&(Ve-=Ge,xe-=Le.style.flex),Le=Le.nextFlexChild;for((He=Ve/xe)<0&&(He=0),Le=Me;null!==Le;)Le.layout[m[z]]=W(Le,z,He*Le.style.flex+x(Le,z)),Ie=e,L(E,Z)?Ie=E.layout[m[Z]]-J:ge||(Ie=G-T(E,Z)-J),H(Le,Ie,$),ae=Le,Le=Le.nextFlexChild,ae.nextFlexChild=null}else le!==o&&(le===s?Fe=Ve/2:"flex-end"===le?Fe=Ve:"space-between"===le?(Ve=F(Ve,0),Ue=Te+Pe-1!=0?Ve/(Te+Pe-1):0):"space-around"===le&&(Fe=(Ue=Ve/(Te+Pe))/2));for(Ne+=Fe,ne=De;ne<Ae;++ne)R(ae=E.children[ne])===h&&N(ae,f[z])?ae.layout[v[z]]=B(ae,f[z])+w(E,z)+A(ae,z):(ae.layout[v[z]]+=Ne,he&&V(E,ae,z),R(ae)===p&&(Ne+=Ue+M(ae,z),Be=F(Be,W(ae,Y,M(ae,Y)))));var Qe=E.layout[m[Y]];for(fe||(Qe=F(W(E,Y,Be+pe),pe)),ne=Oe;ne<Ae;++ne)if(R(ae=E.children[ne])===h&&N(ae,f[Y]))ae.layout[v[Y]]=B(ae,f[Y])+w(E,Y)+A(ae,Y);else{var $e,ze=ue;if(R(ae)===p)if(($e=P(E,ae))===d)_(ae.layout[m[Y]])&&(ae.layout[m[Y]]=F(W(ae,Y,Qe-pe-T(ae,Y)),x(ae,Y)));else if($e!==l){var Ye=Qe-pe-M(ae,Y);ze+=$e===c?Ye/2:Ye}ae.layout[v[Y]]+=we+ze,fe&&V(E,ae,Y)}we+=Be,Ee=F(Ee,Ne),Ce+=1,ye=Ae}if(Ce>1&&fe){var Ze=E.layout[m[Y]]-pe,qe=Ze-we,Je=0,Xe=ue,Ke=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(E);Ke===u?Xe+=qe:Ke===c?Xe+=qe/2:Ke===d&&Ze>we&&(Je=qe/Ce);var et=0;for(ne=0;ne<Ce;++ne){var tt=et,rt=0;for(ie=tt;ie<q;++ie)if(R(ae=E.children[ie])===p){if(ae.lineIndex!==ne)break;_(ae.layout[m[Y]])||(rt=F(rt,ae.layout[m[Y]]+T(ae,Y)))}for(et=ie,rt+=Je,ie=tt;ie<et;++ie)if(R(ae=E.children[ie])===p){var nt=P(E,ae);if(nt===l)ae.layout[v[Y]]=Xe+A(ae,Y);else if(nt===u)ae.layout[v[Y]]=Xe+rt-b(ae,Y)-ae.layout[m[Y]];else if(nt===c){var it=ae.layout[m[Y]];ae.layout[v[Y]]=Xe+(rt-it)/2}else nt===d&&(ae.layout[v[Y]]=Xe+A(ae,Y))}Xe+=rt}}var at=!1,ot=!1;if(he||(E.layout[m[z]]=F(W(E,z,Ee+I(E,z)),de),z!==n&&z!==a||(at=!0)),fe||(E.layout[m[Y]]=F(W(E,Y,we+pe),pe),Y!==n&&Y!==a||(ot=!0)),at||ot)for(ne=0;ne<q;++ne)ae=E.children[ne],at&&V(E,ae,z),ot&&V(E,ae,Y);for(me=ve;null!==me;){for(ie=0;ie<2;ie++)oe=0!==ie?r:i,!_(E.layout[m[oe]])&&!L(me,oe)&&N(me,f[oe])&&N(me,g[oe])&&(me.layout[m[oe]]=F(W(me,oe,E.layout[m[oe]]-S(E,oe)-T(me,oe)-B(me,f[oe])-B(me,g[oe])),x(me,oe))),N(me,g[oe])&&!N(me,f[oe])&&(me.layout[f[oe]]=E.layout[m[oe]]-me.layout[m[oe]]-B(me,g[oe]));ae=me,me=me.nextAbsoluteChild,ae.nextAbsoluteChild=null}}function H(e,t,r){e.shouldUpdate=!0;var n=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),G(e,t,r),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:G,computeLayout:H,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function ny(e){ry.fillNodes(e),ry.computeLayout(e)}var iy=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&iy(e,r)}))},ay=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return ay(r)})))))},oy=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return oy(r)}))};class sy extends Ma{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(){var e={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return ny(e),iy(e,this),this.onebyone?ay(this).then((()=>this.emit("update-done"))):(oy(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var ly=new sy({name:"webview-layout"});ly.dest=0;var cy=new sy({name:"nativeview-layout",auto:!1});cy.onebyone=!1,cy.dest=1;class uy extends ey{constructor({id:e,style:t,src:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:$r(this.src)})}}class dy{constructor(){this.emitter=new ee({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}var py={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},hy=0,fy={};le.onReady((()=>{hy=le.appType+1e3,fy=le.appLaunchInfo}));var gy={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},vy={},my=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];Ie&&my.push("onVideoFullScreenChange");var _y=(e,t,n)=>{"ad"!==e.scene&&(({component:e,eventName:t,eventData:n,src:i=""}={})=>{var a=Ki(),o=r&&r.version&&r.version.version||"",s=Object.keys(fy.query||{}).map((e=>`${e}=${fy.query[e]}`)).join(",");s=encodeURIComponent(s);var l="";switch(t){case"onLoad":l=[n.duration,n.controls?2:1].join(";");break;case"onWaiting":l=[n.position,n.buffered].join(";");break;case"onError":l=n.errMsg.replace(","," ");break;case"onFullScreenChange":l=n.fullScreen?2:1;break;case"onTimeUpdate":l=[n.position,n.buffered].join(";");break;case"onImageLoad":l=[n.isLazyLoad?2:1,n.size,n.loadTime,n.width,n.height,n.originalWidth,n.originalHeight].join(";");break;case"onImageError":l=[n.isLazyLoad?2:1].join(";")}var c=[Math.round(Date.now()/1e3),fy.scene,"",fy.sessionid||fy.sessionId,fy.path,s,a,o,py[e],gy[t],l,encodeURIComponent(i.substring(0,1024)).substring(0,1024),hy].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:c})})({component:"video",eventName:t,eventData:n,src:e.src})};class yy extends Ma{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,hide:o=!1,src:s,poster:l,referrerPolicy:c="no-referrer",initialTime:u=0,playbackRate:d=1,live:p=!1,objectFit:h="contain",controls:f=!0,showProgress:g=!0,showProgressInControlMode:v=g,autoplay:m=!1,muted:_=!1,loop:y=!1,enableProgressGesture:A=!0,enablePlayGesture:b=!1,showCenterPlayBtn:w=!0,autoInsert:E=!0,scene:C="default",preLoad:I=!1,obeyMuteSwitch:S=!1,underGameView:T=!1,backgroundColor:x="#000000",playerHint:P="",zIndex:k,autoPauseIfNavigate:D=!0,autoPauseIfOpenNative:R=!0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=E,this.playerHint=P,this.scene=C,this.preLoad=I,this.underGameView=T,this.zIndex=k,this.autoPauseIfOpenNative=R,this.autoPauseIfNavigate=D,vy[this.id]=this;var O=null;this.emitter=new dy,this.deferred=[],this._buffered=0,this._position=0;var M={x:r,y:n,width:i,height:a,hide:o,src:s,poster:l,initialTime:u,playbackRate:d,live:p,objectFit:h,controls:f,showProgress:g,showProgressInControlMode:v,backgroundColor:x,autoplay:m,muted:_,loop:y,enableProgressGesture:A,enablePlayGesture:b,showCenterPlayBtn:w,obeyMuteSwitch:S,referrerPolicy:c};Object.keys(M).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>M[e],set:t=>{"src"!==e&&M[e]===t||(M[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(O),O=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),my.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,_y(this,"onSrcSet",{}),new Promise(((e,t)=>{it("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:$r(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{Se?setTimeout((()=>{it("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t})}),0):it("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t}),my.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete vy[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:!1,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative};return this.isSrcChanged&&(t.filePath=$r(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=$r(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&_y(this,"onSrcSet",{}),new Promise(((t,r)=>{it("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{it("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}my.forEach((e=>{var t=e.replace("Video","");yy.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");yy.prototype[r]=function(t){this.emitter.off(e,t)}})),my.forEach((e=>{oe(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=vy[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var i=t;"onVideoTimeUpdate"===e?(n._position=t.position,i={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(i={position:n._position,buffered:n._buffered}),_y(n,e.replace("Video",""),i)}else n._buffered=t.buffered}))}));var Ay={};class by extends Ma{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:u=!1,zIndex:d=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=i,this.height=a,this.scale=+l,this.hide=u,this.autoInsert=c,this.url=o,this.zIndex=d,this.emitter=new mc("ImagePreviewer",!0),Ay[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return it("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{it("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{it("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete Ay[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}oe("onImagePreviewerLoadFail",(e=>{Ay[e.viewId].emitter.emit("onImageLoadFail",e)}));var wy=l(725),Ey=l.n(wy),Cy=e=>{for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==kA&&t.parent.referComponent;)t=t.parent;return t};class Iy{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var r=this;this._stateQueue=this._stateQueue||{};var n=!1;for(var i of Object.keys(e)){e[i]!==this.state[i]&&(n=!0)}n?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(Nn()((function*(){r._setStateTimer=null;var e=!1;for(var n of Object.keys(r._stateQueue)){var i=r._stateQueue[n];r.state[n]!==i&&(e=!0)}e&&(qy(r,"updateState",O()(O()({},r.state),r._stateQueue)),Object.assign(r.state,r._stateQueue),Yy(r),mA(Cy(r._rootElement)),yield kA.nextLayout(),null==t||t(r.state,r.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(var e of this._subComponents)e._unmountComponent();qy(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){for(var e=this;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var r=this;return Nn()((function*(){var n=r.getElementById(e),i=r._manualStyle;e&&t&&(n&&Object.assign(n.style,t),i[e]=i[e]||{},Object.assign(i[e],t)),yield Promise.resolve();var a=r.getRootComponent();yield a.requestLayout()}))()}requestLayout(){var e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,mA(Cy(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),Ca(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,r){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(r),r}_unbindEvent(e,t,r){var n,i;return!(null===(n=this._eventHandler[e])||void 0===n||null===(i=n[t])||void 0===i||!i.has(r))&&(this._eventHandler[e][t].delete(r),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}Iy.isComponent=!0,Iy.subComponents={};var Sy;!function(e){e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullscreenChange="fullscreenChange",e.loadedMetaData="loadedMetaData"}(Sy||(Sy={}));class Ty extends Iy{render(){var{props:{children:e}}=this;return e}}Ty.isFragment=!0;var xy="Fragment",Py={view:ey,text:ty,image:uy,video:yy},ky=e=>e.name[0]>="A"&&e.name[0]<="Z",Dy=e=>Object.keys(e.children).map((t=>e.children[t])),Ry=new WeakMap,Oy=(e,t)=>{var{referComponent:r}=t,n={children:t.children},i="getSubComponentProps",a=[];if(e.getProps){var[o,...s]=e.getProps.split(":");i=o,a=s}for(var l of(Object.assign(n,qy(r,i,t.name,...a)||{}),Object.keys(e))){var c=e[l];["getProps","children"].includes(l)||(n[l]=c)}return n.children=t.children,n},My=(e,t,r)=>{if(!r.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return zy(r,Oy(t,e),!1,e.referComponent)},Ly=(e,t=Ny(e))=>{var{referComponent:r}=e,{id:n}=t,i=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),a=O()({},t);n&&(a.name=n),delete a.id,a.style=TA({classList:i,name:n,referComponent:r});var o=null!=a.bubbleEvent,s=new(0,Py[e.name])(a);if(s.isBubbleEventSet=o,Object.assign(s,{classList:i,referComponent:r,key:t.key||null}),n&&r&&r.getEventHandler(n))for(var l of Object.keys(r.getEventHandler(n))){var c=r.getEventHandler(n)[l];if(l in Sy){if("video"===e.name)for(var u of c){var d=s[`on${l[0].toUpperCase()}${l.slice(1)}`];null==d||d.call(s,u)}}else for(var p of c)s.on(l,p)}return null!=n&&(r._elementMap[n]=s),s},Ny=e=>{var t={};for(var r of Object.keys(e.attributes)){var n=e.attributes[r],i=Sa(r);t[i]=n,/\{\{.+\}\}/.test(n)||("true"===n?t[i]=!0:"false"===n?t[i]=!1:"id"===i?t.id=Sa(n):t[i]=n)}return t},By=e=>{var t=e.constructor.subComponents||[],r="function"==typeof t?t():t;return O()(O()({},r),{},{[xy]:Ty})},Wy=e=>{if(Array.isArray(e)){var t=e.map((e=>Wy(e))),r={element:null,subComponents:[]};for(var{element:n,subComponents:i}of t)for(var a of(n&&(null===r.element&&(r.element=[]),Array.isArray(n)?r.element.push(...X_(n)):r.element.push(n)),i))r.subComponents.includes(a)||r.subComponents.push(a);return r}if(!e)return{element:null,subComponents:[]};var o,s=By(e.referComponent),l=[],c=Ny(e);if(ky(e)){if(!s[e.name])throw new Error(`component name ${e.name} does not exists`);var u=My(e,c,s[e.name]);if(!(o=u.getRootElements()))return{element:null,subComponents:[]};l.push(u)}else{var d=Ly(e,c);e.children.forEach((e=>{var{element:t,subComponents:r}=Wy(e);if(t)if(l.push(...r),Array.isArray(t))for(var n of t)d.add(n);else d.add(t)})),o=d}return{element:o,subComponents:l}},Fy=(e,t)=>{var r=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],n=!1;for(var i of r)void 0===t[i]&&(t[i]=void 0);for(var a of Object.keys(t)){var o=t[a];r.includes(a)&&e[a]!==o&&(e[a]=o,n=!0)}return n},Uy=(e,t,r=null)=>{var n=r;if(e!==t){if(!n){if(!e||!e.parent)throw new Error("can not find element tree without parent");n=e.parent}if(e&&n.remove(e),t)if(Array.isArray(t))for(var i of t)n.add(i);else n.add(t)}},Vy=(e,t)=>Py[t.name]&&e?e.constructor===Py[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name,jy=(e,t)=>{var r=Ny(t),n=t.referComponent,i=By(n),a=e&&Vy(e,t);if(!ky(t)){if(!t.children||0===t.children.length)return e&&a?(Fy(e,r),e):Ly(t,r);if(e&&a)return Fy(e,r),Hy(Dy(e),t.children),e;var{element:o,subComponents:s}=Wy(t);return n.getSubComponents().push(...s),o}var l=null==e?void 0:e.referComponent,c=null==l?void 0:l.constructor;if(l&&c===i[t.name])return Object.assign(l.props,Oy(r,t)),Yy(l);var u=n.getSubComponents().indexOf(l);return u>-1&&n.getSubComponents().splice(u,1),l&&qy(l,"destroy"),null==e||e.remove(),My(t,r,i[t.name]).getRootElements()},Gy=e=>e.reduce(((e,t)=>(t.name===xy?e.push(...Gy(t.children)):e.push(t),e)),[]),Hy=(e,t)=>{var r=[],n={};for(var i of e)i.key?n[i.key]=i:r.push(i);for(var a of Gy(t)){var{key:o}=a,s=null;if(o)n[o]&&(s=n[o],delete n[o]);else for(var l of Object.keys(r)){var c=r[+l];if(c&&Vy(c,a)){s=c,r.splice(Number(l),1);break}}s||(s=r.shift()||null),e.length&&e[0].parent&&Uy(s,jy(s,a),e[0].parent)}var u=Object.keys(n).reduce(((e,t)=>(e.push(n[t]),e)),[]);for(var d of[...r,...u])null==d||d.remove()},Qy=(e,t)=>{Array.isArray(e)?e.forEach((e=>Qy(e,t))):(t(e),e.children.forEach((e=>Qy(e,t))))},$y=(e,t)=>{Qy(e,(e=>{e.referComponent||(e.referComponent=t)}))},zy=(e,t,r=!0,n=null)=>{var i=new e(t);i.parent=n;var a=i.render(),o="string"==typeof a?Ey()(a).root:a;$y(o,i);var{element:s,subComponents:l}=Wy(o);return i._subComponents=l,s&&(i._rootElement=s,Array.isArray(s)?s.forEach((e=>{e.isRootElementOfComponent=!0})):s.isRootElementOfComponent=!0),qy(i,"ready",s,l),r&&(s&&(Array.isArray(s)?s.forEach((e=>{kA.add(e),mA(e)})):(kA.add(s),mA(s))),Ry.set(e,i)),i},Yy=(e,t)=>{t&&Object.assign(e.props,t);var r=e.getRootElements(),n=e.render(),i="string"==typeof n?Ey()(n).root:n;return $y(i,e),Array.isArray(r)&&Array.isArray(i)?Hy(r,i):Array.isArray(r)&&!Array.isArray(i)?Hy(r,[i]):!Array.isArray(r)&&Array.isArray(i)?Hy([r],i):Array.isArray(r)||Array.isArray(i)||Uy(r,jy(r,i)),qy(e,"updatedProps"),r},Zy=e=>{if(!e.isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((e=>kA.remove(e))):kA.remove(t),e._unmountComponent(),Ry.delete(e.constructor)},qy=(e,t,...r)=>"function"==typeof e[t]?e[t](...r):null,Jy=!1,Xy={},Ky={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625},eA=null,tA=()=>{if(eA)return eA;if(jr()){var e=new NativeGlobal.Canvas;e.width=1,e.height=1,eA=e.getContext("2d")}else eA=Xl();return eA};var rA=new class{constructor(){}getCharWidth(e,t){return(Ky[e]?Ky[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){if(Ie)return this.getTextWidthInAndroid(e,t);var r=tA();return t&&(r.font=`${t}px PingFangSC-Regular, SF Pro Display, SF Pro Text`),Math.ceil(r.measureText(e).width||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var i=0,a=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(i+l>r)break;a++,i+=l}return a}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:i=1}=t,a=[],o=0,s=e.substring(0,e.length);o<i;){var l=this.getMaxWordLength(s,r,n,!(o!==i-1)),c=o===i-1?this.limitString(s,l):s.substring(0,l);c&&a.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(l,s.length)}return a}},nA=["width","height"],iA=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),aA=(e,t)=>Math.max(e,t),oA=(e,t)=>e+t,sA=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),lA=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),cA=(e,t,r)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+r:parseFloat(e.slice(0,-1))/100*t+r,uA=(e,t,r,n,i,a)=>{var o,s=e.parent,l=n[r],c=lA(e)[r],u=t,d=null,p=!1;if(!i&&a>0&&(null==u||a>u)&&(u=a),n.position&&"absolute"===n.position[1]&&null!=u&&(u+=a),l||null==u)l&&"percent"===l[0]&&null!=u?(d=u*l[1]-c,p=!0):l&&"digit"===l[0]&&(d=l[1]-c,p=!0);else if("auto"!==e.style[r])if("absolute"===(null===(o=n.position)||void 0===o?void 0:o[1])){var h=0,f=!1;for(var g of"width"===r?["left","right"]:["top","bottom"])null!=n[g]?"digit"===n[g][0]?h+=Number(n[g][1])||0:"percent"===n[g][0]&&(h+=(Number(n[g][1])||0)*u):f=!0;d=f?null:u-h}else if(i&&iA(s.style.flexDirection,r)&&e.style.flex>0)d=null;else{var v=iA(e.style.flexDirection,r);(e=>OA(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&v&&(p=!0),d=u-c}return null!=d&&(e.autoFitSize[r].size=d),p},dA=(e,t)=>e.parent&&e.parent!==kA?e.parent.style[t]:"width"===t?Xy.screenWidth:Xy.screenHeight,pA=e=>{var t=DA(e),r=lA(e);e.autoFitSize={width:{size:null,margin:0,padding:r.width},height:{size:null,margin:0,padding:r.height}};var n=e.parent;if(t||n.autoFitSize){var i=PA(TA(e)),a={width:!1,height:!1},o={width:null,height:null};for(var s of nA){var l=i[s],c=t?dA(e,s):n.autoFitSize[s].size,u=t?0:n.autoFitSize[s].padding;!l&&t&&"height"===s&&(c=null),a[s]=uA(e,c,s,i,!0,u)}gA(e,i);var d=lA(e),p="wrap"===e.style.flexWrap,h=[];for(var f of OA(e)){pA(f);var g=sA(f);if("absolute"!==f.style.position)for(var v of nA){var m=iA(e.style.flexDirection,v);if(p){if(m){var _="width"===v?"height":"width";h.push([(f.autoFitSize[v].size||0)+f.autoFitSize[v].padding+g[v],(f.autoFitSize[_].size||0)+f.autoFitSize[_].padding+g[_]])}}else{var y=m?oA:aA;null==f.autoFitSize[v].size&&f.autoFitSize[v].padding<=0&&y===oA&&(a[v]=!0),o[v]=y((f.autoFitSize[v].size||0)+f.autoFitSize[v].padding+g[v],o[v]||0)}}}if(p){var A=0,b=0,w=0,E=0,C=iA(e.style.flexDirection,"width")?"width":"height",I="width"===C?"height":"width";for(var[S,T]of(E=a[C]&&null!=e.style[C]?e.style[C]:h.reduce(((e,[t])=>e+t),0),h))w=Math.max(w,T),S+A>E?(b+=w,w=T,A=S):A+=S;b+=w,o[C]=A,o[I]=b}if(e instanceof ty){var x=!1;if("ellipsis"===e.style.textOverflow&&Number(e.style.lineClamp)>=1){var P=hA(e);null!=!e.autoFitSize.height.size&&a.height||(x=!0,P>1&&e.style.textAlignMultiline&&(e.style.textAlign=e.style.textAlignMultiline),Object.assign(e.autoFitSize.height,{size:(e.style.lineHeight||e.style.fontSize||0)*P,padding:d.height}))}null!=e.autoFitSize.height.size&&(a.height||x)||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:d.height}),null!=e.autoFitSize.width.size&&a.width||Object.assign(e.autoFitSize.width,{size:rA.getTextWidth(e.value,e.style.fontSize||14)+3,padding:d.width})}for(var k of nA)a[k]||null===o[k]?d[k]>0&&(e.autoFitSize[k].padding=d[k]):Object.assign(e.autoFitSize[k],{size:null!=o[k]?o[k]:null,padding:d[k]})}},hA=e=>{for(var{width:t}=e.style,r=Number(e.style.lineClamp),n=Number(e.style.fontSize),i=e.value||"",a=rA.getTextWidth("...",n),o=[""],s=0,l=0;s<r&&l<i.length;){var c=s+1===r,u=c?t-a:t;rA.getTextWidth(o[s]+i[l],n)+n<=u?o[s]+=i[l]:c?(o[s]+="...",s+=1):(s+=1,o.push(i[l])),l+=1}return e._hasEllipsis||(e._hasEllipsis=!0,e.value=o.join("")),o.length},fA=e=>{var t=OA(e);for(var r of nA){var n=iA(e.style.flexDirection,r),{size:i}=e.autoFitSize[r],{padding:a}=e.autoFitSize[r];if(null!=i||a){i=i||0;var o=0,s=0;for(var l of t){var{size:c,margin:u,padding:d}=l.autoFitSize[r];"absolute"!==l.style.position&&(null!=c?o+=c+d+u:l.style.flex&&l.style.flex>0&&(s+=Number(l.style.flex)))}for(var p of t){var h,f=PA(TA(p)),g=null;n?g=p.style.flex?(i-o)/aA(s,1)*p.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(g=i),null==p.autoFitSize[r].size&&g?uA(p,g,r,f,!1,a):"absolute"===(null===(h=f.position)||void 0===h?void 0:h[1])&&uA(p,i,r,f,!1,a)}}}for(var v of t)fA(v);for(var m of nA){var{size:_,padding:y}=e.autoFitSize[m];null!=_&&e.style[m]!==_+y&&(e.style[m]=_+y)}e instanceof ty&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},gA=(e,t)=>{var r=e.autoFitSize.width.size,n=e.autoFitSize.height.size;for(var i of Object.keys(t)){var a=t[i];"percent"===a[0]?"horizontal"===_A[i]&&null!=r?e.style[i]=a[1]*r:"vertical"===_A[i]&&null!=n&&(e.style[i]=a[1]*n):"normal"===a[0]&&(e.style[i]=a[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=cA(t.transform[1][0],r||0,e.style.left||0),e.style.top=cA(t.transform[1][1],n||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},vA=e=>{var t=[["width","left"],["height","top"]];for(var r of OA(e))for(var[n,i]of(vA(r),t)){var a;if((r.style.position||null!==(a=r.expandAbsoluteSize)&&void 0!==a&&a.has(n))&&"hidden"!==e.style.overflow){var o=(r.style[n]||0)+(r.style[i]||0);o>(e.style[n]||0)&&(e.style[n]=o,e.expandAbsoluteSize||(e.expandAbsoluteSize=new Set),e.expandAbsoluteSize.add(n))}}},mA=e=>{pA(e),fA(e),vA(e),(e=>{for(var t=[["width","left"],["height","top"]],r=e;r&&r!==kA&&r.parent!==kA;){var n=r.parent;if(r.style.hidden)break;for(var[i,a]of t){var o;if((r.style.position||null!==(o=r.expandAbsoluteSize)&&void 0!==o&&o.has(i))&&"hidden"!==e.style.overflow){var s=(r.style[i]||0)+(r.style[a]||0);s>(n.style[i]||0)&&(n.style[i]=s,n.expandAbsoluteSize||(n.expandAbsoluteSize=new Set),n.expandAbsoluteSize.add(i))}}r=n}})(e)},_A={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizonta",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},yA=/^\s*#[0-9a-fA-F]{3}\s*$/,AA=/^\s*#[0-9a-fA-F]{3,6}\s*$/,bA=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,wA=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,EA=/px$/,CA=e=>"number"==typeof e?e:EA.test(e)?Number(e.replace(EA,""))||0:z_(e)?parseInt(e,10):e,IA=e=>{if("string"==typeof e&&yA.test(e)){var[t,r,n]=e.slice(1);return`#${t}${t}${r}${r}${n}${n}`}return e},SA=(e={})=>{var t={};for(var r of Object.keys(e)){var n=e[r];if(["padding","margin"].includes(r)){var i=Array.isArray(n)?n:(null==n?"":n).toString().split(/\s+/),a=null,o=null,s=null,l=null;switch(i.length){case 0:continue;case 1:[a]=i,[o]=i,[s]=i,[l]=i;break;case 2:[a,o]=i,[s,l]=i;break;case 3:[a,o,s]=i,l=o;break;case 4:[a,l,s,o]=i;break;default:continue}Object.assign(t,{[`${r}Top`]:CA(a),[`${r}Left`]:CA(o),[`${r}Bottom`]:CA(s),[`${r}Right`]:CA(l)})}else if("border"===r){var c=(n||"").toString().split(/\s+/);switch(c.length){case 0:continue;case 1:t.borderColor=IA(c[0]);continue;case 2:t.borderWidth=CA(c[0]),t.borderColor=IA(c[1]);continue;case 3:t.borderWidth=CA(c[0]),t.borderColor=IA(c[2]);continue;default:continue}}else if("background"===r&&AA.test(e[r]))t.backgroundColor=IA(e[r]);else if("background"===r&&(bA.test(e[r])||wA.test(e[r])))t.backgroundColor=e[r];else if("background"===r&&e[r].includes("linear-gradient"))t.backgroundColor=e[r];else if("color"===r&&"string"==typeof n&&wA.test(n)){var[u,d,p,h]=wA.exec(n).slice(1,5).map((e=>Number(e))),f=e=>e.toString(16);t.color=`#${f(u)}${f(d)}${f(p)}`,null==e.opacity&&(t.opacity=Number(h))}else if("display"===r)t.hidden="none"===e[r];else if("rotate"===r){var g=e[r];t.rotate="string"==typeof g?Number(g.replace("deg",""))||0:g}else t[r]=IA(CA(e[r]))}return t},TA=e=>{if(e._isTemplate)return e._manualStyle;var t=e.referComponent;if(!t)return Object.assign({},e.style||{});var r={},n=t.style||{};for(var i of e.classList||[])Object.assign(r,SA(n[i])),Object.assign(r,SA(n[`.${i}`]));return n[e.name]&&Object.assign(r,SA(n[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(r,SA(t._manualStyle[e.name])),r},xA={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},PA=e=>{var t={};for(var r of Object.keys(e)){var n=e[r];if(null!=n){var i=n.toString().trim();if((_A[r]||["width","height"].includes(r))&&xA.percent.test(i)){var a=parseFloat(i.slice(0,-1))/100;t[r]=["percent",a]}else if(z_(i))t[r]=["digit",Number(i)];else if("transform"===r&&i.includes("translate")){var o=xA.translate.exec(i);o&&(t[r]=["transform",o.slice(1,3)])}else t[r]="string"==typeof n?["normal",i]:["normal",n]}}return t},kA=ly,DA=e=>{var t,r;return!(e.parent!==kA&&(null!==(t=e.parent)&&void 0!==t&&t.referComponent||null!==(r=e.parent)&&void 0!==r&&r._isTemplate))},RA=e=>Object.keys(e.children).map((t=>e.children[t])),OA=e=>RA(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),MA=(e,t,r="downward")=>{for(var n of("downward"===r&&t(e),RA(e)))MA(n,t,r);"upward"===r&&t(e)},LA=(e,t)=>{for(var{path:r,value:n,condition:i=!0}of t)if(i){var a=n||(r?J_(e,r):"");if(a)return a}return null},NA=63,BA=e=>{var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},WA=e=>{if(!e)return"";var t=String(e),r=[],n=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var i of t)if(i.match(n)){var a=i.codePointAt?i.codePointAt(0):i.charCodeAt(0);a<128?r.push(BA(a)):a<2048?r.push([BA(192+(a>>6)),BA(128+(a&NA))].join("")):a<65536?r.push([BA(224+(a>>12)),BA(128+(a>>6&NA)),BA(128+(a&NA))].join("")):a<2097152&&r.push([BA(240+(a>>18)),BA(128+(a>>12&NA)),BA(128+(a>>6&NA)),BA(128+(a&NA))].join(""))}else r.push(i);return r.join("")},FA=e=>{if(!e)return"";for(var t=e=>{if(!e)throw new Error("invalid text")},r=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),n=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16)))),i=0,a="";i<n.length;){var o=n.charCodeAt(i);if(o<128)a+=r(o),i+=1;else if(o>=192&&o<224){t(i+1<n.length),a+=r((31&o)<<6|n.charCodeAt(i+1)&NA),i+=2}else if(o<240){t(i+2<n.length);var s=n.charCodeAt(i+1),l=n.charCodeAt(i+2);a+=r((15&o)<<12|(s&NA)<<6|l&NA),i+=3}else{t(i+3<n.length);var c=n.charCodeAt(i+1),u=n.charCodeAt(i+2),d=n.charCodeAt(i+3);a+=r([(7&o)<<18,(c&NA)<<12,(u&NA)<<6,d&NA].reduce(((e,t)=>e|t),0)),i+=4}}return a},UA=e=>{var t={};if(e.indexOf("?")>-1){var r=e.indexOf("?")+1,n=e.substring(r);n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#")));var i=n.split("&");for(var a of i){var[o,s]=a.split("=");t[o]=FA(s)}}return t},VA=(e,t)=>{if(!e)return"";if(!t)return e;var r=e.split("#"),n=r[0].indexOf("?")>-1?"&":"?",i="",a=Object.keys(t);if(a.length>0){for(var o of a)i=i.concat(`${o}=${WA(t[o])}&`);return i.length>0&&(i=i.substring(0,i.length-1)),r[0]+n+i+(r[1]?`#${r[1]}`:"")}return e},jA=()=>{var e=ha();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":le.deviceOrientation&&/^landscape/.test(le.deviceOrientation)?"landscape":le.deviceOrientation||"portrait"},GA="",HA="",QA="{}",$A="",zA="",YA="{}";function ZA(e=""){return new Promise(((t,r)=>{var n="",i="";Ie&&le.clientVersion>=654316032?it("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",i=e.imei||"",t({waid:n,imei:i})},fail(e){r(e)}}):t({waid:n,imei:i})}))}var qA,JA,XA,KA,eb,tb,rb,nb,ib,ab,ob,sb,lb,cb,ub,db,pb,hb,fb,gb,vb,mb,_b=e=>e&&"object"==typeof e&&!Array.isArray(e),yb=(e,...t)=>{if(!t.length)return e;var r=t.shift();if(_b(e)&&_b(r))for(var n in r)_b(r[n])?(e[n]||Object.assign(e,{[n]:{}}),yb(e[n],r[n])):Object.assign(e,{[n]:r[n]});return yb(e,...t)},Ab=()=>{var e=new Date,t=e.getMonth()+1,r=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(r>9?"":"0")+r].join("")},bb=(e,t,r)=>{"string"==typeof t&&(t=t.split("."));for(var n=e,i=0;n&&i<t.length;)n=n[t[i]],i+=1;return n||r},wb=e=>{var t=0,r=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{it("measureText",Object.assign({},r,{complete(e){t=e.width||0}}))}catch(e){}return t},Eb=Ta((({url:e,adInfo:t,adUxInfo:r,success:n,fail:i,complete:a})=>{var o={url:e,adInfo:t,success:n,fail:i,complete:a};r&&(o.adUxInfo=r),it("private_openUrl",o)})),Cb=Ta((({canvasInfo:e,posType:t,success:r,fail:n,complete:i})=>{var a;it("openADCanvas",{canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t}),adInfoXml:(a=e.ad_info_xml,0===(a=a||"").length?"":a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:r,fail:n,complete:i})})),Ib=Ta((({appId:e,path:t,traceid:r,aid:n,adInfo:i,adUxInfo:a,success:o,fail:s,complete:l})=>{var c=`${r}:${n}`,u={appId:e,path:Nt(t).trim(),scene:1095,sourcetype:1,sceneNote:c,adInfo:i,success:o,fail:s,complete:l};a&&(u.adUxInfo=a),it("navigateToMiniProgram",u)})),Sb=Ta(((e=!0,t,r=!1)=>(n={})=>{if(ct("adOperateWXData",n,{apiName:""})){var i={data:{api_name:n.apiName,data:n.reqData||{},operate_directly:e},isImportant:!0===r,requestInQueue:!n.hasOwnProperty("requestInQueue")||Boolean(n.requestInQueue)};it("adOperateWXData",Object.assign({},i,n),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){Ie&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data?e.data=JSON.parse(e.data.data):e.data={}}})}})(!1,"adOperateWXDataForAd")),Tb=(e={})=>en(Object.assign({},e,{sdkApiName:"operateWXDataForAd"}));function xb(e){lt("showSplashAd",e)}function Pb(e){lt("splashAdFirstStepViewLayoutStateChange",e)}function kb(e){lt("splashAdAllViewLayoutStateChange",e)}!function(e){e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVARS="setExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.SPLASHSKIPAD="splashSkipAd",e.ADDCHILDREN="addChildren",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",e.EVALUATEEXPR="evaluateExpr"}(qA||(qA={})),function(e){e.TAP="tap",e.SLIDE="slide",e.ANIMATIONEND="animationend"}(JA||(JA={})),function(e){e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView"}(XA||(XA={})),function(e){e.BUTTONTAP="buttonTap"}(KA||(KA={})),function(e){e.RELATIONFETCHED="relationFetched"}(eb||(eb={})),function(e){e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData"}(tb||(tb={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap"}(rb||(rb={})),function(e){e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike"}(nb||(nb={})),function(e){e.SHOWCHANGE="showChange",e.UNITTAP="unitTap"}(ib||(ib={})),function(e){e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone"}(ab||(ab={})),function(e){e.SHOWFEEDBACK="showFeedback",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.TRIGGEREVENT="triggerEvent",e.REPORTVIDEOPLAY="reportVideoPlay",e.APPENTERBACKGROUND="appEnterBackground",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.BTNTAP="btnTap",e.CHANGEADBTNTEXT="changedAdBtnText",e.ENDPAGEINIT="endPageInit",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.APPENTERFOREGROUND="appEnterForeground",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.REPORTMMDATA="reportMMData",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.CHANGEMULTISHOW="changeMultiShow",e.CHECKEXPOSURE="checkExposure",e.LANDAD="landAd",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(ob||(ob={})),function(e){e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN"}(sb||(sb={})),function(e){e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION"}(lb||(lb={})),function(e){e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD"}(cb||(cb={})),function(e){e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION"}(ub||(ub={})),function(e){e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON"}(db||(db={})),function(e){e[e.COMMON=1]="COMMON",e[e.AD=2]="AD"}(pb||(pb={})),function(e){e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE"}(hb||(hb={})),function(e){e[e.COMMON=1]="COMMON"}(fb||(fb={})),function(e){e[e.COMMON=1]="COMMON"}(gb||(gb={})),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS"}(vb||(vb={})),function(e){e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP"}(mb||(mb={}));var Db,Rb=(e,t)=>({idKey:e,idKeyGroup:t});!function(e){e[e.COMMON=924]="COMMON",e[e.SPLASHAD=1288]="SPLASHAD",e[e.CUSTOMAD=1390]="CUSTOMAD",e[e.CPSSHOPAD=1764]="CPSSHOPAD"}(Db||(Db={}));var Ob,Mb,Lb=e=>Rb(e,Db.COMMON),Nb={AD_BANNER_LOAD_ERROR:Lb(5),AD_VIDEO_LOAD_ERROR:Lb(10),REWARDED_VIDEO_PARSE_ERROR:Lb(11),REWARDED_VIDEO_RENDER_ERROR:Lb(12),REWARDED_VIDEO_LOAD_ERROR:Lb(13),REWARDED_VIDEO_FOLLOW_SUCCESS:Lb(14),OPEN_URL_ERROR:Lb(21),OPEN_WXAPP_ERROR:Lb(22),OPEN_CANVAS_ERROR:Lb(23),ADD_CONTACT_ERROR:Lb(24),LAUNCH_APP_ERROR:Lb(25),OPEN_WEBAPPSTORE_ERROR:Lb(26),ADD_DOWNLOAD_TASK_ERROR:Lb(28),CLICK_REPORT_ERROR:Lb(32),EXPOSURE_REPORT_ERROR:Lb(33),FOLLOW_REPORT_ERROR:Lb(34),REWARDED_VIDEO_ANIMATE_ERROR:Lb(35),INTERSTITIALAD_ANIMATE_ERROR:Lb(36),AD_FOLLOWED:Lb(37),AD_INSTALLED:Lb(38),AD_INTERSTITIAL_LOAD_ERROR:Lb(39),INTERSTITIAL_AD_RENDER_ERROR:Lb(40),INTERSTITIAL_FOLLOW_SUCCESS:Lb(41),INTERSTITIAL_SHOW_FAIL1:Lb(42),INTERSTITIAL_SHOW_FAIL2:Lb(43),INTERSTITIAL_SHOW_FAIL3:Lb(44),INTERSTITIAL_SHOW_FAIL5:Lb(45),INTERSTITIAL_SHOW_SUCCESS:Lb(46),INTERSTITIAL_LIMIT_TIME:Lb(49),REWARDED_VIDEO_INSTANCE_BROKEN:Lb(50),PRELOAD_MINIENV_SUCCESS:Lb(86),PRELOAD_MINIENV_ERROR:Lb(87),AD_GRID_LOAD_SUCCESS:Lb(88),AD_GRID_LOAD_COUNT_ERROR:Lb(89),AD_GRID_LOAD_ERROR:Lb(90),PREDOWNLOAD_SUCCESS:Lb(96),PREDOWNLOAD_ERROR:Lb(97),INTERSTITIAL_VIDEO_LOAD:Lb(98),INTERSTITIAL_VIDEO_PLAY:Lb(99),INTERSTITIAL_IMAGE_LOAD:Lb(100),INTERSTITIAL_VIDEO_LOAD_ERROR:Lb(101),INTERSTITIAL_VIDEO_REPORT_ERROR:Lb(102),INTERSTITIAL_VIDEO_PLAY_SUCCESS:Lb(103),INTERSTITIAL_VIDEO_PLAY_SUCCESS_END:Lb(104),INTERSTITIAL_VIDEO_PRELOAD_SUCCESS:Lb(106),REWARDED_VIDEO_OTHER_SHOW_ERROR:Lb(105),INTERSTITIAL_VIDEO_PRELOAD_ERROR:Lb(107),INTERSTITIAL_RENDER_SUCCESS:Lb(108),INTERSTITIAL_RENDER_ERROR:Lb(109),INTERSTITIAL_RENDER_ERROR_ALTERNATE:Lb(110),BATCHLOAD_SUCCESS:Lb(112),BATCHLOAD_ERROR:Lb(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:Lb(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:Lb(115),INTERSTITIAL_RELATION_FETCH_ERROR:Lb(116),BIND_GUIDE_SUCCESS:Lb(119),BIND_GUIDE_ERROR:Lb(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:Lb(121),INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK:Lb(123),INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK:Lb(124),INTERSTITIAL_NO_CONTAINER:Lb(125),INTERSTITIAL_HIDE_ERROR:Lb(126),RIGHTBUTTON_HIDE_ERROR:Lb(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:Lb(128),GET_DEVICEINFO_ERROR:Lb(129),THIRD_ERROR:Lb(130),GET_DEVICEINFO_SUCCESS:Lb(131),GET_WAID_SUCCESS:Lb(132),GET_WAID_ERROR:Lb(133),READ_ADINFOS_ERROR:Lb(134),AD_FETCH_SUCCESS:Lb(135),REWARDED_VIDEO_PRELOAD_ERROR:Lb(136),REWARDED_VIDEO_PRELOAD_SUCCESS:Lb(137),READ_ADINFOS_SUCCESS:Lb(138),ANALYSE_DEBUG_REPORT_ERROR:Lb(139),PRELOAD_CALL_ERROR:Lb(140),PRELOAD_LOAD_ERROR:Lb(141),PRELOAD_LOAD_SUCCESS:Lb(142),PRELOAD_USE_SUCCESS:Lb(143),PRELOAD_USE_ERROR:Lb(144),PRELOAD_DOWNLOAD_SUCCESS:Lb(145),PRELOAD_DOWNLOAD_ERROR:Lb(146),REPORT_VIDEO_FAILED:Lb(147),REWARD_GAUSS_EXISTS:Lb(148),REWARD_USE_GAUSS:Lb(149),REWARD_USE_EXPAND_STYLE:Lb(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:Lb(151),REWARDED_VIDEO_KEEP_ALIVE:Lb(152),INTERSTITIAL_KEEP_ALIVE:Lb(153),REWARDED_VIDEO_END:Lb(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:Lb(156),OPEN_CHANNELS_ACTIVITY_FAILED:Lb(157),OPEN_CHANNELS_LIVE_SUCCESS:Lb(158),OPEN_CHANNELS_LIVE_FAILED:Lb(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:Lb(160),OPEN_CHANNELS_USER_PROFILE_FAILED:Lb(161),REWARD_CHANNELS_CALLBACK_SUCCESS:Lb(162),REWARD_CHANNELS_CALLBACK_FAILED:Lb(163),H5_PRELOAD_CARD_CLICKED:Lb(164),H5_PRELOAD_BUTTON_CLICKED:Lb(165),H5_PRELOAD_SUCCESS:Lb(166),H5_PRELOAD_FAILED:Lb(167),H5_PRELOAD_PLAYABLE_CLICKED:Lb(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:Lb(169),GET_CHANNELS_LIVE_STATUS_FAILED:Lb(170),REWARDED_VIDEO_DURATION_ZERO:Lb(171),REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR:Lb(173),INTERSTITIAL_TEMPLATE_RENDER_SUCCESS:Lb(178),INTERSTITIAL_TEMPLATE_RENDER_FAILED:Lb(179),INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR:Lb(180),OPEN_WEBSTORE_ERROR:Lb(181),AD_FETCH_ERROR:Lb(182),CHECK_FLOW_ERROR:Lb(183),CHECK_AD_SKIP_CARD_SUCCESS:Lb(188),COPY_GIFT_CODE_SUCCESS:Lb(189),COPY_GIFT_CODE_FAIL:Lb(190),OPEN_MACHINE_MKT_SUCCESS:Lb(191),OPEN_MACHINE_MKT_ERROR:Lb(192),OPEN_SHOP_SCHEME_SUCCESS:Lb(193),OPEN_SHOP_SCHEME_ERROR:Lb(194)},Bb=e=>Rb(e,Db.SPLASHAD),Wb={dataLoadSuccess:Bb(0),dataLoadFail:Bb(1),dataPreloadSuccess:Bb(2),dataPreloadFail:Bb(3),handleDataFail:Bb(4),launchAcceptShouldShow:Bb(5),menuAcceptShouldShow:Bb(6),readFileFail:Bb(7),launchShowSplashAdSuccess:Bb(8),menuShowSplashAdSuccess:Bb(9),showSplashAdFail:Bb(10),firstRenderFail:Bb(11),firstInsertFail:Bb(12),secondRenderFail:Bb(13),secondInsertFail:Bb(14),iosThirdInsertFail:Bb(15),checkAdStateFail:Bb(16),adOfflineClose:Bb(17),readFileDataFail:Bb(18),firstShowSuccess:Bb(19),showSplashAdMenuSuccess:Bb(20),showSplashAdMenuFail:Bb(21),secondShowSuccess:Bb(22),removeFileDataFail:Bb(23),landingPageFail:Bb(24),frequencyControlFail:Bb(25),frequencyControlReturn:Bb(26),bulkCopyFileFail:Bb(27),getAdInfosFail:Bb(28),getAidFail:Bb(29),setExposureTagFail:Bb(30),NO_ADINFOS:Bb(31),NO_AID:Bb(32),MATERIAL_NOT_READY:Bb(33),CHECK_AD_STATUS_ERROR:Bb(34),CRT_ORIENTATION_NOT_SURE:Bb(35),EXPOSURE_TIMES_LIMIT:Bb(36),START_CHECK_AD_STATUS:Bb(37),CHECK_AD_STATUS_SUCCESS:Bb(38),OTHER_ADS_EMIT_FETCH:Bb(39),WRITE_ADINFOS_SUCCESS:Bb(40),WRITE_ADINFOS_FAIL:Bb(41)},Fb=e=>Rb(e,Db.CUSTOMAD),Ub={LOAD_FAILED:Fb(1),PRELOAD_SUCCESS:Fb(2),PRELOAD_FAILED:Fb(3),PARSE_FAILED:Fb(4),TPL_RENDER_SUCCESS:Fb(5),TPL_PARSE_FAILED:Fb(6),TPL_LOAD_FAILED:Fb(7),AD_LIMIT_TIME:Fb(8),AD_LIMIT_BOUNDARY:Fb(9),RELATION_FETCH_ERROR:Fb(10),SHOW_FAILED1:Fb(11),SHOW_FAILED2:Fb(12),AD_VIDEO_LOAD_FAILED:Fb(13),FOLLOW_SUCCESS:Fb(14),FOLLOW_FAILED:Fb(15),RENDER_SUCCESS:Fb(16),RENDER_FAILED:Fb(17),REFETCH_SUCCESS:Fb(18),REFETCH_FAILED:Fb(19),LOAD_SUCCESS:Fb(20),WIDTH_GET_ERROR:Fb(21),ORIGIN_EXPOSURE_ERROR:Fb(22),VIEWABLE_EXPOSURE_ERROR:Fb(23)},Vb=e=>Rb(e,Db.CPSSHOPAD);Vb(1),Vb(2),Vb(3),Vb(4),Vb(5),Vb(6),Vb(7),Vb(8),Vb(9),Vb(10);!function(e){e[e.ERR_RENDER=2001]="ERR_RENDER",e[e.ERR_TPL_NONE=2002]="ERR_TPL_NONE",e[e.ERR_TPL_PARSE=2003]="ERR_TPL_PARSE",e[e.ERR_SHOW_FAILED1=2004]="ERR_SHOW_FAILED1",e[e.ERR_SHOW_FAILED2=2005]="ERR_SHOW_FAILED2"}(Ob||(Ob={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ING=1]="ING",e[e.PAUSE=2]="PAUSE",e[e.SUCCESS=3]="SUCCESS",e[e.INSTALLED=4]="INSTALLED"}(Mb||(Mb={}));var jb,Gb,Hb,Qb,$b,zb,Yb,Zb,qb,Jb=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"];l(942),l(185);!function(e){e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS"}(jb||(jb={})),function(e){e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD"}(Gb||(Gb={})),function(e){e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_FINDER_FREE_TRADE=16]="POS_TYPE_FINDER_FREE_TRADE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED"}(Hb||(Hb={})),function(e){e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",e[e.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",e[e.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",e[e.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE"}(Qb||(Qb={})),function(e){e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",e[e.CRT_SIZE_CARD_FULL_SHAKE_VIDEO=1814]="CRT_SIZE_CARD_FULL_SHAKE_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",e[e.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO",e[e.CRT_SIZE_SLIDER_CARD_VIDEO=1765]="CRT_SIZE_SLIDER_CARD_VIDEO",e[e.CRT_SIZE_SLIDER_CARD_IMAGE=1766]="CRT_SIZE_SLIDER_CARD_IMAGE",e[e.CRT_SIZE_FINDER_FREE_TRADE_EMPTY=1009]="CRT_SIZE_FINDER_FREE_TRADE_EMPTY"}($b||($b={})),function(e){e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_CHANNELS_USER_PROFILE=60007]="PAGE_TYPE_CHANNELS_USER_PROFILE",e[e.PAGE_TYPE_CHANNELS_FOLLOW_CARD=60008]="PAGE_TYPE_CHANNELS_FOLLOW_CARD",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX"}(zb||(zb={})),function(e){e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.PIC_TIME5=555]="PIC_TIME5",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_PIC_MOMENT=666]="CRT_SIZE_PIC_MOMENT",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_AMS_PIC_169=711]="CRT_SIZE_AMS_PIC_169",e[e.CRT_SIZE_AMS_PIC_916=712]="CRT_SIZE_AMS_PIC_916",e[e.CRT_SIZE_AMS_VIDEO_169=720]="CRT_SIZE_AMS_VIDEO_169",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916",e[e.CRT_SIZE_IN_TEXT_DESC_CARD=841]="CRT_SIZE_IN_TEXT_DESC_CARD",e[e.CRT_SIZE_VIDEO_TIME6=888]="CRT_SIZE_VIDEO_TIME6",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_BIG_PIC=998]="CRT_SIZE_BIG_PIC",e[e.CRT_SIZE_SPLASH_AD=1003]="CRT_SIZE_SPLASH_AD",e[e.CRT_SIZE_VERTICAL_VIDEO=1064]="CRT_SIZE_VERTICAL_VIDEO",e[e.CRT_SIZE_VERTICAL_VIDEO_916=1480]="CRT_SIZE_VERTICAL_VIDEO_916",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.CRT_SIZE_CARD_COMPT_IMAGE=1707]="CRT_SIZE_CARD_COMPT_IMAGE",e[e.CRT_SIZE_CARD_COMPT_VIDEO=1708]="CRT_SIZE_CARD_COMPT_VIDEO"}(Yb||(Yb={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL"}(Zb||(Zb={})),function(e){e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY"}(qb||(qb={}));var Xb,Kb={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},ew={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},tw=[Yb.CRT_SIZE_WX_APPLICATION,Yb.CRT_SIZE_WX_APPLICATION_NEW,Yb.CRT_SIZE_WX_APPLICATION_X,Yb.CRT_SIZE_WX_APPLICATION_CARD,Yb.CRT_SIZE_REWARD_VEDIO169,Yb.CRT_SIZE_REWARD_VEDIO916,Yb.CRT_SIZE_TABLE_SCREEN_IMAGE,Yb.CRT_SIZE_AMS_PIC_169,Yb.CRT_SIZE_AMS_PIC_916,Yb.CRT_SIZE_AMS_VIDEO_169,Yb.CRT_SIZE_REWARD_LANDINGPAGE,Yb.CRT_SIZE_INSERT_VIDEO,Yb.CRT_SIZE_MULTI_POS_NEW_PIC,Yb.CRT_SIZE_MULTI_POS_VEDIO,Yb.CRT_SIZE_MULTI_POS_GRID,Yb.CRT_SIZE_BIG_PIC,Yb.CRT_SIZE_SPLASH_AD,Yb.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,Yb.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Yb.APP_VIDEO,Yb.CRT_SIZE_PIC_MOMENT,Yb.CRT_SIZE_VIDEO_TIME6,Yb.CRT_SIZE_VERTICAL_VIDEO,Yb.CRT_SIZE_VERTICAL_VIDEO_916,Yb.CRT_SIZE_CARD_COMPT_IMAGE,Yb.CRT_SIZE_CARD_COMPT_VIDEO];!function(e){e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON=2001]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON=2002]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT=2003]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER=2004]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT=2005]="MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION=2006]="MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION=2007]="MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_FOLLOW=2008]="MMOCAD_CLICKPOS_BIZ_FOLLOW",e[e.MMOCAD_CLICKPOS_BIZ_LIKE=2009]="MMOCAD_CLICKPOS_BIZ_LIKE",e[e.MMOCAD_CLICKPOS_BIZ_COMMENT=2010]="MMOCAD_CLICKPOS_BIZ_COMMENT",e[e.MMOCAD_CLICKPOS_BIZ_HEADIMAGE=2011]="MMOCAD_CLICKPOS_BIZ_HEADIMAGE",e[e.MMOCAD_CLICKPOS_BIZ_NICKNAME=2012]="MMOCAD_CLICKPOS_BIZ_NICKNAME",e[e.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD=2013]="MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD"}(Xb||(Xb={}));var rw,nw,iw,aw,ow;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.VIDEO=1]="VIDEO",e[e.LIVE=2]="LIVE"}(rw||(rw={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ROOM=1]="ROOM",e[e.RESERVATION=2]="RESERVATION"}(nw||(nw={})),function(e){e[e.NONE=1]="NONE",e[e.ON_AIR=2]="ON_AIR",e[e.ENDED=3]="ENDED",e[e.IN_PREPARE=4]="IN_PREPARE"}(iw||(iw={})),function(e){e[e.NONE=0]="NONE",e[e.NICKNAME=1]="NICKNAME",e[e.LINK=2]="LINK",e[e.RESOURCE=3]="RESOURCE",e[e.ACTIONBUTTON=4]="ACTIONBUTTON",e[e.CANVASBUTTON=5]="CANVASBUTTON",e[e.TAGBUTTON=6]="TAGBUTTON"}(aw||(aw={})),function(e){e[e.WELFAREAD=3]="WELFAREAD"}(ow||(ow={}));var sw=Yb,lw={banner:"8040321819858439","incentive-video":"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141"},cw={banner:3,"incentive-video":1,interstitialAd:4,grid:7,splashAd:8,customAd:9},uw={banner:"showed","incentive-video":"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},dw={"incentive-video":3,banner:4,interstitialAd:5,grid:6,customAd:7},pw={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_reward_use_gauss_blur_android_system_version",109766:"widget_gray_reward_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips",110562:"widget_gray_interstitial_template",112296:"widget_gray_banner_exposure_toggle",113524:"widget_gray_rewarded_video_effect_guide"},hw={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},fw="wxfile://ad",gw="wxfile://ad/adinfos.txt",vw={splashAd:1288,customAd:1390},mw={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,SHOW_SPLASH_FAIL:10},_w={banner:5,"incentive-video":6,interstitialAd:8,customAd:9,cpsShopAd:11,grid:13,splashAd:14},yw={click:1,exposure:0},Aw={showed:0,viewable:1,incentiveVideoCard:2},bw={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5},ww={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007},Ew={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"},Cw=e=>{var t={};try{for(var r of e=JSON.parse(e))r.hasOwnProperty("exp_para")&&r.exp_para.forEach((e=>{z_(e.value)?t[e.name]=Number(e.value):t[e.name]=e.value}));for(var n in t)pw[n]&&(t[pw[n]]=t[n]);return t}catch(e){return{}}},Iw=({aid:e,buttonText:t=""})=>Tb({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t})}}).then((e=>{if(!e.data)throw new Error("get_ad_metric no result");try{var{data:t}=e,r=JSON.parse(t.result),{ad_metric_count:n,desc_text:i}=r||{};return null==n||null==i||n<50?null:{count:(a=n,a<1e4?a.toString():`${(a/1e4).toFixed(1)}万`),descText:i}}catch(e){throw new Error("get_ad_metric invalid result")}var a})).catch((()=>{throw new Error("get_ad_metric request failed")})),Sw=e=>hk(19213,e),Tw=(e,t=!1)=>{var r=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return r+=`<${e.name}>`,e.children.length>0?r+=(e=>e.children&&e.children.length>0?e.children.map((e=>Tw(e))).join(""):"")(e):r+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,r+=`</${e.name}>`},xw=e=>(t={})=>{ct("operateWXData",t,{apiName:""})&&tn({apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},Pw=xw(!1),kw=xw(!0);function Dw(e){var t=vr(this);Kr(Object.assign({},e,{pluginId:t}))}var Rw=ie("userCaptureScreen"),Ow=Rw.onMethod,Mw=(Rw.offMethod,null);oe("onUserCaptureScreen",(e=>{"function"==typeof Mw&&Mw(e),Rw.emit(e)}));var Lw=e=>{Mw=__errorTracer__.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function")},Nw=()=>{Mw=null};le.onReady((()=>{var e,t,r,n=1092===(null===(e=le.appLaunchInfo)||void 0===e?void 0:e.scene),i=null===(t=le.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;oe("onAppEnterForeground",(e=>{var t;n=1092===e.scene,i=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),oe("onUserCaptureScreen",(()=>{var e;n&&(null===(e=i)||void 0===e?void 0:e.csSessionId)&&Dw({apiName:"webapi_reportwxacityservicescreenshot",reqData:{cs_session_id:i.csSessionId}})}))}));var Bw=new Fr;var Ww=["adinfos.txt","/adinfos.txt","/"],Fw=0,Uw=(e="")=>{if(e)return new Promise(((t,r)=>{uu.unlink({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||r(e)}})}))},Vw=(e="")=>e?((e="")=>{if(e)return new Promise(((t,r)=>{uu.stat({path:e,recursive:!0,success:t,fail:r})}))})(e).then((e=>{var t=0,r=[],n=[],i=e.stats||[],a=+new Date;for(var o of i){t+=o.stats.size||0,Ww.includes(o.path)||r.push(o.path),a-1e3*o.stats.lastAccessedTime>=6048e5&&!Ww.includes(o.path)&&n.push(o.path)}return{totalSize:t,fileList:r,outedDateFileList:n}})):{totalSize:0,fileList:[],outedDateFileList:[]},jw=(e={},t="")=>t?Yr()?Promise.resolve():Ie||Se?new Promise(((r,n)=>{uu.writeFile({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:r,fail:n})})):Promise.resolve():Promise.resolve(),Gw=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,r)=>{uu.readdir({dirPath:e,success:t,fail:r})}))})(fw).then((t=>{var r=t.files;e&&e.map((e=>{var{url:t,filePath:n,fileName:i}=e;return r.includes(i)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((r,n)=>{Od({url:e,filePath:t,success:r,fail:n})}))})(t,n)}))})):Promise.reject({errMsg:"无数据"}),Hw=e=>{if(e&&"object"==typeof e&&!(Fw>0)&&(Fw+=1,!Yr()&&(Ie||Se)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{uu.stat({path:gw,success:e=>{var r;Date.now()-1e3*(null==e||null===(r=e.stats)||void 0===r?void 0:r.lastModifiedTime)>=t&&Bw.emit("_onEmitSplashAdFetch")},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&jw({},gw)}})}catch(e){}}},Qw=[];function $w(e,t){Qw.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}var zw="",Yw=0,Zw="index.html",qw=new Fr,Jw="_onWxAdUserCaptureScreen",Xw={shareAppMessage:0,shareTimeline:3};le.onReady((()=>{zw=de()}));var Kw={};try{Kn((e=>{Yw=e.webviewId,Kw[Yw]||(Kw[Yw]=!0,Zw=e.path,dn(Yw,(e=>{tE(e)})))}))}catch(e){}Ow((()=>{var e=+new Date;zw&&Sw({eventTimeStamp:e,scene:7,uxinfo:zw,url:Zw}),Yw&&h(Jw,{eventTimeStamp:e,path:Zw},[Yw]),qw.emit(Jw,{eventTimeStamp:e,webviewId:Yw,path:Zw})}));!function(e){Qw.push(e)}(((e,t)=>{if(zw){var r="",n=Xw[e]?Xw[e]:0;"shareAppMessage"===e&&t.shareInfos&&(n=t.shareInfos.length>0?2:1,r=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===n&&"shareAppMessage"===e&&t.shareTickets&&(n=t.shareTickets.length>0?2:1),i={eventTimeStamp:+new Date,shareType:n,tousername:r,uxinfo:zw,url:Zw},hk(19214,i)}var i}));var eE={};f("wxAdDelayReport",((e,t)=>{eE[t]||(eE[t]={}),e.key&&e.value&&(eE[t][e.key]=e.value)}));var tE=e=>{if(eE[e]){for(var t in eE[e]){var r=eE[e][t];en({sdkApiName:"advertReport",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:r}}).catch((e=>{}))}delete eE[e]}};f("checkWxAdFetchLog",(e=>{Hw(e)})),f("weappTouchEvent",(e=>{qw.emit("_onWeappTouchEvent",e)}));f("wxAdTakeWelfare",((e={},t)=>{var{id:r}=e;h("onWxAdTakeWelfareEvent",{id:r},Object.keys(Kw))}));var rE,nE=Symbol("signExport"),iE=()=>(e,t)=>{e[nE]=e[nE]||new Set,e[nE].add(t)},aE=(e,t)=>{var r=Array.isArray(t)?t:[t];for(var n of r)if(!(n in e)||"function"!=typeof e[n])throw new Error(`${n} is not the function method of the class`);return r.map((t=>e[t]))},oE=(e,t=!1)=>(r,n,i)=>{var a=i.value,o=aE(r,e);i.value=t?function(){var e=Nn()((function*(...e){var t=yield a.call(this,...e);for(var r of o)yield r.call(this,t);return t}));return function(){return e.apply(this,arguments)}}():function(...e){var t=a.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(var t of o)t.call(this,e);return e}));for(var r of o)r.call(this,t);return t}},sE=(e,t=!1)=>(r,n,i)=>{var a=i.value,o=aE(r,e);i.value=t?function(){var e=Nn()((function*(...e){try{return yield a.call(this,...e)}catch(e){for(var t of o)yield t.call(this,e);throw e}}));return function(){return e.apply(this,arguments)}}():function(...e){try{var t=a.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(var t of o)t.call(this,e)})),t}catch(e){for(var r of o)r.call(this,e);throw e}}};!function(e){e.REWARD_ENDPAGE_HEAD_IMG="REWARD_ENDPAGE_HEAD_IMG",e.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED="REWARD_ENDPAGE_WORDING_LOGO_ENHANCED",e.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED="REWARD_ENDPAGE_WORDING_TEXT_ENHANCED",e.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED="REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED",e.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED="REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED",e.REWARD_EXPAND_CARD_HEAD_IMG="REWARD_EXPAND_CARD_HEAD_IMG",e.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED="REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED",e.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED="REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED",e.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED="REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED",e.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED="REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED",e.REWARD_OLD_ENDPAGE_BUTTON="REWARD_OLD_ENDPAGE_BUTTON",e.REWARD_TEMPLATE_AREA="REWARD_TEMPLATE_AREA",e.REWARD_PAGE_BUTTON="REWARD_PAGE_BUTTON",e.REWARD_PAGE_CARD="REWARD_PAGE_CARD",e.REWARD_PAGE_IMAGE="REWARD_PAGE_IMAGE",e.REWARD_CARD_BUTTON="REWARD_CARD_BUTTON",e.REWARD_CARD="REWARD_CARD",e.REWARD_DOWNLOAD="REWARD_DOWNLOAD",e.REWARD_DYNAMIC_CONTENT="REWARD_DYNAMIC_CONTENT",e.REWARD_DYNAMIC_BUTTON="REWARD_DYNAMIC_BUTTON"}(rE||(rE={}));var lE,cE,uE,dE="REWARDED_DYNAMIC",pE=(e,t)=>!!t&&(e=>{var t={gauss:[Yb.CRT_SIZE_REWARD_VEDIO169,Yb.CRT_SIZE_REWARD_VEDIO916],native:[Yb.CRT_SIZE_REWARD_VEDIO169,Yb.CRT_SIZE_REWARD_VEDIO916,Yb.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Yb.CRT_SIZE_AMS_VIDEO_169],landpage:[Yb.CRT_SIZE_REWARD_LANDINGPAGE],sns:[Yb.APP_VIDEO,Yb.CRT_SIZE_VIDEO_TIME6,Yb.CRT_SIZE_VERTICAL_VIDEO,Yb.CRT_SIZE_VERTICAL_VIDEO_916,Yb.CRT_SIZE_CARD_COMPT_VIDEO],portrait:[Yb.APP_VIDEO,Yb.CRT_SIZE_REWARD_VEDIO916,Yb.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Yb.CRT_SIZE_VERTICAL_VIDEO,Yb.CRT_SIZE_VERTICAL_VIDEO_916],landscape:[Yb.CRT_SIZE_REWARD_VEDIO169,Yb.CRT_SIZE_VIDEO_TIME6,Yb.CRT_SIZE_CARD_COMPT_VIDEO,Yb.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"gauss":case"native":case"landpage":case"portrait":case"landscape":case"sns":return t[e];case"video":return[...t.native,...t.sns];case"all":default:return[...t.native,...t.landpage,...t.sns]}})(e).includes(Number(t));le.onReady((()=>{var e=gE(le.appLaunchInfo||{});cE=e.appLaunchInfo,uE=e.publicLaunchInfo}));var hE=()=>uE,fE=()=>cE;function gE(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=tr.set(t.shareKey,t.shareName),tr.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),!1===e.reLaunch&&(n={}),void 0===e.reLaunch&&"hide"===lE&&(n={}),1103===e.scene&&(r=1001),1104===e.scene&&(r=1089),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!sr("getGroupToolbarInfo")&&(r=1008);var i={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(i.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),le.debugLaunchInfo&&le.debugLaunchInfo.lanDebugInfo&&!1!==le.debugLaunchInfo.lanDebugInfo.useStaticServer&&(i.lanDebugInfo=le.debugLaunchInfo.lanDebugInfo),e.chatType&&(i.chatType=e.chatType),{publicLaunchInfo:i,appLaunchInfo:e}}var vE={};le.onReady((()=>{vE=le.appLaunchInfo,jr()&&(IE(((e={})=>{var t=Object.assign({},e);vE.referrerInfo=Object.assign({},vE.referrerInfo,t.referrerInfo),delete t.referrerInfo,vE=Object.assign({},vE,t)})),wE((e=>{e})))}));var mE={},_E={get:(e="default")=>mE[e],set(e,t="default"){mE[t]=e},clear(){mE={}}};function yE(){return!!_E.get()}var AE=ie("Show"),bE=ie("BaseFrameShow"),wE=AE.onMethod,EE=(AE.offMethod,AE.internalOnMethod),CE=AE.internalOffMethod,IE=bE.internalOnMethod;bE.internalOffMethod;function SE(e,t){e=e||hE(),t=t||fE(),Reporter.__query__=e.query,dc.query=e.query,dc.scene=e.scene,AE.emitInternal(t),AE.emitGlobal(e)}function TE(e){dc.sceneNote=e.scene_note,bE.emitInternal(e)}function xE(e=""){var t=e.indexOf("?"),r={};if(t>=0){var n=e.slice(t+1);if(n)try{r=n.split("&").reduce(((e,t)=>{var r=t.split("="),n=r[0],i=r.slice(1).join("=");return e[n]=i,e}),{})}catch(e){r={}}}return r}(Ce||ke)&&Wn.once("onhide",!0),oe("onAppEnterForeground",((e={})=>{var t=e.path;Ie&&T(e.query)&&Object.keys(e.query).length>0||t&&(e.query=xE(t));var{publicLaunchInfo:r,appLaunchInfo:n}=gE(e);TE(n),setTimeout((()=>{!yE()&&Wn.get("onhide")&&SE(r,n)}),0)})),le.onReady((()=>{var e=hE(),t=fE();Reporter.__query__=e.query,dc.query=e.query,dc.scene=e.scene,Ce||(TE(t),setTimeout((()=>{yE()||SE(e,t)}),0))}));var PE=ie("Hide"),kE=ie("BaseFrameHide"),DE=(PE.onMethod,PE.offMethod,PE.internalOnMethod),RE=PE.internalOffMethod;kE.internalOnMethod,kE.internalOffMethod;oe("onAppEnterBackground",((e={})=>{var t;t=e.mode,lE=t,yE()?kE.emit(e):(Wn.once("onhide",!0),kE.emit(e),PE.emit(e))}));var OE={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:Ee,isWaGame:!0,isApp:!1,isIOS:Se,isAndroid:Ie,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:""},ME={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},LE=()=>Y_(OE,["oaid","imei","idfa","common_device_id"]),NE=()=>{var e=aa();return OE.screenWidth=e.screenWidth,OE.screenHeight=e.screenHeight,OE.deviceOrientation=OE.screenWidth>OE.screenHeight?"landscape":"portrait",OE.deviceOrientation},BE=()=>{},WE=()=>new Promise((e=>{BE=e})),FE=()=>new Promise((e=>{!function(e){GA?e&&e(GA):Ie&&le.clientVersion<654315827?it("getOAID",{success(t){/:ok/.test(t.errMsg)?(GA=t.result||"",e&&e(GA)):e&&e("")},fail(){e&&e("")}}):e&&e("")}((t=>{OE.oaid=t,e()}))})),UE=()=>new Promise((e=>{(function(e=""){return new Promise(((t,r)=>{Ie&&le.clientVersion>=654315827||Se&&le.clientVersion>=385879808?it("getDeviceInfo",{waidPkg:e,success(e){GA=e.oaid||"",HA=e.imei||"",zA=e.waid||"",$A=e.ua||"",YA=e.devIdInfo||"{}";try{QA=JSON.stringify(O()(O()({},JSON.parse(YA)),$A?{ua:$A}:{}))}catch(e){r(e)}t({oaid:GA,imei:HA,commonid:QA,waid:zA})},fail(e){r(e)}}):t({oaid:GA,imei:HA,commonid:QA,waid:zA})}))})().then((({imei:t,oaid:r,commonid:n})=>{Se?OE.idfa=t:Ie&&(OE.oaid=r,OE.imei=t),OE.common_device_id=n||"{}",e(),WE().then((()=>{fk(Nb.GET_DEVICEINFO_SUCCESS)}))})).catch((t=>{e(),WE().then((()=>{fk(Nb.GET_DEVICEINFO_ERROR,t)}))}))})),VE=new Promise((e=>{le.onReady((()=>{var t;OE.startTime=new Date,OE.deviceOrientation=jA()||"",OE.envVersion=le.envVersion;var r=pa(),n=ha();OE.screenWidth=n.screenWidth||0,OE.screenHeight=n.screenHeight||0,OE.systemVersion=r.system,OE.wechatVersion=r.version,OE.SDKVersion=r.SDKVersion,OE.brand=r.brand,OE.model=r.model,OE.isIPad=null===(t=r.model)||void 0===t?void 0:t.includes("iPad"),OE.isWaGame=jr(),OE.isApp=0===le.appType;try{OE.gameAppId=le.accountInfo.appId,OE.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([FE(),UE()]).then((()=>e(OE)))}))}));try{Kn((({webviewId:e,openType:t,path:r})=>{OE.isWaGame||(ME.lastWebviewId=ME.currentWebviewId,ME.currentWebviewId=e||0,ME.currentOpenType=t,ME.weappPath=r)}))}catch(e){}EE((({scene:e})=>{ME.enterForegroundTime=new Date,ME.currentScene=e})),DE((()=>{ME.gameDuration+=Date.now()-ME.enterForegroundTime.getTime()}));var jE,GE,HE,QE,$E,zE,YE,ZE,qE,JE,XE,KE,eC,tC,rC,nC,iC,aC,oC,sC,lC,cC,uC,dC,pC,hC,fC,gC,vC,mC,_C,yC,AC,bC,wC,EC,CC,IC,SC,TC,xC,PC,kC,DC,RC,OC,MC,LC,NC,BC,WC,FC,UC,VC,jC,GC,HC,QC,$C,zC,YC,ZC=e=>{var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},qC=function(e){var t,r,n=JC(e),i="portrait"===OE.deviceOrientation,a=pE("portrait",e.crt_size);if(OE.isAndroid){var o,s,l=ZC((null===(o=e.condition)||void 0===o?void 0:o.widget_gray_reward_use_gauss_blur_android_system_version)||""),c=ZC((null===(s=e.condition)||void 0===s?void 0:s.widget_gray_reward_use_gauss_blur_android_wechat_version)||""),u=ZC(OE.systemVersion),d=ZC(OE.wechatVersion);if(l&&u&&Zt(u,l)<0)return!1;if(c&&d&&Zt(d,c)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(r=e.gaussVideo)||void 0===r?void 0:r.src)&&i!==a&&pE("gauss",e.crt_size)&&(n||i))},JC=function(e){var{flooringPage:t}=e,r="portrait"===OE.deviceOrientation,n=pE("portrait",e.crt_size);return Boolean(r!==n&&pE("video",e.crt_size)&&!(pE("sns",e.crt_size)&&pE("landscape",e.crt_size))&&!OE.isIPad&&![2,3,4].includes((null==t?void 0:t.landpage_type)||0))},XC=(jE=iE(),GE=iE(),HE=iE(),QE=iE(),$E=iE(),zE=iE(),YE=iE(),ZE=iE(),qE=iE(),JE=iE(),XE=iE(),KE=iE(),eC=iE(),tC=iE(),rC=iE(),nC=iE(),iC=iE(),aC=iE(),oC=iE(),sC=iE(),lC=iE(),cC=iE(),uC=iE(),dC=iE(),pC=iE(),hC=iE(),fC=iE(),gC=iE(),vC=iE(),mC=class{constructor(e){this.adProxy=e,this.timePoints={},this.analyseBranchInfo=null}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}setTimePoint(e,t={}){if("splashAd"!==this.adType){["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});var{time:r}=t;this.timePoints[e]=r||Date.now()}else this.timePoints[e]=Date.now()}reportTimePoints({slotid:e,costtype:t,splash_instance_id:r="",scene:n=0,errCode:i=0,extInfo:a={}}){var o;if(["customAd","incentive-video","splashAd","interstitialAd"].includes(this.adType)){this.reportMMData(19837,O()({slotid:e,costtype:t,ext_info:JSON.stringify(Object.assign({},a,{adUnitId:this.adUnitId,is_game:!0})),instance_id:r,scene:n,crt_size:(null===(o=this.data)||void 0===o?void 0:o.crt_size)||0,error_code:i},this.timePoints))}}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var r,n=$_(e);if(!n||0===n.length)return null;var i=this.data||{aid:0,traceid:"",crt_size:0};if("grid"===this.adType&&-1!==[16139].indexOf(e))try{i=this.datas[this.datas.length-1]}catch(e){}return Object.assign(t,{aid:i.aid,traceid:i.traceid,crt_size:i.crt_size,slotid:lw[this.adType],report_time:Date.now(),ad_pos_type:null!==(r=cw[this.adType])&&void 0!==r?r:0,publisher_appid:this.pluginAppid?this.pluginAppid:OE.gameAppId,appid:this.pluginAppid?this.pluginAppid:OE.gameAppId,orig_weapp_id:this.pluginAppid?OE.gameAppId:"",network_type:OE.adNetworkType,wechat_version:OE.wechatVersion,platform:OE.platform,system_version:OE.systemVersion,device_orientation:OE.deviceOrientation,wxapp_lib_version:OE.SDKVersion,wxapp_lib_time:OE.SDKVersionTime,machine_type:OE.model,machine_brand:OE.brand,screen_width:OE.screenWidth,screen_height:OE.screenHeight,ad_platform:OE.isWaGame?1:0,ad_unit_id:this.adUnitId}),n.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){var r=this.formatMMData(e,t);return Tb({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}})}reportAbnormalDetect(e){var t={adunit_id:this.adUnitId,appid:OE.gameAppId};if(Object.assign(e,t),"object"==typeof e)return this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var r,n=t,i=e;"object"==typeof i&&(!n&&(n=i.idKeyGroup),i=i.idKey),n||(n=null!==(r=vw[this.adType])&&void 0!==r?r:924),0===i&&(i="0"),Reporter.reportIDKeyDirectly({id:n,key:i})}processStackMsg(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),r=e.toString();return t.indexOf(r)<0&&(t=`${r}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:r=""}){var n,i,a=e,o=t,s=r;"object"==typeof a&&(!o&&(o=a.idKeyGroup),a=a.idKey),0===a&&(a="0");var l="",c="";try{var u,d;if(this.data){var p={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url};if(pE("native",this.data.crt_size)){var h=this.convertedAdData;h&&(p.is_gauss_blur=qC(h),p.is_expand_style=JC(h),c=p.is_gauss_blur?h.gaussVideo.src:h.shortVideo.src)}else this.adProxy.isBannerAd()&&(c=this.data.image_url);l=JSON.stringify(p)}if("cpsShopAd"===this.adType&&null!==(u=this.data)&&void 0!==u&&null!==(d=u.extBackComm)&&void 0!==d&&d.cpsProduct&&(l=JSON.stringify({trace_id:this.data.extBackComm.cpsProduct.trace_id,product_id:this.data.extBackComm.cpsProduct.product_id})),s&&"string"!=typeof s)try{s instanceof Error&&(s=this.processStackMsg(s)),s=JSON.stringify(s)}catch(e){s=s.toString()}}catch(e){var f;s=this.processStackMsg(e),c="",l=null===(f=this.data)||void 0===f?void 0:f.crt_size}return this.reportMMData(16295,{id_key:a,id_key_group:null!==(n=null!==(i=o)&&void 0!==i?i:vw[this.adType])&&void 0!==n?n:924,report_time:+new Date,source_url:c,expand_feild:l,expand_feild2:s,scene:this.adProxy.scene||0})}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:r=0,posType:n,ace_type:i,exposure_duration:a=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:r,pos_type:n,ace_type:i,exposure_duration:a})}reportAdFeedbackData(e){var t,r,n={};if("grid"===this.adType){var i,a={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(i=this.datas)||void 0===i||i.forEach((e=>{e.extBackComm&&a.viewid.push(e.extBackComm.viewid),a.s_pt.push(e.pt),a.s_aid.push(e.aid),a.s_trace_id.push(e.traceid)})),n.grid_feedback_info=a}return this.reportMMData(17045,{appid:OE.gameAppId,weapp_path:ME.weappPath,ad_unit_id:this.adUnitId,device_type:OE.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:OE.screenHeight,screen_width:OE.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:lw[this.adType],service_type:OE.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(r=e.clickAdTimeMs)&&void 0!==r?r:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify(n)})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:r,preloadVideoSuccess:n,videoFirstPlay:i,cardFirstShow:a,clickCard:o,pressInterval:s,currentPlayUrl:l,lastFetchUrl:c,isEnded:u,videoDuration:d}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:r,preload_video_success:n,video_first_play_ts:i,card_first_show_ts:a,click_card_ts:o,press_interval:s,current_play_url:l,last_fetch_url:c,is_ended:u?1:0,video_duration:d})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:r=0,preloadVideo:n=0,preloadVideoSuccess:i=0,reportType:a=0}){var o=t-r-e;return o>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:r,load_cost_time:o,preload_video:n,preload_video_success:i,report_type:a}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:r,lastClkPeriod:n,retCode:i,costTime:a,pageStayTime:o,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:r,currenttime:+new Date,lastclkperiod:n,retcode:i,costtime:a,pagestaytime:o,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:r,closeTime:n,stayTime:i,jsapiName:a,clickTime:o,clkCnt:s,retCode:l,costTime:c,actTypeInt:u,actTypeStr:d}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:o,opentime:r,closetime:n,staytime:i,jsapiname:a,clkcnt:s,retcode:l,costtime:c,act_type_int:u,act_type_str:d})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:r,touchEndY:n,touchDuration:i,screenWidth:a,screenHeight:o}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:r,touch_end_y:n,touch_duration:i,screenwidth:a,screenheight:o})}reportBannerLastClick({lastClickArr:e,top:t,left:r,width:n,height:i,expMs:a,clickMs:o,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:c}){return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:r,banner_width:n,banner_height:i,exp_ms:a,clk_ms:o,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:c,slotid:lw[this.adType]})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:r}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:r,show_delay_duration:0===t?0:r-t,fetch_duration:r-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:lw[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){var r=[e,t].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:r,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){var t=uw[this.adType]||"viewable";if(OE.isWaGame&&e===t){var r=this.analyseBranchInfo;r&&("release"!==OE.envVersion&&this.adProxy.reportAnalyseDebugInfo(r),this.reportMMData(20317,{branch_id:r.branchId,branch_dim:r.branchDim}))}}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:r,gaussVideoUrl:n,expUseGaussVideo:i,expUseExpandStyle:a}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:r,gauss_video_url:n,use_expand_style:t?1:0,exp_use_gauss_video:i,exp_use_expand_style:a})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:r,adExpTime:n,adClkX:i,adClkY:a,adWidth:o,adHeight:s,isGame:l,costtype:c}){this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:r,ad_exp_time:n,ad_clk_x:i,ad_clk_y:a,ad_width:o,ad_height:s,is_game:l,costtype:c})}},cn()(mC.prototype,"getTimePoint",[jE],Object.getOwnPropertyDescriptor(mC.prototype,"getTimePoint"),mC.prototype),cn()(mC.prototype,"setTimePoint",[GE],Object.getOwnPropertyDescriptor(mC.prototype,"setTimePoint"),mC.prototype),cn()(mC.prototype,"reportTimePoints",[HE],Object.getOwnPropertyDescriptor(mC.prototype,"reportTimePoints"),mC.prototype),cn()(mC.prototype,"reportCloseAction",[QE],Object.getOwnPropertyDescriptor(mC.prototype,"reportCloseAction"),mC.prototype),cn()(mC.prototype,"reportAdEntranceExposure",[$E],Object.getOwnPropertyDescriptor(mC.prototype,"reportAdEntranceExposure"),mC.prototype),cn()(mC.prototype,"reportTouchClick",[zE],Object.getOwnPropertyDescriptor(mC.prototype,"reportTouchClick"),mC.prototype),cn()(mC.prototype,"reportCancelRewardPlayablePage",[YE],Object.getOwnPropertyDescriptor(mC.prototype,"reportCancelRewardPlayablePage"),mC.prototype),cn()(mC.prototype,"reportMMData",[ZE],Object.getOwnPropertyDescriptor(mC.prototype,"reportMMData"),mC.prototype),cn()(mC.prototype,"reportAbnormalDetect",[qE],Object.getOwnPropertyDescriptor(mC.prototype,"reportAbnormalDetect"),mC.prototype),cn()(mC.prototype,"reportAdIDKey",[JE],Object.getOwnPropertyDescriptor(mC.prototype,"reportAdIDKey"),mC.prototype),cn()(mC.prototype,"processStackMsg",[XE],Object.getOwnPropertyDescriptor(mC.prototype,"processStackMsg"),mC.prototype),cn()(mC.prototype,"reportAdIDKeyErrorData",[KE],Object.getOwnPropertyDescriptor(mC.prototype,"reportAdIDKeyErrorData"),mC.prototype),cn()(mC.prototype,"reportAdMonitorData",[eC],Object.getOwnPropertyDescriptor(mC.prototype,"reportAdMonitorData"),mC.prototype),cn()(mC.prototype,"reportEndPage",[tC],Object.getOwnPropertyDescriptor(mC.prototype,"reportEndPage"),mC.prototype),cn()(mC.prototype,"reportAdFeedbackData",[rC],Object.getOwnPropertyDescriptor(mC.prototype,"reportAdFeedbackData"),mC.prototype),cn()(mC.prototype,"reportBehaviorButton",[nC],Object.getOwnPropertyDescriptor(mC.prototype,"reportBehaviorButton"),mC.prototype),cn()(mC.prototype,"reportVideoLoadTime",[iC],Object.getOwnPropertyDescriptor(mC.prototype,"reportVideoLoadTime"),mC.prototype),cn()(mC.prototype,"reportRepeatClick",[aC],Object.getOwnPropertyDescriptor(mC.prototype,"reportRepeatClick"),mC.prototype),cn()(mC.prototype,"reportLandingTime",[oC],Object.getOwnPropertyDescriptor(mC.prototype,"reportLandingTime"),mC.prototype),cn()(mC.prototype,"reportVideoLastClick",[sC],Object.getOwnPropertyDescriptor(mC.prototype,"reportVideoLastClick"),mC.prototype),cn()(mC.prototype,"reportBannerLastClick",[lC],Object.getOwnPropertyDescriptor(mC.prototype,"reportBannerLastClick"),mC.prototype),cn()(mC.prototype,"reportRelationFetchDuration",[cC],Object.getOwnPropertyDescriptor(mC.prototype,"reportRelationFetchDuration"),mC.prototype),cn()(mC.prototype,"reportMMClickPos",[uC],Object.getOwnPropertyDescriptor(mC.prototype,"reportMMClickPos"),mC.prototype),cn()(mC.prototype,"reportADFunnelModel",[dC],Object.getOwnPropertyDescriptor(mC.prototype,"reportADFunnelModel"),mC.prototype),cn()(mC.prototype,"recordAnalyseBranchInfo",[pC],Object.getOwnPropertyDescriptor(mC.prototype,"recordAnalyseBranchInfo"),mC.prototype),cn()(mC.prototype,"resetAnalyseBranchInfo",[hC],Object.getOwnPropertyDescriptor(mC.prototype,"resetAnalyseBranchInfo"),mC.prototype),cn()(mC.prototype,"reportAnalyseInfo",[fC],Object.getOwnPropertyDescriptor(mC.prototype,"reportAnalyseInfo"),mC.prototype),cn()(mC.prototype,"reportRewardGaussVideo",[gC],Object.getOwnPropertyDescriptor(mC.prototype,"reportRewardGaussVideo"),mC.prototype),cn()(mC.prototype,"reportPopupClickAction",[vC],Object.getOwnPropertyDescriptor(mC.prototype,"reportPopupClickAction"),mC.prototype),mC),KC=1,eI=new Set,tI=(_C=iE(),yC=iE(),AC=iE(),bC=iE(),wC=iE(),EC=iE(),CC=iE(),IC=iE(),SC=iE(),TC=iE(),xC=iE(),PC=iE(),kC=iE(),DC=iE(),RC=iE(),OC=iE(),MC=iE(),LC=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=KC,KC+=1,eI.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get slotData(){return this.adProxy.getSlotData()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){var t=5;return this.adProxy.isRewardedVideoAd()?t=6:[Yb.CRT_SIZE_TABLE_SCREEN_IMAGE,Yb.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),Tb({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(Nb.FOLLOW_REPORT_ERROR,e),e}))}getExtraExpOrClkData(e){var t,r=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?r=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(r=[{idx:0,waid:this.data.waid}]);var n=O()(O()({},LE()),{},{weapp_enter_scene:(null==le||null===(t=le.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(r)}),i=O()({},n),a=O()({},n);if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var o,s={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(o=e.multiList)||void 0===o||o.forEach((e=>{var t=this.datas[e];t.extBackComm&&s.viewid.push(t.extBackComm.viewid),s.s_pt.push(t.pt),s.s_aid.push(t.aid),s.s_trace_id.push(t.traceid)})),i.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:s.viewid}),s_trace_id:JSON.stringify(s.s_trace_id),s_aid:JSON.stringify(s.s_aid),s_pt:JSON.stringify(s.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var l,c=this.adProxy.adDataIndex;a.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(l=this.data.extBackComm)||void 0===l?void 0:l.viewid,box_index:c}}if("customAd"===this.adType){var u,d=null===(u=this.data.extBackComm)||void 0===u?void 0:u.sub_templ_id;d&&(i.sub_templ_id=d,a.sub_templ_id=d)}if("incentive-video"===this.adType&&this.data.isPlayable&&(i.is_playable=1,a.is_playable=1),["interstitialAd","incentive-video","customAd"].includes(this.adType)&&e.videoData){var{currentTime:p,duration:h}=e.videoData;(p||h)&&(a.video_play_time=p,a.video_duration=h)}if("grid"===this.adType)if("exposure"===e.reportType){var f,g={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(f=this.datas)||void 0===f||f.forEach((e=>{e.extBackComm&&g.viewid.push(e.extBackComm.viewid),g.s_pt.push(e.pt),g.s_aid.push(e.aid),g.s_trace_id.push(e.traceid)})),i.box_ad_exposure={report_mode:1,box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:JSON.stringify({viewid:g.viewid}),s_trace_id:JSON.stringify(g.s_trace_id),s_aid:JSON.stringify(g.s_aid),s_pt:JSON.stringify(g.s_pt)}}else if("click"===e.reportType){var v,m=e.clickAdIndex||0;a.box_ad_click={box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:null===(v=this.data.extBackComm)||void 0===v?void 0:v.viewid,box_index:m}}return"exposure"===e.reportType&&e.extExposureComm&&(i=O()(O()({},i),e.extExposureComm)),"click"===e.reportType&&e.extClickComm&&(a=O()(O()({},a),e.extClickComm)),{extExposureComm:i,extClickComm:a}}reportExpOrClk(e){var t=3;if("exposure"===e.reportType?(t={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var r=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),it("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})})})),this.adProxy.setCurrentData(r)}else it("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})});var{extExposureComm:n,extClickComm:i}=this.getExtraExpOrClkData(e),a=this.getExpOrClkCommonArgs(e),o="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(i)}:{exposure_type:Aw[e.exposureType],ext_exposure_comm:JSON.stringify(n)};return Tb({apiName:"advert_report",reqData:O()(O()(O()({},a),o),{},{report_type:yw[e.reportType],weapp_extra_data:JSON.stringify(a.weapp_extra_data),ad_group_id:a.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:a.weapp_gh_id})})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:lw[this.adType],pos_type:_w[this.adType],sdk_version:OE.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:OE.startTime.valueOf(),wegame_enter_ts:ME.enterForegroundTime.valueOf(),wegame_user_duration:ME.gameDuration+(Date.now()-ME.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:O()(O()({},this.getWeappExtraData()),e.weappExtraData||{})}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk(O()({reportType:"click"},e)).catch((e=>{throw this.reportAdMonitorData(Nb.CLICK_REPORT_ERROR,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk(O()({reportType:"exposure"},e)).catch((e=>{throw this.reportAdMonitorData(Nb.EXPOSURE_REPORT_ERROR,e),e}))}reportFlooringPage(e,t){var r={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:OE.gameAppId,orig_weapp_id:this.pluginAppid?OE.gameAppId:""},n=null==t?void 0:t.map((e=>O()(O()({},r),e))),i={};return 1===e?i.rewared_video_ending_page_a=n:2===e&&(i.rewared_video_ending_page_b=n),Tb({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(i)}})}reportAntifraud(e){var t=O()(O()({},e),{},{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:OE.gameAppId,orig_weapp_id:this.pluginAppid?OE.gameAppId:"",network_type:OE.adNetworkType,wechat_version:OE.wechatVersion,platform:OE.platform,system_version:OE.systemVersion,device_orientation:OE.deviceOrientation,wxapp_lib_version:OE.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:OE.brand||"",machine_type:OE.model||"",clientimptime:this.lastAdReqTs}),r={};return r.antifraud_table_screen_report=[t],Tb({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(r)}})}reportVideo({playType:e,conditionType:t,muted:r,playDuration:n,videoDuration:i,rewardedTime:a,isRewarded:o}){var s="0",l=decodeURIComponent(this.data.apurl);/viewid=([^&]+)/.test(l)&&(s=/viewid=([^&]+)/.exec(l)[1]);var c=Tb({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,trace_id:this.data.traceid,viewid:s,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:n-this.lastVideoReportTime,video_duration:i,auto_play:!0,muted:r,rewarded_time:a&&Math.min(a,i),is_rewarded:o},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[t]}});return this.lastVideoReportTime=n,c}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:KC-1,ad_unit_number:eI.size,ad_index:this.index,page_enter_time:ME.enterForegroundTime.valueOf(),phone_screen_width:OE.screenWidth,phone_screen_height:OE.screenHeight}}getWeappExtraData(){var e,t;return{weixin_version:OE.wechatVersion,os_version:OE.systemVersion,machine_brand:OE.brand||"",machine_type:OE.model,network_type:OE.adNetworkType,start_ts:OE.startTime.valueOf(),enter_ts:ME.enterForegroundTime.valueOf(),user_duration:ME.gameDuration+(Date.now()-ME.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=le.host)||void 0===e?void 0:e.env,app_appid:null===(t=le.host)||void 0===t?void 0:t.appId}}composeExposureCommonInfo({top:e=0,left:t=0,width:r=0,height:n=0,adType:i="incentive-video"}){var a;try{a=this.data.weapp_info.original_id}catch(e){}var o=O()({},LE()),s=this.getWeappExtraData(),l=this.getWxaReportDetail({top:e,left:t}),c={report_type:0,pos_id:lw[this.adType],sdk_version:OE.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:a,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:r,ad_h:n,from_game:1,from_h5:0,wegame_start_ts:OE.startTime.valueOf(),wegame_enter_ts:ME.enterForegroundTime.valueOf(),wegame_user_duration:ME.gameDuration+(Date.now()-ME.enterForegroundTime.getTime()),pos_type:_w[i],wxa_report_detail:l,weapp_extra_data:JSON.stringify(s),ext_exposure_comm:JSON.stringify(o)};return JSON.stringify(c)}reportInstallFollow(e){var{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&Tb({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}reportAnalyseDebugInfo(e){var t=dw[this.adType];return t||this.reportAdMonitorData(Nb.ANALYSE_DEBUG_REPORT_ERROR,new Error(`invalid reportType ${this.adType}`)),Tb({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(Nb.ANALYSE_DEBUG_REPORT_ERROR,e)}))}reportIPV4(){setTimeout((()=>{try{var e,t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&Rg({url:$r(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},cn()(LC.prototype,"getLastClickTime",[_C],Object.getOwnPropertyDescriptor(LC.prototype,"getLastClickTime"),LC.prototype),cn()(LC.prototype,"getLastAdReqTs",[yC],Object.getOwnPropertyDescriptor(LC.prototype,"getLastAdReqTs"),LC.prototype),cn()(LC.prototype,"setLastExposureTime",[AC],Object.getOwnPropertyDescriptor(LC.prototype,"setLastExposureTime"),LC.prototype),cn()(LC.prototype,"setLastClickTime",[bC],Object.getOwnPropertyDescriptor(LC.prototype,"setLastClickTime"),LC.prototype),cn()(LC.prototype,"setLastAdReqTs",[wC],Object.getOwnPropertyDescriptor(LC.prototype,"setLastAdReqTs"),LC.prototype),cn()(LC.prototype,"reportFollow",[EC],Object.getOwnPropertyDescriptor(LC.prototype,"reportFollow"),LC.prototype),cn()(LC.prototype,"getExpOrClkCommonArgs",[CC],Object.getOwnPropertyDescriptor(LC.prototype,"getExpOrClkCommonArgs"),LC.prototype),cn()(LC.prototype,"reportClick",[IC],Object.getOwnPropertyDescriptor(LC.prototype,"reportClick"),LC.prototype),cn()(LC.prototype,"reportExposure",[SC],Object.getOwnPropertyDescriptor(LC.prototype,"reportExposure"),LC.prototype),cn()(LC.prototype,"reportFlooringPage",[TC],Object.getOwnPropertyDescriptor(LC.prototype,"reportFlooringPage"),LC.prototype),cn()(LC.prototype,"reportAntifraud",[xC],Object.getOwnPropertyDescriptor(LC.prototype,"reportAntifraud"),LC.prototype),cn()(LC.prototype,"reportVideo",[PC],Object.getOwnPropertyDescriptor(LC.prototype,"reportVideo"),LC.prototype),cn()(LC.prototype,"getWxaReportDetail",[kC],Object.getOwnPropertyDescriptor(LC.prototype,"getWxaReportDetail"),LC.prototype),cn()(LC.prototype,"composeExposureCommonInfo",[DC],Object.getOwnPropertyDescriptor(LC.prototype,"composeExposureCommonInfo"),LC.prototype),cn()(LC.prototype,"reportInstallFollow",[RC],Object.getOwnPropertyDescriptor(LC.prototype,"reportInstallFollow"),LC.prototype),cn()(LC.prototype,"reportAnalyseDebugInfo",[OC],Object.getOwnPropertyDescriptor(LC.prototype,"reportAnalyseDebugInfo"),LC.prototype),cn()(LC.prototype,"reportIPV4",[MC],Object.getOwnPropertyDescriptor(LC.prototype,"reportIPV4"),LC.prototype),LC);function rI(e){return{appId:e.weapp_info&&e.weapp_info.appid,appType:46==e.product_type?1004:1e3,path:e.url,openRate:e.extBackComm&&e.extBackComm.pctr||0}}var nI=(NC=iE(),BC=iE(),WC=iE(),FC=iE(),UC=iE(),VC=iE(),jC=iE(),GC=iE(),HC=iE(),QC=iE(),$C=iE(),zC=iE(),YC=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}get isValidCondition(){return this.adProxy.isValidCondition}getFullRl(){var{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){var r={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:OE.isWaGame?147:140};return VA(t,r)}getSkAdItem(){var e,t,r=null,n=this.data;if(null!=n&&null!==(e=n.condition)&&void 0!==e&&e.widget_gray_webstore&&null!=n&&null!==(t=n.extBackComm)&&void 0!==t&&t.sk_ad_items)try{r=JSON.parse(n.extBackComm.sk_ad_items)[0]}catch(e){}return r}isPrefetch(e){var t,r,n,i,a,o,s,l,c={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.wxgame_video_card)||void 0===n||null===(i=n.flooring_page)||void 0===i?void 0:i.page_url}[e],u={url:this.data.dest_type===Qb.DEST_TYPE_OUTER,jump_url:(null===(a=this.data.button_action)||void 0===a?void 0:a.jump_type)===Qb.DEST_TYPE_OUTER,playable_url:!0}[e];return c&&u&&Boolean(null===(o=this.data)||void 0===o||null===(s=o.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){var t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1,isAddContact:t=!1}={}){var r=this;return Nn()((function*(){var{dest_type:n,product_type:i,url:a,extInfo:o}=r.data,s={isButton:e};try{var l;null!=o&&null!==(l=o.app_gift_pack_code)&&void 0!==l&&l.code&&(yield r.adProxy.setClipboardData({data:o.app_gift_pack_code.code}),lo({duration:1500,title:"礼包码复制成功",icon:"success",mask:!1}),r.adProxy.reportAdMonitorData(Nb.COPY_GIFT_CODE_SUCCESS))}catch(e){r.adProxy.reportAdMonitorData(Nb.COPY_GIFT_CODE_FAIL)}if(!e){if(r.isPrefetch("url")&&r.adProxy.reportAdMonitorData(Nb.H5_PRELOAD_CARD_CLICKED),[12,19].indexOf(i)>-1){var c,u,{app_info:{url_scheme:d}}=r.data;if(OE.isIOS)c=JSON.stringify({aid:r.data.aid,ad_uid:null===(u=r.data.extBackComm)||void 0===u?void 0:u.uid,scene_id:4001});var p=r.getSkAdItem();if(d&&d.trim().length>0){if(OE.isAndroid&&!r.isAppInstalled){try{return yield r.openMachineMarket()}catch(e){}return r.landPage(n,a,s)}return r.adProxy.launchApplication({schemeUrl:d,isIosDirect:OE.isIOS,appInfo:r.data.app_info,extraData:c,skAdItem:p}).catch((e=>(null!==p&&r.reportAdMonitorData(Nb.OPEN_WEBSTORE_ERROR,e),r.landPage(n,a,s))))}try{return yield r.openMachineMarket()}catch(e){}return r.landPage(n,a,s)}if(i===Zb.WE_CHAT_SHOP){try{return yield r.openShopScheme()}catch(e){}return r.landPage(n,a,s)}return r.landPage(n,a,s)}r.isPrefetch("jump_url")&&r.adProxy.reportAdMonitorData(Nb.H5_PRELOAD_BUTTON_CLICKED);var{button_action:{jump_type:h,jump_url:f}}=r.data;if(i===Zb.IOS)return r.openAppStore(h,f,s);if(i!==Zb.WE_CHAT||!t){if(i===Zb.WE_CHAT_SHOP){try{return yield r.openShopScheme()}catch(e){}return r.landPage(h,f,s)}try{return yield r.openMachineMarket()}catch(e){}return r.landPage(h,f,s)}var{biz_info:{user_name:g,is_subscribed:v}}=r.data;if(v)return 10===h?r.landPage(h,a,s):Eb({url:r.getFollowPageUrl(r.data,f),adInfo:r.getTransmissionChainData({logtype:3})});try{var m,_=yield r.adProxy.addContact({username:g,isWaGame:OE.isWaGame}),{ext_info:y,uxinfo:A}=r.data;try{m=JSON.parse(y)}catch(e){}if(/ok|added/.test(_.errMsg)&&m&&m.guide_group_id&&A)try{yield(({guide_group_id:e,uxinfo:t})=>Tb({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>"ok"===e.msg?Promise.resolve(e):Promise.reject(e))))({guide_group_id:m.guide_group_id,uxinfo:A}),r.adProxy.reportAdIDKey({key:Nb.BIND_GUIDE_SUCCESS})}catch(e){r.reportAdMonitorData(Nb.BIND_GUIDE_ERROR,e)}return _}catch(e){if(/cancel/.test(e.errMsg))return e;throw r.reportAdMonitorData(Nb.ADD_CONTACT_ERROR,e),e}}))()}landPage(e,t,r){if(e===Qb.DEST_TYPE_APPDETAIL&&OE.isIOS){var n,{app_info:{appinfo_url:i}}=this.data,a=JSON.stringify({aid:this.data.aid,ad_uid:null===(n=this.data.extBackComm)||void 0===n?void 0:n.uid,scene_id:4001}),o=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:i,extraData:a,skAdItem:o}).catch((e=>(null!==o&&this.reportAdMonitorData(Nb.OPEN_WEBSTORE_ERROR,e),Eb({url:i,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_URL_ERROR,e),e})))))}if(e===Qb.DEST_TYPE_BIZ)return Eb({url:this.getFollowPageUrl(this.data,t),adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_URL_ERROR,e),e}));if(e===Qb.DEST_TYPE_WECHAT_APPLET){var{weapp_info:{appid:s},traceid:l,aid:c,uxinfo:u}=this.data;return Ib({appId:s,path:t,traceid:l,aid:c,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:u}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_WXAPP_ERROR,e),e}))}if(e===Qb.DEST_TYPE_CANVAS){var{canvas_info:d,pos_type:p}=this.data;return Cb({canvasInfo:d,posType:p}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_CANVAS_ERROR,e),e}))}if(10===e){var{biz_info:{user_name:h}}=this.data;return this.adProxy.openProfile({username:h}).catch((e=>{throw e}))}return e===Qb.DEST_TYPE_CHANNELS?this.jumpChannels("activity",r):e===Qb.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live",r):e===Qb.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile",r):Eb({url:t,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_URL_ERROR,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}jumpChannels(e,{isButton:t}){var r=this;return Nn()((function*(){var n,i=null===(n=r.data)||void 0===n?void 0:n.extBackComm.channels_info,{crt_size:a,apurl:o,rl:s}=r.data,l={feedId:i.id,nonceId:i.nonce_id,finderUserName:i.username,reportExtraInfo:r.getChannelsExtraInfo(t?aw.ACTIONBUTTON:aw.RESOURCE)},c={activity:Nb.OPEN_CHANNELS_ACTIVITY_SUCCESS,live:Nb.OPEN_CHANNELS_LIVE_SUCCESS,userProfile:Nb.OPEN_CHANNELS_USER_PROFILE_SUCCESS}[e],u={activity:Nb.OPEN_CHANNELS_ACTIVITY_FAILED,live:Nb.OPEN_CHANNELS_LIVE_FAILED,userProfile:Nb.OPEN_CHANNELS_USER_PROFILE_FAILED}[e];if(i){if("activity"===e&&a===Yb.CRT_SIZE_REWARD_LANDINGPAGE)try{var d=yield r.adProxy.openChannelsRewardedVideoAd(O()(O()({},l),{},{expReportLink:o,clkReportLink:s,reportInfo:r.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:OE.screenWidth,height:OE.screenHeight}),clickPosMap:{follow:Xb.MMOCAD_CLICKPOS_BIZ_FOLLOW,like:Xb.MMOCAD_CLICKPOS_BIZ_LIKE,comment:Xb.MMOCAD_CLICKPOS_BIZ_COMMENT,headimage:Xb.MMOCAD_CLICKPOS_BIZ_HEADIMAGE,nickname:Xb.MMOCAD_CLICKPOS_BIZ_NICKNAME,forward:Xb.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD},feedbackUrl:r.getFeedbackUrl(OE.isWaGame?1003:1005)}));return r.reportAdMonitorData(c),d}catch(d){r.reportAdMonitorData(u,d)}try{switch(e){case"activity":yield r.adProxy.openChannelsRewardedVideoAd(O()(O()({},l),{},{adJSAPIType:1}));break;case"live":yield r.adProxy.openChannelsLive(l);break;case"userProfile":yield r.adProxy.openChannelsUserProfile(l)}return void r.reportAdMonitorData(c)}catch(e){r.reportAdMonitorData(u,e)}}r.reportAdMonitorData(u,new Error("channelsInfo is empty"))}))()}openAppStore(e,t,r){var n,{app_info:{appinfo_url:i,url_scheme:a},extBackComm:o}=this.data,s=JSON.stringify({aid:this.data.aid,ad_uid:null===(n=this.data.extBackComm)||void 0===n?void 0:n.uid,scene_id:4001}),l=this.getSkAdItem();return a&&a.trim().length>0?this.adProxy.launchApplication({schemeUrl:a,isIosDirect:!0,appInfo:this.data.app_info,extraData:s,skAdItem:l}).catch((()=>this.adProxy.launchApplication({schemeUrl:i,extraData:s,skAdItem:l}).catch((e=>(null!==l&&this.reportAdMonitorData(Nb.OPEN_WEBSTORE_ERROR,e),Eb({url:i,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_URL_ERROR,e),e}))))))):o.is_from_snsadinfo?this.landPage(e,t,r):this.adProxy.launchApplication({schemeUrl:i,extraData:s,skAdItem:l}).catch((()=>Eb({url:i,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(Nb.OPEN_URL_ERROR,e),e}))))}preloadLanding(){try{if(6===this.data.dest_type){var e=[],t=[];"grid"===this.adType?this.datas.forEach((r=>{var n;null!==(n=r.weapp_info)&&void 0!==n&&n.appid&&(e.push(r.weapp_info.appid),t.push(rI(r)))})):(e=[this.data.weapp_info.appid],t.push(rI(this.data))),it("batchGetContact",{appIds:e});var r="app";this.data.product_type===Zb.MINI_GAME&&(r="game"),(OE.isAndroid||"app"===r)&&it("preloadMiniProgramEnv",{type:r,success:e=>{this.reportAdMonitorData(Nb.PRELOAD_MINIENV_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(Nb.PRELOAD_MINIENV_ERROR,e)}}),it("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:1,success:e=>{this.reportAdMonitorData(Nb.PREDOWNLOAD_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(Nb.PREDOWNLOAD_ERROR,e)}})}}catch(e){}}checkFollow(e){return Nn()((function*(){var{data:t}=yield Tb({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===t.is_subscribed}))()}getFeedbackUrl(e){var t=this.data.material_id_list||[],r=encodeURIComponent(`[${t.toString()}]`)||"",n=VA("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:r||"",machine_type:OE.model,publisher_appid:OE.gameAppId});if("grid"===this.adType){var i=[],a=[],o=[];this.datas.forEach((e=>{i.push(e.traceid),a.push(e.material_id_list||[]),o.push(e.aid)}));var s={traceid:JSON.stringify(i),source:e,aid:JSON.stringify(o),material_id:JSON.stringify(a),machine_type:OE.model,publisher_appid:OE.gameAppId};n=VA("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html?ismulity=1#wechat_redirect",s)}return n}openFeedbackUrl(e){var t=this.getFeedbackUrl(e);return Eb({url:t})}checkPreloadH5Page(){var e=this;return Nn()((function*(){var t,r,n,i,a,o=new Set,{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,c=null===(r=e.data.crtInfo)||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.wxgame_video_card)||void 0===i||null===(a=i.flooring_page)||void 0===a?void 0:a.page_url;e.isPrefetch("url")&&("1"!==UA(s).prefetch&&(s=VA(s,{prefetch:1}),e.data.url=s),o.add(s)),e.isPrefetch("jump_url")&&("1"!==UA(l).prefetch&&(l=VA(l,{prefetch:1}),e.data.button_action.jump_url=l),o.add(l)),e.isPrefetch("playable_url")&&("1"!==UA(c).prefetch&&(c=VA(c,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=c),o.add(c));var u=[...o].map((e=>({url:e,bizScene:20002})));if(u.length)try{yield e.adProxy.preloadH5Page({urlList:u}),e.reportAdMonitorData(Nb.H5_PRELOAD_SUCCESS)}catch(t){e.reportAdMonitorData(Nb.H5_PRELOAD_FAILED,t)}}))()}openShopScheme(){var e=this;return Nn()((function*(){var{app_info:{url_scheme:t},product_type:r}=e.data;if(!t||r!==Zb.WE_CHAT_SHOP||!OE.isIOS&&!OE.isAndroid)throw"openShopScheme: fail no need";try{var n={schemeUrl:t};OE.isIOS&&(n.messageExt=t);var i=yield e.adProxy.launchApplicationOrigin(n);return e.reportAdMonitorData(Nb.OPEN_SHOP_SCHEME_SUCCESS),i}catch(t){throw e.reportAdMonitorData(Nb.OPEN_SHOP_SCHEME_ERROR,t),t}}))()}shouldOpenMachineMarket(){var{product_type:e,extBackComm:t}=this.data;return!this.adProxy.isSplashAd()&&OE.isAndroid&&e===Zb.ANDROID&&!this.isAppInstalled&&(null==t?void 0:t.market_scheme)}openMachineMarket(){var e=this;return Nn()((function*(){var{extBackComm:t}=e.data;if(!e.shouldOpenMachineMarket())throw"openMachineMarket: fail no need";try{var r=yield e.adProxy.launchApplicationOrigin({schemeUrl:t.market_scheme});return e.reportAdMonitorData(Nb.OPEN_MACHINE_MKT_SUCCESS),r}catch(t){throw e.reportAdMonitorData(Nb.OPEN_MACHINE_MKT_ERROR,t),t}}))()}},cn()(YC.prototype,"isPrefetch",[NC],Object.getOwnPropertyDescriptor(YC.prototype,"isPrefetch"),YC.prototype),cn()(YC.prototype,"getTransmissionChainData",[BC],Object.getOwnPropertyDescriptor(YC.prototype,"getTransmissionChainData"),YC.prototype),cn()(YC.prototype,"setAppInstallState",[WC],Object.getOwnPropertyDescriptor(YC.prototype,"setAppInstallState"),YC.prototype),cn()(YC.prototype,"land",[FC],Object.getOwnPropertyDescriptor(YC.prototype,"land"),YC.prototype),cn()(YC.prototype,"landPage",[UC],Object.getOwnPropertyDescriptor(YC.prototype,"landPage"),YC.prototype),cn()(YC.prototype,"getChannelsExtraInfo",[VC],Object.getOwnPropertyDescriptor(YC.prototype,"getChannelsExtraInfo"),YC.prototype),cn()(YC.prototype,"openAppStore",[jC],Object.getOwnPropertyDescriptor(YC.prototype,"openAppStore"),YC.prototype),cn()(YC.prototype,"preloadLanding",[GC],Object.getOwnPropertyDescriptor(YC.prototype,"preloadLanding"),YC.prototype),cn()(YC.prototype,"checkFollow",[HC],Object.getOwnPropertyDescriptor(YC.prototype,"checkFollow"),YC.prototype),cn()(YC.prototype,"getFeedbackUrl",[QC],Object.getOwnPropertyDescriptor(YC.prototype,"getFeedbackUrl"),YC.prototype),cn()(YC.prototype,"openFeedbackUrl",[$C],Object.getOwnPropertyDescriptor(YC.prototype,"openFeedbackUrl"),YC.prototype),cn()(YC.prototype,"checkPreloadH5Page",[zC],Object.getOwnPropertyDescriptor(YC.prototype,"checkPreloadH5Page"),YC.prototype),YC),iI=BabelRuntimeHelpers.initializerDefineProperty,aI=l.n(iI),oI=(BabelRuntimeHelpers.initializerWarningHelper,nn("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r})=>({jsapi:r,export_id:e,finder_username:t})),(e=>{e.live_info&&e.live_info.length&&(e.feedId=e.live_info[0].export_id,e.nonceId=e.live_info[0].nonce_id,e.description=e.live_info[0].description,e.status=e.live_info[0].status,e.headUrl=e.live_info[0].head_url,e.nickname=e.live_info[0].nickname),delete e.live_info})));function sI(e){oI(Object.assign({},e,{jsapi:"getChannelsLiveInfo"}))}var lI,cI,uI,dI,pI,hI,fI,gI,vI,mI,_I,yI,AI,bI,wI,EI,CI,II,SI,TI,xI,PI,kI,DI,RI,OI,MI,LI,NI,BI,WI,FI,UI,VI,jI,GI,HI,QI,$I,zI,YI,ZI,qI,JI,XI,KI,eS,tS,rS,nS,iS,aS,oS,sS,lS,cS=nn("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),uS=nn("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),dS=nn("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var t,r=null===(t=e.record_list)||void 0===t?void 0:t[0];r&&(e.noticeId=r.notice_id,e.status=r.status,e.startTime=r.start_time,e.headUrl=r.head_url,e.nickname=r.nickname,e.reservable=r.can_reserve),delete e.record_list}));function pS(){if(void 0===a)return"";var e=a.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function hS(e,t,r,n="",i=0,a="",o="",s=0){var l=[e||"",pS(),t,r,n,i,le.appType+1e3,a,o,s].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"WeAppToChannels",value:l})}var{makeApiSign:fS}=__safeway__.apiSign,gS=e=>t=>new Promise(((r,n)=>{e(Object.assign({},t,{success:r,fail:n}))})),vS=(e,t,r)=>{var n;e.errMsg=e.errMsg||`${t}:ok`;var i,a=0===e.errMsg.indexOf(`${t}:ok`),o=0===e.errMsg.indexOf(`${t}:fail`);if(a)null==r||null===(i=r.success)||void 0===i||i.call(r,e);else if(o){var s;null==r||null===(s=r.fail)||void 0===s||s.call(r,e)}null==r||null===(n=r.complete)||void 0===n||n.call(r,e)},mS=({username:e,success:t,fail:r,complete:n})=>{it("profile",{username:e,scene:75,success:t,fail:r,complete:n})},_S=({username:e,isWaGame:t,success:r,fail:n,complete:i})=>{it("private_addContact",{username:e,scene:t?146:139,webtype:1,success:r,fail:n,complete:i})},yS=({schemeUrl:e,isIosDirect:t,appInfo:r,extraData:n,skAdItem:i,success:a,fail:o,complete:s})=>{var l={};t&&(l.appId=r.app_id,l.installSchemeUrl=r.appinfo_url,null!==i?(l.installAction=1,l.skAdItem=i):l.installAction=0),n&&(l.extraData=n),it("launchApplication",Object.assign(l,{schemeUrl:e,operateDirectly:1,success:a,fail:o,complete:s}))},AS=({schemeUrl:e,messageExt:t,success:r,fail:n,complete:i})=>{var a={};t&&(a.messageExt=t),it("launchApplication",Object.assign(a,{schemeUrl:e,operateDirectly:1,success:r,fail:n,complete:i}))},bS=({appUrl:e,extraData:t,skAdItem:r,success:n,fail:i,complete:a})=>{var o=fS("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:r,operateDirectly:1,success:n,fail:i,complete:a});it("downloadAppInternal",o)},wS=({packageName:e,success:t,fail:r,complete:n})=>{var i=fS("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:r,complete:n});it("getInstallState",i)},ES=({downloadId:e,success:t,fail:r,complete:n})=>{it("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:r,complete:n})},CS=({downloadId:e,success:t,fail:r,complete:n})=>{it("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:r,complete:n})},IS=({downloadId:e,success:t,fail:r,complete:n})=>{it("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:r,complete:n})},SS=({downloadId:e,success:t,fail:r,complete:n})=>{var i=fS("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:r,complete:n});it("installDownloadTask",i)},TS=({isHide:e,success:t,fail:r,complete:n})=>{it("setNavigationBarRightButton",{hide:e,success:t,fail:r,complete:n})},xS=({isHide:e,success:t,fail:r,complete:n})=>{it("private_setNavigationBarRightButton",{hide:e,success:t,fail:r,complete:n})},PS=({resources:e,success:t,fail:r,complete:n})=>{it("loadVideoResource",{resources:e,success:t,fail:r,complete:n})},kS=({orientation:e,success:t,fail:r,complete:n})=>{it("private_setPageOrientation",{orientation:e,success:t,fail:r,complete:n})},DS=({success:e,fail:t,complete:r}={})=>{it("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:r})},RS=({success:e,fail:t,complete:r}={})=>{it("showVirtualBottomNavigationBar",{success:e,fail:t,complete:r})},OS=({success:e,fail:t,complete:r}={})=>{it("showStatusBar",{success:e,fail:t,complete:r})},MS=({success:e,fail:t,complete:r}={})=>{it("hideStatusBar",{success:e,fail:t,complete:r})},LS=({success:e,fail:t,complete:r,feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o})=>{pe("openChannelsActivity",{feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o,permissionBytes:[1,1,1]},(n=>{vS(n,"openChannelsActivity",{success:e,fail:t,complete:r})}))},NS=({success:e,fail:t,complete:r,feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o})=>{pe("openChannelsLive",{feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o,permissionBytes:[1,1,1]},(n=>{vS(n,"openChannelsLive",{success:e,fail:t,complete:r})}))},BS=({success:e,fail:t,complete:r,finderUserName:n,reportExtraInfo:i})=>{pe("openChannelsUserProfile",{finderUserName:n,reportExtraInfo:i,permissionBytes:[1,1,1]},(n=>{vS(n,"openChannelsUserProfile",{success:e,fail:t,complete:r})}))},WS=({success:e,fail:t,complete:r,feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:c,reportInfo:u,clickPosMap:d,feedbackUrl:p})=>{it("openChannelsRewardedVideoAd",{feedId:n,nonceId:i,finderUserName:a,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:c,reportInfo:u,clickPosMap:d,feedbackUrl:p,success:e,fail:t,complete:r})},FS=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:r,fail:n,complete:i})=>{it("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:r,fail:n,complete:i})},US=({urlList:e,success:t,fail:r,complete:n})=>{it("private_onWebPageUrlExposed",{urlList:e,success:t,fail:r,complete:n})},VS=({data:e,success:t,fail:r,complete:n})=>{var i=fS("setClipboardData",{data:e,success:t,fail:r,complete:n});it("setClipboardData",i)},jS=gS((({taskName:e,taskUrl:t,fileMd5:r,extInfo:n,success:i,fail:a,complete:o})=>{var s=fS("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:r,extInfo:n,permissionBytes:[1,1,1],success:i,fail:a,complete:o});it("addDownloadTaskStraight",s)})),GS=(lI=iE(),cI=iE(),uI=iE(),dI=iE(),pI=iE(),hI=iE(),fI=iE(),gI=iE(),vI=iE(),mI=iE(),_I=iE(),yI=iE(),AI=iE(),bI=iE(),wI=iE(),EI=iE(),CI=iE(),II=iE(),SI=iE(),TI=iE(),xI=iE(),PI=iE(),kI=iE(),DI=iE(),RI=iE(),OI=iE(),MI=iE(),LI=class{constructor(){aI()(this,"setNavigationBarRightButton",NI,this),aI()(this,"setMiniProgramNavigationBarRightButton",BI,this),aI()(this,"hideVirtualBottomNavigationBar",WI,this),aI()(this,"showVirtualBottomNavigationBar",FI,this),aI()(this,"showStatusBar",UI,this),aI()(this,"hideStatusBar",VI,this),aI()(this,"openProfile",jI,this),aI()(this,"addContact",GI,this),aI()(this,"downloadAppInternal",HI,this),aI()(this,"openChannelsActivity",QI,this),aI()(this,"openChannelsRewardedVideoAd",$I,this),aI()(this,"openChannelsLive",zI,this),aI()(this,"openChannelsUserProfile",YI,this),aI()(this,"setClipboardData",ZI,this),aI()(this,"getChannelsLiveInfo",qI,this),aI()(this,"getNetworkType",JI,this),aI()(this,"preloadH5Page",XI,this),this.innerPreloadVideo=gS(PS),aI()(this,"preloadVideo",KI,this),aI()(this,"launchApplicationOrigin",eS,this),this.innerLaunchApplication=gS(yS),aI()(this,"launchApplication",tS,this),this.innerGetInstallState=gS(wS),aI()(this,"getInstallState",rS,this),this.innerQueryDownloadTask=gS(ES),aI()(this,"queryDownloadTask",nS,this),this.innerPauseDownloadTask=gS(CS),aI()(this,"pauseDownloadTask",iS,this),this.innerResumeDownloadTask=gS(IS),aI()(this,"resumeDownloadTask",aS,this),this.innerInstallDownloadTask=gS(SS),aI()(this,"installDownloadTask",oS,this),this.innerSetPageOrientation=gS(kS),aI()(this,"setPageOrientation",sS,this),this.innerSetInnerAudioOption=gS(FS),aI()(this,"setInnerAudioOption",lS,this)}},NI=cn()(LI.prototype,"setNavigationBarRightButton",[lI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(TS)}}),BI=cn()(LI.prototype,"setMiniProgramNavigationBarRightButton",[cI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(xS)}}),WI=cn()(LI.prototype,"hideVirtualBottomNavigationBar",[uI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(DS)}}),FI=cn()(LI.prototype,"showVirtualBottomNavigationBar",[dI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(RS)}}),UI=cn()(LI.prototype,"showStatusBar",[pI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(OS)}}),VI=cn()(LI.prototype,"hideStatusBar",[hI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(MS)}}),jI=cn()(LI.prototype,"openProfile",[fI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(mS)}}),GI=cn()(LI.prototype,"addContact",[gI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(_S)}}),HI=cn()(LI.prototype,"downloadAppInternal",[vI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(bS)}}),QI=cn()(LI.prototype,"openChannelsActivity",[mI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(LS)}}),$I=cn()(LI.prototype,"openChannelsRewardedVideoAd",[_I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(WS)}}),zI=cn()(LI.prototype,"openChannelsLive",[yI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(NS)}}),YI=cn()(LI.prototype,"openChannelsUserProfile",[AI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(BS)}}),ZI=cn()(LI.prototype,"setClipboardData",[bI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(VS)}}),qI=cn()(LI.prototype,"getChannelsLiveInfo",[wI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(sI)}}),JI=cn()(LI.prototype,"getNetworkType",[EI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(qi)}}),XI=cn()(LI.prototype,"preloadH5Page",[CI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(US)}}),KI=cn()(LI.prototype,"preloadVideo",[II],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),eS=cn()(LI.prototype,"launchApplicationOrigin",[SI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS(AS)}}),tS=cn()(LI.prototype,"launchApplication",[TI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var t="string"==typeof e?{schemeUrl:e}:e;return!Se||null!=t&&t.isIosDirect||null===(null==t?void 0:t.skAdItem)?this.innerLaunchApplication(t):this.downloadAppInternal({appUrl:t.schemeUrl,extraData:null==t?void 0:t.extraData,skAdItem:null==t?void 0:t.skAdItem})}}}),rS=cn()(LI.prototype,"getInstallState",[xI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),nS=cn()(LI.prototype,"queryDownloadTask",[PI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),iS=cn()(LI.prototype,"pauseDownloadTask",[kI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),aS=cn()(LI.prototype,"resumeDownloadTask",[DI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),oS=cn()(LI.prototype,"installDownloadTask",[RI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),sS=cn()(LI.prototype,"setPageOrientation",[OI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),lS=cn()(LI.prototype,"setInnerAudioOption",[MI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),LI),HS=327,QS=249,$S=184,zS=140,YS=388,ZS=308,qS=(e,t)=>!!t&&(e=>{var t={native:[Yb.CRT_SIZE_TABLE_SCREEN_IMAGE,Yb.CRT_SIZE_INSERT_VIDEO],sns:[Yb.APP_VIDEO,Yb.CRT_SIZE_PIC_MOMENT,Yb.CRT_SIZE_VIDEO_TIME6,Yb.CRT_SIZE_CARD_COMPT_IMAGE,Yb.CRT_SIZE_CARD_COMPT_VIDEO],image:[Yb.CRT_SIZE_TABLE_SCREEN_IMAGE,Yb.CRT_SIZE_PIC_MOMENT,Yb.CRT_SIZE_CARD_COMPT_IMAGE,Yb.CRT_SIZE_AMS_PIC_169],video:[Yb.CRT_SIZE_INSERT_VIDEO,Yb.APP_VIDEO,Yb.CRT_SIZE_VIDEO_TIME6,Yb.CRT_SIZE_CARD_COMPT_VIDEO,Yb.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"native":case"sns":case"video":case"image":return t[e];case"all":default:return[...t.image,...t.video]}})(e).includes(Number(t)),JS=Object.create,XS=Object.defineProperty,KS=Object.getPrototypeOf,eT=Object.prototype.hasOwnProperty,tT=Object.getOwnPropertyNames,rT=Object.getOwnPropertyDescriptor,nT=Object.getOwnPropertySymbols,iT=Object.prototype.propertyIsEnumerable,aT=(e,t,r)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oT=(e,t)=>{for(var r in t||(t={}))eT.call(t,r)&&aT(e,r,t[r]);if(nT)for(var r of nT(t))iT.call(t,r)&&aT(e,r,t[r]);return e},sT=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),lT=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of tT(t))!eT.call(e,n)&&"default"!==n&&XS(e,n,{get:()=>t[n],enumerable:!(r=rT(t,n))||r.enumerable});return e})((e=>XS(e,"__esModule",{value:!0}))(XS(null!=e?JS(KS(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),cT=(e,t,r,n)=>{for(var i,a=n>1?void 0:n?rT(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(n?i(t,r,a):i(a))||a);return n&&a&&XS(t,r,a),a},uT=(e,t,r)=>new Promise(((n,i)=>{var a=e=>{try{s(r.next(e))}catch(e){i(e)}},o=e=>{try{s(r.throw(e))}catch(e){i(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,o);s((r=r.apply(e,t)).next())})),dT=sT(((e,t)=>{var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,s,l=a(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(l[u]=o[u]);if(r){s=r(o);for(var d=0;d<s.length;d++)i.call(o,s[d])&&(l[s[d]]=o[s[d]])}}return l}})),pT=sT((e=>{var t=dT(),r=60103,n=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var i=60109,a=60110,o=60112;e.Suspense=60113;var s=60115,l=60116;"function"==typeof Symbol&&Symbol.for&&(c=Symbol.for,r=c("react.element"),n=c("react.portal"),e.Fragment=c("react.fragment"),e.StrictMode=c("react.strict_mode"),e.Profiler=c("react.profiler"),i=c("react.provider"),a=c("react.context"),o=c("react.forward_ref"),e.Suspense=c("react.suspense"),s=c("react.memo"),l=c("react.lazy"));var c,u="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function f(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||p}function g(){}function v(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=f.prototype;var m=v.prototype=new g;m.constructor=v,t(m,f.prototype),m.isPureReactComponent=!0;var _={current:null},y=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)y.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:_.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,Array.isArray(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(w(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var p=a+C(s=e[c],c);l+=I(s,t,i,p,o)}else if("function"==typeof(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e)))for(e=p.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,p=a+C(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function S(e,t,r){if(null==e)return e;var n=[],i=0;return I(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function P(){var e=x.current;if(null===e)throw Error(d(321));return e}var k={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:S,forEach:function(e,t,r){S(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(d(143));return e}},e.Component=f,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.cloneElement=function(e,n,i){if(null==e)throw Error(d(267,e));var a=t({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(s=n.ref,l=_.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in n)y.call(n,u)&&!A.hasOwnProperty(u)&&(a[u]=void 0===n[u]&&void 0!==c?c[u]:n[u])}var u=arguments.length-2;if(1===u)a.children=i;else if(1<u){c=Array(u);for(var p=0;p<u;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},e.createElement=b,e.createFactory=function(e){var t=b.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:o,render:e}},e.isValidElement=w,e.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},e.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return P().useCallback(e,t)},e.useContext=function(e,t){return P().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return P().useEffect(e,t)},e.useImperativeHandle=function(e,t,r){return P().useImperativeHandle(e,t,r)},e.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},e.useMemo=function(e,t){return P().useMemo(e,t)},e.useReducer=function(e,t,r){return P().useReducer(e,t,r)},e.useRef=function(e){return P().useRef(e)},e.useState=function(e){return P().useState(e)},e.version="17.0.2"})),hT=sT(((e,t)=>{t.exports=pT()})),fT=sT((e=>{var t,r,n,i,a,o,s,l,c,u,d,p,h,f,g,v,m,_,y,A;function b(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<C(i,t)))break e;e[n]=t,e[r]=i,r=n}}function w(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>C(o,r))void 0!==l&&0>C(l,o)?(e[n]=l,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==l&&0>C(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function C(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s}),"undefined"==typeof window||"function"!=typeof MessageChannel?(l=null,c=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(u,0),e}},t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},n=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}):(d=window.setTimeout,p=window.clearTimeout,"undefined"!=typeof console&&(h=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),f=!1,g=null,v=-1,m=5,_=0,e.unstable_shouldYield=function(){return e.unstable_now()>=_},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5},y=new MessageChannel,A=y.port2,y.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();_=t+m;try{g(!0,t)?A.postMessage(null):(f=!1,g=null)}catch(e){throw A.postMessage(null),e}}else f=!1},t=function(e){g=e,f||(f=!0,A.postMessage(null))},r=function(t,r){v=d((function(){t(e.unstable_now())}),r)},n=function(){p(v),v=-1});var I=[],S=[],T=1,x=null,P=3,k=!1,D=!1,R=!1;function O(e){for(var t=w(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,b(I,t)}t=w(S)}}function M(e){if(R=!1,O(e),!D)if(null!==w(I))D=!0,t(L);else{var n=w(S);null!==n&&r(M,n.startTime-e)}}function L(t,i){D=!1,R&&(R=!1,n()),k=!0;var a=P;try{for(O(i),x=w(I);null!==x&&(!(x.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=x.callback;if("function"==typeof o){x.callback=null,P=x.priorityLevel;var s=o(x.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?x.callback=s:x===w(I)&&E(I),O(i)}else E(I);x=w(I)}if(null!==x)var l=!0;else{var c=w(S);null!==c&&r(M,c.startTime-i),l=!1}return l}finally{x=null,P=a,k=!1}}var N=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){D||k||(D=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return w(I)},e.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var r=P;P=t;try{return e()}finally{P=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=N,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=P;P=e;try{return t()}finally{P=r}},e.unstable_scheduleCallback=function(i,a,o){var s=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:T++,callback:a,priorityLevel:i,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(i.sortIndex=o,b(S,i),null===w(I)&&i===w(S)&&(R?n():R=!0,r(M,o-s))):(i.sortIndex=l,b(I,i),D||k||(D=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=P;return function(){var r=P;P=t;try{return e.apply(this,arguments)}finally{P=r}}}})),gT=sT(((e,t)=>{t.exports=fT()})),vT=sT(((e,t)=>{t.exports=function(e){var r={},n=dT(),i=hT(),a=gT();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,c=60106,u=60107,d=60108,p=60114,h=60109,f=60110,g=60112,v=60113,m=60120,_=60115,y=60116,A=60121,b=60129,w=60130,E=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;l=C("react.element"),c=C("react.portal"),u=C("react.fragment"),d=C("react.strict_mode"),p=C("react.profiler"),h=C("react.provider"),f=C("react.context"),g=C("react.forward_ref"),v=C("react.suspense"),m=C("react.suspense_list"),_=C("react.memo"),y=C("react.lazy"),A=C("react.block"),C("react.scope"),b=C("react.debug_trace_mode"),w=C("react.offscreen"),E=C("react.legacy_hidden")}var I="function"==typeof Symbol&&Symbol.iterator;function S(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}function T(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return T(e.type);case A:return T(e._render);case y:t=e._payload,e=e._init;try{return T(e(t))}catch(e){}}return null}function x(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function P(e){if(x(e)!==e)throw Error(o(188))}function k(e){var t=e.alternate;if(!t){if(null===(t=x(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return P(i),e;if(a===n)return P(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}function D(e){if(!(e=k(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function R(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var O,M=e.getPublicInstance,L=e.getRootHostContext,N=e.getChildHostContext,B=e.prepareForCommit,W=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,V=e.finalizeInitialChildren,j=e.prepareUpdate,G=e.shouldSetTextContent,H=e.createTextInstance,Q=e.scheduleTimeout,$=e.cancelTimeout,z=e.noTimeout,Y=e.isPrimaryRenderer,Z=e.supportsMutation,q=e.supportsPersistence,J=e.supportsHydration,X=e.getInstanceFromNode,K=e.makeOpaqueHydratingObject,ee=e.makeClientId,te=e.beforeActiveInstanceBlur,re=e.afterActiveInstanceBlur,ne=e.preparePortalMount,ie=e.supportsTestSelectors,ae=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,le=e.isHiddenSubtree,ce=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,de=e.setupIntersectionObserver,pe=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,ge=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,_e=e.insertInContainerBefore,ye=e.removeChild,Ae=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,Ee=e.hideTextInstance,Ce=e.unhideInstance,Ie=e.unhideTextInstance,Se=e.clearContainer,Te=e.cloneInstance,xe=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,ke=e.finalizeContainerChildren,De=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Oe=e.cloneHiddenTextInstance,Me=e.canHydrateInstance,Le=e.canHydrateTextInstance,Ne=e.isSuspenseInstancePending,Be=e.isSuspenseInstanceFallback,We=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Ue=e.hydrateInstance,Ve=e.hydrateTextInstance,je=e.getNextHydratableInstanceAfterSuspenseInstance,Ge=e.commitHydratedContainer,He=e.commitHydratedSuspenseInstance;function Qe(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var $e=!1;function ze(e,t){if(!e||$e)return"";$e=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(e){if(e&&n&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{$e=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qe(e):""}var Ye=[],Ze=-1;function qe(e){return{current:e}}function Je(e){0>Ze||(e.current=Ye[Ze],Ye[Ze]=null,Ze--)}function Xe(e,t){Ze++,Ye[Ze]=e.current,e.current=t}var Ke={},et=qe(Ke),tt=qe(!1),rt=Ke;function nt(e,t){var r=e.type.contextTypes;if(!r)return Ke;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return null!=(e=e.childContextTypes)}function at(){Je(tt),Je(et)}function ot(e,t,r){if(et.current!==Ke)throw Error(o(168));Xe(et,t),Xe(tt,r)}function st(e,t,r){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var a in i=i.getChildContext())if(!(a in e))throw Error(o(108,T(t)||"Unknown",a));return n({},r,i)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ke,rt=et.current,Xe(et,e),Xe(tt,tt.current),!0}function ct(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=st(e,t,rt),n.__reactInternalMemoizedMergedChildContext=e,Je(tt),Je(et),Xe(et,e)):Je(tt),Xe(tt,r)}var ut=null,dt=null;(0,a.unstable_now)();var pt=0,ht=8;function ft(e){if(0!=(1&e))return ht=15,1;if(0!=(2&e))return ht=14,2;if(0!=(4&e))return ht=13,4;var t=24&e;return 0!==t?(ht=12,t):0!=(32&e)?(ht=11,32):0!==(t=192&e)?(ht=10,t):0!=(256&e)?(ht=9,256):0!==(t=3584&e)?(ht=8,t):0!=(4096&e)?(ht=7,4096):0!==(t=4186112&e)?(ht=6,t):0!==(t=62914560&e)?(ht=5,t):67108864&e?(ht=4,67108864):0!=(134217728&e)?(ht=3,134217728):0!==(t=805306368&e)?(ht=2,t):0!=(1073741824&e)?(ht=1,1073741824):(ht=8,e)}function gt(e,t){var r=e.pendingLanes;if(0===r)return ht=0;var n=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)n=a,i=ht=15;else if(0!==(a=134217727&r)){var l=a&~o;0!==l?(n=ft(l),i=ht):0!==(s&=a)&&(n=ft(s),i=ht)}else 0!==(a=r&~o)?(n=ft(a),i=ht):0!==s&&(n=ft(s),i=ht);if(0===n)return 0;if(n=r&((0>(n=31-bt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0==(t&o)){if(ft(t),i<=ht)return t;ht=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-bt(t)),n|=e[r],t&=~i;return n}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_t(24&~t))?mt(10,t):e;case 10:return 0===(e=_t(192&~t))?mt(8,t):e;case 8:return 0===(e=_t(3584&~t))&&(0===(e=_t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_t(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function _t(e){return e&-e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function At(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-bt(t)]=r}var bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(wt(e)/Et|0)|0},wt=Math.log,Et=Math.LN2;var Ct=a.unstable_runWithPriority,It=a.unstable_scheduleCallback,St=a.unstable_cancelCallback,Tt=a.unstable_shouldYield,xt=a.unstable_requestPaint,Pt=a.unstable_now,kt=a.unstable_getCurrentPriorityLevel,Dt=a.unstable_ImmediatePriority,Rt=a.unstable_UserBlockingPriority,Ot=a.unstable_NormalPriority,Mt=a.unstable_LowPriority,Lt=a.unstable_IdlePriority,Nt={},Bt=void 0!==xt?xt:function(){},Wt=null,Ft=null,Ut=!1,Vt=Pt(),jt=1e4>Vt?Pt:function(){return Pt()-Vt};function Gt(){switch(kt()){case Dt:return 99;case Rt:return 98;case Ot:return 97;case Mt:return 96;case Lt:return 95;default:throw Error(o(332))}}function Ht(e){switch(e){case 99:return Dt;case 98:return Rt;case 97:return Ot;case 96:return Mt;case 95:return Lt;default:throw Error(o(332))}}function Qt(e,t){return e=Ht(e),Ct(e,t)}function $t(e,t,r){return e=Ht(e),It(e,t,r)}function zt(){if(null!==Ft){var e=Ft;Ft=null,St(e)}Yt()}function Yt(){if(!Ut&&null!==Wt){Ut=!0;var e=0;try{var t=Wt;Qt(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Wt=null}catch(t){throw null!==Wt&&(Wt=Wt.slice(e+1)),It(Dt,zt),t}finally{Ut=!1}}}var Zt=s.ReactCurrentBatchConfig;var qt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Jt=Object.prototype.hasOwnProperty;function Xt(e,t){if(qt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Jt.call(t,r[n])||!qt(e[r[n]],t[r[n]]))return!1;return!0}function Kt(e){switch(e.tag){case 5:return Qe(e.type);case 16:return Qe("Lazy");case 13:return Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 2:case 15:return e=ze(e.type,!1);case 11:return e=ze(e.type.render,!1);case 22:return e=ze(e.type._render,!1);case 1:return e=ze(e.type,!0);default:return""}}function er(e,t){if(e&&e.defaultProps){for(var r in t=n({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var tr=qe(null),rr=null,nr=null,ir=null;function ar(){ir=nr=rr=null}function or(e,t){e=e.type._context,Y?(Xe(tr,e._currentValue),e._currentValue=t):(Xe(tr,e._currentValue2),e._currentValue2=t)}function sr(e){var t=tr.current;Je(tr),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function lr(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function cr(e,t){rr=e,ir=nr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Vn=!0),e.firstContext=null)}function ur(e,t){if(ir!==e&&!1!==t&&0!==t)if(("number"!=typeof t||1073741823===t)&&(ir=e,t=1073741823),t={context:e,observedBits:t,next:null},null===nr){if(null===rr)throw Error(o(308));nr=t,rr.dependencies={lanes:0,firstContext:t,responders:null}}else nr=nr.next=t;return Y?e._currentValue:e._currentValue2}var dr=!1;function pr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function vr(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mr(e,t,r,i){var a=e.updateQueue;dr=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==o){for(p=a.baseState,s=0,d=u=c=null;;){l=o.lane;var h=o.eventTime;if((i&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(l=t,h=r,g.tag){case 1:if("function"==typeof(f=g.payload)){p=f.call(h,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=g.payload)?f.call(h,p,l):f))break e;p=n({},p,l);break e;case 2:dr=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=h,c=p):d=d.next=h,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,ua|=s,e.lanes=s,e.memoizedState=p}}function _r(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(o(191,i));i.call(n)}}}var yr=(new i.Component).refs;function Ar(e,t,r,i){r=null==(r=r(i,t=e.memoizedState))?t:n({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var br={isMounted:function(e){return!!(e=e._reactInternals)&&x(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=La(),i=Na(e),a=fr(n,i);a.payload=t,null!=r&&(a.callback=r),gr(e,a),Ba(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=La(),i=Na(e),a=fr(n,i);a.tag=1,a.payload=t,null!=r&&(a.callback=r),gr(e,a),Ba(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=La(),n=Na(e),i=fr(r,n);i.tag=2,null!=t&&(i.callback=t),gr(e,i),Ba(e,n,r)}};function wr(e,t,r,n,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xt(r,n)||!Xt(i,a))}function Er(e,t,r){var n=!1,i=Ke,a=t.contextType;return"object"==typeof a&&null!==a?a=ur(a):(i=it(t)?rt:et.current,a=(n=null!=(n=t.contextTypes))?nt(e,i):Ke),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=br,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cr(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&br.enqueueReplaceState(t,t.state,null)}function Ir(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=yr,pr(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ur(a):(a=it(t)?rt:et.current,i.context=nt(e,a)),mr(e,r,i,n),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ar(e,t,a,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&br.enqueueReplaceState(i,i.state,null),mr(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Sr=Array.isArray;function Tr(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===yr&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function xr(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Pr(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Eo(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function d(e,t,r,n){return null===t||6!==t.tag?((t=To(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function p(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Tr(e,t,r),n.return=e,n):((n=Co(r.type,r.key,r.props,null,e.mode,n)).ref=Tr(e,t,r),n.return=e,n)}function h(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=xo(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function f(e,t,r,n,a){return null===t||7!==t.tag?((t=Io(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function g(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=To(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(r=Co(t.type,t.key,t.props,null,e.mode,r)).ref=Tr(e,null,t),r.return=e,r;case c:return(t=xo(t,e.mode,r)).return=e,t}if(Sr(t)||S(t))return(t=Io(t,e.mode,r,null)).return=e,t;xr(e,t)}return null}function v(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:d(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case l:return r.key===i?r.type===u?f(e,t,r.props.children,n,i):p(e,t,r,n):null;case c:return r.key===i?h(e,t,r,n):null}if(Sr(r)||S(r))return null!==i?null:f(e,t,r,n,null);xr(e,r)}return null}function m(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return d(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return e=e.get(null===n.key?r:n.key)||null,n.type===u?f(t,e,n.props.children,i,n.key):p(t,e,n,i);case c:return h(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Sr(n)||S(n))return f(t,e=e.get(r)||null,n,i,null);xr(t,n)}return null}return function(d,p,h,f){var _="object"==typeof h&&null!==h&&h.type===u&&null===h.key;_&&(h=h.props.children);var y="object"==typeof h&&null!==h;if(y)switch(h.$$typeof){case l:e:{for(y=h.key,_=p;null!==_;){if(_.key===y){switch(_.tag){case 7:if(h.type===u){r(d,_.sibling),(p=i(_,h.props.children)).return=d,d=p;break e}break;default:if(_.elementType===h.type){r(d,_.sibling),(p=i(_,h.props)).ref=Tr(d,_,h),p.return=d,d=p;break e}}r(d,_);break}t(d,_),_=_.sibling}h.type===u?((p=Io(h.props.children,d.mode,f,h.key)).return=d,d=p):((f=Co(h.type,h.key,h.props,null,d.mode,f)).ref=Tr(d,p,h),f.return=d,d=f)}return s(d);case c:e:{for(_=h.key;null!==p;){if(p.key===_){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){r(d,p.sibling),(p=i(p,h.children||[])).return=d,d=p;break e}r(d,p);break}t(d,p),p=p.sibling}(p=xo(h,d.mode,f)).return=d,d=p}return s(d)}if("string"==typeof h||"number"==typeof h)return h=""+h,null!==p&&6===p.tag?(r(d,p.sibling),(p=i(p,h)).return=d,d=p):(r(d,p),(p=To(h,d.mode,f)).return=d,d=p),s(d);if(Sr(h))return function(i,o,s,l){for(var c=null,u=null,d=o,p=o=0,h=null;null!==d&&p<s.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var f=v(i,d,s[p],l);if(null===f){null===d&&(d=h);break}e&&d&&null===f.alternate&&t(i,d),o=a(f,o,p),null===u?c=f:u.sibling=f,u=f,d=h}if(p===s.length)return r(i,d),c;if(null===d){for(;p<s.length;p++)null!==(d=g(i,s[p],l))&&(o=a(d,o,p),null===u?c=d:u.sibling=d,u=d);return c}for(d=n(i,d);p<s.length;p++)null!==(h=m(d,i,p,s[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),o=a(h,o,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(i,e)})),c}(d,p,h,f);if(S(h))return function(i,s,l,c){var u=S(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,p=s,h=s=0,f=null,_=l.next();null!==p&&!_.done;h++,_=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var y=v(i,p,_.value,c);if(null===y){null===p&&(p=f);break}e&&p&&null===y.alternate&&t(i,p),s=a(y,s,h),null===d?u=y:d.sibling=y,d=y,p=f}if(_.done)return r(i,p),u;if(null===p){for(;!_.done;h++,_=l.next())null!==(_=g(i,_.value,c))&&(s=a(_,s,h),null===d?u=_:d.sibling=_,d=_);return u}for(p=n(i,p);!_.done;h++,_=l.next())null!==(_=m(p,i,h,_.value,c))&&(e&&null!==_.alternate&&p.delete(null===_.key?h:_.key),s=a(_,s,h),null===d?u=_:d.sibling=_,d=_);return e&&p.forEach((function(e){return t(i,e)})),u}(d,p,h,f);if(y&&xr(d,h),void 0===h&&!_)switch(d.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,T(d.type)||"Component"))}return r(d,p)}}var kr=Pr(!0),Dr=Pr(!1),Rr={},Or=qe(Rr),Mr=qe(Rr),Lr=qe(Rr);function Nr(e){if(e===Rr)throw Error(o(174));return e}function Br(e,t){Xe(Lr,t),Xe(Mr,e),Xe(Or,Rr),e=L(t),Je(Or),Xe(Or,e)}function Wr(){Je(Or),Je(Mr),Je(Lr)}function Fr(e){var t=Nr(Lr.current),r=Nr(Or.current);r!==(t=N(r,e.type,t))&&(Xe(Mr,e),Xe(Or,t))}function Ur(e){Mr.current===e&&(Je(Or),Je(Mr))}var Vr=qe(0);function jr(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Ne(r)||Be(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gr=null,Hr=null,Qr=!1;function $r(e,t){var r=bo(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function zr(e,t){switch(e.tag){case 5:return null!==(t=Me(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Yr(e){if(Qr){var t=Hr;if(t){var r=t;if(!zr(e,t)){if(!(t=We(r))||!zr(e,t))return e.flags=-1025&e.flags|2,Qr=!1,void(Gr=e);$r(Gr,r)}Gr=e,Hr=Fe(t)}else e.flags=-1025&e.flags|2,Qr=!1,Gr=e}}function Zr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gr=e}function qr(e){if(!J||e!==Gr)return!1;if(!Qr)return Zr(e),Qr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!G(t,e.memoizedProps))for(t=Hr;t;)$r(e,t),t=We(t);if(Zr(e),13===e.tag){if(!J)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hr=je(e)}else Hr=Gr?We(e.stateNode):null;return!0}function Jr(){J&&(Hr=Gr=null,Qr=!1)}var Xr=[];function Kr(){for(var e=0;e<Xr.length;e++){var t=Xr[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Xr.length=0}var en=s.ReactCurrentDispatcher,tn=s.ReactCurrentBatchConfig,rn=0,nn=null,an=null,on=null,sn=!1,ln=!1;function cn(){throw Error(o(321))}function un(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function dn(e,t,r,n,i,a){if(rn=a,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,en.current=null===e||null===e.memoizedState?Bn:Wn,e=r(n,i),ln){a=0;do{if(ln=!1,!(25>a))throw Error(o(301));a+=1,on=an=null,t.updateQueue=null,en.current=Fn,e=r(n,i)}while(ln)}if(en.current=Nn,t=null!==an&&null!==an.next,rn=0,on=an=nn=null,sn=!1,t)throw Error(o(300));return e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===on?nn.memoizedState=on=e:on=on.next=e,on}function hn(){if(null===an){var e=nn.alternate;e=null!==e?e.memoizedState:null}else e=an.next;var t=null===on?nn.memoizedState:on.next;if(null!==t)on=t,an=e;else{if(null===e)throw Error(o(310));e={memoizedState:(an=e).memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},null===on?nn.memoizedState=on=e:on=on.next=e}return on}function fn(e,t){return"function"==typeof t?t(e):t}function gn(e){var t=hn(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=an,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=a=null,c=i;do{var u=c.lane;if((rn&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===e?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=n):l=l.next=d,nn.lanes|=u,ua|=u}c=c.next}while(null!==c&&c!==i);null===l?a=n:l.next=s,qt(n,t.memoizedState)||(Vn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function vn(e){var t=hn(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);qt(a,t.memoizedState)||(Vn=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function mn(e,t,r){var n=t._getVersion;n=n(t._source);var i=Y?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(rn&e)===e)&&(Y?t._workInProgressVersionPrimary=n:t._workInProgressVersionSecondary=n,Xr.push(t))),e)return r(t._source);throw Xr.push(t),Error(o(350))}function _n(e,t,r,n){var i=ra;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=en.current,c=l.useState((function(){return mn(i,t,r)})),u=c[1],d=c[0];c=on;var p=e.memoizedState,h=p.refs,f=h.getSnapshot,g=p.source;p=p.subscribe;var v=nn;return e.memoizedState={refs:h,source:t,subscribe:n},l.useEffect((function(){h.getSnapshot=r,h.setSnapshot=u;var e=a(t._source);if(!qt(s,e)){e=r(t._source),qt(d,e)||(u(e),e=Na(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,o=e;0<o;){var l=31-bt(o),c=1<<l;n[l]|=e,o&=~c}}}),[r,t,n]),l.useEffect((function(){return n(t._source,(function(){var e=h.getSnapshot,r=h.setSnapshot;try{r(e(t._source));var n=Na(v);i.mutableReadLanes|=n&i.pendingLanes}catch(e){r((function(){throw e}))}}))}),[t,n]),qt(f,r)&&qt(g,t)&&qt(p,n)||((e={pending:null,dispatch:null,lastRenderedReducer:fn,lastRenderedState:d}).dispatch=u=Ln.bind(null,nn,e),c.queue=e,c.baseQueue=null,d=mn(i,t,r),c.memoizedState=c.baseState=d),d}function yn(e,t,r){return _n(hn(),e,t,r)}function An(e){var t=pn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e}).dispatch=Ln.bind(null,nn,e),[t.memoizedState,e]}function bn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=nn.updateQueue)?(t={lastEffect:null},nn.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function wn(e){return e={current:e},pn().memoizedState=e}function En(){return hn().memoizedState}function Cn(e,t,r,n){var i=pn();nn.flags|=e,i.memoizedState=bn(1|t,r,void 0,void 0===n?null:n)}function In(e,t,r,n){var i=hn();n=void 0===n?null:n;var a=void 0;if(null!==an){var o=an.memoizedState;if(a=o.destroy,null!==n&&un(n,o.deps))return void bn(t,r,a,n)}nn.flags|=e,i.memoizedState=bn(1|t,r,a,n)}function Sn(e,t){return Cn(516,4,e,t)}function Tn(e,t){return In(516,4,e,t)}function xn(e,t){return In(4,2,e,t)}function Pn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function kn(e,t,r){return r=null!=r?r.concat([e]):null,In(4,2,Pn.bind(null,t,e),r)}function Dn(){}function Rn(e,t){var r=hn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&un(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function On(e,t){var r=hn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&un(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Mn(e,t){var r=Gt();Qt(98>r?98:r,(function(){e(!0)})),Qt(97<r?97:r,(function(){var r=tn.transition;tn.transition=1;try{e(!1),t()}finally{tn.transition=r}}))}function Ln(e,t,r){var n=La(),i=Na(e),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===nn||null!==o&&o===nn)ln=sn=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,r);if(a.eagerReducer=o,a.eagerState=l,qt(l,s))return}catch(e){}Ba(e,i,n)}}var Nn={readContext:ur,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useOpaqueIdentifier:cn,unstable_isNewReconciler:!1},Bn={readContext:ur,useCallback:function(e,t){return pn().memoizedState=[e,void 0===t?null:t],e},useContext:ur,useEffect:Sn,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Cn(4,2,Pn.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cn(4,2,e,t)},useMemo:function(e,t){var r=pn();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pn();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ln.bind(null,nn,e),[n.memoizedState,e]},useRef:wn,useState:An,useDebugValue:Dn,useDeferredValue:function(e){var t=An(e),r=t[0],n=t[1];return Sn((function(){var t=tn.transition;tn.transition=1;try{n(e)}finally{tn.transition=t}}),[e]),r},useTransition:function(){var e=An(!1),t=e[0];return wn(e=Mn.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=pn();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},_n(n,e,t,r)},useOpaqueIdentifier:function(){if(Qr){var e=!1,t=K((function(){throw e||(e=!0,r(ee())),Error(o(355))})),r=An(t)[1];return 0==(2&nn.mode)&&(nn.flags|=516,bn(5,(function(){r(ee())}),void 0,null)),t}return An(t=ee()),t},unstable_isNewReconciler:!1},Wn={readContext:ur,useCallback:Rn,useContext:ur,useEffect:Tn,useImperativeHandle:kn,useLayoutEffect:xn,useMemo:On,useReducer:gn,useRef:En,useState:function(){return gn(fn)},useDebugValue:Dn,useDeferredValue:function(e){var t=gn(fn),r=t[0],n=t[1];return Tn((function(){var t=tn.transition;tn.transition=1;try{n(e)}finally{tn.transition=t}}),[e]),r},useTransition:function(){var e=gn(fn)[0];return[En().current,e]},useMutableSource:yn,useOpaqueIdentifier:function(){return gn(fn)[0]},unstable_isNewReconciler:!1},Fn={readContext:ur,useCallback:Rn,useContext:ur,useEffect:Tn,useImperativeHandle:kn,useLayoutEffect:xn,useMemo:On,useReducer:vn,useRef:En,useState:function(){return vn(fn)},useDebugValue:Dn,useDeferredValue:function(e){var t=vn(fn),r=t[0],n=t[1];return Tn((function(){var t=tn.transition;tn.transition=1;try{n(e)}finally{tn.transition=t}}),[e]),r},useTransition:function(){var e=vn(fn)[0];return[En().current,e]},useMutableSource:yn,useOpaqueIdentifier:function(){return vn(fn)[0]},unstable_isNewReconciler:!1},Un=s.ReactCurrentOwner,Vn=!1;function jn(e,t,r,n){t.child=null===e?Dr(t,null,r,n):kr(t,e.child,r,n)}function Gn(e,t,r,n,i){r=r.render;var a=t.ref;return cr(t,i),n=dn(e,t,r,n,a,i),null===e||Vn?(t.flags|=1,jn(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ui(e,t,i))}function Hn(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!=typeof o||wo(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Co(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qn(e,t,o,n,i,a))}return o=e.child,0==(i&a)&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:Xt)(i,n)&&e.ref===t.ref)?ui(e,t,a):(t.flags|=1,(e=Eo(o,n)).ref=t.ref,e.return=t,t.child=e)}function Qn(e,t,r,n,i,a){if(null!==e&&Xt(e.memoizedProps,n)&&e.ref===t.ref){if(Vn=!1,0==(a&i))return t.lanes=e.lanes,ui(e,t,a);0!=(16384&e.flags)&&(Vn=!0)}return Yn(e,t,r,n,a)}function $n(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Qa(t,r);else{if(0==(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qa(t,e),null;t.memoizedState={baseLanes:0},Qa(t,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Qa(t,n);return jn(e,t,i,r),t.child}function zn(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Yn(e,t,r,n,i){var a=it(r)?rt:et.current;return a=nt(t,a),cr(t,i),r=dn(e,t,r,n,a,i),null===e||Vn?(t.flags|=1,jn(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ui(e,t,i))}function Zn(e,t,r,n,i){if(it(r)){var a=!0;lt(t)}else a=!1;if(cr(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Er(t,r,n),Ir(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"==typeof c&&null!==c?c=ur(c):c=nt(t,c=it(r)?rt:et.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==n||l!==c)&&Cr(t,o,n,c),dr=!1;var p=t.memoizedState;o.state=p,mr(t,n,o,i),l=t.memoizedState,s!==n||p!==l||tt.current||dr?("function"==typeof u&&(Ar(t,r,u,n),l=t.memoizedState),(s=dr||wr(t,r,s,n,p,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"==typeof o.componentDidMount&&(t.flags|=4),n=!1)}else{o=t.stateNode,hr(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:er(t.type,s),o.props=c,d=t.pendingProps,p=o.context,"object"==typeof(l=r.contextType)&&null!==l?l=ur(l):l=nt(t,l=it(r)?rt:et.current);var h=r.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||p!==l)&&Cr(t,o,n,l),dr=!1,p=t.memoizedState,o.state=p,mr(t,n,o,i);var f=t.memoizedState;s!==d||p!==f||tt.current||dr?("function"==typeof h&&(Ar(t,r,h,n),f=t.memoizedState),(c=dr||wr(t,r,c,n,p,f,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=l,n=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),n=!1)}return qn(e,t,r,n,a,i)}function qn(e,t,r,n,i,a){zn(e,t);var o=0!=(64&t.flags);if(!n&&!o)return i&&ct(t,r,!1),ui(e,t,a);n=t.stateNode,Un.current=t;var s=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=kr(t,e.child,null,a),t.child=kr(t,null,s,a)):jn(e,t,s,a),t.memoizedState=n.state,i&&ct(t,r,!0),t.child}function Jn(e){var t=e.stateNode;t.pendingContext?ot(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ot(0,t.context,!1),Br(e,t.containerInfo)}var Xn,Kn,ei,ti,ri={dehydrated:null,retryLane:0};function ni(e,t,r){var n,i=t.pendingProps,a=Vr.current,o=!1;return(n=0!=(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!=(2&a)),n?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),Xe(Vr,1&a),null===e?(void 0!==i.fallback&&Yr(t),e=i.children,a=i.fallback,o?(e=ii(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ri,e):"number"==typeof i.unstable_expectedLoadTime?(e=ii(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ri,t.lanes=33554432,e):((r=So({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,o?(i=oi(e,t,i.children,i.fallback,r),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=ri,i):(r=ai(e,t,i.children,r),t.memoizedState=null,r))}function ii(e,t,r,n){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=So(t,i,0,null),r=Io(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r}function ai(e,t,r,n){var i=e.child;return e=i.sibling,r=Eo(i,{mode:"visible",children:r}),0==(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function oi(e,t,r,n,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return 0==(2&a)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Eo(o,s),null!==e?n=Eo(e,n):(n=Io(n,a,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function si(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),lr(e.return,t)}function li(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function ci(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(jn(e,t,n.children,r),0!=(2&(n=Vr.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&si(e,r);else if(19===e.tag)si(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xe(Vr,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===jr(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),li(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jr(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}li(t,!0,r,null,a,t.lastEffect);break;case"together":li(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ui(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),ua|=t.lanes,0!=(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Eo(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Eo(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function di(e){e.flags|=4}if(Z)Xn=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)U(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Kn=function(){},ei=function(e,t,r,n,i){if((e=e.memoizedProps)!==n){var a=t.stateNode,o=Nr(Or.current);r=j(a,r,e,n,i,o),(t.updateQueue=r)&&di(t)}},ti=function(e,t,r,n){r!==n&&di(t)};else if(q){Xn=function(e,t,r,n){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;r&&n&&(a=Re(a,i.type,i.memoizedProps,i)),U(e,a)}else if(6===i.tag)a=i.stateNode,r&&n&&(a=Oe(a,i.memoizedProps,i)),U(e,a);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.flags)&&(a=null!==i.memoizedState)){var o=i.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Xn(e,o,!0,a)),null!==(a=o.sibling))){a.return=i,i=a;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var pi=function(e,t,r,n){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;r&&n&&(a=Re(a,i.type,i.memoizedProps,i)),Pe(e,a)}else if(6===i.tag)a=i.stateNode,r&&n&&(a=Oe(a,i.memoizedProps,i)),Pe(e,a);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.flags)&&(a=null!==i.memoizedState)){var o=i.child;if(null!==o&&(null!==o.child&&(o.child.return=o,pi(e,o,!0,a)),null!==(a=o.sibling))){a.return=i,i=a;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Kn=function(e){var t=e.stateNode;if(null!==e.firstEffect){var r=t.containerInfo,n=xe(r);pi(n,e,!1,!1),t.pendingChildren=n,di(e),ke(r,n)}},ei=function(e,t,r,n,i){var a=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===n)t.stateNode=a;else{var s=t.stateNode,l=Nr(Or.current),c=null;o!==n&&(c=j(s,r,o,n,i,l)),e&&null===c?t.stateNode=a:(a=Te(a,c,r,o,n,t,e,s),V(a,r,n,i,l)&&di(t),t.stateNode=a,e?di(t):Xn(a,t,!1,!1))}},ti=function(e,t,r,n){r!==n?(e=Nr(Lr.current),r=Nr(Or.current),t.stateNode=H(n,e,r,t),di(t)):t.stateNode=e.stateNode}}else Kn=function(){},ei=function(){},ti=function(){};function hi(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fi(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return it(t.type)&&at(),null;case 3:return Wr(),Je(tt),Je(et),Kr(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(qr(t)?di(t):n.hydrate||(t.flags|=256)),Kn(t),null;case 5:Ur(t);var i=Nr(Lr.current);if(r=t.type,null!==e&&null!=t.stateNode)ei(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Nr(Or.current),qr(t)){if(!J)throw Error(o(175));e=Ue(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&di(t)}else{var a=F(r,n,i,e,t);Xn(a,t,!1,!1),t.stateNode=a,V(a,r,n,i,e)&&di(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ti(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(o(166));if(e=Nr(Lr.current),i=Nr(Or.current),qr(t)){if(!J)throw Error(o(176));Ve(t.stateNode,t.memoizedProps,t)&&di(t)}else t.stateNode=H(n,e,i,t)}return null;case 13:return Je(Vr),n=t.memoizedState,0!=(64&t.flags)?(t.lanes=r,t):(n=null!==n,i=!1,null===e?void 0!==t.memoizedProps.fallback&&qr(t):i=null!==e.memoizedState,n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Vr.current)?0===sa&&(sa=3):((0===sa||3===sa)&&(sa=4),null===ra||0==(134217727&ua)&&0==(134217727&da)||Va(ra,ia))),q&&n&&(t.flags|=4),Z&&(n||i)&&(t.flags|=4),null);case 4:return Wr(),Kn(t),null===e&&ne(t.stateNode.containerInfo),null;case 10:return sr(t),null;case 17:return it(t.type)&&at(),null;case 19:if(Je(Vr),null===(n=t.memoizedState))return null;if(i=0!=(64&t.flags),null===(a=n.rendering))if(i)hi(n,!1);else{if(0!==sa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=jr(e))){for(t.flags|=64,hi(n,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,e=r,n=t.child;null!==n;)r=e,(i=n).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(a=i.alternate)?(i.childLanes=0,i.lanes=r,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return Xe(Vr,1&Vr.current|2),t.child}e=e.sibling}null!==n.tail&&jt()>ga&&(t.flags|=64,i=!0,hi(n,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=jr(a))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),hi(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate&&!Qr)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*jt()-n.renderingStartTime>ga&&1073741824!==r&&(t.flags|=64,i=!0,hi(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=n.last)?e.sibling=a:t.child=a,n.last=a)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=jt(),e.sibling=null,t=Vr.current,Xe(Vr,i?1&t|2:1&t),e):null;case 23:case 24:return $a(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function gi(e){switch(e.tag){case 1:it(e.type)&&at();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Wr(),Je(tt),Je(et),Kr(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ur(e),null;case 13:return Je(Vr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Je(Vr),null;case 4:return Wr(),null;case 10:return sr(e),null;case 23:case 24:return $a(),null;default:return null}}function vi(e,t){try{var r="",n=t;do{r+=Kt(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function mi(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var _i="function"==typeof WeakMap?WeakMap:Map;function yi(e,t,r){(r=fr(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ya||(ya=!0,Aa=n),mi(0,t)},r}function Ai(e,t,r){(r=fr(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return mi(0,t),n(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===ba?ba=new Set([this]):ba.add(this),mi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var bi="function"==typeof WeakSet?WeakSet:Set;function wi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){co(e,t)}else t.current=null}function Ei(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:er(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(Z&&256&t.flags&&Se(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Ci(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function Ii(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(oo(r,e),ao(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:er(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&_r(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=M(r.child.stateNode);break;case 1:e=r.child.stateNode}_r(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&ge(e,r.type,r.memoizedProps,r));case 6:case 4:case 12:return;case 13:return void(J&&null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&He(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function Si(e,t){if(Z)for(var r=e;;){if(5===r.tag){var n=r.stateNode;t?we(n):Ce(r.stateNode,r.memoizedProps)}else if(6===r.tag)n=r.stateNode,t?Ee(n):Ie(n,r.memoizedProps);else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ti(e,t){if(dt&&"function"==typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ut,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!=(4&n))oo(t,r);else{n=t;try{i()}catch(e){co(n,e)}}r=r.next}while(r!==e)}break;case 1:if(wi(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){co(t,e)}break;case 5:wi(t);break;case 4:Z?Mi(e,t):q&&q&&(t=t.stateNode.containerInfo,e=xe(t),De(t,e))}}function xi(e,t){for(var r=t;;)if(Ti(e,r),null===r.child||Z&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Pi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ki(e){return 5===e.tag||3===e.tag||4===e.tag}function Di(e){if(Z){e:{for(var t=e.return;null!==t;){if(ki(t))break e;t=t.return}throw Error(o(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.flags&&(be(t),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ki(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags||null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?Ri(e,r,t):Oi(e,r,t)}}function Ri(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?_e(r,e,t):he(r,e);else if(4!==n&&null!==(e=e.child))for(Ri(e,t,r),e=e.sibling;null!==e;)Ri(e,t,r),e=e.sibling}function Oi(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?me(r,e,t):pe(r,e);else if(4!==n&&null!==(e=e.child))for(Oi(e,t,r),e=e.sibling;null!==e;)Oi(e,t,r),e=e.sibling}function Mi(e,t){for(var r,n,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)xi(e,i),n?Ae(r,i.stateNode):ye(r,i.stateNode);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(Ti(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Li(e,t){if(Z){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ci(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(r,a,i,e,n,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return r=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:r,r);case 3:return void(J&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ge(t.containerInfo))));case 12:return;case 13:return Ni(t),void Bi(t);case 19:return void Bi(t);case 17:return;case 23:case 24:return void Si(t,null!==t.memoizedState)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ci(3,t);case 12:return;case 13:return Ni(t),void Bi(t);case 19:return void Bi(t);case 3:J&&((r=t.stateNode).hydrate&&(r.hydrate=!1,Ge(r.containerInfo)));break;case 23:case 24:return}e:if(q){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,De(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ni(e){null!==e.memoizedState&&(fa=jt(),Z&&Si(e.child,!0))}function Bi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new bi),t.forEach((function(t){var n=po.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Wi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Fi=0,Ui=1,Vi=2,ji=3,Gi=4;if("function"==typeof Symbol&&Symbol.for){var Hi=Symbol.for;Fi=Hi("selector.component"),Ui=Hi("selector.has_pseudo_class"),Vi=Hi("selector.role"),ji=Hi("selector.test_id"),Gi=Hi("selector.text")}function Qi(e){var t=X(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ae(e)))throw Error(o(362));return e.stateNode.current}function $i(e,t){switch(t.$$typeof){case Fi:if(e.type===t.value)return!0;break;case Ui:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],i=e[r++],a=t[i];if(5!==n.tag||!le(n)){for(;null!=a&&$i(n,a);)a=t[++i];if(i===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,i),n=n.sibling}}t=!1}return t;case Vi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Gi:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case ji:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365,t))}return!1}function zi(e){switch(e.$$typeof){case Fi:return"<"+(T(e.value)||"Unknown")+">";case Ui:return":has("+(zi(e)||"")+")";case Vi:return'[role="'+e.value+'"]';case Gi:return'"'+e.value+'"';case ji:return'[data-testname="'+e.value+'"]';default:throw Error(o(365,e))}}function Yi(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var i=e[n++],a=e[n++],o=t[a];if(5!==i.tag||!le(i)){for(;null!=o&&$i(i,o);)o=t[++a];if(a===t.length)r.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return r}function Zi(e,t){if(!ie)throw Error(o(363));e=Yi(e=Qi(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)le(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var qi=null;var Ji=Math.ceil,Xi=s.ReactCurrentDispatcher,Ki=s.ReactCurrentOwner,ea=s.IsSomeRendererActing,ta=0,ra=null,na=null,ia=0,aa=0,oa=qe(0),sa=0,la=null,ca=0,ua=0,da=0,pa=0,ha=null,fa=0,ga=1/0;function va(){ga=jt()+500}var ma,_a=null,ya=!1,Aa=null,ba=null,wa=!1,Ea=null,Ca=90,Ia=[],Sa=[],Ta=null,xa=0,Pa=null,ka=-1,Da=0,Ra=0,Oa=null,Ma=!1;function La(){return 0!=(48&ta)?jt():-1!==ka?ka:ka=jt()}function Na(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Gt()?1:2;if(0===Da&&(Da=ca),0!==Zt.transition){0!==Ra&&(Ra=null!==ha?ha.pendingLanes:0),e=Da;var t=4186112&~Ra;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gt(),0!=(4&ta)&&98===e?e=mt(12,Da):e=mt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Da),e}function Ba(e,t,r){if(50<xa)throw xa=0,Pa=null,Error(o(185));if(null===(e=Wa(e,t)))return null;At(e,t,r),e===ra&&(da|=t,4===sa&&Va(e,ia));var n=Gt();1===t?0!=(8&ta)&&0==(48&ta)?ja(e):(Fa(e,r),0===ta&&(va(),zt())):(0==(4&ta)||98!==n&&99!==n||(null===Ta?Ta=new Set([e]):Ta.add(e)),Fa(e,r)),ha=e}function Wa(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function Fa(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-bt(s),c=1<<l,u=a[l];if(-1===u){if(0==(c&n)||0!=(c&i)){u=t,ft(c);var d=ht;a[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(n=gt(e,e===ra?ia:0),t=ht,0===n)null!==r&&(r!==Nt&&St(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Nt&&St(r)}15===t?(r=ja.bind(null,e),null===Wt?(Wt=[r],Ft=It(Dt,Yt)):Wt.push(r),r=Nt):14===t?r=$t(99,ja.bind(null,e)):r=$t(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),Ua.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function Ua(e){if(ka=-1,Ra=Da=0,0!=(48&ta))throw Error(o(327));var t=e.callbackNode;if(io()&&e.callbackNode!==t)return null;var r=gt(e,e===ra?ia:0);if(0===r)return null;var n=r,i=ta;ta|=16;var a=Za();for((ra!==e||ia!==n)&&(va(),za(e,n));;)try{Xa();break}catch(t){Ya(e,t)}if(ar(),Xi.current=a,ta=i,null!==na?n=0:(ra=null,ia=0,n=sa),0!=(ca&da))za(e,0);else if(0!==n){if(2===n&&(ta|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(r=vt(e))&&(n=qa(e,r))),1===n)throw t=la,za(e,0),Va(e,r),Fa(e,jt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:to(e);break;case 3:if(Va(e,r),(62914560&r)===r&&10<(n=fa+500-jt())){if(0!==gt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){La(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Q(to.bind(null,e),n);break}to(e);break;case 4:if(Va(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-bt(r);a=1<<s,(s=n[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ji(r/1960))-r)){e.timeoutHandle=Q(to.bind(null,e),r);break}to(e);break;case 5:to(e);break;default:throw Error(o(329))}}return Fa(e,jt()),e.callbackNode===t?Ua.bind(null,e):null}function Va(e,t){for(t&=~pa,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),n=1<<r;e[r]=-1,t&=~n}}function ja(e){if(0!=(48&ta))throw Error(o(327));if(io(),e===ra&&0!=(e.expiredLanes&ia)){var t=ia,r=qa(e,t);0!=(ca&da)&&(r=qa(e,t=gt(e,t)))}else r=qa(e,t=gt(e,0));if(0!==e.tag&&2===r&&(ta|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(t=vt(e))&&(r=qa(e,t))),1===r)throw r=la,za(e,0),Va(e,t),Fa(e,jt()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e),Fa(e,jt()),null}function Ga(e,t){var r=ta;ta|=1;try{return e(t)}finally{0===(ta=r)&&(va(),zt())}}function Ha(e,t){var r=ta;if(0!=(48&r))return e(t);ta|=1;try{if(e)return Qt(99,e.bind(null,t))}finally{ta=r,zt()}}function Qa(e,t){Xe(oa,aa),aa|=t,ca|=t}function $a(){aa=oa.current,Je(oa)}function za(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==z&&(e.timeoutHandle=z,$(r)),null!==na)for(r=na.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&at();break;case 3:Wr(),Je(tt),Je(et),Kr();break;case 5:Ur(n);break;case 4:Wr();break;case 13:case 19:Je(Vr);break;case 10:sr(n);break;case 23:case 24:$a()}r=r.return}ra=e,na=Eo(e.current,null),ia=aa=ca=t,sa=0,la=null,pa=da=ua=0}function Ya(e,t){for(;;){var r=na;try{if(ar(),en.current=Nn,sn){for(var n=nn.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}sn=!1}if(rn=0,on=an=nn=null,ln=!1,Ki.current=null,null===r||null===r.return){sa=1,la=t,na=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=ia,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Vr.current),p=o;do{var h;if(h=13===p.tag){var f=p.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var g=p.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var v=p.updateQueue;if(null===v){var m=new Set;m.add(c),p.updateQueue=m}else v.add(c);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var _=fr(-1,1);_.tag=2,gr(s,_)}s.lanes|=1;break e}l=void 0,s=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new _i,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(s)){l.add(s);var A=uo.bind(null,a,c,s);c.then(A,A)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((T(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sa&&(sa=2),l=vi(l,s),p=o;do{switch(p.tag){case 3:a=l,p.flags|=4096,t&=-t,p.lanes|=t,vr(p,yi(0,a,t));break e;case 1:a=l;var b=p.type,w=p.stateNode;if(0==(64&p.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===ba||!ba.has(w)))){p.flags|=4096,t&=-t,p.lanes|=t,vr(p,Ai(p,a,t));break e}}p=p.return}while(null!==p)}eo(r)}catch(e){t=e,na===r&&null!==r&&(na=r=r.return);continue}break}}function Za(){var e=Xi.current;return Xi.current=Nn,null===e?Nn:e}function qa(e,t){var r=ta;ta|=16;var n=Za();for(ra===e&&ia===t||za(e,t);;)try{Ja();break}catch(t){Ya(e,t)}if(ar(),ta=r,Xi.current=n,null!==na)throw Error(o(261));return ra=null,ia=0,sa}function Ja(){for(;null!==na;)Ka(na)}function Xa(){for(;null!==na&&!Tt();)Ka(na)}function Ka(e){var t=ma(e.alternate,e,aa);e.memoizedProps=e.pendingProps,null===t?eo(e):na=t,Ki.current=null}function eo(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(r=fi(r,t,aa)))return void(na=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!=(1073741824&aa)||0==(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=gi(t)))return r.flags&=2047,void(na=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(na=t);na=t=e}while(null!==t);0===sa&&(sa=5)}function to(e){var t=Gt();return Qt(99,ro.bind(null,e,t)),null}function ro(e,t){do{io()}while(null!==Ea);if(0!=(48&ta))throw Error(o(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-bt(a),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,a&=~u}if(null!==Ta&&0==(24&n)&&Ta.has(e)&&Ta.delete(e),e===ra&&(na=ra=null,ia=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){i=ta,ta|=32,Ki.current=null,Oa=B(e.containerInfo),Ma=!1,_a=n;do{try{no()}catch(e){if(null===_a)throw Error(o(330));co(_a,e),_a=_a.nextEffect}}while(null!==_a);Oa=null,_a=n;do{try{for(s=e;null!==_a;){var d=_a.flags;if(16&d&&Z&&be(_a.stateNode),128&d){var p=_a.alternate;if(null!==p){var h=p.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&d){case 2:Di(_a),_a.flags&=-3;break;case 6:Di(_a),_a.flags&=-3,Li(_a.alternate,_a);break;case 1024:_a.flags&=-1025;break;case 1028:_a.flags&=-1025,Li(_a.alternate,_a);break;case 4:Li(_a.alternate,_a);break;case 8:l=s,a=_a,Z?Mi(l,a):xi(l,a);var f=a.alternate;Pi(a),null!==f&&Pi(f)}_a=_a.nextEffect}}catch(e){if(null===_a)throw Error(o(330));co(_a,e),_a=_a.nextEffect}}while(null!==_a);Ma&&re(),W(e.containerInfo),e.current=r,_a=n;do{try{for(d=e;null!==_a;){var g=_a.flags;if(36&g&&Ii(d,_a.alternate,_a),128&g){p=void 0;var v=_a.ref;if(null!==v){var m=_a.stateNode;switch(_a.tag){case 5:p=M(m);break;default:p=m}"function"==typeof v?v(p):v.current=p}}_a=_a.nextEffect}}catch(e){if(null===_a)throw Error(o(330));co(_a,e),_a=_a.nextEffect}}while(null!==_a);_a=null,Bt(),ta=i}else e.current=r;if(wa)wa=!1,Ea=e,Ca=t;else for(_a=n;null!==_a;)t=_a.nextEffect,_a.nextEffect=null,8&_a.flags&&((g=_a).sibling=null,g.stateNode=null),_a=t;if(0===(n=e.pendingLanes)&&(ba=null),1===n?e===Pa?xa++:(xa=0,Pa=e):xa=0,r=r.stateNode,dt&&"function"==typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ut,r,void 0,64==(64&r.current.flags))}catch(e){}if(Fa(e,jt()),ya)throw ya=!1,e=Aa,Aa=null,e;return 0!=(8&ta)||zt(),null}function no(){for(;null!==_a;){var e=_a.alternate;Ma||null===Oa||(0!=(8&_a.flags)?R(_a,Oa)&&(Ma=!0,te()):13===_a.tag&&Wi(e,_a)&&R(_a,Oa)&&(Ma=!0,te()));var t=_a.flags;0!=(256&t)&&Ei(e,_a),0==(512&t)||wa||(wa=!0,$t(97,(function(){return io(),null}))),_a=_a.nextEffect}}function io(){if(90!==Ca){var e=97<Ca?97:Ca;return Ca=90,Qt(e,so)}return!1}function ao(e,t){Ia.push(t,e),wa||(wa=!0,$t(97,(function(){return io(),null})))}function oo(e,t){Sa.push(t,e),wa||(wa=!0,$t(97,(function(){return io(),null})))}function so(){if(null===Ea)return!1;var e=Ea;if(Ea=null,0!=(48&ta))throw Error(o(331));var t=ta;ta|=32;var r=Sa;Sa=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(o(330));co(a,e)}}for(r=Ia,Ia=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===a)throw Error(o(330));co(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ta=t,zt(),!0}function lo(e,t,r){gr(e,t=yi(0,t=vi(r,t),1)),t=La(),null!==(e=Wa(e,1))&&(At(e,1,t),Fa(e,t))}function co(e,t){if(3===e.tag)lo(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){lo(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===ba||!ba.has(n))){var i=Ai(r,e=vi(t,e),1);if(gr(r,i),i=La(),null!==(r=Wa(r,1)))At(r,1,i),Fa(r,i);else if("function"==typeof n.componentDidCatch&&(null===ba||!ba.has(n)))try{n.componentDidCatch(t,e)}catch(e){}break}}r=r.return}}function uo(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=La(),e.pingedLanes|=e.suspendedLanes&r,ra===e&&(ia&r)===r&&(4===sa||3===sa&&(62914560&ia)===ia&&500>jt()-fa?za(e,0):pa|=r),Fa(e,t)}function po(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Gt()?1:2:(0===Da&&(Da=ca),0===(t=_t(62914560&~Da))&&(t=4194304))),r=La(),null!==(e=Wa(e,t))&&(At(e,t,r),Fa(e,r))}ma=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||tt.current)Vn=!0;else{if(0==(r&n)){switch(Vn=!1,t.tag){case 3:Jn(t),Jr();break;case 5:Fr(t);break;case 1:it(t.type)&&lt(t);break;case 4:Br(t,t.stateNode.containerInfo);break;case 10:or(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(r&t.child.childLanes)?ni(e,t,r):(Xe(Vr,1&Vr.current),null!==(t=ui(e,t,r))?t.sibling:null);Xe(Vr,1&Vr.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(64&e.flags)){if(n)return ci(e,t,r);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(Vr,Vr.current),n)break;return null;case 23:case 24:return t.lanes=0,$n(e,t,r)}return ui(e,t,r)}Vn=0!=(16384&e.flags)}else Vn=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=nt(t,et.current),cr(t,r),i=dn(null,t,n,e,i,r),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)){var a=!0;lt(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pr(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&Ar(t,n,s,e),i.updater=br,t.stateNode=i,i._reactInternals=t,Ir(t,n,e,r),t=qn(null,t,n,!0,a,r)}else t.tag=0,jn(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return wo(e)?1:0;if(null!=e){if((e=e.$$typeof)===g)return 11;if(e===_)return 14}return 2}(i),e=er(i,e),a){case 0:t=Yn(null,t,i,e,r);break e;case 1:t=Zn(null,t,i,e,r);break e;case 11:t=Gn(null,t,i,e,r);break e;case 14:t=Hn(null,t,i,er(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Yn(e,t,n,i=t.elementType===n?i:er(n,i),r);case 1:return n=t.type,i=t.pendingProps,Zn(e,t,n,i=t.elementType===n?i:er(n,i),r);case 3:if(Jn(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,hr(e,t),mr(t,n,null,r),(n=t.memoizedState.element)===i)Jr(),t=ui(e,t,r);else{if((a=(i=t.stateNode).hydrate)&&(J?(Hr=Fe(t.stateNode.containerInfo),Gr=t,a=Qr=!0):a=!1),a){if(J&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)a=e[i],s=e[i+1],Y?a._workInProgressVersionPrimary=s:a._workInProgressVersionSecondary=s,Xr.push(a);for(r=Dr(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else jn(e,t,n,r),Jr();t=t.child}return t;case 5:return Fr(t),null===e&&Yr(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,G(n,i)?s=null:null!==a&&G(n,a)&&(t.flags|=16),zn(e,t),jn(e,t,s,r),t.child;case 6:return null===e&&Yr(t),null;case 13:return ni(e,t,r);case 4:return Br(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=kr(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Gn(e,t,n,i=t.elementType===n?i:er(n,i),r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,or(t,a=i.value),null!==s){var l=s.value;if(0===(a=qt(l,a)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!tt.current){t=ui(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&a)){1===l.tag&&((u=fr(-1,r&-r)).tag=2,gr(l,u)),l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),lr(l.return,r),c.lanes|=r;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}jn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,cr(t,r),n=n(i=ur(i,a.unstable_observedBits)),t.flags|=1,jn(e,t,n,r),t.child;case 14:return a=er(i=t.type,t.pendingProps),Hn(e,t,i,a=er(i.type,a),n,r);case 15:return Qn(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:er(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,it(n)?(e=!0,lt(t)):e=!1,cr(t,r),Er(t,n,i),Ir(t,n,i,r),qn(null,t,n,!0,e,r);case 19:return ci(e,t,r);case 23:case 24:return $n(e,t,r)}throw Error(o(156,t.tag))};var ho={current:!1},fo=a.unstable_flushAllWithoutAsserting,go="function"==typeof fo;function vo(){if(void 0!==fo)return fo();for(var e=!1;io();)e=!0;return e}function mo(e){try{vo(),function(e){if(null===qi)try{var r=("require"+Math.random()).slice(0,7);qi=(t&&t[r]).call(t,"timers").setImmediate}catch(e){qi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}qi(e)}((function(){vo()?mo(e):e()}))}catch(t){e(t)}}var _o=0,yo=!1;function Ao(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bo(e,t,r,n){return new Ao(e,t,r,n)}function wo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Eo(e,t){var r=e.alternate;return null===r?((r=bo(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Co(e,t,r,n,i,a){var s=2;if(n=e,"function"==typeof e)wo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return Io(r.children,i,a,t);case b:s=8,i|=16;break;case d:s=8,i|=1;break;case p:return(e=bo(12,r,t,8|i)).elementType=p,e.type=p,e.lanes=a,e;case v:return(e=bo(13,r,t,i)).type=v,e.elementType=v,e.lanes=a,e;case m:return(e=bo(19,r,t,i)).elementType=m,e.lanes=a,e;case w:return So(r,i,a,t);case E:return(e=bo(24,r,t,i)).elementType=E,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case f:s=9;break e;case g:s=11;break e;case _:s=14;break e;case y:s=16,n=null;break e;case A:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=bo(s,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Io(e,t,r,n){return(e=bo(7,e,n,t)).lanes=r,e}function So(e,t,r,n){return(e=bo(23,e,n,t)).elementType=w,e.lanes=r,e}function To(e,t,r){return(e=bo(6,e,null,t)).lanes=r,e}function xo(e,t,r){return(t=bo(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Po(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=z,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),J&&(this.mutableSourceEagerHydrationData=null)}function ko(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(o(188)):Error(o(268,Object.keys(e)));return null===(e=D(t))?null:e.stateNode}function Do(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Ro(e,t){Do(e,t),(e=e.alternate)&&Do(e,t)}function Oo(e){return null===(e=D(e))?null:e.stateNode}function Mo(){return null}return r.IsThisRendererActing=ho,r.act=function(e){function t(){_o--,ea.current=r,ho.current=n}!1===yo&&(yo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_o++;var r=ea.current,n=ho.current;ea.current=!0,ho.current=!0;try{var i=Ga(e)}catch(e){throw t(),e}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(e,n){i.then((function(){1<_o||!0===go&&!0===r?(t(),e()):mo((function(r){t(),r?n(r):e()}))}),(function(e){t(),n(e)}))}};try{1!==_o||!1!==go&&!1!==r||vo(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Ba(e,67108864,La()),Ro(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=La(),r=Na(e);Ba(e,r,t),Ro(e,r)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var r=ft(t.pendingLanes);t.expiredLanes|=r&t.pendingLanes,Fa(t,jt()),0==(48&ta)&&(va(),zt())}break;case 13:var n=La();Ha((function(){return Ba(e,1,n)})),Ro(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Ba(e,4,La()),Ro(e,4))},r.batchedEventUpdates=function(e,t){var r=ta;ta|=2;try{return e(t)}finally{0===(ta=r)&&(va(),zt())}},r.batchedUpdates=Ga,r.createComponentSelector=function(e){return{$$typeof:Fi,value:e}},r.createContainer=function(e,t,r){return e=new Po(e,t,r),t=bo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pr(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Ui,value:e}},r.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},r.createRoleSelector=function(e){return{$$typeof:Vi,value:e}},r.createTestNameSelector=function(e){return{$$typeof:ji,value:e}},r.createTextSelector=function(e){return{$$typeof:Gi,value:e}},r.deferredUpdates=function(e){return Qt(97,e)},r.discreteUpdates=function(e,t,r,n,i){var a=ta;ta|=4;try{return Qt(98,e.bind(null,t,r,n,i))}finally{0===(ta=a)&&(va(),zt())}},r.findAllNodes=Zi,r.findBoundingRects=function(e,t){if(!ie)throw Error(o(363));t=Zi(e,t),e=[];for(var r=0;r<t.length;r++)e.push(oe(t[r]));for(t=e.length-1;0<t;t--)for(var n=(r=e[t]).x,i=n+r.width,a=r.y,s=a+r.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,p=c.y,h=p+c.height;if(n>=u&&a>=p&&i<=d&&s<=h){e.splice(t,1);break}if(!(n!==u||r.width!==c.width||h<a||p>s)){p>a&&(c.height+=p-a,c.y=a),h<s&&(c.height=s-p),e.splice(t,1);break}if(!(a!==p||r.height!==c.height||d<n||u>i)){u>n&&(c.width+=u-n,c.x=n),d<i&&(c.width=i-u),e.splice(t,1);break}}return e},r.findHostInstance=ko,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=k(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return ko(e)},r.flushControlled=function(e){var t=ta;ta|=1;try{Qt(99,e)}finally{0===(ta=t)&&(va(),zt())}},r.flushDiscreteUpdates=function(){0==(49&ta)&&(function(){if(null!==Ta){var e=Ta;Ta=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Fa(e,jt())}))}zt()}(),io())},r.flushPassiveEffects=io,r.flushSync=Ha,r.focusWithin=function(e,t){if(!ie)throw Error(o(363));for(t=Yi(e=Qi(e),t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!le(r)){if(5===r.tag&&ue(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return pt},r.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(o(363));var r=0,n=[];e=[Qi(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!le(a))&&($i(a,l)&&(n.push(zi(l)),++s>r&&(r=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(zi(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return M(e.child.stateNode);default:return e.child.stateNode}},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Oo,findFiberByHostInstance:e.findFiberByHostInstance||Mo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ut=t.inject(e),dt=t}catch(e){}e=!0}return e},r.observeVisibleRects=function(e,t,r,n){if(!ie)throw Error(o(363));e=Zi(e,t);var i=de(e,r,n).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},r.runWithPriority=function(e,t){var r=pt;try{return pt=e,t()}finally{pt=r}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var r=ta;ta&=-2,ta|=8;try{return e(t)}finally{0===(ta=r)&&(va(),zt())}},r.updateContainer=function(e,t,r,n){var i=t.current,a=La(),s=Na(i);e:if(r){t:{if(x(r=r._reactInternals)!==r||1!==r.tag)throw Error(o(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(it(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===r.tag){var c=r.type;if(it(c)){r=st(r,c,l);break e}}r=l}else r=Ke;return null===t.context?t.context=r:t.pendingContext=r,(t=fr(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),gr(i,t),Ba(i,s,a),s},r}})),mT=sT(((e,t)=>{t.exports=vT()})),_T=lT(hT()),yT=lT(mT()),AT=/([+-]?\d+(?:\.\d+)?)apx/g,bT=/^\s*#[0-9a-fA-F]{3}\s*$/,wT=/^\s*#[0-9a-fA-F]{3,6}\s*$/,ET=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,CT=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,IT=/px$/,ST=(e,t)=>!1===t||"number"==typeof e?e:IT.test(e)?Number(e.replace(IT,""))||0:(e=>Number(e).toString()===e)(e)?parseInt(e,10):e,TT=e=>{if("string"==typeof e&&bT.test(e)){let[t,r,n]=e.slice(1);return`#${t}${t}${r}${r}${n}${n}`}return e},xT=(e={},{removePx:t,splitShorthand:r=!1,convertRgbaColor:n=!1,convertDisplayName:i=!1,convertRotate:a=!0}={})=>{let o={};for(let s of Object.keys(e)){let l=e[s];if(r&&["padding","margin"].includes(s)){let e=Array.isArray(l)?l:(null==l?"":l).toString().split(/\s+/),r=null,n=null,i=null,a=null;switch(e.length){case 0:continue;case 1:[r]=e,[n]=e,[i]=e,[a]=e;break;case 2:[r,n]=e,[i,a]=e;break;case 3:[r,n,i]=e,a=n;break;case 4:[r,a,i,n]=e;break;default:continue}Object.assign(o,{[`${s}Top`]:ST(r,t),[`${s}Left`]:ST(n,t),[`${s}Bottom`]:ST(i,t),[`${s}Right`]:ST(a,t)})}else if(r&&"border"===s){let e=(l||"").toString().split(/\s+/);switch(e.length){case 0:continue;case 1:o.borderColor=TT(e[0]);continue;case 2:o.borderWidth=ST(e[0],t),o.borderColor=TT(e[1]);continue;case 3:o.borderWidth=ST(e[0],t),o.borderColor=TT(e[2]);continue;default:continue}}else if(r&&"background"===s&&wT.test(e[s]))o.backgroundColor=TT(e[s]);else if(r&&"background"===s&&(ET.test(e[s])||CT.test(e[s])))o.backgroundColor=e[s];else if(r&&"background"===s&&e[s].includes("linear-gradient"))o.backgroundColor=e[s];else if(n&&"color"===s&&"string"==typeof l&&CT.test(l)){let[t,r,n,i]=CT.exec(l).slice(1,5).map((e=>Number(e))),a=e=>e.toString(16);o.color=`#${a(t)}${a(r)}${a(n)}`,null==e.opacity&&(o.opacity=Number(i))}else if(i&&"display"===s)o.hidden="none"===e[s];else if(a&&"rotate"===s){let t=e[s];o.rotate="string"==typeof t?Number(t.replace("deg",""))||0:t}else o[s]=TT(ST(e[s],t))}return o},PT=e=>(null==e?void 0:e.dataset)?["templateId","id","preventMask"].reduce(((t,r)=>(e.dataset[r]&&(t[r]=e.dataset[r]),t)),{}):{templateId:"",id:"",preventMask:!1},kT={type:"EOF"},DT=e=>{let t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",kT),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{let e=0,t=0;for(let r=0,n=this.token.length;r<n;r++){let n=this.token[r];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(kT)}},r=0,n=e.length;for(;r<n;){let n=e[r];r+=1,t.push(n)}return t.end(),t.tokens},RT=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,OT=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),MT=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),LT=e=>{let t;t="string"==typeof e?DT(e):e;let r=[RT({type:"ROOT"})],n=e=>{let t=e.priority;for(;OT(r[r.length-1])&&MT(r[r.length-2])&&t<=r[r.length-1].priority&&t<=r[r.length-2].priority;){let{children:e}=r[r.length-2];null==e||e.push(r.pop())}},i=e=>{let t=RT(e),i=r[r.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(OT(i))return;MT(i)?i.children.push(t):r.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?OT(i)&&(t.priority>i.priority?((e,t)=>{let n=t.children.pop();n&&e.children.push(n),r.push(e)})(t,i):(n(t),(e=>{let t=r.pop();t&&e.children.push(t),r.push(e)})(t))):"ROOT_END"===t.type&&(n(t),r.push(t))};for(let e=0,r=t.length;e<r;e++)i(t[e]);return r},NT=({type:e,children:t,operator:r},n,i={})=>{let a=e=>NT(t[e],n,i);if("COMPARE"===e){let e=r&&{">":()=>a(0)>a(1),"<":()=>a(0)<a(1),">=":()=>a(0)>=a(1),"<=":()=>a(0)<=a(1),"==":()=>a(0)==a(1),"!=":()=>a(0)!=a(1),"===":()=>a(0)===a(1)}[r];return e?e():null}if("LOGIC"===e){let e=r&&{"&&":()=>a(0)&&a(1),"||":()=>a(0)||a(1)}[r];return e?e():null}let o={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{let r=e.split("."),n="";return r.forEach((e=>{""===n?n=t[e]:("string"==typeof n&&(n=JSON.parse(n)),n=n[e])})),n})(t[0],n),QUESTION:()=>a(0)?a(1):a(2),TPLFUNC:()=>((e,t,r)=>{let n=e.indexOf("("),i=e.substring(0,n),a=e.substring(n+1,e.length-1);if(!r[i])return null;let o=DT(a),s=[],l=[];for(let e=0,t=o.length;e<t;e++){let t=o[e];"COMMA"===t.type||"EOF"===t.type?(s.push(l),l=[]):l.push(t)}let c=[];return s.forEach((e=>{c.push(BT(e,t,r))})),r[i].apply(null,c)})(t[0],n,i)}[e]||null;return o?o():null},BT=(e,t,r)=>{try{let n=LT(e);return NT(n[1],t,oT(oT({},(e=>({"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,r)=>e.substring(t,r),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,r)=>e.replace(t,r),"#replaceAll":(e,t,r)=>e.replaceAll(t,r),"#toLowerCase":e=>e.toLowerCase(),"#len":e=>e.length,"#hansLen":e=>{let t=0;for(let r of e)t+=/[\u4e00-\u9fa5]/.test(r)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{let r="",n=0;for(let i of e){if(n+=/[\u4e00-\u9fa5]/.test(i)?2:1,n>t){r+="...";break}r+=i}return r},"#concat":(...e)=>e.join(""),"#split":(e,t,r)=>null==e?void 0:e.split(t,r),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{let t=e.toString().split(".");if(t.length<2)return e;let r=t.slice(-1)[0];for(;"0"===r[r.length-1];)r=r.slice(0,-1);return t.slice(0,-1).concat(r?[r]:[]).join(".")},"#append":(e,t,r=!1)=>(r&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];let t=[];for(let r=0;r<e;r+=1)t.push(r);return t},"#get":px,"#slice":(e,t,r)=>e.slice(t,r),"#map":(t,r)=>t.map((t=>e.run(r,{$item:t}))),"#reduce":(t,r,n)=>t.reduce(((t,n)=>e.run(r,{$item1:t,$item2:n})),n)}))({run:(e,n={})=>BT(e,oT(oT({},t),n),r)})),r))}catch(e){}return null},WT=class extends ee{},FT=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),UT=e=>e&&"object"==typeof e&&!Array.isArray(e);function VT(e,...t){if(!t.length)return e;let r=t.shift();if(UT(e)&&UT(r))for(let t of Object.keys(r))UT(r[t])?(e[t]||Object.assign(e,{[t]:{}}),VT(e[t],r[t])):Object.assign(e,{[t]:r[t]});return VT(e,...t)}var jT,GT,HT,QT,$T,zT,YT,ZT,qT,JT,XT,KT,ex,tx,rx,nx,ix,ax,ox,sx,lx,cx,ux,dx,px=(e,t,r)=>{let n="string"==typeof t?t.split("."):t,i=e,a=0;for(;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},hx=(e,t)=>{for(let{path:r,value:n,condition:i=!0}of t){if(!i)continue;let t=n||(r?px(e,r):"");if(t)return t}return null},fx=e=>e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),gx=lT(hT()),vx=lT(hT()),mx=lT(hT());(GT=jT||(jT={})).HIDEAD="hideAd",GT.SETSTYLE="setStyle",GT.REPORTIDKEY="reportIdKey",GT.TRIGGEREVENT="triggerEvent",GT.SETEXPRVARS="setExprVar",GT.BATCHSETEXPRVARS="batchSetExprVar",GT.VIDEOTOGGLEMUTED="videoToggleMuted",GT.VIDEOPLAY="videoPlay",GT.VIDEOPAUSE="videoPause",GT.VIDEOSTOP="videoStop",GT.BUTTONSETTEXT="buttonSetText",GT.RELOADAD="reloadAd",GT.REPORTMMDATA="reportMMData",GT.ENDPAGEHIDE="endPageHide",GT.IMAGESETSRC="imageSetSrc",GT.TEXTSETTEXT="textSetText",GT.ANIMATE="animate",GT.TRIGGERBTNCLICK="triggerBtnClick",GT.CHANGEMULTISHOW="changeMultiShow",GT.LANDAD="landAd",GT.EMITCUSTOMMESSAGE="emitCustomMessage",GT.SPLASHSKIPAD="splashSkipAd",GT.ADDCHILDREN="addChildren",GT.REPORTADMONITORDATA="reportAdMonitorData",GT.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",GT.REPORTENDPAGE="reportEndPage",GT.SHOWANIMATEDONE="showAnimateDone",GT.HIDEANIMATEDONE="hideAnimateDone",GT.FORCEREBUILD="forceRebuild",function(e){e.TAP="tap",e.ANIMATIONEND="animationend",e.HOSTMESSAGE="hostMessage"}(HT||(HT={})),function(e){e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SHOWANIMATE="showAnimate",e.HIDEANIMATE="hideAnimate",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView",e.INITIALTEMPLATE="initialTemplate",e.TEMPLATEWILLUPDATE="templateWillUpdate"}(QT||(QT={})),function(e){e.BUTTONTAP="buttonTap"}($T||($T={})),function(e){e.RELATIONFETCHED="relationFetched"}(zT||(zT={})),function(e){e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData"}(YT||(YT={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap"}(ZT||(ZT={})),function(e){e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike"}(qT||(qT={})),function(e){e.SHOWCHANGE="showChange",e.UNITTAP="unitTap"}(JT||(JT={})),function(e){e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone"}(XT||(XT={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",e.SHOWFEEDBACK="showFeedback",e.CONTAINERTAP="containerTap",e.CHECKEXPOSURE="checkExposure",e.APPENTERBACKGROUND="appEnterBackground",e.APPENTERFOREGROUND="appEnterForeground",e.BTNTAP="btnTap",e.REPORTVIDEOPLAY="reportVideoPlay",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.ADVIDEOMUTECHANGE="adVideoMuteChange",e.ADVIDEOLOADFAILED="adVideoLoadFailed",e.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",e.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",e.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",e.ADVIDEOENDED="adVideoEnded",e.FETCHRELATIONTEXT="fetchRelationText",e.ENDPAGEINIT="endPageInit",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.FEEDBACKHIDE="feedbackHide",e.TRIGGEREVENT="triggerEvent",e.LANDAD="landAd",e.CHANGEMULTISHOW="changeMultiShow",e.REPORTMMDATA="reportMMData",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",e.TEMPLATEMESSAGE="templateMessage",e.REPORTIDKEY="reportIdKey",e.CHANGEADBTNTEXT="changedAdBtnText",e.CHANGERELATIONTEXT="changeRelationText",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.SETSTYLE="setStyle",e.SETDARKMODE="setDarkMode",e.OPERATEADVIDEO="operateAdVideo",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.EXPOSURE="exposure",e.VIEWABLEEXPOSURE="viewableExposure",e.HOSTMESSAGE="hostMessage"}(KT||(KT={})),function(e){e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN"}(ex||(ex={})),function(e){e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION"}(tx||(tx={})),function(e){e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD"}(rx||(rx={})),function(e){e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION"}(nx||(nx={})),function(e){e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON"}(ix||(ix={})),function(e){e[e.COMMON=1]="COMMON",e[e.AD=2]="AD"}(ax||(ax={})),function(e){e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE",e[e.SINGLETAG=3]="SINGLETAG"}(ox||(ox={})),function(e){e[e.COMMON=1]="COMMON"}(sx||(sx={})),function(e){e[e.COMMON=1]="COMMON"}(lx||(lx={})),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS"}(cx||(cx={})),function(e){e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP"}(ux||(ux={})),function(e){e.BASE="base",e.COMPONENT="component",e.HOC="hoc"}(dx||(dx={}));var _x,yx,Ax,bx,wx,Ex,Cx,Ix,Sx,Tx,xx,Px,kx,Dx,Rx,Ox,Mx,Lx,Nx,Bx,Wx,Fx,Ux,Vx=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"];!function(e){e.INNERSTYLE="innerStyle",e.STYLE="style"}(_x||(_x={})),function(e){e[e.kUnknown=0]="kUnknown",e[e.kVideo=1]="kVideo",e[e.kArticle=2]="kArticle"}(yx||(yx={})),function(e){e[e.EXPOSE=1]="EXPOSE",e[e.CLICK=2]="CLICK"}(Ax||(Ax={})),function(e){e[e.kDeviceUnknow=0]="kDeviceUnknow",e[e.kDeviceAndroid=1]="kDeviceAndroid",e[e.kDeviceIphone=2]="kDeviceIphone",e[e.kDeviceIpad=3]="kDeviceIpad",e[e.kDeviceTv=4]="kDeviceTv"}(bx||(bx={})),function(e){e[e.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",e[e.AppServiceType_GAME=2]="AppServiceType_GAME"}(wx||(wx={})),function(e){e[e.AllOS=0]="AllOS",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e[e.Winphone=3]="Winphone",e[e.JAVA=4]="JAVA",e[e.OS_UNKNOWN=5]="OS_UNKNOWN",e[e.SYMBIAN=6]="SYMBIAN",e[e.S40asha=7]="S40asha",e[e.Webwx=8]="Webwx",e[e.Blackberry=9]="Blackberry",e[e.Windows=10]="Windows"}(Ex||(Ex={})),function(e){e[e.kUnknownNetwork=0]="kUnknownNetwork",e[e.kWIFI=1]="kWIFI",e[e.k2G=2]="k2G",e[e.k3G=3]="k3G",e[e.k4G=4]="k4G",e[e.k5G=5]="k5G",e[e.kAll=10]="kAll"}(Cx||(Cx={})),function(e){e[e.kUnknownCarrier=0]="kUnknownCarrier",e[e.kCMCC=1]="kCMCC",e[e.kCUCC=2]="kCUCC",e[e.kCTCC=3]="kCTCC"}(Ix||(Ix={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CMNET=1]="CMNET",e[e.CMWAP=2]="CMWAP",e[e.THREEGNET=3]="THREEGNET",e[e.THREEGWAP=4]="THREEGWAP",e[e.UNINET=5]="UNINET",e[e.UNIWAP=6]="UNIWAP",e[e.WIFI=7]="WIFI",e[e.CTWAP=8]="CTWAP",e[e.CTNET=9]="CTNET",e[e.THREEGNET_UNINET=10]="THREEGNET_UNINET",e[e.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",e[e.CTNET_CTWAP=12]="CTNET_CTWAP",e[e.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",e[e.WIMAX=14]="WIMAX"}(Sx||(Sx={})),function(e){e[e.Default_Source=0]="Default_Source",e[e.MediaPlatform=1]="MediaPlatform",e[e.WeApp=2]="WeApp",e[e.Moments=3]="Moments",e[e.BizTimeLine=4]="BizTimeLine"}(Tx||(Tx={})),function(e){e[e.JSON=0]="JSON",e[e.XML=1]="XML"}(xx||(xx={})),function(e){e[e.Unknown_sys=-1]="Unknown_sys",e[e.Windows=0]="Windows",e[e.Ios=1]="Ios",e[e.Android=2]="Android"}(Px||(Px={})),function(e){e[e.Unknown_type=0]="Unknown_type",e[e.Wifi=1]="Wifi",e[e.TwoG=2]="TwoG",e[e.TreeG=3]="TreeG",e[e.FourG=4]="FourG",e[e.FiveG=5]="FiveG",e[e.Ethernet=6]="Ethernet"}(kx||(kx={})),function(e){e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS"}(Dx||(Dx={})),function(e){e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD"}(Rx||(Rx={})),function(e){e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED"}(Ox||(Ox={})),function(e){e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS"}(Mx||(Mx={})),function(e){e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO"}(Lx||(Lx={})),function(e){e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX"}(Nx||(Nx={})),function(e){e[e.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",e[e.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",e[e.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",e[e.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",e[e.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",e[e.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",e[e.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",e[e.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",e[e.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",e[e.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",e[e.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",e[e.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT"}(Bx||(Bx={})),function(e){e[e.PIC_TIME5=555]="PIC_TIME5",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_IN_TEXT_DESC_CARD=841]="CRT_SIZE_IN_TEXT_DESC_CARD",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",e[e.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916"}(Wx||(Wx={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.CHANNELS=51]="CHANNELS",e[e.JD_URL=25]="JD_URL"}(Fx||(Fx={})),function(e){e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY"}(Ux||(Ux={}));var jx={},Gx=class extends mx.Component{constructor(e,t){super(e),this.style={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.handleStyleType=[_x.INNERSTYLE],this.componentBehavior=dx.COMPONENT,this.state={},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||cx.NONE,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,(null==t?void 0:t.componentBehavior)&&(this.componentBehavior=t.componentBehavior);let r=e.template||{};this.template=r,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;let n=r.options||{};this.options=n,this.data=n.data||{},this.events=n.events||{},this.lifecycle=n.lifecycle||{},this.innerStyles=n.innerStyles||{},this.animations=n.animations||{},this.bubbleEvent=void 0===n.bubbleEvent||n.bubbleEvent;let i=this.getDataValue("_bubbleEvent");void 0!==i&&(this.bubbleEvent=i),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,this.emitComponentLifeCycle("onInit")}componentWillUnmount(){this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){[dx.COMPONENT,dx.BASE].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),this.componentBehavior===dx.COMPONENT&&this.addAdCustomListener((e=>{if(e.action===KT.SETSTYLE){let{id:t,targetid:r,style:n}=e.value||{};r===this.id&&this.setStyle(t,n,{isDynamic:!0,force:!0})}else e.action===KT.HOSTMESSAGE&&this.emitComponentEvent(HT.HOSTMESSAGE,e.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope}}getDataValue(e,t,r){let n=t||this.data,i=n[`${e}Expr`];return i?this.run(i,null==r?void 0:r.args):n[e]}getDataValueWithDefault(e,t,r,n){let i=r?this.getDataValue(e,r,n):this.getDataValue(e);return void 0===i?t:i}getAdData(){return this.forType===cx.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){let t=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))};this.adCustomListeners.add(t),this.emitter.on("adCustomEvent",t)}removeAdCustomListener(){for(let e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){let r=this.events[e];(null==r?void 0:r.length)&&this.doActions(r,t||{})}emitComponentLifeCycle(e,t){let r=this.lifecycle[e];(null==r?void 0:r.length)&&this.doActions(r,t)}doActions(e=[],t={}){for(let r of e)r.force&&!r.targetid?this.doCommonAction({args:t,payload:r}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:r.targetid?`${this.adCustomId}-${r.targetid}`:this.id,args:t,payload:r})}doCommonAction(e){let{payload:t,args:r}=e,{delay:n=null,expr:i}=t,a=()=>{var n,a;if(!i||this.run(i,r)){if(this.componentBehavior===dx.BASE)return void("doAction"in this&&"function"==typeof this.doAction&&this.doAction(e));switch(t.action){case jT.SETSTYLE:{let{value:e}=t;if(e.styleExpr)for(let t of Object.keys(e.styleExpr))e.style[t]=this.run(e.styleExpr[t],r);let i=null==(n=e.force)||n;e.forceExpr&&(i=null==(a=this.run(e.forceExpr,r))||a),this.setStyle(e.id,e.style,{isDynamic:!0,force:i});break}case jT.SETEXPRVARS:{let{key:e}=t.value,r=this.getDataValue("value",t.value);this.getExprInnerVars()[e]=r;break}case jT.REPORTIDKEY:{let{id:e,key:r}=t.value;this.emitAdCustomEvent(KT.REPORTIDKEY,{id:e,key:r});break}case jT.BATCHSETEXPRVARS:{let{list:e}=t.value;for(let t of e){let{key:e}=t,r=this.getDataValue("value",t);this.getExprInnerVars()[e]=r}break}case jT.TRIGGEREVENT:{let{detail:e={},eventName:n}=t.value;try{if((null==r?void 0:r.event)&&(e.rawDetail=JSON.stringify(r.event)),t.value.detailExpr)for(let n of Object.keys(t.value.detailExpr)){let i=t.value.detailExpr[n];e[n]=this.run(i,r)}}catch(e){}this.emitAdCustomEvent(KT.TRIGGEREVENT,{eventName:n,detail:e});break}case jT.REPORTMMDATA:{let{data:e,dataExpr:n,id:i}=t.value;if(n)for(let t of Object.keys(n)){let i=n[t];e[t]=this.run(i,r)}this.emitAdCustomEvent(KT.REPORTMMDATA,{id:i,data:e});break}case jT.ANIMATE:{let{id:e,animation:r}=t.value;this.doAnimation({id:e,animationName:r});break}case jT.TRIGGERBTNCLICK:{let e=null==r?void 0:r.event;e&&this.emitAdCustomEvent(KT.BTNTAP,{event:e});break}case jT.LANDAD:{let e=null==r?void 0:r.event;e&&this.emitAdCustomEvent(KT.LANDAD,{index:this.getDataValueWithDefault("index",0,t.value,{args:r}),event:e});break}case jT.SPLASHSKIPAD:{let e=null==r?void 0:r.event;e&&this.emitAdCustomEvent(KT.SPLASHSKIPAD,{event:e});break}case jT.REPORTADMONITORDATA:{let{id:e,key:r,extInfo:n}=t.value;this.emitAdCustomEvent(KT.REPORTADMONITORDATA,{id:e,key:r,extInfo:n});break}case jT.REWARDEDVIDEODYNAMIC:{let{list:e}=t.value;this.emitAdCustomEvent(KT.REWARDEDVIDEODYNAMIC,{list:e});break}case jT.EMITCUSTOMMESSAGE:{let{message:e,args:n}=t.value;e&&this.emitAdCustomEvent(KT.TEMPLATEMESSAGE,{message:e,args:n,actionArgs:r});break}case jT.REPORTENDPAGE:{let{data:e}=t.value;this.emitAdCustomEvent(KT.REPORTENDPAGE,{data:e});break}default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}}};null!=n?setTimeout(a,n):a()}run(e,t){let r=this.getInnerFunction(),n=oT(oT({},this.getScope()),r);return BT(e,t?oT({$args:t},n):n,r)}getElementById(e){var t;let{renderContext:{hostContainer:r,getRootElement:n},hostContext:{getPropertyOfElement:i}}=this,a=n(this);if(!a)return null;if(!e){let e=null!=(t=i(a,"parent"))?t:null;return e===r?a:e}return"$$"===e?a:this.travelAndFindElementById(e,a)}travelAndFindElementById(e,t){let{getPropertyOfElement:r}=this.hostContext,n=PT(t);if(n.templateId!==this.id)return null;if(n.id===e)return t;let i=r(t,"children");for(let t of i){let r=this.travelAndFindElementById(e,t);if(r)return r}return null}travelAndFindElementByIdDeeply(e,t,r){if(!r)return null;let{getPropertyOfElement:n}=this.hostContext,i=PT(r);if(`${this.adCustomId}-${this.idPrefix}${e}`===i.templateId&&(!t||i.id===t))return r;let a=n(r,"children");for(let r of a){let n=this.travelAndFindElementByIdDeeply(e,t,r);if(n)return n}return null}doAnimation(e){return uT(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:r,animation:n}){let{animate:i}=this.hostContext,a=!n&&r?this.animations[r]:n,o=this.getElementById(e);if(!a||!o)return;let{keys:s,duration:l,easing:c}=a;if(((null==s?void 0:s.length)||0)<2)return;let u=0;for(let t of Object.keys(s)){let r=s[+t],{offset:n,opacity:a,left:d,top:p,rotate:h,scaleX:f,scaleY:g}=r,v=l*n,m={opacity:a,left:d,top:p,rotate:h,scaleWidth:f,scaleHeight:g};if(v<=0)this.setStyle(e,m,{isDynamic:!0,force:!0});else{let t=oT(oT({},m),{easing:c,duration:v-u});t.left=m.left,t.top=m.top,yield null==i?void 0:i(o,t),u=v,this.setStyle(e,m,{isDynamic:!0,force:!0})}}r&&t&&(yield this.emitComponentEvent(HT.ANIMATIONEND,{animation:r}))}))}updateInnerStyle(){var e;if(this.innerStyles)for(let t of Object.keys(this.innerStyles)){let r=this.innerStyles[t];if(r.expr&&!this.run(r.expr))continue;let n=oT({},r.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(n,r.darkModeStyle||{}),this.updateStyle(n,t)}}updateOuterStyle(){var e;let t=oT({},this.template.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(t,this.template.darkModeStyle||{}),this.updateStyle(t,"container")}setStyle(e,t,{isDynamic:r,force:n}={isDynamic:!1,force:!1}){let i=r?this.dynamicStyle:this.templateStyle,a=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:o}=this.renderContext,s=e,l=!1;if("$$"===s){let e=o(this);if(!e)return;s=PT(e).id}if(a){for(let e of Object.keys(a))a[e]=this.convertApxStyle(a[e]);if(s){i[s]||(i[s]={});for(let e of Object.keys(a))null!=a[e]?(a[e]!==i[e]&&(l=!0),i[s][e]=a[e]):delete i[s][e]}}this.mounted&&l&&r&&n&&this.forceUpdate()}convertApxStyle(e){let{renderContext:{ratio:t}}=this;return((e,t)=>(null==e?void 0:e.replace)?e.replace(AT,((e,r)=>`${Number(r*t)}px`)):e)(e,t)}updateStyle(e,t){if(e)for(let r of Object.keys(e)){let n=r,i=e[r];if(r.includes("Expr")){let e=r.split("Expr");2===e.length&&([n]=e,i=this.run(i))}this.setStyle(t,{[n]:i})}}getScope(){var e,t;let{ratio:r}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:r,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===jx[this.adCustomId]&&(jx[this.adCustomId]={}),jx[this.adCustomId]}getInnerFunction(){let e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":t=>e[t],"#measureText":(e,r)=>"function"==typeof t.getTextWidth?t.getTextWidth(e,r):0}}checkUseApx(){if(this.getDataValue("_useApx"))for(let e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t;let{ratio:r}=this.renderContext,n=/(\d+)px/g,i={};for(let a of Object.keys(e))if(null==(t=Vx)?void 0:t.includes(a)){let t=e[a],o=t;"number"==typeof t?o=t*r:"string"==typeof t?o=t.replace(n,((e,t)=>{let n=Number(t);return Number.isNaN(n)?e:n*r+"px"})):Array.isArray(t)&&(null==t?void 0:t.every((e=>"number"==typeof e)))&&(o=t.map((e=>e*r))),i[a]=o}else i[a]=e[a];return i}},Hx=lT(hT()),Qx=(e,t,r)=>{var n,i,a,o,s,l,c;if(!t)return t;let u={},d=null;if(null==(n=null==t?void 0:t.props)?void 0:n.className){let r=t.props.className.split(/\s+/).filter(Boolean);for(let t of r)e[`.${t}`]&&Object.assign(u,e[`.${t}`])}if((null==(i=null==t?void 0:t.props)?void 0:i.style)&&Object.assign(u,t.props.style),null==(a=null==t?void 0:t.props)?void 0:a.id){let r=(e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""))(t.props.id);d=r,e[r]&&Object.assign(u,e[r])}let p=null!=(s=null==(o=t.props)?void 0:o.children)?s:null;null!=p&&"string"!=typeof p&&(p=Hx.default.Children.map(p,(t=>Qx(e,t,r))));let h=oT({style:xT(u,r.styleOptions)},d?{id:d,uniqueId:`${r.templateInfo.templateId}${r.isItem?"__item":""}-${d}`}:{}),f=oT(oT({},r.templateInfo),{preventMask:String(null!=(c=null==(l=t.props)?void 0:l.preventMask)&&c),id:d||""});for(let e of Object.keys(f))h[`data-${fx(e)}`]=f[e];!r.useTextTag&&"text"===t.type&&null!=t.props.value&&null===p&&(p=t.props.value);let g=Array.isArray(p)?p:[p];return null==p?Hx.default.cloneElement(t,h):Hx.default.cloneElement(t,h,g)},$x=()=>e=>{if(e.prototype.render){let t=e.prototype.render;e.prototype.render=function(){let e=t.call(this);this.handleStyleType.includes(_x.STYLE)&&this.updateOuterStyle(),this.handleStyleType.includes(_x.INNERSTYLE)&&this.updateInnerStyle();let{style:r,templateStyle:n,dynamicStyle:i,renderContext:{styleOptions:a,useTextTag:o}}=this;return Qx((e=>{let t={};for(let r of e)for(let e of Object.keys(r))t[e]||(t[e]={}),Object.assign(t[e],r[e]||{});return t})([r,n,i]),e,{styleOptions:a,isItem:this.componentBehavior===dx.BASE,useTextTag:o,templateInfo:{templateId:this.id}})}}return e},zx=class extends Gx{constructor(e){var t;if(super(e,{componentBehavior:dx.BASE}),this.style={blank:{width:0,height:0},container:{position:"relative"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=[_x.STYLE],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:""},this.handleCommonClick=e=>{!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.doActions(this.events.tap,{event:e})},this.isShow=this.getDataValueWithDefault("_isShow",!0),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&(null==(t=this.template.style)?void 0:t.background)){let e=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(e){let[t,r]=e.slice(1);this.isLinearGradient=!0,Number(t)>Number(r)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===KT.SETSTYLE){let{id:t,targetid:r,style:n}=e.value||{};r===this.id&&!t&&this.setStyle("container",n,{isDynamic:!0,force:!0})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){e.payload.action===jT.FORCEREBUILD&&this.setState({randomKey:this.getRandomKey()})}render(){let{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:r}=this.state,n=oT({},this.getCommonSubComponentProps());if(n.randomKey=r,"for"===t.type)return vx.default.createElement(QP,oT({},n));let i={layout:vx.default.createElement(bP,oT({},n)),image:vx.default.createElement(TP,oT({},n)),text:vx.default.createElement(CP,oT({},n)),feedback:vx.default.createElement(NP,oT({},n)),button:vx.default.createElement(kP,oT({},n)),video:vx.default.createElement(OP,oT({},n)),end:vx.default.createElement(jP,oT({},n)),carousel:vx.default.createElement(YP,oT({},n)),countdown:vx.default.createElement(FP,oT({},n))}[t.type]||null;if(!this.isShow||null===i)return vx.default.createElement("div",{id:"blank"});let a=this.isLinearGradient?vx.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(i&&e()){let e=Array.isArray(i.props.children)?i.props.children:[i.props.children];return(0,vx.cloneElement)(i,{handleCommonClick:this.handleCommonClick},...e)}return vx.default.createElement("div",{id:"container",onClick:this.handleCommonClick},a,i)}},Yx=zx=cT([$x()],zx),Zx=class extends Gx{constructor(e){var t,r,n;super(e),this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",flexDirection:"column",background:"#ffffff",borderRadius:"7px"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px",marginBottom:"24px"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e",marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=[_x.STYLE,_x.INNERSTYLE],this.handleAdCustomEvent=e=>{switch(e.action){case KT.SETDARKMODE:{let{darkMode:t}=e.value;this.state.darkMode!==t&&this.setState({darkMode:t});break}case KT.HIDEAD:this.hide();break;case KT.ADSHOWHALF:this.emitComponentEvent(QT.SHOWHALF);break;case KT.ADHIDEHALF:this.emitComponentEvent(QT.HIDEHALF);break;case KT.BTNTAP:this.emitComponentEvent(QT.ADBUTTONTAP);break;case KT.EXPOSURE:"value"in e?this.emitComponentEvent(QT.EXPOSURE,e.value):this.emitComponentEvent(QT.EXPOSURE);break;case KT.VIEWABLEEXPOSURE:"value"in e?this.emitComponentEvent(QT.VIEWABLEEXPOSURE,e.value):this.emitComponentEvent(QT.VIEWABLEEXPOSURE);break;case KT.SHOWFEEDBACK:this.showFeedback()}},this.show=e=>new Promise((t=>{this.useAnimate&&!e?this.setState({hidden:!1},(()=>{this.emitComponentEvent(QT.SHOWANIMATE),t()})):this.useAnimate&&e?(this.emitAdCustomEvent(KT.CHECKEXPOSURE),t()):this.setState({hidden:!1},(()=>{this.emitAdCustomEvent(KT.CHECKEXPOSURE),t()}))})),this.hide=e=>new Promise((t=>{this.useAnimate&&!e?(this.emitComponentEvent(QT.HIDEANIMATE),t()):this.setState({hidden:!0},(()=>{this.emitAdCustomEvent(KT.CHECKEXPOSURE),t()}))})),this.showFeedback=()=>{let{useDefaultFeedback:e,useFullAreaFeedBack:t}=this;e&&(this.setState({showFeedback:!0}),setTimeout((()=>{this.setState({showFeedback:!1})}),3e3)),t&&this.setState({showFeedback:!0})},this.handleEnterForeground=()=>{this.emitComponentEvent(QT.APPENTERFOREGROUND),this.emitAdCustomEvent(KT.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(QT.APPENTERBACKGROUND),this.emitAdCustomEvent(KT.APPENTERBACKGROUND)},this.handleContainerClick=e=>{this.props.isMulti||this.disableContainerTap||(null==e||e.stopPropagation(),this.emitComponentEvent(QT.CONTAINERTAP),this.emitAdCustomEvent(KT.CONTAINERTAP,{event:e}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(r=null==(t=this.template.tplConfig)?void 0:t.isMulti)&&r,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(n=this.props.darkMode)&&n,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.bindEvents(),this.emitComponentEvent(QT.INITIALTEMPLATE)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){let{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){let{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var r,n;e.action===jT.HIDEAD?(this.hide(),"value"in e&&e.value.preventClose):e.action===jT.CHANGEMULTISHOW?(null==(r=e.value)?void 0:r.listExpr)?this.emitAdCustomEvent(KT.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):(null==(n=e.value)?void 0:n.list)?this.emitAdCustomEvent(KT.CHANGEMULTISHOW,{list:e.value.list}):(null==t?void 0:t.list)&&this.emitAdCustomEvent(KT.CHANGEMULTISHOW,{list:t.list}):e.action===jT.SHOWANIMATEDONE?this.show(!0):e.action===jT.HIDEANIMATEDONE&&this.hide(!0)}isShow(){return!this.state.hidden}render(){let{props:{template:e,adPosition:t,systemInfo:r},state:{hidden:n,showFeedback:i,darkMode:a}}=this;this.emitComponentEvent(QT.TEMPLATEWILLUPDATE);let o={display:n?"none":""},s=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&s.push("fixed"),this.isWidthRequired&&s.push("width"),this.isFullScreen?Object.assign(o,{width:r.screenWidth,height:r.screenHeight}):Object.assign(o,FT(t||{},s)),n&&!this.useStyleHidden?gx.default.createElement("div",null):gx.default.createElement("div",{id:"body",style:o,className:this.isFullScreen?"full-size":""},e&&gx.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick},e.children.map((e=>gx.default.createElement(Yx,oT(oT({key:e.id},this.getCommonSubComponentProps()),{template:e,darkMode:a}))))),this.useFullAreaFeedBack&&i&&gx.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container"},gx.default.createElement("div",{className:"no-interest-logo"}),gx.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title"},"感谢你的反馈"),gx.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告")),this.useDefaultFeedback&&i&&gx.default.createElement("div",{id:"tip-container",className:"tip-container"},gx.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})))}},qx=Zx=cT([$x()],Zx),Jx=lT(hT()),Xx=lT(hT());function Kx(e){class t extends Gx{constructor(e){super(e,{componentBehavior:dx.HOC}),this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,Xx.createRef)(),this.handleTouchStart=e=>{let{getPropertyOfElement:t}=this.hostContext;if(e._isHandleMaskClick||!this.useMask||!this.containerRef.current)return;let r=e.target,n=this.containerRef.current;for(;r&&r!==n;){let{preventMask:e}=PT(r);if("true"===e)return;r=t(r,"parent")}this.setState({showMask:!0}),e._isHandleMaskClick=!0},this.handleTouchEnd=()=>{this.setState({showMask:!1})},this.eventDelegator=this.renderContext.globalEventDelegator,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===KT.SETSTYLE){let{id:t,targetid:r,style:n}=e.value||{};r===this.id&&!t&&this.setStyle("container",n,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){let{showMask:e}=this.state;return oT(oT({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},this.getDataValueWithDefault("_maskStyle",{})),{display:this.useMask&&e?"":"none"})}render(){let{props:t}=this,{forwardedRef:r}=t,n={};return this.useMask&&Object.assign(n,{maskContainerRef:this.containerRef,renderMask:()=>Xx.default.createElement("div",{id:"mask",style:this.getMaskStyle()})}),Xx.default.createElement(e,oT(oT(oT({},t),n),{ref:r}))}}return(0,Xx.forwardRef)(((e,r)=>Xx.default.createElement(t,oT(oT({},e),{forwardedRef:r}))))}var eP,tP,rP,nP,iP,aP,oP,sP,lP,cP,uP,dP,pP,hP,fP,gP,vP,mP,_P,yP,AP=class extends Gx{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||tx.COMMON,this.baseType===tx.ROW?this.classRow=!0:this.baseType===tx.COLUMN?this.classColumn=!0:(this.baseType,tx.PROPORTION),this.state.children=this.template.children||[]}doAction({payload:e}){if(e.action===jT.ADDCHILDREN){let{value:t}=e,r=Array.isArray(t)?t:[t],n=[...this.state.children,...r];this.setState({children:n})}}render(){let{children:e}=this.state,{renderMask:t,maskContainerRef:r,handleCommonClick:n,randomKey:i}=this.props,a=["layout"];return this.classRow&&a.push("layout-row"),this.classColumn&&a.push("layout-column"),Jx.default.createElement("div",oT(oT({id:"container",className:a.join(" "),ref:r},n?{onClick:n}:{}),{style:this.containerStyle,key:i||""}),e.map((e=>Jx.default.createElement(Yx,oT(oT({key:e.id},this.getCommonSubComponentProps()),{template:e})))),null==t?void 0:t())}},bP=Kx(AP=cT([$x()],AP)),wP=lT(hT()),EP=class extends Gx{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.classEllipsis=!1;let t=this.options.baseType||nx.NICKNAME;t===nx.COMMON?this.initCommonComponent():t===nx.NICKNAME?this.initNickNameComponent():t===nx.DESC?this.initDescComponent():t===nx.RELATION&&this.initRelationComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null)}componentDidMount(){super.componentDidMount(),this.options.baseType===nx.RELATION&&this.emitAdCustomEvent(KT.FETCHRELATIONTEXT,{targetid:this.id})}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){this.state.text="",this.addAdCustomListener((e=>{if(e.action===KT.CHANGERELATIONTEXT){let{targetid:t,text:r}=e.value;t===this.id&&this.setState({text:r})}}))}initNickNameComponent(){let e=this.getAdData(),t=[Fx.IOS,Fx.ANDROID].includes(null==e?void 0:e.product_type),r=[Fx.CHANNELS].includes(null==e?void 0:e.product_type),n=e.crt_size===Wx.CRT_SIZE_MULTI_POS_GRID,i=[Fx.WE_CHAT_ARTICLE,Fx.GDT_WE_CHAT_ARTICLE].includes(null==e?void 0:e.product_type),a=[Fx.WE_CHAT_SHOP,Fx.JD_URL].includes(null==e?void 0:e.product_type),o=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:n},{path:["crtInfo","0","wxgame_video_card","title"],condition:[Wx.CRT_SIZE_REWARD_VEDIO169,Wx.CRT_SIZE_REWARD_VEDIO916,Wx.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Wx.CRT_SIZE_MULTI_POS_VEDIO].includes(null==e?void 0:e.crt_size)},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["app_info","app_name"],condition:t},{path:["crtInfo","card_info","title"],condition:r},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:i},{value:"电商推广",condition:a},{value:"活动推广"}];this.state.text=hx(e,o)}initDescComponent(){let e=this.getAdData(),t=[Fx.IOS,Fx.ANDROID].includes(e.product_type),r=[Wx.CRT_SIZE_REWARD_VEDIO169,Wx.CRT_SIZE_REWARD_VEDIO916,Wx.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Wx.CRT_SIZE_MULTI_POS_VEDIO].includes(e.crt_size),n=e.product_type===Fx.MINI_GAME,i=e.product_type===Fx.WE_CHAT,a=[Fx.WE_CHAT_ARTICLE,Fx.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[Fx.WE_CHAT_SHOP,Fx.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:r},{path:["wording"],condition:[Wx.CRT_SIZE_MULTI_POS_NEW_PIC,Wx.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:a},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:i},{value:"今日小游戏推荐",condition:n},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=hx(e,s)}doAction({payload:e}){e.action===jT.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",e.value)})}render(){let{classEllipsis:e}=this,{renderMask:t,maskContainerRef:r,randomKey:n}=this.props,{text:i}=this.state;return this.classEllipsis&&null!==this.maxLen&&i&&(i=((e,t)=>{let r=0,n=0;for(let i=0;i<e.length;i++)r+=/[\u4e00-\u9fa5]/.test(e[i])?2:1,r<t-1&&(n=i);return r>t?`${e.substring(0,n+1)}...`:e})(i,2*this.maxLen)),wP.default.createElement("div",{id:"container",ref:r,onClick:this.props.handleCommonClick,key:n||""},wP.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:i}),null==t?void 0:t())}},CP=Kx(EP=cT([$x()],EP)),IP=lT(hT()),SP=class extends Gx{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);let t=this.options.baseType||rx.ICON;switch(this.baseType=t,t){case rx.COMMON:this.initCommonComponent();break;case rx.AD:this.initADComponent();break;case rx.ICON:this.initIconComponent()}this.useBgMode}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){let e=this.getAdData(),t=[Fx.IOS,Fx.ANDROID].includes(e.product_type),r=[Fx.CHANNELS].includes(e.product_type),n=e.crt_size===Wx.CRT_SIZE_MULTI_POS_GRID,i=[Fx.WE_CHAT_SHOP,Fx.JD_URL].includes(e.product_type),a=[Wx.CRT_SIZE_REWARD_VEDIO169,Wx.CRT_SIZE_REWARD_VEDIO916,Wx.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;let o=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:n},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:a},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","card_info","thumb"],condition:r},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:i},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=hx(e,o)}initADComponent(){var e;let t=this.getAdData(),r=t.image_url;if(!r.startsWith("http"))try{r=(null==(e=t.crtInfo[0])?void 0:e.image_url)||t.crtInfo.image_url||r}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||r}doAction({payload:e}){e.action===jT.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){let{classAppIcon:e,classIcon:t}=this,{renderMask:r,maskContainerRef:n,randomKey:i}=this.props,a=this.baseType===rx.AD,{imgUrl:o}=this.state,s=["image-img"];return e&&s.push("image-img-appicon"),t&&s.push("image-img-icon"),IP.default.createElement("div",{id:"container",className:"image",ref:n,onClick:this.props.handleCommonClick,key:i||""},IP.default.createElement("img",oT(oT({id:"img"},a?{"bubble-event":!1}:{}),{className:s.join(" "),src:o})),null==r?void 0:r())}},TP=Kx(SP=cT([$x()],SP)),xP=lT(hT()),PP=class extends Gx{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=e=>{e.action===KT.CHANGEADBTNTEXT&&e.value.text&&this.setState({buttonText:e.value.text})},this.handleButtonClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(KT.BTNTAP,{event:e}),this.emitComponentEvent($T.BUTTONTAP,{event:e})};let t=this.options.baseType||ix.LOGICCOMMON;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),t===ix.COMMON?this.initCommonComponent():t===ix.LOGICCOMMON&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e;let t=this.getAdData(),r=this.getDataValue("buttonText");r?this.state.buttonText=r:t.product_type===Fx.WE_CHAT?this.state.buttonText=(null==(e=null==t?void 0:t.biz_info)?void 0:e.is_subscribed)?"查看":t.button_action.button_text:this.state.buttonText=t.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){e.action===jT.BUTTONSETTEXT&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){let{renderMask:e,maskContainerRef:t,randomKey:r}=this.props;return xP.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:r||""},this.isShowIcon&&xP.default.createElement("div",{id:"button-icon",className:"button-icon"}),xP.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},kP=Kx(PP=cT([$x()],PP)),DP=lT(hT()),RP=class extends Gx{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoRef=DP.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.toggleMuted=e=>{let t=!this.state.muted;null==e||e.stopPropagation(),this.setState({muted:t}),this.emitComponentEvent(YT.MUTEDCHANGE,{muted:t}),this.emitAdCustomEvent(KT.ADVIDEOMUTECHANGE,{muted:t})},this.handleCustomEvent=e=>{var t;switch(e.action){case KT.APPENTERBACKGROUND:{let r=Math.min(this.currentTime,this.videoDuration);"value"in e&&(null==(t=e.value)?void 0:t.inAdDetail)?this.reportVideoPlay("partial","app_exit",r):this.reportVideoPlay("partial","exit",r);break}case KT.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case KT.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case KT.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case KT.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration);break;case KT.OPERATEADVIDEO:{let{type:t}=e.value;["play","pause","stop"].includes(t)&&this.operateVideoPlay(t);break}}},this.handleError=e=>{this.useResumeBtn&&this.setState({isShowResumeBtn:!0}),this.emitAdCustomEvent(KT.ADVIDEOLOADFAILED,e)},this.handleTimeUpdate=e=>{var t,r;let n=e.duration||(null==(t=e.target)?void 0:t.duration),i=e.position||(null==(r=e.target)?void 0:r.currentTime);if(null==n||null==i)return;let a=Math.min(1,i/n);this.setStyle("videoProgressPlayed",{width:100*a+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(n-i)}s`}),this.emitComponentEvent(YT.VIDEOTIMEUPDATE,{event:e,rate:a}),this.emitAdCustomEvent(KT.ADVIDEOTIMEUPDATE,{duration:n,position:i}),this.currentTime=1e3*i,this.videoDuration||(this.videoDuration=1e3*n)},this.handleEnded=e=>{this.emitComponentEvent(YT.VIDEOENDED,{event:e}),this.emitAdCustomEvent(KT.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.emitAdCustomEvent(KT.ADVIDEOENDED),this.reportVideoPlay("complete","end",this.videoDuration),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(KT.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(YT.VIDEOPLAY,{event:e}),this.emitAdCustomEvent(KT.ADVIDEOPLAY,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(YT.VIDEOPAUSE,{event:e}),this.emitAdCustomEvent(KT.ADVIDEOPAUSE,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.handleLoadedMetaData=e=>{this.emitAdCustomEvent(KT.ADVIDEOLOADEDMETADATA),this.emitComponentEvent(YT.VIDEOLOADEDMETADATA,{event:e,time:Date.now()})},this.handleResume=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(KT.ADVIDEORESUMEBTNCLICK)},this.baseType=this.options.baseType||ax.AD,this.baseType===ax.COMMON?this.initCommonComponent():this.baseType===ax.AD&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),setTimeout((()=>{this.emitComponentEvent(YT.MUTEDCHANGE,{muted:this.state.muted})}),0)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){let e=this.getAdData();this.src=this.getDataValue("src")||hx(e,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.poster=this.getDataValue("poster")||hx(e,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*hx(e,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]),this.addAdCustomListener(this.handleCustomEvent),this.emitAdCustomEvent(KT.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case jT.VIDEOTOGGLEMUTED:this.toggleMuted();break;case jT.VIDEOPLAY:this.operateVideoPlay("play");break;case jT.VIDEOPAUSE:this.operateVideoPlay("pause");break;case jT.VIDEOSTOP:this.operateVideoPlay("stop")}}operateVideoPlay(e){let{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,r=0){this.baseType===ax.AD&&this.emitAdCustomEvent(KT.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:r,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){let{src:e,poster:t,isShowVoice:r,mutedIconSrc:n,voiceIconSrc:i,voicePlacement:a,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:c,playsInline:u,useResumeBtn:d,useClickMask:p}=this,{muted:h,loop:f,autoplay:g,countDownNumber:v,isEndPageShowing:m,isShowResumeBtn:_}=this.state,{renderMask:y,maskContainerRef:A,randomKey:b}=this.props,w=["video-voice-box"],E=["video-count-down"];return w.push(`video-voice-box-${a}`),E.push(`video-count-down-${o}`),DP.default.createElement("div",{id:"container",className:"video",ref:A,onClick:this.props.handleCommonClick,key:b||""},DP.default.createElement("video",{id:"video",className:"video-context",ref:this.videoRef,src:e,poster:t,controls:!1,muted:h,loop:f,autoPlay:g,autoInsert:!1,playsInline:u,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:c,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData},p&&DP.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),d&&_&&DP.default.createElement("div",{className:"video-resume-container",onClick:this.handleResume},DP.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn"},DP.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!m&&r&&DP.default.createElement("div",{id:"videovoicebox",className:w.join(" "),onClick:this.toggleMuted,preventMask:!0},DP.default.createElement("img",{src:h?n:i,id:"video-voice-img",className:"video-voice-icon"})),s&&DP.default.createElement("div",{id:"video-progress",className:"video-progress"},DP.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!m&&l&&v&&DP.default.createElement("text",{id:"video-count-down",className:E.join(" "),value:v}),null==y?void 0:y())}},OP=Kx(RP=cT([$x()],RP)),MP=lT(hT()),LP=class extends Gx{constructor(e){super(e),this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleTagClick=e=>{if(null==e||e.stopPropagation(),this.baseType===ox.SIMPLE)return this.handleSimpleTagClick(e);if(this.baseType===ox.SINGLETAG)return this.handleSingleTagClick(e);let{isShowFeedback:t,isShowFeedbackMenu:r}=this.state;t||r?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(KT.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(ZT.TAGTAP,{event:e}))},this.handleDislikeClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(ZT.DISLIKETAP,{event:e}),this.emitAdCustomEvent(KT.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"不感兴趣"})},this.handleFeedbackBtnClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(ZT.FEEDBACKBTNTAP,{event:e}),this.emitAdCustomEvent(KT.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(KT.FEEDBACKBTNTAP)},this.handleAdCustomEvent=e=>{e.action===KT.FEEDBACKHIDE&&this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.checkUseApx(),this.baseType=this.options.baseType||ox.COMMON,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.addAdCustomListener(this.handleAdCustomEvent)}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(KT.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(KT.HIDEAD),this.emitComponentEvent(ZT.TAGTAP,{event:e})}handleSingleTagClick(e){this.emitAdCustomEvent(KT.FEEDBACKSINGLETAGTAP,{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(ZT.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(KT.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});let r=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===r?this.emitAdCustomEvent(KT.SHOWFEEDBACK):"hide"===r&&this.emitAdCustomEvent(KT.HIDEAD)}render(){let{isShowFeedback:e,isShowFeedbackMenu:t,position:r}=this.state,{useStyleHidden:n}=this,{renderMask:i,maskContainerRef:a,randomKey:o}=this.props,s=["feedback-list"],l=["feedback-list"];r&&(s.push(`feedback-list-${r.toLowerCase()}`),l.push(`feedback-list-${r.toLowerCase()}`)),n&&(s.push(e?"show":"hide"),l.push(t?"show":"hide"));let c=this.getDataValue("feedbackIcon")||(this.baseType===ox.SIMPLE?this.closeIconSrc:this.feedbackIconSrc),u=this.baseType===ox.SIMPLE?"close-icon":"feedback-icon";return MP.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:a,onClick:this.props.handleCommonClick,key:o||""},MP.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:!0},MP.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),MP.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:"广告"}),MP.default.createElement("img",{id:"feedback-icon",className:u,src:c})),(e||n)&&MP.default.createElement("div",{id:"menu1",key:"menu1",className:s.join(" ")},this.isShowFeedbackTitle&&MP.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),MP.default.createElement("div",{className:"feedback-line"}),MP.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),MP.default.createElement("div",{className:"feedback-line"}),MP.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||n)&&MP.default.createElement("div",{id:"menu2",key:"menu2",className:l.join(" ")},MP.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),MP.default.createElement("div",{className:"feedback-line"}),MP.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),MP.default.createElement("div",{className:"feedback-line"}),MP.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==i?void 0:i())}},NP=Kx(LP=cT([$x()],LP)),BP=lT(hT()),WP=class extends Gx{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:"5"},this.children=[],this.handleAdCustomEvent=e=>{if(e.action===KT.CHANGECOUNTDOWN){let t=2===e.value.value.toString().length?18:11;this.setStyle("countdownvalue",{width:t}),this.setState({countdownValue:e.value.value})}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}getChildren(){let e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];let t=this.getAdData(),r={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={};n.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:jT.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},r)}}],dislikeReasonTap:[{action:jT.TRIGGEREVENT,value:{eventName:qT.VIDEODISLIKE}}]},data:{}}};let i=this.getDataValue("childrenConf");if(i)for(let e of Object.keys(i))n[e]&&VT(n[e],i[e]);let a=[];return a=[n.feedBack],3===e?a.concat(this.template.children||[]):a}render(){let{children:e,state:{countdownValue:t}}=this,{renderMask:r,maskContainerRef:n,randomKey:i}=this.props;return BP.default.createElement("div",{id:"container",className:"countdown",ref:n,onClick:this.props.handleCommonClick,key:i||""},e.map((e=>BP.default.createElement(Yx,oT(oT({},this.getCommonSubComponentProps()),{template:e})))),BP.default.createElement("div",{className:"countdown-right"},BP.default.createElement("div",{id:"split-line",className:"split-line"}),BP.default.createElement("div",{id:"countdown-container",className:"countdown-container"},BP.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:t}),BP.default.createElement("text",{className:"countdown-text",value:"秒"}))),null==r?void 0:r())}},FP=Kx(WP=cT([$x()],WP)),UP=lT(hT()),VP=class extends Gx{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=e=>uT(this,[e],(function*({action:e}){switch(e){case KT.SHOWENDPAGE:yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(KT.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(qT.SHOW);break;case KT.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case KT.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case KT.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case KT.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}})),this.handleReplay=e=>{null==e||e.stopPropagation(),this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(KT.ENDPAGEHIDE),this.emitComponentEvent(qT.HIDE),this.reportEndPage({act_type:1003}),this.emitComponentEvent(qT.REPLAY)},this.handleContainerClick=e=>{var t,r;this.reportEndPage({act_type:1002}),null==(r=(t=this.props).handleCommonClick)||r.call(t,e)};let t=this.getAdData();this.cardInfo=px(t,["crtInfo",0,"card_info"],"")||px(t,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);let{end_page_type:r}=this.cardInfo;!r&&!this.getDataValueWithDefault("forceEnabled",!1)||(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((()=>{this.emitAdCustomEvent(KT.ENDPAGEINIT)}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){!this.showTime||(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){let t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(KT.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===jT.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(KT.ENDPAGEHIDE),this.emitComponentEvent(qT.HIDE))}getChildren(){let e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];let t=this.getAdData(),r={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={},i=this.template.id;n.feedBack={type:"feedback",id:`${i}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:jT.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},r)}}],dislikeReasonTap:[{action:jT.TRIGGEREVENT,value:{eventName:qT.VIDEODISLIKE}}]}}},n.iconBig={type:"image",id:`${i}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},n.nickBig={type:"text",id:`${i}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},n.descSmall={type:"text",id:`${i}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},n.button={type:"button",id:`${i}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:jT.REPORTENDPAGE,value:{data:{act_type:1001}}}]}}},n.iconSmall={type:"image",id:`${i}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},n.nickSmall={type:"text",id:`${i}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},n.layoutSmall={type:"layout",id:`${i}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},n.layoutSmall.children.push(n.iconSmall),n.layoutSmall.children.push(n.nickSmall),n.descBig={type:"text",id:`${i}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};let a=this.getDataValue("childrenConf");if(a)for(let e of Object.keys(a))n[e]&&VT(n[e],a[e]);let o=[];return this.useEndDefaultFeedback&&o.push(n.feedBack),o=2===this.cardInfo.end_page_type?o.concat([n.layoutSmall,n.descBig,n.button]):o.concat([n.iconBig,n.nickBig,n.descSmall,n.button]),3===e?o.concat(this.template.children||[]):o}render(){let{backgroundImage:e,children:t,refreshIconSrc:r,showFreshIcon:n,state:{isShowEndPage:i}}=this,{renderMask:a,maskContainerRef:o,randomKey:s}=this.props;return UP.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:o,key:s||"",style:{display:i?"flex":"none"}},e&&UP.default.createElement("img",{id:"backgroundImage",src:e}),t.map((e=>UP.default.createElement(Yx,oT(oT({key:e.id},this.getCommonSubComponentProps()),{template:e})))),n&&UP.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},UP.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:r}),UP.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==a?void 0:a())}},jP=VP=cT([$x()],VP),GP=lT(hT()),HP=class extends Gx{constructor(e){super(e),this.forType=this.options.baseType||cx.COMMON,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===cx.ADS&&(this.forArr=this.getAdDatas())}render(){let{template:e}=this.props,t=this.forArr.map(((t,r)=>e.children.map((n=>GP.default.createElement(Yx,oT(oT({},this.getCommonSubComponentProps()),{key:`${n.id}-${r}`,idPrefix:this.idPrefix+(e.id||"")+r.toString(),forType:this.forType,forItem:t,template:n,forIndex:r})))))).reduce(((e,t)=>[...e,...t]),[]);return GP.default.createElement(GP.default.Fragment,null,t)}},QP=HP=cT([$x()],HP),$P=lT(hT()),zP=class extends Gx{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=e=>{null==e||e.stopPropagation();let t,r=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+r:-r;let n=(this.isCol?e.pageY:e.pageX)-t,i=Math.floor(n/this.size);this.emitComponentEvent(JT.UNITTAP,{index:i,event:e})},this.handleAdCustomEvent=({action:e})=>{[KT.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[KT.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||ux.ROWLOOP,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===ux.COLUMNLOOP,this.baseType===ux.ROWLOOP?this.initCarousel("width"):this.baseType===ux.COLUMNLOOP&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(let e of this.timerSet)clearTimeout(e)}autoplay(){return uT(this,null,(function*(){if(!this.isViewable||this.isPlaying)return;let e=this.baseType===ux.ROWLOOP?"left":"top";if(this.disabled)this.emitComponentEvent(JT.SHOWCHANGE,{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent(JT.SHOWCHANGE,{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(let e=0;e<this.animateCount;e+=1){let{animated:t}=this,r=setTimeout((()=>{this.timerSet.delete(r);let n=t?this.allIndexList.slice(this.allCount-e-this.showCount,this.allCount-e):this.allIndexList.slice(e,e+this.showCount);this.emitComponentEvent(JT.SHOWCHANGE,{list:n})}),e*this.duration);this.timerSet.add(r)}this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[e]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[e]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(e){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;let t=setTimeout((()=>{this.timerSet.delete(t),this.autoplay()}),this.duration/4);this.timerSet.add(t)}}))}render(){let{template:{children:e}}=this.props,{renderMask:t,maskContainerRef:r,randomKey:n}=this.props,{baseType:i,allCount:a,showCount:o}=this;if(!(e&&e.length&&a&&o))return $P.default.createElement("div",{id:"blank"});let s=["carousel-list",i===ux.ROWLOOP?"carousel-row":"carousel-col"];return $P.default.createElement("div",{id:"container",className:"carousel",ref:r,onClick:this.props.handleCommonClick,key:n||""},$P.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),$P.default.createElement("div",{id:"list",className:s.join(" ")},e.map((e=>$P.default.createElement(Yx,oT(oT({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==t?void 0:t())}},YP=Kx(zP=cT([$x()],zP)),ZP=lT(hT()),qP=()=>ZP.default.createElement("div",null);!function(e){e.opacity="opacity",e.left="left",e.top="top"}(eP||(eP={})),function(e){e.rotate="rotate",e.scaleX="scaleX",e.scaleY="scaleY"}(tP||(tP={}));var JP,XP=!1,KP=(rP=oE("handleAdDataDone"),nP=sE("handleAdDataError"),iP=oE("handleAdDataDone"),aP=sE("handleAdDataError"),oP=oE("handleAdDataDone"),sP=sE("handleAdDataError"),lP=oE("handleAdDataDone"),cP=sE("handleAdDataError"),uP=oE("handleAdDataDone"),dP=sE("handleAdDataError"),pP=oE("handleAdDataDone"),hP=sE("handleAdDataError"),fP=oE("handleAdDataDone"),gP=sE("handleAdDataError"),vP=oE("handleAdDataDone"),mP=sE("handleAdDataError"),_P=(e,t,r)=>{var n=r.value;r.value=function(...e){var t=e=>{JP&&JP in this&&"function"==typeof this[JP]&&this[JP](e)};try{var r=n.call(this,...e);return r instanceof Promise?r.catch((e=>t(e))):r}catch(e){t(e)}}},yP=class{constructor({adUnitId:e,adType:t,pluginAppid:r=""}){this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.slotData={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.webviewId=ME.currentWebviewId,this.fetchRetryCount=0,this.isCanvasXmlHook=!1,this.handledInNewFetch=!1,this.nativeMethodInvoker=new GS,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.datas=[],this.data={},this.convertedAdData=null,this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,"splashAd"!==t&&BE(),this.adUnitId=e,this.adType=t,this.pluginAppid=OE.isWaGame?"":r,this.mmReporter=new XC(this),this.cgiReporter=new tI(this),this.lander=new nI(this),this.bindProxyMethods(),this.setTimePoint("p1"),(e=>{"function"==typeof e&&qw.on("_onWxAdUserCaptureScreen",e)})((e=>{if(e.webviewId===ME.currentWebviewId&&this.data&&this.isViewable){var{uxinfo:t}=this.data;Sw({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}}))}bindProxyMethods(){var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],r=function(t){var r=(e=>{for(var t=new Set,r=e;r;){for(var n of Object.getOwnPropertyNames(r))t.add(n);r=Object.getPrototypeOf(r)}return[...t]})(t),n=function(r){var n,i,a;i=r,(null===(a=(n=t)&&n[nE])||void 0===a?void 0:a.has(i))&&(e[r]=(...e)=>t[r](...e))};for(var i of r)n(i)};for(var n of t)r(n)}isLimitRequest(){return"checkAd"!==this.lastAdRespone&&0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime}convertTestAdData(e){try{var t,r=K_(e),n=JSON.parse(r.crt_exp_info);if(r.crtExpInfo=n,1002===n.exp_type){if(null!==(t=r.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var i=JSON.parse(n.exp_data);r.wx_game_video.wxgame_video_card.flooring_page=i}}else if(1001===n.exp_type){r.profile_exp=!0;var a=n.exp_data&&"string"==typeof n.exp_data?JSON.parse(n.exp_data):n.exp_data;r.dest_type=a.dest_type;var o={};if(r.button_action)try{o=JSON.parse(e.button_action)}catch(e){}o.jump_type=a.jump_type,r.button_action=JSON.stringify(o)}else if(105===n.exp_type)r.ad_style_data=n.exp_data;else if(106===n.exp_type){q_(r,n.exp_data&&"string"==typeof n.exp_data?JSON.parse(n.exp_data):n.exp_data),r.common_exp=!0}else if(n.exp_type&&[108,109,2001].includes(n.exp_type))r.ad_dynamic_list=n.exp_data;else if(n.crt_size&&[Yb.CRT_SIZE_WX_APPLICATION_NEW,Yb.CRT_SIZE_WX_APPLICATION_X].includes(n.crt_size)){if(r.crt_size=n.crt_size,r.ad_width=n.width,r.material_width=n.width,r.ad_height=n.height,r.material_height=n.height,r.image_url=n.image_url,n.dest_url&&r.url&&[1,3,6].includes(r.dest_type)){var s=UA(r.url),l={};s.weixinadkey&&(l.weixinadkey=s.weixinadkey),s.ticket&&(l.ticket=s.ticket),s.gdt_vid&&(l.gdt_vid=s.gdt_vid),s.weixinadinfo&&(l.weixinadinfo=s.weixinadinfo),r.url=VA(n.dest_url,l)}r.watermark_text=n.watermark||""}else if(n.landpage_type){var c;null!==(c=r.wx_game_video)&&void 0!==c&&c.wxgame_video_card&&(r.wx_game_video.wxgame_video_card.flooring_page=n)}return r}catch(t){return e}}getFetchArgs({isAdInterval:e},t){var r,n,i={scene_type:ME.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:OE.gameAppId,orig_weapp_id:this.pluginAppid?OE.gameAppId:"",weapp_path:ME.weappPath,pos_id:"",network_type:OE.adNetworkType,orientation:{landscape:1,portrait:2}[OE.deviceOrientation],sdk_version:OE.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:OE.startTime.valueOf(),wxa_enter_ts:ME.enterForegroundTime.valueOf(),weixin_version:OE.wechatVersion,os_version:OE.systemVersion,machine_type:OE.model,is_ad_interval:!!e,env:null===(r=le.host)||void 0===r?void 0:r.env,app_appid:null===(n=le.host)||void 0===n?void 0:n.appId})};i.pos_id=lw[this.adType];var a={};return"grid"===this.adType?a.box_slot_ad={count:String(this.slotData.gridCount),box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)}:"splashAd"===this.adType?(a.splash_ad={count:String(5)},a.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,a.request_type=(null==t?void 0:t.requestType)||1,a.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],delete i.appid):"customAd"===this.adType?a={is_adunit_tmpl:!0}:"incentive-video"===this.adType?null!=t&&t.requestType&&(a.request_type=t.requestType):"cpsShopAd"===this.adType&&(a.cps_shop_req_info=t.cpsShopReqInfo||{},a.is_adunit_tmpl=t.isAdunitTmpl||!1),Yr()&&(a.in_3rd_app=1),a.machine_brand=OE.brand||(null==le?void 0:le.brand),i.ext_slot_custom_comm=JSON.stringify(a),i}validateFetchEnv(){if(Yr()&&this.reportAdMonitorData(Nb.THIRD_ERROR),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){var{crt_size:t}=e;if(!tw.includes(t)&&!this.isCpsShopAd())throw{errMsg:`unexpected advertisement crt_size ${t}`}}handleAdDataDone(){this.reportAdMonitorData(Nb.AD_FETCH_SUCCESS),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(Nb.AD_FETCH_ERROR,e)}handleWaidForList(e=[]){var t={};if(e.length<1)return Promise.resolve(t);var r=[];return null==e||e.forEach((e=>{r.push(ZA(e.apkName).then((t=>O()(O()({},t),{},{aid:e.aid}))))})),Promise.race([Promise.all(r).then((e=>(e.forEach((({waid:e,aid:r=""})=>{e&&r&&(t[r]=e)})),t))).catch((e=>(this.reportAdMonitorData(Nb.READ_ADINFOS_ERROR,e),t))),Ca(2e3).then((()=>t))])}handleBulkSaveMaterials(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?Gw(t):Promise.resolve()}getSplashAdMaterialList(e){var t,r,n=[],i=(null==e?void 0:e.crtInfo[0])||{},a=e.rerankingExtInfo.material_hash||"",o=(null==i?void 0:i.image_url)||"",s=(null==i||null===(t=i.card_info)||void 0===t?void 0:t.pure_color_url)||"",l=(null==i||null===(r=i.card_info)||void 0===r?void 0:r.material_blur_url)||"",c=`wxfile://ad/${e.aid}_${a}.png`;if(a&&n.push({url:o,fileName:`${e.aid}_${a}.png`,filePath:c}),s){var u=`wxfile://ad/${e.aid}_${a}_pure_color.png`;a&&n.push({url:s,fileName:`${e.aid}_${a}_pure_color.png`,filePath:u})}if(l){var d=`wxfile://ad/${e.aid}_${a}_blur.png`;a&&n.push({url:l,fileName:`${e.aid}_${a}_blur.png`,filePath:d})}if(null!=e&&e.adDynamicList||null!=e&&e.template)try{var p=null==e?void 0:e.adDynamicList;null!=e&&e.template&&(p=e.template);var{tplConfig:h}=p,f=null==h?void 0:h.cacheFile;if(f&&Object.keys(f).length>0)for(var g of Object.keys(f)){var v=`wxfile://ad/${e.aid}_${a}_${g}.png`;n.push({url:f[g],fileName:`${e.aid}_${a}_${g}.png`,filePath:v})}}catch(e){this.reportAdMonitorData({idKey:34,idKeyGroup:1646},e)}return n}handleAdInfosIndexCache(e,t,r){var n=this;return Nn()((function*(){var i;try{i=yield n.handleWaidForList(e)}catch(e){}t.deviceInfo=LE(),t.waidMap=i,n.reportAdMonitorData(Nb.READ_ADINFOS_SUCCESS,{adInfos:t});try{return yield jw(t,r),n.reportAdMonitorData(Wb.WRITE_ADINFOS_SUCCESS,{adInfos:t})}catch(e){var a=e instanceof Error?n.processStackMsg(e):e;return n.reportAdMonitorData(Wb.WRITE_ADINFOS_FAIL,{adInfos:t,errMsg:a})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t,r=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(r)?"checkAd":"fetch",r}handleSplashAd(e){var t=this;return Nn()((function*(){if(t.isCheckAdIsOnlineRequest(e))return t.handleCheckAdIsOnlineResp(e);t.reportAdMonitorData(Wb.dataLoadSuccess);var r=0,n=[],i=[],a=[],o=`${Ab()}_exposure_times`,s={slot_id:lw[t.adType],ads:[],crtSizeMap:{},materialHashMap:{},total_exposure_times:0,[o]:0,requestInQueue:"true",totalSizeUsed:0},l=yield Vw(fw);s.totalSizeUsed=l.totalSize;var c=l.outedDateFileList||[];c=c.length<21&&l.totalSize>20971520?l.fileList:c;try{yield((e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();var r=[];for(var n of t){var i=`${e}/${n}`;r.push(Uw(i))}return Promise.all(r)})(fw,c)}catch(e){t.reportAdMonitorData(Wb.removeFileDataFail,e)}try{var u=e.advertisement_info.length>0&&e.advertisement_info.map(((e,l)=>{var c,u,d=t.handleAdData(e),p=d.rerankingExtInfo.material_hash||"",h={material_hash:d.rerankingExtInfo.material_hash||"",tid:d.rerankingExtInfo.tid.toString()||"",aid:d.aid,trace_id:d.traceid};s.ads.push(h),s.total_exposure_times=d.rerankingExtInfo.total_exposure_times||0,s[o]=d.rerankingExtInfo[o]||0;var f=null===(c=d.condition)||void 0===c?void 0:c.widget_gray_splash_data_channel_parallel;s.requestInQueue=f?"false":"true",s.isCheckAndFetch=(null===(u=d.condition)||void 0===u?void 0:u.widget_gray_splash_check_and_fetch)||0,s.materialHashMap[d.aid]=p;var g=d.crtInfo[0]||{};if(d.crtInfo){s.crtSizeMap[d.aid]=g.width>=g.height?"landscape":"portrait";var{extBackComm:v}=d,{card_info:m}=g;v.is_from_snsadinfo&&d.ad_desc&&!m.description&&(m.description=d.ad_desc)}var _=t.getSplashAdMaterialList(d);i=i.concat(_),r+=0===l?_.length:0;var y=`wxfile://ad/${d.aid}.txt`;if(n.push(jw(d,y)),d.product_type===Zb.ANDROID){var A,b=null===(A=d.appInfo)||void 0===A?void 0:A.apkName;a.push({apkName:b,aid:d.aid})}return d}));t.datas=u}catch(e){throw t.reportAdMonitorData(Wb.handleDataFail,e),e}var d=i.slice(0,r);return yield Gw(d),n.push(Gw(i)),n.push(t.handleAdInfosIndexCache(a,s,"wxfile://ad/adinfos.txt")),Promise.all(n).then((()=>t.reportAdMonitorData(Wb.dataPreloadSuccess))).catch((e=>{throw t.reportAdMonitorData(Wb.dataPreloadFail,e),e})),t.datas[0]}))()}handleCustomAd(e){var t=e.advertisement_info.map(((e,t)=>{var r,n,i,a=e=>{if(0===t)throw e},o=null,s=this.handleAdData(e),{crtInfo:l,button_action:c,product_type:u,dest_type:d,crt_size:p}=s;if(s.reranking_ext_info&&s.reranking_ext_info.refresh_time)i=s.reranking_ext_info.refresh_time;else if(s.reranking_ext_info&&"string"==typeof s.reranking_ext_info)try{var h=JSON.parse(s.reranking_ext_info);h.refresh_time&&(i=h.refresh_time)}catch(e){}if(null!=s&&null!==(r=s.extBackComm)&&void 0!==r&&r.tmpl_info)try{var f=JSON.parse(s.extBackComm.tmpl_info);o=JSON.parse(f.tmpl_content),n=Number(s.extBackComm.sub_templ_id)}catch(e){this.reportAdMonitorData(Ub.TPL_PARSE_FAILED),a({errMsg:"custom template error",errCode:Ob.ERR_TPL_PARSE})}else this.reportAdMonitorData(Ub.TPL_LOAD_FAILED),a({errMsg:"no custom template",errCode:Ob.ERR_TPL_NONE});return O()(O()({},e),{},{crtInfo:l,button_action:c,product_type:u,dest_type:d,crt_size:p,condition:s.condition,template:o,subTemplId:n,refreshTime:i,aid:s.aid,app:s.app,appInfo:s.appInfo,extBackComm:s.extBackComm,wording:s.hint_txt,card_info:s.card_info,video_info:s.video_info,image_url:s.image_url,weapp_info:s.weapp_info,wx_game_video:s.wx_game_video})}));return this.reportAdMonitorData(Ub.LOAD_SUCCESS),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleCpsShopAd(e){var t=e.advertisement_info.map((e=>{var t=this.handleAdData(e);return O()(O()({},t),{},{extBackComm:O()(O()({},t.extBackComm),{},{cpsProduct:t.extBackComm.cps_weapp_shop_ad_info})})}));return this.datas||(this.datas=[]),this.datas=this.datas.concat(t),this.setCurrentData(0),t}handleGridAd(e){if(e.advertisement_info.length!==this.slotData.gridCount)throw this.reportAdMonitorData(Nb.AD_GRID_LOAD_COUNT_ERROR,{count:this.slotData.gridCount,getCount:e.advertisement_info.length}),{errMsg:"no advertisement count error",errCode:e.ret};var t=e.advertisement_info.map(((e,t)=>{var r=this.handleAdData(e);return r._isGrid=!0,r._gridInfo={row:5===this.slotData.gridCount?1:2,column:5===this.slotData.gridCount?5:4,index:t},r}));for(var r of(this.datas=t,this.setCurrentData(0),this.fetchRetryCount=0,this.datas))if(r.crt_size!==Yb.CRT_SIZE_MULTI_POS_GRID)throw{errMsg:`unexpected advertisement crt_size ${r.crt_size}`};return this.reportAdMonitorData(Nb.AD_GRID_LOAD_SUCCESS),this.datas}handleInterstitialAd(e){var t,{crtInfo:r,extBackComm:n}=e;if(!r[0])throw{errMsg:"unexpected addata"};(t=r[0]).card_info||(t.card_info={});var i=O()(O()(O()({},r[0]),Y_(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm","template","poi"])),{},{useTemplate:!!e.template||e.crt_size===Yb.CRT_SIZE_AMS_PIC_169}),a=r[0].card_info;if(n.is_from_snsadinfo){if(!a)throw this.reportAdMonitorData(Nb.INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR),{errMsg:"unexpected adData"};a.head_bg_img&&(a.bg_img=a.head_bg_img)}return e.ad_desc&&!a.description&&(a.description=e.ad_desc),null!=a&&a.desc&&null!=a&&a.description&&(a.description=""),this.convertedAdData=i,i}getRewardedVideoData(e){var t=e.crtInfo&&Array.isArray(e.crtInfo)?e.crtInfo:[],{extBackComm:r,canvas_info:n,ad_desc:i}=e;if(r.is_from_snsadinfo){var a,o,s=null==t||null===(a=t[0])||void 0===a?void 0:a.card_info,l=null==t||null===(o=t[0])||void 0===o?void 0:o.short_video;if(l&&l.video_duration<1e3&&(l.video_duration*=1e3),!s)throw this.reportAdMonitorData(Nb.REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR),{errMsg:"unexpected adData"};var{head_bg_img:c,thumb:u="",title:d=""}=s;return{crtInfo:t,headBgImg:c,mpTagType:0,gaussVideo:null,shortVideo:l,showTime:0,icon:u,name:d,wording:i.replace(/\n/g," "),flooringPage:null}}0===t.length&&t.push({wxgame_video_card:{}});var[{wxgame_video_card:{head_bg_img:p,mp_tag_type:h},wxgame_gauss_video:f}]=t,{wx_game_video:{short_video:g,wxgame_video_card:{show_time:v,thumb:m,title:_,desc:y,flooring_page:A}}}=e;return{crtInfo:t,headBgImg:p,mpTagType:h,gaussVideo:f,canvasInfo:n,shortVideo:g,showTime:v,icon:m,name:_,wording:y,flooringPage:A}}handleRewardedVideoAd(e){var t,r,n,i;e.crt_size===Yb.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var{crtInfo:a,headBgImg:o,mpTagType:s,gaussVideo:l,canvasInfo:c,shortVideo:u,showTime:d,icon:p,name:h,wording:f,flooringPage:g}=this.getRewardedVideoData(e),v=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)v=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var m=JSON.parse(e.reranking_ext_info);m.rewarded_time&&(v=m.rewarded_time)}catch(e){}v=Math.floor(1e3*v),g&&[3,4].indexOf(g.landpage_type)>-1&&(this.data.isPlayable=!0);var _=O()({crtInfo:a[0],canvas_info:c,type:Kb[e.pt],shortVideo:this.mapRewardVideoFields(u),gaussVideo:l?this.mapRewardVideoFields(O()(O()({},l),{},{video_duration:l.video_duration_ms})):null,rewardedTime:v,card:{icon:p,name:h,wording:f,headBgImg:o,mpTagType:s,showTime:d},flooringPage:g},Y_(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo","extBackComm"]));this.convertedAdData=_;var y=qC(_),A=JC(_);return this.reportRewardGaussVideo({useGaussVideo:y,useExpandStyle:A,expUseGaussVideo:null!==(t=null===(r=e.condition)||void 0===r?void 0:r.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(n=null==u?void 0:u.video_url)&&void 0!==n?n:"",gaussVideoUrl:null!==(i=null==l?void 0:l.video_url)&&void 0!==i?i:""}),null!=l&&l.video_url&&this.reportAdMonitorData(Nb.REWARD_GAUSS_EXISTS),y&&A?this.reportAdMonitorData(Nb.REWARD_USE_GAUSS_AND_EXPAND_STYLE):y?this.reportAdMonitorData(Nb.REWARD_USE_GAUSS):A&&this.reportAdMonitorData(Nb.REWARD_USE_EXPAND_STYLE),_}mapRewardVideoFields(e){var{thumb_url:t,video_url:r,video_duration:n,thumb_width:i,thumb_height:a}=e;return{poster:t,src:r,duration:n,width:i,height:a}}handleRewardedLandingPage(e){var t,r=OE.isAndroid&&le.clientVersion>=654315008||OE.isIOS&&le.clientVersion>=385879552;if((null===(t=this.data.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&r)try{var{canvas_info:n}=e,{root:i}=Ey()(n.ad_info_xml),a=(e=>{if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0})(e),o=this.composeExposureCommonInfo({top:0,left:0,width:OE.screenWidth,height:OE.screenHeight});i.children.push({name:"viewid",children:[],attributes:{},content:a},{name:"commInfo",children:[],attributes:{},content:o});var s=Tw(i,!0);this.data.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}handleBannerAd(e){var t,{extBackComm:r,crtInfo:n,pt:i,crt_size:a,image_url:o,material_width:s,material_height:l,ad_width:c,ad_height:u,use_style_data:d,hint_txt:p,watermark_type:h}=e,{antifraud_popup:f}=r;void 0===f&&(f=!1);var g,v,m=Kb[i];d?(g=c,v=u):[Yb.CRT_SIZE_WX_APPLICATION,Yb.CRT_SIZE_WX_APPLICATION_NEW,Yb.CRT_SIZE_WX_APPLICATION_X].includes(a)?(g=(c||s)/2,v=(u||l)/2):a===Yb.CRT_SIZE_WX_APPLICATION_CARD&&(g=c,v=u);var _=O()(O()({antifraudPopup:f,type:m,crt_size:a,useStyleData:d,watermark:ew[h],width:g,height:v,image:{src:o,width:s,height:l},wording:p},Y_(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo","crtInfo","template"])),{},{useTemplate:!!e.template||e.crt_size===Yb.CRT_SIZE_CARD_COMPT_IMAGE}),y=(null==n||null===(t=n[0])||void 0===t?void 0:t.card_info)||{};if(r.is_from_snsadinfo&&!y)throw{errMsg:"unexpected adData"};return r.is_from_snsadinfo&&e.ad_desc&&!y.description&&(y.description=e.ad_desc),null!=y&&y.desc&&null!=y&&y.description&&(y.description=""),this.convertedAdData=_,_}extractJson(e,t,r,n){var i=null!=r?r:t;if(e[i]&&"string"==typeof e[i])try{e[t]=JSON.parse(e[i])}catch(r){e[t]=null!=n?n:{}}else null!=n&&(e[t]=n)}buildWechatInfo(e){if(e.product_type===Zb.WE_CHAT){var{biz_appid:t,biz_info:{nick_name:r,is_subscribed:n,head_img:i,biz_uin:a}}=e;return{icon:i,nickname:r,uin:a,isFollowed:n,biz_appid:t}}return{}}buildAppInfo(e){var t=e.product_type;if([Zb.ANDROID,Zb.IOS].includes(t)){var{app_info:{app_name:r,apk_name:n,apk_url:i,app_md5:a,icon_url:o,url_scheme:s,version_code:l,channel_id:c,desc:u}}=e;return{appName:r,apkName:n,apkUrl:i,appMd5:a,iconUrl:o,urlScheme:s,versionCode:l,channelId:c,desc:u}}return{}}handleAdData(e){var t,r,n,i,a;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var o,s,l,c=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):K_(e),u=c;(c.crt_size&&(u.crt_size=Number(c.crt_size)),this.extractJson(u,"crtInfo","crt_info"),this.extractJson(u,"extBackComm","ext_back_comm"),this.extractJson(u,"button_action","button_action",{}),this.extractJson(u,"adStyleData","ad_style_data",""),this.extractJson(u,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(u,"extInfo","ext_info"),this.extractJson(u,"adDynamicList","ad_dynamic_list"),null!==(t=u.crtInfo)&&void 0!==t&&null!==(r=t[0])&&void 0!==r&&null!==(n=r.card_info)&&void 0!==n&&n.sns_to_mp_supplementary)&&Object.assign(u.crtInfo[0].card_info,null===(o=u.crtInfo)||void 0===o||null===(s=o[0])||void 0===s||null===(l=s.card_info)||void 0===l?void 0:l.sns_to_mp_supplementary);if(c.flow_exp_info)try{u.condition=Cw(c.flow_exp_info),this.isSplashAd()||this.handleSplashAdFetchLog(u.condition)}catch(e){}if(u.adStyleData&&pE("native",u.crt_size)){u.use_style_data=!0;var{adStyleData:d}=u;c.ad_width=d.width,c.ad_height=d.height,d.widgets.forEach((e=>{var t=c.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(u);var p=c.button_action;if(p.button_text=p.button_text||"查看",c.watermark_text=c.watermark_text||"去逛逛",18001===(null==u||null===(i=u.extInfo)||void 0===i?void 0:i.page_type)){var h={gdt_vid:c.traceid||"",uxinfo:c.uxinfo||"",ad_token:c.ad_token||"",rl:c.rl||""};c.url=VA(c.url,h)}if(null!=u&&null!==(a=u.extBackComm)&&void 0!==a&&a.ad_template_info)try{u.template=JSON.parse(u.extBackComm.ad_template_info)}catch(e){u.template=null}var f=this.buildWechatInfo(u),g=this.buildAppInfo(u);return c.product_type===Zb.ANDROID&&ZA(g.apkName).then((({waid:e})=>{u.waid=e,this.reportAdMonitorData(Nb.GET_WAID_SUCCESS)})).catch((e=>{this.reportAdMonitorData(Nb.GET_WAID_ERROR,e)})),O()(O()({},u),{},{app:f,appInfo:g})}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,Hw(e))}handleOperateWXData(e){var t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?Sb(t):Tb(t)}processFetch(e,t,r){var n=this;return Nn()((function*(){if(n.validateFetchEnv(),Object.keys(t).length>0)(e=>{var t=Object.keys(e);for(var r of t)OE[r]=e[r]})(t);else{OE.deviceOrientation=NE();var{networkType:i}=yield n.getNetworkType();OE.adNetworkType=i}var a=n.getFetchArgs({isAdInterval:e},r);n.setLastAdReqTs(+new Date),n.setLastExposureTime(0),n.setLastClickTime(0),n.setTimePoint("p2");try{var o=yield n.handleOperateWXData(a);if(n.fetchPromise=null,n.fetchRetryCount=0,n.handledInNewFetch=!1,n.setTimePoint("p3"),o=o.data,n.validateFetchRes(o),n.isSplashAd())return n.handleSplashAd(o);if(n.isGridAd())return n.handleGridAd(o);if(n.isCustomAd())return n.handleCustomAd(o);if(n.isCpsShopAd())return n.handleCpsShopAd(o);var s=n.handleAdData(o.advertisement_info[0]);return n.data=s,n.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),n.isInterstitialAd(s)?n.handleInterstitialAd(s):n.isRewardedVideoAd(s)?n.handleRewardedVideoAd(s):n.handleBannerAd(s)}catch(t){var l="";try{l=JSON.parse(t).errMsg}catch(e){}if(n.fetchPromise=null,0===l.indexOf("getAdData:fail")&&n.fetchRetryCount<1)return n.fetchRetryCount+=1,n.fetch(e);throw n.isBannerAd()?n.reportAdMonitorData(Nb.AD_BANNER_LOAD_ERROR,t):n.isRewardedVideoAd()?n.reportAdMonitorData(Nb.AD_VIDEO_LOAD_ERROR,t):n.isInterstitialAd()?n.reportAdMonitorData(Nb.AD_INTERSTITIAL_LOAD_ERROR,t):n.isGridAd()?n.reportAdMonitorData(Nb.AD_GRID_LOAD_ERROR,t):n.isCustomAd()?n.reportAdMonitorData(Ub.LOAD_FAILED,t):n.isSplashAd()&&n.reportAdMonitorData(Wb.dataLoadFail,t),t}}))()}checkDuplicateRecommendedAds(e,t,r){var n=this;return Nn()((function*(){var i=[],a="0",o=decodeURIComponent(n.data.apurl);/viewid=([^&]+)/.test(o)&&(a=RegExp.$1);var s={conv_status:i},l={},{imei:c,idfa:u}=yield VE,d={viewid:a,app_status:0,follow_status:0,imei:c,idfa:u};if(e===Zb.WE_CHAT){if(l.ad_type=1,l.ad_id=t.biz_appid,d.follow_status=t.isFollowed?2:1,t.isFollowed)return n.reportAdMonitorData(Nb.AD_FOLLOWED,{adInfo:l})}else if(e===Zb.ANDROID){var{apkName:p,versionCode:h}=r;try{var f=yield n.getInstallState(p),g=f.isInstalled&&(void 0===f.versionCode||f.versionCode>=h);l.ad_type=2,l.ad_id=p,d.app_status=g?2:1,g&&n.reportAdMonitorData(Nb.AD_INSTALLED,{adInfo:l})}catch(e){d.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})}}i.push(d),n.reportInstallFollow(s)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getSlotData(){return this.slotData}getDeviceInfo(){return OE}isBannerAd(){return"banner"===this.adType}isRewardedVideoAd(e){return"incentive-video"===this.adType&&(!e||pE("all",e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||qS("all",e.crt_size))}isGridAd(){return"grid"===this.adType}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}isCpsShopAd(){return"cpsShopAd"===this.adType}getProgramStartTime(){return OE.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:ME.lastWebviewId,currentWebviewId:ME.currentWebviewId,openType:ME.currentOpenType}}setSlotData(e){this.slotData=Object.assign(this.slotData,e||{})}reset(){this.adDataIndex=0,this.cgiReporter.reset()}fetch(e=!1,t={},r={}){return this.fetchPromise||(this.fetchPromise=this.processFetch(e,t,r)),this.fetchPromise}setRightButtonHide(e){var t=()=>OE.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((r=>(this.reportAdMonitorData(Nb.RIGHTBUTTON_HIDE_ERROR,{retryCount:0,isHide:e,message:this.processStackMsg(r)}),t().catch((t=>{throw this.reportAdMonitorData(Nb.RIGHTBUTTON_HIDE_ERROR,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,r,n){return jS({taskName:e,taskUrl:t,fileMd5:r,extInfo:n}).catch((e=>(this.reportAdMonitorData(Nb.ADD_DOWNLOAD_TASK_ERROR,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return OE.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!OE.isWaGame&&OE.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,i=e.absoluteEndY,a=e.pressInterval,o=!1;return Math.abs(i-r)<30&&Math.abs(n-t)<30&&a<300&&(o=!0),o}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var r,n,i=null==this||null===(r=this.data)||void 0===r||null===(n=r.extBackComm)||void 0===n?void 0:n.uid,a={};4===t?a.xj_scene=6:(a.gdt_vid=this.data.traceid||"",a.uxinfo=this.data.uxinfo||"",a.reward=1),a.rl=this.data.rl||"",a.ad_token=this.data.ad_token||"",OE.isIOS&&(a.uid=i||"");var o=VA(e,a);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(Nb.H5_PRELOAD_BUTTON_CLICKED),Eb({url:o})}setDeviceInfo(e){Object.assign(OE,e)}setSplashAdShowStatus(){XP=!0}getSplashAdShowStatus(){return XP}getChannelsLiveStatus(){var e=this;return Nn()((function*(){var{dest_type:t,extBackComm:{channels_info:r,live_video_mode:n,live_video_sub_mode:i}}=e.data;if(!r||null==n||null==i)return"none";if(tk(n,i)&&t===Qb.DEST_TYPE_CHANNELS_LIVE){var{id:a,username:o}=r;if(!a||!o)return"none";try{var{status:s}=yield e.getChannelsLiveInfo({feedId:a,finderUserName:o});if([iw.NONE,iw.IN_PREPARE].includes(s))return"none";if(s===iw.ON_AIR)return"onlive";if(s===iw.ENDED)return"end";e.reportAdIDKey({key:Nb.GET_CHANNELS_LIVE_STATUS_SUCCESS})}catch(t){e.reportAdMonitorData(Nb.GET_CHANNELS_LIVE_STATUS_FAILED,{id:a,username:o,errMsg:t})}}else if(rk(n,i)&&t===Qb.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}handleAdTemplateEvent(e){switch(e.action){case KT.FEEDBACKBTNTAP:return this.openFeedbackUrl(OE.isWaGame?1003:1005),!0;case KT.REPORTTIMEPOINT:return e.value.key&&this.setTimePoint(e.value.key),!0;case KT.REPORTMMDATA:return e.value.id&&e.value.data&&this.reportMMData(parseInt(e.value.id,10),e.value.data),!0;case KT.REPORTADMONITORDATA:var{id:t,key:r,extInfo:n}=e.value,i=t?{idKeyGroup:t,idKey:r}:r;return this.reportAdMonitorData(i,n),!0}return!1}isOriginExposureArea(e){if(!e)return!1;var{left:t,top:r,width:n,height:i}=e;return r+i>=1&&r<=OE.screenHeight-1&&t+n>=1&&t<=OE.screenWidth-1}isViewableExposureArea(e){if(!e)return!1;var{left:t,top:r,width:n,height:i}=e,a=t+n<=OE.screenWidth?t+n:OE.screenWidth-t,o=r+i<=OE.screenHeight?r+i:OE.screenHeight-r;return(a=a>n?n:a)*(o=o>i?i:o)/(n*i)>=.5}},cn()(yP.prototype,"handleCheckAdIsOnlineResp",[rP,nP],Object.getOwnPropertyDescriptor(yP.prototype,"handleCheckAdIsOnlineResp"),yP.prototype),cn()(yP.prototype,"handleSplashAd",[iP,aP],Object.getOwnPropertyDescriptor(yP.prototype,"handleSplashAd"),yP.prototype),cn()(yP.prototype,"handleCustomAd",[oP,sP],Object.getOwnPropertyDescriptor(yP.prototype,"handleCustomAd"),yP.prototype),cn()(yP.prototype,"handleCpsShopAd",[lP,cP],Object.getOwnPropertyDescriptor(yP.prototype,"handleCpsShopAd"),yP.prototype),cn()(yP.prototype,"handleGridAd",[uP,dP],Object.getOwnPropertyDescriptor(yP.prototype,"handleGridAd"),yP.prototype),cn()(yP.prototype,"handleInterstitialAd",[pP,hP],Object.getOwnPropertyDescriptor(yP.prototype,"handleInterstitialAd"),yP.prototype),cn()(yP.prototype,"handleRewardedVideoAd",[fP,gP],Object.getOwnPropertyDescriptor(yP.prototype,"handleRewardedVideoAd"),yP.prototype),cn()(yP.prototype,"handleBannerAd",[vP,mP],Object.getOwnPropertyDescriptor(yP.prototype,"handleBannerAd"),yP.prototype),cn()(yP.prototype,"checkDuplicateRecommendedAds",[_P],Object.getOwnPropertyDescriptor(yP.prototype,"checkDuplicateRecommendedAds"),yP.prototype),yP),ek=e=>e===rw.LIVE,tk=(e,t)=>ek(e)&&t===nw.ROOM,rk=(e,t)=>ek(e)&&t===nw.RESERVATION,nk="",ik=Ee,ak="",ok="",sk="",lk="",ck="",uk="",dk=!0,pk="";le.onReady((()=>{nk=jA()||"";var e=pa();ak=e.system,ok=e.version,sk=e.SDKVersion,ck=e.model,uk=e.brand,dk=jr();try{pk=le.accountInfo.appId,lk=__libVersionInfo__.updateTime}catch(e){}}));var hk=(e,t)=>{var r=$_(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:pk,appid:pk,orig_weapp_id:"",network_type:"",wechat_version:ok,platform:ik,system_version:ak,device_orientation:nk,wxapp_lib_version:sk,wxapp_lib_time:lk,machine_type:ck,ad_platform:dk?1:0},t),t=Object.assign({DeviceModel:ck,DeviceBrand:uk,OsName:ik,OsVersion:ak},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),en({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}}).catch((e=>{}))},fk=(e,t,r)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),Reporter.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}hk(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})})({key:e,extInfo:t,reportData:r})},gk=0,vk={};Kn((e=>{vk=e,gk=e.webviewId}));var mk=Date.now(),_k=Date.now(),yk=Date.now(),Ak=0;Un((()=>{(mk=Date.now())>_k&&(Ak+=mk-_k)})),Pi((()=>{_k=Date.now()})),Mo((()=>{yk=Date.now()}));var bk=null,wk=[];f("videoAdPreloadInfoGet",(e=>{bk=e,wk.forEach((e=>{e&&e(bk)})),wk=[]}));var Ek=null,Ck=new Date,Ik="";le.onReady((()=>{Ck=new Date;var e=pa();Ik=e.model}));var Sk={},Tk=(e,t)=>{Sk[e]=t},xk=e=>{var t;t=t=>{var r={};Yr()&&(r.in_3rd_app=1);var n={ad_unit_id:e,pos_id:"7090665964306299",scene_type:t.scene_type,weapp_path:vk.path,user_agent:t.ua,weapp_extra_data:JSON.stringify({start_ts:Ck.valueOf(),enter_ts:mk,user_duration:Date.now()-yk-Ak,machine_type:Ik,env:le.host&&le.host.env,app_appid:le.host&&le.host.appId}),ext_slot_custom_comm:JSON.stringify(r)};Kr({sdkApiName:"getadvert",apiName:"webapi_getadvert",reqData:n,success:t=>{try{if((t=t.data).advertisement_num>=1&&t.advertisement_info.length){var r=t.advertisement_info[0];r._preloadTime=+new Date,1515===r.crt_size?((e,t)=>{try{var r=Date.now();Od({url:t.video_info.videoUrl,success(n){t.video_info.preloadUrl=n.tempFilePath,Tk(e,t),fk(80,{costTime:Date.now()-r},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})},fail(n){Tk(e,t),fk(81,{costTime:Date.now()-r,e:n},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})}})}catch(e){}})(e,r):Tk(e,r);var n=(e=>{var t={};try{for(var r of e=JSON.parse(e))r.hasOwnProperty("exp_para")&&r.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));return t}catch(e){return{}}})(r.flow_exp_info);void 0!==n.widget_gray_preload_max&&(kk=n.widget_gray_preload_max),fk(74,{errMsg:"advertisement success",errCode:t.ret},{ad_pos_type:6,aid:r.aid,traceid:r.traceid,ad_unit_id:e})}else fk(75,{errMsg:"no advertisement",errCode:t.ret},{ad_pos_type:6,ad_unit_id:e})}catch(t){fk(75,{errMsg:"advertisement error"},{ad_pos_type:6,ad_unit_id:e})}},fail:()=>{fk(76,{errMsg:"advertisement fail"},{ad_pos_type:6,ad_unit_id:e})}})},bk?t&&t(bk):(Ek&&clearTimeout(Ek),Ek=setTimeout((()=>{h("videoAdPreloadInfo",null,[gk])}),0),wk.push(t))},Pk=[],kk=5,Dk=()=>Pk,Rk=[],Ok={},Mk=null,Lk=[];f("videoAdPreloadInfoGet",(e=>{Mk=e,Lk.forEach((e=>{null==e||e(Mk)})),Lk=[]}));var Nk=null,Bk={},Wk=function(){var e=Nn()((function*(e,t){var r,n;try{var{data:i}=t;if(!(i.advertisement_num>=1&&i.advertisement_info.length))return void fk(Nb.PRELOAD_LOAD_ERROR,{errCode:i.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var a,o=i.advertisement_info[0];if(r=o.aid,n=o.traceid,null!==(a=o.video_info)&&void 0!==a&&a.videoUrl){var s=yield((e,t)=>new Promise((r=>{var n=Date.now();Od({url:t.video_info.videoUrl,success(i){r(i.tempFilePath),fk(Nb.PRELOAD_DOWNLOAD_SUCCESS,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-n},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){r(""),fk(Nb.PRELOAD_DOWNLOAD_ERROR,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})))(e,o);s&&(o.video_info.preloadUrl=s)}fk(Nb.PRELOAD_LOAD_SUCCESS,{type:e.type},{ad_unit_id:e.unitId,aid:o.aid,traceid:o.traceid}),Bk[e.unitId]={data:JSON.stringify(i),_preloadTime:+new Date,_aid:r,_traceid:n}}catch(t){fk(Nb.PRELOAD_LOAD_ERROR,{errMsg:"advertisement error",error:null==t?void 0:t.stack,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,r){return e.apply(this,arguments)}}(),Fk=new Set,Uk=e=>{var t;Fk.has(e.unitId)||(Fk.add(e.unitId),t=t=>{var r={pos_id:"",ad_unit_id:e.unitId,scene_type:t.scene_type,weapp_path:ME.weappPath,user_agent:t.ua,sdk_version:OE.SDKVersion,appid:OE.gameAppId,orig_weapp_id:"",weapp_extra_data:JSON.stringify({wxa_start_ts:OE.startTime.valueOf(),wxa_enter_ts:ME.enterForegroundTime.valueOf(),start_ts:OE.startTime.valueOf(),enter_ts:ME.enterForegroundTime.valueOf(),user_duration:ME.gameDuration+(Date.now()-ME.enterForegroundTime.getTime()),machine_type:OE.model,is_ad_interval:!1,wxa_ext:""}),ext_slot_custom_comm:""},n={is_ad_preload:1};"custom"===e.type?(r.pos_id=lw.customAd,n.is_adunit_tmpl=!0):"banner"===e.type?(r.pos_id=lw.banner,Number(e.adIntervals)>0&&(n.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?r.pos_id=lw.wxAppPreVideoAd:"video"===e.type&&(r.pos_id=lw.wxAppVideo),Yr()&&(n.in_3rd_app=1),n.machine_brand=OE.brand||(null==le?void 0:le.brand),r.ext_slot_custom_comm=JSON.stringify(n),Kr({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:r,success:t=>{Wk(e,t)},fail:t=>{fk(Nb.PRELOAD_CALL_ERROR,{error:t,type:e.type},{ad_unit_id:e.unitId})},complete:()=>{Fk.delete(e.unitId)}})},Mk?null==t||t(Mk):(Nk&&clearTimeout(Nk),Nk=setTimeout((()=>{h("videoAdPreloadInfo",null,[ME.currentWebviewId])}),0),Lk.push(t)))},Vk=()=>Rk;function jk(e){var t=le.accountInfo&&le.accountInfo.appId||"noAppId";ii("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function Gk(e,t){var r=le.accountInfo&&le.accountInfo.appId||"noAppId";e&&ii("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:r},void 0,t)}var Hk=!1,Qk=500,$k=!1,zk=0,Yk=1,Zk=2,qk=3,Jk=4,Xk=()=>{var e,t,r;return{shouldCheck:null!==(e=Hk)&&void 0!==e&&e,timeout:null!==(t=Qk)&&void 0!==t?t:500,deprecated:null!==(r=$k)&&void 0!==r&&r}},Kk=function(){var e=Nn()((function*(e){try{var{data:t}=yield iD({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{})}});if(void 0!==t.openproduct_checkticket&&(Hk=!!t.openproduct_checkticket),void 0!==t.openproduct_checktickettimeout&&(Qk=parseInt(t.openproduct_checktickettimeout,10)),void 0!==t.openproduct_checkticket_deprecated&&($k=!!t.openproduct_checkticket_deprecated),void 0!==t.openleague_cookie){var r=[];bi(t.openleague_cookie||"",!1,r);var n=Si({cookies:r});n&&wxNativeConsole.error("[set openleague_cookie]",n)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();le.onReady((()=>{setTimeout((()=>Kk(le.appLaunchInfo||{})),1e3)})),Un((e=>{(e.reLaunch||e.isLaunch)&&Kk(e)}));var eD=(()=>{var e,t,r,n;return Un((i=>{e=+i.scene||0,t=i.scene_note||i.sceneNote||"",r=+i.prescene||0,n=i.prescene_note||i.presceneNote||""})),le.onReady((()=>{(()=>{var i=le.appLaunchInfo||{};e=i.scene||0,t=i.scene_note||i.sceneNote||"",r=i.prescene||0,n=i.prescene_note||i.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})(),tD=$("requestPayment",function(){var e=Nn()((function*(e){var t=D(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},e);var{deprecated:r,shouldCheck:n}=Xk(),i=!1;if(i="develop"===le.envVersion||"trial"===le.envVersion?le.usingShopPlugin||!1:n||!1){if(console.log("wx.requestPayment is deprecated for shop plugin. Please use wx.requestOrderPayment."),r)throw new Error("deprecated for shop plugin");var a=zk,o=e.ticket||"";try{var s=Xk().timeout||500;try{var{is_authorized:l}=yield Promise.race([aD(O()({ticket:o,prepay_id:e.package.replace("prepay_id=","")},eD())),oD("timeout",s)]);a=l?qk:Jk}catch(e){wxNativeConsole.error("[paymentCheckTicket] fail",e),a=e&&"timeout"===e.message?Zk:Yk}if(a===Jk)throw new Error("check ticket rejected")}finally{sD({ticket:o,checkTicketStatus:a})}}var c,u=cD.NONE;try{var d=yield lD(e);return u=cD.SUCCESS,d}catch(e){throw u=cD.FAILED,c=e.message,e}finally{i&&uD({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:u,requestPaymentErrmsg:c})}}));return function(t){return e.apply(this,arguments)}}()),rD=function(){var e=Nn()((function*(){var{time:e,isRistWarning:t,wording:r}=yield new Promise((e=>{jk((t=>{var r=!1,n="",i=le&&le.appContactInfo&&le.appContactInfo.operationInfo&&le.appContactInfo.operationInfo.jsonInfo&&le.appContactInfo.operationInfo.jsonInfo.warning_info&&le.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];i&&i.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(r=!0,n=e.wording)})),e({time:t,isRistWarning:r,wording:n})}))})),n=(+new Date-(e||0))/1e3/60;t&&n>30&&(yield new Promise(((e,t)=>{ro({content:r,confirmText:"继续支付",cancelText:"取消",success(r){r.confirm?(Gk(+new Date),e()):t(new Error("cancel"))}})})))}));return function(){return e.apply(this,arguments)}}(),nD=N(it.bind(null,"requestPayment")),iD=N(Kr),aD=function(){var e=Nn()((function*(e={}){var{data:t}=yield iD({apiName:"webapi_openproductcheckticket",reqData:O()({},e)});return t}));return function(){return e.apply(this,arguments)}}(),oD=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),sD=({ticket:e,checkTicketStatus:t})=>{var r=le.appLaunchInfo||{},n=eD(),i=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");Reporter.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},lD=function(){var e=Nn()((function*(e){yield rD();var t=Ci();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie;var r=de(),n=yield nD(O()(O()({adUxInfo:r},e),{},{grantMessageQuota:!0}));return Kr({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),ii("reportPaymentFormId",{packageStr:e.package}),Ps(),n}));return function(t){return e.apply(this,arguments)}}(),cD={NONE:0,SUCCESS:1,FAILED:2},uD=function(){var e=Nn()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:i,outOrderId:a}){var o=ya(!0),s=le.appLaunchInfo||{},{data:l}=yield en({apiName:"webapi_openproductreportorder",reqData:{ext_info:O()(O()({ext_useruin:e,ext_appid:le.host&&le.host.appId,session_id:s.sessionid||s.sessionId||""},eD()),{},{add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:o.model,brand:o.brand,version:o.version,system:o.system,platform:o.platform,sdk_version:o.SDKVersion}),prepay_id:i,order_info:{out_order_id:a}}});return l}));return function(t){return e.apply(this,arguments)}}(),dD=["orderInfo","extUserUin"],pD=N(Kr),hD=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),fD=0,gD=1,vD=2,mD=3,_D=4,yD=0,AD=1,bD=2,wD=function(){var e=Nn()((function*({extUserUin:e,prepayId:t,orderInfo:r}={}){var n=le.appLaunchInfo||{},{data:i}=yield pD({apiName:"webapi_openproductaddorder",reqData:{ext_info:O()({ext_useruin:e,ext_appid:le.host&&le.host.appId,session_id:n.sessionid||n.sessionId||""},eD()),prepay_id:t,order_info:r}});return i}));return function(){return e.apply(this,arguments)}}(),ED=$("requestOrderPayment",function(){var e=Nn()((function*(e={}){var t=D(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);var r,n,i,{orderInfo:a={},extUserUin:o}=e,s=v()(e,dD),l=(e.package||"").replace("prepay_id=",""),c=Xk().timeout,u=(e.orderInfo||{}).out_order_id,d=fD,p=yD;try{try{var{errcode:h,errmsg:f,cookie:g}=yield Promise.race([wD({extUserUin:o,prepayId:l,orderInfo:a}),hD("timeout",c)]);if(d=0===h?gD:_D,n=f,r=h,0===h&&void 0!==g){var m=[];bi(g||"",!1,m);var _=Si({cookies:m});_&&wxNativeConsole.error("[set openleague_cookie]",_)}}catch(e){d=e&&"timeout"===e.message?mD:vD}if(d===_D)throw new Q(n||"addOrder failed",{addOrderErrCode:r});try{var y=wi({key:"prepay_id",value:l,busid:"mmbiz_wxa_related_order"});s.passCookies&&"string"==typeof s.passCookies?s.passCookies=y+";;"+s.passCookies:s.passCookies=y,yield lD(s),p=AD}catch(e){throw i=e.message||"unknown",p=bD,e}}finally{uD({extUserUin:o,addOrderStatus:d,requestPaymentStatus:p,requestPaymentErrmsg:i,prepayId:l,outOrderId:u})}}));return function(){return e.apply(this,arguments)}}()),CD=(e={})=>{it("requestFacetoFacePayment",e)},ID=(e={})=>{it("requestPersonalPay",e)},SD="getShareInfo",TD=(e={})=>{var t=tr.get(e.shareTicket),{success:r,fail:n,failWithMsg:i}=ht(e,SD);t?Kr({sdkApiName:SD,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):i({msg:"invalid shareTicket"})},xD={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},PD=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){xD.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(xD.withShareTicket=!0,it("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(xD.withShareTicket=!1,it("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){xD.showShareTimelineMenu=!0;var i=new Promise(((e,t)=>{it("showShareTimelineMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{pt({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");dt("showShareMenu",e,r,t.errCode)}))},kD=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{it("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(xD.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){xD.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var i=new Promise(((e,t)=>{it("hideShareMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{pt({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");dt("hideShareMenu",e,r,t.errCode)}))};function DD(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?it("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function RD(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});it("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?xD.isPrivateMessage=!0:!1===e.isPrivateMessage&&(xD.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function OD(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?(it("updateShareMenuUpdatable",{updatable:!0}),it("updateShareMenuShareTicket",{withShareTicket:!0}),it("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var MD=(e={})=>{Promise.all([DD(e),RD(e),OD(e)]).then((t=>{"function"==typeof e.success&&__errorTracer__.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},LD=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},ND=e=>{if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/tmp\//.test(e))throw new Error("invalid path")}else if(e)return pn(e,!1);return e},BD=$("shareFileMessage",function(){var e=Nn()((function*(e={}){ut(e,{filePath:""});var t=ND(e.filePath);try{yield at("shareFileMessage",O()(O()({},e),{},{filePath:t}))}catch(e){if("cancel"!==e.message)throw e}}));return function(){return e.apply(this,arguments)}}()),WD=$("shareVideoMessage",function(){var e=Nn()((function*(e={}){ut(e,{videoPath:""});var t=ND(e.videoPath),r=ND(e.thumbPath);try{yield at("shareVideoMessage",O()(O()({},e),{},{videoPath:t,thumbPath:r}))}catch(e){if("cancel"!==e.message)throw e}}));return function(){return e.apply(this,arguments)}}()),FD="authPrivateMessage";var UD=function(e={}){ot(vr(this))("chooseImage",Mt({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes}})},VD=(e={})=>{if(ct("previewImage",e,{urls:[""]})){var t=le.version,r=le.system,n="7.0.12"===t&&r.indexOf("iOS 13.4")>=0;for(var i of e.urls)if(/^\s*data:image\//.test(i)&&n)return void dt("previewImage",e,"url can not be base64 on iOS 13.4");var a=Object.assign({},e);a.urls=a.urls.slice(),a.referrerPolicy=a.referrerPolicy||"origin",gn(a.urls,"image",(e=>{var t=a.urls;if(a.urls=[...e.data.map((e=>e.url))],a.current){var r=t.indexOf(a.current);r>=0&&(a.current=a.urls[r])}a.urls&&(a.urls=a.urls.map((e=>nc.get(e)||e))),it("previewImage",a)}))}},jD=e=>{var t=Object.assign({},e),r=[t.src];gn(r,"image",(e=>(t.src=e.data[0].url,GD(t,Md))))},GD=(e,t)=>{ct("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?it("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,it("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):dt("getImageInfo",e,"image not found (404)")},fail(t){dt("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=Tt(we.lastRoute,e.src,!1),it("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},HD=(e={})=>{e.filePath=nc.get(e.filePath)||e.filePath,it("saveImageToPhotosAlbum",e,{})},QD=(e={})=>{var t={src:"",quality:80};ct("compressImage",t=Ut(t,e),{src:"",quality:80})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store)\//.test(e.src)||(t.src=Tt(we.lastRoute,t.src,!1)),it("compressImage",t))},$D=N(jD),zD=1,YD=3,ZD=4,qD=5,JD=6,XD=7,KD=({action:e})=>{var t=le.appLaunchInfo||{},r=[le.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");Reporter.reportKeyValue({key:"ShareImageMenu",value:r})},eR=function(){var e=Nn()((function*(e){var t=(yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot)))))).append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),r=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return Hi(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),tR=$("showShareImageMenu",function(){var e=Nn()((function*(e={}){if(!sr("showShareImageMenu"))throw new Error("no permission");ut(e,{path:""});var t=e.path;if(/^\w+:\/\//.test(t)){if(!/^wxfile:\/\//.test(t)&&!/^http:\/\/tmp\//.test(t))throw new Error("invalid path")}else t="/"+pn(t,!1);var{height:r,width:n}=yield $D({src:t}),{action:i}=yield eR({imgPath:t,height:r,width:n});switch(KD({action:zD}),i){case"shareToFriend":try{yield at("shareImageMessage",{imagePath:t}),KD({action:YD})}catch(e){if("cancel"===e.message)return void KD({action:ZD});throw e}return;case"addToFavorites":return KD({action:qD}),void(yield at("addImageToFavorites",{url:t}));case"saveToAlbum":return KD({action:JD}),yield at("saveImageToPhotosAlbum",{filePath:t}),void(Se&&lo({icon:"success",title:"已保存"}));default:case"cancel":throw KD({action:XD}),new Error("cancel")}}));return function(){return e.apply(this,arguments)}}()),rR=!1,nR=null,iR=null;Kn((()=>{rR=!0})),Mo((()=>{rR=!1,nR&&(sR(nR),nR=null),iR&&(lR(iR),iR=null)}));var aR,oR,sR=e=>{ct("addCard",e,{cardList:[]})&&(rR?nR=e:it("addCard",e))},lR=e=>{ct("openCard",e,{cardList:[]})&&(rR?iR=e:it("openCard",e))},cR=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey}),uR={openAddress:"jsapi_address",chooseInvoiceTitle:"jsapi_invoice",chooseInvoice:"jsapi_invoice",getPhoneNumber:"webapi_getuserwxphone_group",chooseLicensePlate:"jsapi_licenseplate",chooseImage:"jsapi_media",chooseMedia:"jsapi_media",chooseVideo:"jsapi_media",chooseMessageFile:"jsapi_messagefile"};!function(e){e.USER_INFO="webapi_userinfo"}(oR||(oR={}));var dR,pR=/^wx[0-9a-f]{16}(\/.*)?$/;!function(e){e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.REMOVAL_NOTIFIED=7]="REMOVAL_NOTIFIED"}(dR||(dR={}));var hR=(e,t)=>{var r="string"==typeof t&&t.match(pR)?(e=>e.split("/",1)[0])(t):null;return{apiName:"webapi_reportwxauseuserinfo",reqData:{scope:e,state:dR.USED},pluginId:r,fail({errMsg:t}){wxNativeConsole.warn(`[reportUserInfo] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}}};function fR(e){Kr(hR(oR.USER_INFO,e))}!function(e){void 0===Ze&&(Ze=e)}(((e,t)=>{var r=((e,t)=>{var r=uR[e];return"string"==typeof r?hR(r,t):null})(e,t);null!==r&&setTimeout((()=>{Kr(r)}),200)}));var gR=(e={})=>{nn("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}))(e)},vR=null,mR=function(e){ot(vr(this))("openAddress",e,{beforeSuccess(e){Yt(e,"addressPostalCode","postalCode"),Yt(e,"proviceFirstStageName","provinceName"),Yt(e,"addressCitySecondStageName","cityName"),Yt(e,"addressCountiesThirdStageName","countyName"),Yt(e,"addressStreetFourthStageName","streetName"),Yt(e,"addressDetailInfoNew","detailInfoNew"),Yt(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},_R={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2},yR=function(e){var t={};for(var r in e)t[e[r]]=r;return t}(_R);function AR(e){if(wxNativeConsole.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r,n=t.template_id;return t.sys_msg_type>0&&(r=t.sys_msg_type,n=yR[r]),t.ban_flag?e[n]="ban":(e[n]=t.setting_status?"accept":"reject",t.is_accept_with_audio&&(e[n]="acceptWithAudio")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var bR=nn("getSetting","webapi_getuserallappauth",(function(e){var t=r&&r.version&&r.version.version||"",n=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete n.withSubscriptions,n}),AR),wR=(e={})=>{var t=Ir().apiCategory;if(["nativeFunctionalized"].includes(t))return dt("openSetting",e,`not supported in ${t} apiCategory.`),void lo({icon:"none",title:"暂不支持当前功能"});((e={})=>{it("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})})(e)},ER=function(e={}){ot(vr(this))("chooseInvoiceTitle",e,{beforeSuccess(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var r=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,r)}catch(e){}}})},CR=nn("getOpenDeviceId","webapi_getdeviceinfo"),IR=(e=[])=>e.map((e=>({sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}))),SR=Gr(((e={})=>{nn("checkWxaSportRecord","webapi_checkwxasportrecord",(e=>({sport_record_list:IR(e.recordList)})))(e)})),TR=Gr(((e={})=>{nn("reportWxaSportRecord","webapi_reportwxasportrecord",(e=>({sport_record_list:IR(e.recordList)})))(e)})),xR=({show:e=0,statusCancel:t=0,statusConfirm:r=0,clickMoreCount:n=0})=>{var i=[e,t,r,n];Reporter.reportKeyValue({key:"ShareToWeRun",value:i.join(","),immediately:!0})},PR=null;es((e=>{var t=e.theme;PR&&PR.setData({theme:t})}));var kR=parseInt(Date.now()/1e3,10),DR=function(e={}){ot(vr(this))("chooseInvoice",Object.assign({},e,{timeStamp:kR,nonceStr:kR+""}),{beforeSuccess(){}})},RR=nn("getWxSecData","getWxSecData",((e={})=>e),(e=>e)),OR=!1;Kn((()=>{OR=!1})),Pi((()=>{OR=!1}));var MR=e=>{Reporter.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),it("requestSubscribeMessage",t,{beforeAll(){OR=!1},beforeSuccess(){Reporter.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),OR=!1},beforeFail(){Reporter.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},LR=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return OR=!1,void dt("requestSubscribeMessage",e,t,r);var i=n.map((e=>({TemplateId:e})));Kr({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:le.accountInfo.appId,ActionType:1,ItemList:i},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return OR=!1,void pt({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var i="订阅一次以下消息通知";3===r.TemplateType&&(i="长期订阅以下消息通知"),no({title:i,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){OR=!1,NR(e,t)},fail(t){OR=!1,dt("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();dt("requestSubscribeMessage",e,r,+t.err_code),OR=!1}})},NR=(e,t)=>{var r=e.tmplIds[0];Kr({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:le.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),pt({name:"requestSubscribeMessage",args:e,res:n}),lc({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();dt("requestSubscribeMessage",e,r,+t.err_code)}})},BR=1,WR=2,FR=3,UR={0:"none",1:"accept",2:"cancel",3:"reject"},VR=!1;Kn((()=>{VR=!1})),Pi((()=>{VR=!1}));var jR="";le.onReady((()=>{jR=le.appLaunchInfo.chatroomUsername})),oe("onAppEnterForeground",((e={})=>{jR=e.chatroomUsername}));var GR="getGroupEnterInfo",HR=[1011,1025,1047,1124],QR=(e={})=>{var{scene:t}=Cr();HR.indexOf(t)<0&&console.log(`enter scene must be one of [1011, 1025, 1047, 1124], current is ${t}`);var r=Object.assign({},e);if("string"==typeof r.url){var n=Em("publishWeChatState",r,!1);if(!n)return;r.url=n,r.url=Lt(r.url)}it("publishWeChatState",r)},$R=__safeway__.apiSign.makeApiSign,zR={setPrivateExtraData:function(e){try{a.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}},getCurrentRoute:(e={})=>{e.success({currentRoute:we.lastRoute})},getRealRouteWithProtocol:(e={})=>{var{lastRoute:t=we.lastRoute,relativeRoute:r=".",needTrans:n=!0}=e;e.success({route:Pt(t,r,n)})},setWxInterfaceDisabled:Dr,navigateTo:Tm,navigateToWithRelatedInfo:xm,redirectTo:Im,switchTab:Pm,navigateBack:km,reLaunch:Sm,getUserCloudStorage:e=>{var t=Rm(e.keyList);t?dt("getUserCloudStorage",e,t):Lm(e)},getFriendCloudStorage:(e={})=>{var t=Rm(e.keyList);t?dt("getFriendCloudStorage",e,t):Nm(e)},getGroupCloudStorage:e=>{var t=Rm(e.keyList);t?dt("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?tr.get(e.shareTicket)?Bm(e):dt("getGroupCloudStorage",e,"参数 shareTicket 不正确"):tr.lastShareTicket&&tr.get(tr.lastShareTicket)?Bm(Object.assign({shareTicket:tr.lastShareTicket},e)):dt("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},reportRecycledAPI:Kt,getPassCookieString:Ei,getPayCookieString:Ci,getPluginInfo:e=>{e.success(hr.pluginInfos[e.pluginId])},getPluginContactList:function(e){void 0===Om?Fm.push(e.success):e.success(Om)},_checkBeforeNavigateToMiniProgram:Cs,getVideoAdPreloadData:e=>{var t=e.data,{unitId:r}=t;Sk[r]?(e.success&&e.success({adData:Sk[r]}),delete Sk[r]):e.success&&e.success({adData:null}),-1!==Pk.indexOf(r)&&setTimeout((()=>{xk(r)}),1e3)},getAdPreloadData:e=>{var{data:t}=e,{ad_unit_id:r,appid:n,orig_weapp_id:i,weapp_extra_data:a,pos_id:o}=t;try{if(n!==OE.gameAppId)throw new Error("appid Error");if(i)throw new Error("orig_weapp_id Error");var s=JSON.parse(a);if(s.is_ad_interval)throw new Error("is_ad_interval Error");if(s.wxa_ext)throw new Error("wxa_ext Error");var{type:l}=Ok[r];if("banner"===l&&-1===[lw.banner,void 0,""].indexOf(o))throw new Error("pos_id Error");if("custom"===l&&o!==lw.customAd)throw new Error("pos_id Error");if("videoPatch"===l&&o!==lw.wxAppPreVideoAd)throw new Error("pos_id Error");if("video"===l&&o!==lw.wxAppVideo)throw new Error("pos_id Error")}catch(t){var c,u;return null===(c=e.fail)||void 0===c||c.call(e,{errMsg:"getAdData: fail"}),void fk(Nb.PRELOAD_USE_ERROR,{type:null===(u=Ok[r])||void 0===u?void 0:u.type,error:null==t?void 0:t.message},{ad_unit_id:r})}if(Bk[r]){var d,p,h,f;if(Date.now()-Bk[r]._preloadTime>6e5)null===(d=e.fail)||void 0===d||d.call(e,{errMsg:"getAdData: fail"}),fk(Nb.PRELOAD_USE_ERROR,{type:null===(p=Ok[r])||void 0===p?void 0:p.type,error:"time more than 10m"},{ad_unit_id:r});else null===(h=e.success)||void 0===h||h.call(e,{data:Bk[r],errMsg:"getAdData: ok from preload"}),fk(Nb.PRELOAD_USE_SUCCESS,{type:null===(f=Ok[r])||void 0===f?void 0:f.type},{ad_unit_id:r,aid:Bk[r]._aid,traceid:Bk[r]._traceid});delete Bk[r]}else{var g,v;null===(g=e.fail)||void 0===g||g.call(e,{errMsg:"getAdData: fail"}),fk(Nb.PRELOAD_USE_ERROR,{type:null===(v=Ok[r])||void 0===v?void 0:v.type,error:"has no preload data"},{ad_unit_id:r})}-1===Rk.indexOf(r)||Fk.has(r)||setTimeout((()=>{Uk(Ok[r])}),1e3)},shareImageMessage:(e={})=>{it("shareImageMessage",e,{})},getCloudFileInfo:mn,_setNavigateBackInterception:Wi,_stopNavigateBackInterception:Ui,chooseInvoice:DR,chooseInvoiceTitle:ER,checkPermission:e=>{pt({name:"checkPermission",args:e,success:!0,res:{hasPermission:sr(e.apiName)}})},_setWxIsInvokeInTapForNavToMiniProgramForWebview:e=>{Ps(),"function"==typeof e.success&&e.success()}},YR=(e,t,r,n)=>{h("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:r},[n])};f("invokeAppServiceMethod",(({name:e,type:t,args:n,callbackId:i},a)=>{try{if("bridge"===t){var o=$R(e,n);pe(e,o,(t=>{t.errMsg=t.errMsg||`${e}:ok`,-1!==t.errMsg.indexOf(`${e}:ok`)?YR(t,!0,i,a):YR(t,!1,i,a)}))}else{n.success=e=>{YR(e,!0,i,a)},n.fail=e=>{YR(e,!1,i,a)};var s=("wx"===t?r[e]:zR[e])(n);s instanceof Promise&&s.catch((()=>{}))}}catch(t){var l={errMsg:`${e}: fail ${t.message}`};YR(l,!1,i,a)}})),Y("onStartReportPageData",(()=>{var e=(void 0!==a?a.getCurrentPagesByDomain(""):[]).find((e=>e.__wxWebviewId__===we.currentWebviewId));e&&ii("getInnerHTML",{},[we.currentWebviewId],(({html:t})=>{var r;try{r=JSON.stringify({html:t,data:e.data})}catch(e){r=""}it("reportPageData",{isUserReport:!0,pageData:r,pageRoute:e.__route__,complete(){}})}))}));var ZR={},qR={};function JR(e,t,r){var n=qR[e];n&&n[`bind${t}`]&&we.webviewEventCallback&&we.webviewEventCallback({data:{type:t,target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimestamp,detail:r},eventName:n[`bind${t}`],webviewId:e,nodeId:n.nodeId})}function XR(e){var t=ZR[e];t&&t.length&&JR(e,"message",{data:t})}function KR({name:e,arg:t},r){!Ie||Te||Pe||(r=we.currentWebviewId),"navigateBack"===e?km({delta:t.delta}):"navigateTo"===e?Tm({url:t.url}):"redirectTo"===e?Im({url:t.url}):"reLaunch"===e?Sm({url:t.url}):"switchTab"===e?Pm({url:t.url}):"error"===e?JR(r,"error",{errMsg:"web-view load failed due to not in domain list",url:t.url}):"postMessage"===e&&ZR[r]&&ZR[r].push(t)}f("webViewInserted",(function(e,t){qR[t]=e,ZR[t]=[],dn(t,(function(e){XR(e),delete qR[e],delete ZR[e]})),function(e,t){un.on(`onBeforeShareAppMessage_${e}`,(e=>{"function"==typeof t&&t(e)}))}(t,XR),it("hideShareTimelineMenu")})),f("webViewRemoved",(function(e,t){XR(t),delete qR[t],delete ZR[t],a.showShareTimelineMenuIfNeeded(t)})),Y("onWebInvokeAppService",KR),Y("WEB_INVOKE_APPSERVICE",KR),Y("onBottomBannerButtonClicked",((e={})=>{zr()&&(Sr(1),Reporter.submit()),it("restart",{url:e.currentPath,scene:1155,fail(e){wxNativeConsole.error("restart fail",e)}})}));var eO=function(e,t,r){setTimeout((()=>{h("callbackMiniProgramFunction",{callbackId:t,argArr:r},[e])}),0)};f("callMiniProgramFunction",(({callbackId:e,paths:t,funcName:r,argArr:n},i)=>{var a=null;"object"!=typeof t&&(t=[t]);for(var o=0;o<t.length;o++){var s=t[o];".js"!==s.slice(-3)&&(s+=".js");try{a=A(s)}catch(e){}if(a)break}if(a)if("function"!=typeof a[r]){eO(i,e,[{errMsg:"callMiniProgramFunction:fail Function not found"}])}else n.push((function(...t){eO(i,e,t)})),a[r].apply({},n);else{eO(i,e,[{errMsg:"callMiniProgramFunction:fail File not found"}])}}));var tO=ie("UpdateWXConfig"),rO=tO.onMethod;tO.offMethod;Y("onUpdateWXConfig",(e=>{wxNativeConsole.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{le[t]=e[t]})),tO.emit(e)}));var nO=!1;le.onReady((()=>{nO="develop"===le.envVersion||"trial"===le.envVersion}));var iO={wgs84:0,gcj02:0},aO={wgs84:null,gcj02:null};Kn((()=>{iO.wgs84=0,iO.gcj02=0})),Pi((()=>{iO.wgs84=0,iO.gcj02=0}));var oO=(e={})=>{"gcj02"!==e.type&&(e.type="wgs84");var t=Date.now(),r=aO[e.type],n=iO[e.type];t-n>=1e4||!r?((e={},t={})=>{it("getLocation",e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))})(e,{afterSuccess(r){iO[e.type]=t,aO[e.type]=r}}):nO?dt("getLocation",e,"频繁调用会增加电量损耗，可考虑使用 wx.onLocationChange 监听地理位置变化"):pt({name:"getLocation",success:r.errMsg&&0===r.errMsg.indexOf("getLocation:ok"),args:e,errMsg:r.errMsg,res:r})},sO=function(e={}){it("chooseLocation",e)},lO=(e={})=>{it("choosePoi",e)},cO=function(e={}){ct("openLocation",e,{latitude:1,longitude:1})&&it("openLocation",e)},uO=ie("locationChange"),dO=uO.onMethod,pO=uO.offMethod;Y("onLocationChange",((e={})=>{uO.emit(e)}));var hO=ie("locationChangeError"),fO=hO.onMethod,gO=hO.offMethod;Y("onLocationChangeError",((e={})=>{hO.emit(e)}));var vO=function(e={}){var t={subKey:"",enableIndoor:!1,enable:!0};Object.assign(t,e),it("enableLocationUpdate",t,{beforeAll(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","startLocationUpdate")}})},mO=function(e={}){Ie&&le.clientVersion>=654312704&&le.clientVersion<654312960?it("enableLocationUpdate",Object.assign({enable:!1},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableLocationUpdate","stopLocationUpdate")}}):it("disableLocationUpdate",e,{beforeAll(e){e.errMsg=e.errMsg.replace("disableLocationUpdate","stopLocationUpdate")}})},_O=()=>{if(!le.ext)return{};try{return JSON.parse(JSON.stringify(le.ext))}catch(e){return{}}},yO={},AO={},bO={};function wO(e,t){return e+"_"+t}function EO(){return(Se?parseFloat((le.system||"").replace("iOS","")):0)>=13}function CO(e){delete yO[e],delete AO[e],delete bO[e]}function IO(e,t,r,n=!0){var i=wO(t,e);if(n&&(void 0===yO[i]||!0!==yO[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a=O()({scrollViewId:e},r),o=yO[i];return o&&o.fallback?h("operateWebviewScrollView",a,[t]):it("operateScrollView",a,{success(){}}),!0}function SO(e,t,r,n=!0){var i=wO(e,t);return!n||void 0!==yO[i]&&!0===yO[i].enhanced?(h("operateXWebScrollView",O()({scrollViewId:t},r),[e]),!0):(console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1)}f("enhancedScrollViewReady",((e,t)=>{var r=wO(t,e.scrollViewId);yO[r]={enhanced:!0,data:e.data,fallback:e.fallback}})),f("commonScrollViewReady",((e,t)=>{var r=wO(t,e.scrollViewId);yO[r]||(yO[r]={enhanced:!1});var n=AO[r];n&&"function"==typeof n&&(n(),delete AO[r]),dn(t,(()=>{CO(r)}))})),f("commonScrollViewDestroyed",((e,t)=>{CO(wO(t,e.scrollViewId))})),f("enhancedScrollViewDragEvent",((e,t)=>{var r=wO(t,e.scrollViewId),n=yO[r];if(n&&n.data){var i=n.data,a="",o="";if("dragstart"===e.eventName?(a="dragstart",o=i.handlers.binddragstart):"dragging"===e.eventName?(a="dragging",o=i.handlers.binddragging):"dragend"===e.eventName&&(a="dragend",o=i.handlers.binddragend),o){var s={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft};"dragend"===a&&(s.velocity=e.velocity),we.webviewEventCallback({data:{type:a,target:i.target,currentTarget:i.target,touches:[],detail:s},eventName:o,webviewId:i.webviewId,nodeId:i.nodeId})}}})),f("enhancedScrollViewSubscribeEvent",((e,t)=>{Se&&!EO()||(e.subscribe?IO(e.scrollViewId,t,{registerDelegate:!0}):IO(e.scrollViewId,t,{removeDelegate:!0}))})),oe("onScrollViewWillEndDragging",(e=>{var t=wO(we.currentWebviewId,e.scrollViewId),r=yO[t];if(r&&r.data){var n=r.data;we.webviewEventCallback({data:{type:"dragend",target:n.target,currentTarget:n.target,touches:[],detail:{scrollTop:e.contentOffset.y,scrollLeft:e.contentOffset.x,velocity:e.velocity}},eventName:n.handlers.binddragend,webviewId:n.webviewId,nodeId:n.nodeId})}}));class TO{constructor(e,t){this.id=e,this.webviewId=t,this._scrollEnabled=!0,this._bounces=!0,this._showScrollbar=!0,this._pagingEnabled=!1,this._fastDeceleration=!1,this._decelerationDisabled=!1}}class xO extends TO{constructor(e,t){super(e,t),this.uid=wO(t,e),void 0!==yO[e]&&!0===yO[e].enhanced&&(this.scrollEnabled=!0)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){IO(this.id,this.webviewId,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){IO(this.id,this.webviewId,{bounces:e})&&(this._bounces=e)}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){IO(this.id,this.webviewId,{showsVerticalScrollIndicator:e,showsHorizontalScrollIndicator:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){IO(this.id,this.webviewId,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){IO(this.id,this.webviewId,{decelerationRate:e?.99:.998})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;if(void 0===r)IO(this.id,this.webviewId,{"setContentOffset:animated":{animated:!!i,contentOffset:{x:a,y:o}}});else{if(Se&&!EO())return;IO(this.id,this.webviewId,{"setContentOffset:springAnimated":{contentOffset:{x:a,y:o},duration:r/1e3,delay:0,damping:1,velocity:n}})}}get decelerationDisabled(){return this._decelerationDisabled}set decelerationDisabled(e){Se&&!EO()||IO(this.id,this.webviewId,{customDecelerateEnabled:e})&&(this._decelerationDisabled=e)}_onReady(e){var t=yO[this.uid],r=()=>{"function"==typeof e&&e()};t?r():AO[this.uid]=()=>{r()}}scrollIntoView(e){!function(e,t,r,n=!0){var i=wO(t,e);!n||void 0!==yO[i]&&!0===yO[i].enhanced?h("operateWebviewScrollView",O()({scrollViewId:e},r),[t]):console.warn("此方法需要 scroll-view 开启 enhanced 属性！")}(this.id,this.webviewId,{scrollIntoView:e},!1)}}class PO extends TO{constructor(e,t){super(e,t),this.uid=wO(t,e)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){SO(this.webviewId,this.id,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){SO(this.webviewId,this.id,{showScrollbar:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){SO(this.webviewId,this.id,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){SO(this.webviewId,this.id,{fastDeceleration:e})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;SO(this.webviewId,this.id,{scrollToWithAnimation:{contentOffset:{x:a,y:o},duration:r,animated:i,velocity:n}})}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}_onReady(e){var t=yO[this.uid],r=()=>{"function"==typeof e&&e()};t?r():AO[this.uid]=()=>{r()}}scrollIntoView(e){SO(this.webviewId,this.id,{scrollIntoView:e},!1)}}class kO extends TO{get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){}scrollTo(){}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}scrollIntoView(e){SO(this.webviewId,this.id,{scrollIntoView:e},!1)}}var DO=(e,t,r,n)=>{if(e)if(Array.isArray(e))e.forEach((e=>DO(e,t,r,n)));else{var{contextIs:i,contextId:a,contextCanvasId:o}=e;i&&("wx-video"===i&&(e.context=Ep(a,we.currentWebviewId)),"wx-live-player"===i&&(e.context=xf(a,we.currentWebviewId,n)),"wx-map"===i&&(e.context=Mn(a,we.currentWebviewId)),"wx-canvas"===i&&o&&(e.context=Xl(o,t)),"wx-editor"===i&&(e.context=am(a,we.currentWebviewId)),delete e.contextIs,delete e.contextId,delete e.contextCanvasId);var{nodeIs:s,nodeId:l,nodeCanvasType:c,nodeCanvasId:u,nodeNodeId:d}=e;s&&("wx-canvas"===s&&l&&(e.node=Uh(l,c,u,d)),"wx-scroll-view"===s&&l&&(e.node=function(e){var t=we.currentWebviewId,r=((e,t)=>`${e}-${t}`)(t,e);return bO[r]||(bO[r]=Se?new xO(e,t):Ie||Ce?new PO(e,t):new kO(e,t)),bO[r]}(l)),delete e.nodeIs,delete e.nodeId,delete e.nodeCanvasId,delete e.nodeNodeId,e.node&&"function"==typeof e.node._onReady&&r.push(new Promise((t=>e.node._onReady(t)))))}};class RO{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}}var OO={},MO=e=>class{constructor(e){if(e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var t=a.getCurrentPagesByDomain("");this._defaultComponent=t[t.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}in(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}select(e){return new RO(this,this._component,e,!0)}selectAll(e){return new RO(this,this._component,e,!1)}selectViewport(){return new RO(this,0,"",!0)}_push(t,r,n,a,o){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var s=e?"":i.getRootNodeId(this._webviewId);this._queue.push({component:null!=r?0===r?0:r.__wxExparserNodeId__:s,selector:t,single:n,fields:a}),this._queueCb.push(o||null)}exec(t){((e,t,r)=>{if(null!=e)var n=i.requestViewInfo("selectorQuery",t,e,(t=>{r&&(i.endViewInfoCallback(e,n),r&&r(t))}));else console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")})(this._webviewId,{pluginId:e,queue:this._queue},(r=>{var n=this._queueCb,i=[],a=[];r.forEach(((t,r)=>{DO(t,this._component,a,e),"function"==typeof n[r]&&i.push(__errorTracer__.surroundThirdByTryCatch((()=>{n[r].call(this,t)}),"at SelectorQuery callback function"))})),"function"==typeof t&&i.push(__errorTracer__.surroundThirdByTryCatch((()=>{t.call(this,r)}),"at SelectorQuery callback function")),a.length?Promise.all(a).then((()=>{i.forEach((e=>e()))})):i.forEach((e=>e()))}))}};function LO(e,t){return OO[t]||(OO[t]=MO(t)),new OO[t](e)}var NO=(e,t,r)=>{var n=i.requestViewInfo("intersection",t,e,(t=>{t.reqEnd&&i.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},BO={},WO=e=>class{constructor(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=a.getCurrentPagesByDomain("");r.length&&(this._webviewId=r[r.length-1].__wxWebviewId__)}}relativeTo(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}relativeToViewport(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}observe(t,r){if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var n=this._component;NO(this._webviewId,{type:"addIntersectionObserver",pluginId:e,nodeId:n?n.__wxExparserNodeId__:i.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&r.call(this,e.info))}))}disconnect(){NO(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}};function FO(e,t,r){return BO[r]||(BO[r]=WO(r)),new BO[r](e,t)}var UO=(e,t,r)=>{var n=i.requestViewInfo("matchMedia",t,e,(t=>{t.reqEnd&&i.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},VO={},jO=()=>class{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,this._webviewId=e.__wxWebviewId__}observe(e,t){if(null!==this._observerId)throw new Error('"observe" call can be only called once in MediaQueryObserver');this._observerId="",UO(this._webviewId,{type:"addMediaQueryObserver",mediaQueryCond:e},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&t.call(this,e.info))}))}disconnect(){UO(this._webviewId,{type:"removeMediaQueryObserver",observerId:this._observerId}),this._disconnected=!0}};function GO(e,t,r){return VO[r]||(VO[r]=jO()),new VO[r](e,t)}var HO=[],QO=null;function $O(){var e=HO;HO=[],QO=null;for(var t=0,r=e.length;t<r;t++){var n=e[t];n&&(n=__errorTracer__.surroundThirdByTryCatch(n,"at api nextTick callback function")),n&&n()}}var zO=e=>{e&&"function"==typeof e&&(HO.push(e),QO||(QO=setTimeout($O,0)))},YO=new ee;Y("onLoadSubPackageTaskStateChange",(e=>{YO.emit(e.state,e.taskId,e)}));var ZO={},qO=[],JO=new WeakMap,XO=new WeakMap,KO=function(e){return ZO[e]},eM=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},tM=function(e,t=!1){var r=e;"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith(".js")||(r.endsWith("/")||(r=`${r}/`),r=`${r}game.js`);var n=_E.get();if(Zr()&&jr()&&!t&&!n)return"__APP__"===e?__subContextEngine__.getGameContext().evaluateScriptFile("game.js"):__subContextEngine__.getGameContext().evaluateScriptFile(r)};YO.on("success",((e,t)=>{var r=KO(e);delete ZO[e],Array.isArray(r)&&r.forEach(function(){var e=Nn()((function*(e){var r=t.moduleName,n=JO.get(e),i=eM(t);qO.push(r),yield tM(r,t.isMonkeyTest),i.errMsg="loadSubpackage:ok","function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)}));return function(t){return e.apply(this,arguments)}}())})),YO.on("fail",((e,t)=>{var r=KO(e);delete ZO[e],Array.isArray(r)&&r.forEach((e=>{var r=JO.get(e),n=eM(t);n.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),YO.on("progressUpdate",((e,t)=>{var r=KO(e);Array.isArray(r)&&r.forEach((e=>{var r=XO.get(e),n=eM(t);"function"==typeof r&&r(n)}))}));var rM=function(){var e,t=JO.get(this);if(qO.indexOf(t.name)>=0){var r={errMsg:"loadSubpackage:ok",moduleName:t.name};return"function"==typeof t.success&&t.success(r),void("function"==typeof t.complete&&t.complete(r))}if("__APP__"===t.name&&Ce&&Zr()&&jr()){qO.push(t.name),tM(t.name);var n={errMsg:"loadSubpackage:ok"};return"function"==typeof t.success&&t.success(n),void("function"==typeof t.complete&&t.complete(n))}if(it("createLoadSubPackageTask",{moduleName:t.name,success:e=>{void 0===ZO[e.loadTaskId]?ZO[e.loadTaskId]=[this]:ZO[e.loadTaskId].push(this)},fail:r=>{e=r.errMsg,Se&&(r.errMsg="loadSubpackage:fail module not found","function"==typeof t.fail&&__errorTracer__.surroundThirdByTryCatch(t.fail)(r),"function"==typeof t.complete&&__errorTracer__.surroundThirdByTryCatch(t.complete)(r))}}),e)throw new Error(e.replace(/createLoadSubPackageTask:fail[ :]/,""))};class nM{constructor(e){JO.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=__errorTracer__.surroundThirdByTryCatch(e[t],`at api loadSubpackage ${t} callback function`))})),rM.call(this)}onProgressUpdate(e){XO.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}}var iM=(e={})=>{var t=Object.assign({},e);if(ct("loadSubPackage",t,{name:""})){var r=le.subPackages||le.subpackages;if(r){r.forEach((e=>{t.name!==e.alias&&t.name!==e.name||(t.name=e.root)}));var n="__APP__"===t.name||"__GAME__"===t.name;n||t.name.startsWith("/")||(t.name=`/${t.name}`),n||t.name.endsWith(".js")||t.name.endsWith("/")||(t.name=`${t.name}/`),"__GAME__"===t.name&&(t.name="__APP__");try{return new nM(t)}catch(e){return void dt("loadSubpackage",t,e.message)}}else dt("loadSubpackage",t,"Your subpackages configuration is invalid.")}},aM=(e={})=>{setTimeout((()=>{it("getBatteryInfo",e)}),0)},oM=()=>{var e={level:100,isCharging:!0};if(it("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},sM=!1,lM=ie("accelerometerChange"),cM=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=Mt(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0});it("enableAccelerometer",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),sM=!0},uM=(e={})=>{it("enableAccelerometer",Mt(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),sM=!1},dM=lM.onMethod,pM=lM.offMethod,hM=e=>{sM||(it("enableAccelerometer",{enable:!0}),sM=!0),dM(e)};Y("onAccelerometerChange",((e={})=>{le.clientVersion>=369558016&&le.clientVersion<369558272&&(e.x&&(e.x/=180/Math.PI),e.y&&(e.y/=180/Math.PI),e.z&&(e.z/=180/Math.PI)),lM.emit(e)}));var fM=!1,gM=ie("compassChange"),vM=(e={})=>{it("enableCompass",Mt(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),fM=!0},mM=(e={})=>{it("enableCompass",Mt(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),fM=!1},_M=gM.onMethod,yM=gM.offMethod,AM=e=>{fM||(it("enableCompass",{enable:!0}),fM=!0),_M(e)};Y("onCompassChange",((e={})=>{gM.emit(e)}));var bM=(e={})=>{ct("makePhoneCall",e,{phoneNumber:""})&&it("makePhoneCall",e)},wM=(e={})=>{it("makeVoIPCall",Mt({allowBackCamera:!1,showOther:!1},e))},EM=(e={})=>{ct("scanCode",e,{})&&it("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},CM=nn("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),IM=nn("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),SM=(e={})=>{ct("scanItem",e,{})&&it("scanItem",O()(O()({},e),{},{data:JSON.stringify({appId:le.accountInfo.appId,path:we.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?CM({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):dt("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}}))},TM=__safeway__.apiSign.makeApiSign,xM=(e={})=>{it("getClipboardData",TM("getClipboardData",e),{beforeSuccess(e){if(e.data&&7!==le.appType){var{system:t,accountInfo:r}=le;if(le.useClipboardWithPermissionNotify||/^iOS /i.test(t)&&parseInt(t.split(" ")[1],10)>=14){var n=r?r.nickname:"小程序";lo({icon:"none",title:`“${n}”读取了你的剪切板内容`})}}}})},PM=(e={})=>{if(ct("setClipboardData",e,{data:""})){var t=TM("setClipboardData",e);it("setClipboardData",t,{beforeSuccess(){lt("showToast",{duration:1500,title:"内容已复制",icon:"none",mask:!1});try{we.currentClipBoardData=e.data,om(!0)}catch(e){}}})}},kM=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((function(e){return"string"==typeof e&&t.test(e)})))return void dt("startBeaconDiscovery",e,"invalid service uuid")}it("startBeaconDiscovery",e)}else dt("startBeaconDiscovery",e,"uuid must be an Array");else dt("startBeaconDiscovery",e,"must have uuid")},DM=(e={})=>{it("stopBeaconDiscovery",e)},RM=(e={})=>{it("getBeacons",e)},OM=e=>{ct("onBeaconUpdate",e,U)&&Y("onBeaconUpdated",__errorTracer__.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},MM=()=>{Y("onBeaconUpdated",(()=>{}))},LM=e=>{ct("onBeaconServiceChange",e,U)&&Y("onBeaconServiceChanged",__errorTracer__.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},NM=()=>{Y("onBeaconServiceChanged",(()=>{}))},BM=(e={})=>{it("captureScreen",e,{})},WM=(e={})=>{it("getScreenBrightness",e,{})},FM=(e={})=>{it("setScreenBrightness",e,{})},UM=(e={})=>{var t=Object.assign({},e);t.style=t.type,it("vibrateShort",t,{})},VM=(e={})=>{it("vibrateLong",e,{})},jM=(e={})=>{it("addPhoneContact",e,{})},GM=$("searchContacts",function(){var e=Nn()((function*(e={}){if(ut(e,{phoneNumber:""}),!/^.{8,}$/.test(e.phoneNumber))throw new Error("phoneNumber length is less than 8");return yield at("searchContacts",e,{})}));return function(){return e.apply(this,arguments)}}()),HM=GM,QM=(e={})=>{it("openBluetoothAdapter",e,{})},$M=(e={})=>{it("closeBluetoothAdapter",e,{})},zM=(e={})=>{it("getBluetoothAdapterState",e,{})},YM=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void dt("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((function(e){return"string"==typeof e&&t.test(e)})))return void dt("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((function(e){return Ie&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e}))}}it("startBluetoothDevicesDiscovery",e,{})},ZM=(e={})=>{it("stopBluetoothDevicesDiscovery",e,{})},qM=(e={})=>{it("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=Qt(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=Qt(t[e]))}))}return e}))}})},JM=(e={})=>{ct("getBLEDeviceRSSI",e,{deviceId:""})&&it("getBLEDeviceRSSI",e)},XM=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void dt("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((function(e){return"string"==typeof e&&t.test(e)})))return void dt("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((function(e){return Ie&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e}))}}it("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=Qt(e.advertisData)),e)))}})},KM=(e={})=>{ct("createBLEConnection",e,{deviceId:""})&&it("createBLEConnection",e,{})},eL=(e={})=>{ct("closeBLEConnection",e,{deviceId:""})&&it("closeBLEConnection",e,{})},tL=(e={})=>{ct("getBLEDeviceServices",e,{deviceId:""})&&it("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},rL=(e={})=>{ct("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&it("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:Ie?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},nL=(e={})=>{ct("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&it("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:Ie?e.serviceId.toUpperCase():e.serviceId,characteristicId:Ie?e.characteristicId.toUpperCase():e.characteristicId}),{})},iL=(e={})=>{ct("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&it("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:Ie?e.serviceId.toUpperCase():e.serviceId,characteristicId:Ie?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},aL=(e={})=>{ct("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&it("readBLECharacteristicValue",Object.assign({},e,{serviceId:Ie?e.serviceId.toUpperCase():e.serviceId,characteristicId:Ie?e.characteristicId.toUpperCase():e.characteristicId}),{})},oL=(e={})=>{ct("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&it("writeBLECharacteristicValue",Object.assign({},e,{value:Ht(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:Ie?e.characteristicId.toUpperCase():e.characteristicId}),{})},sL=e=>{Y("onBLEConnectionStateChanged",__errorTracer__.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},lL=()=>{Y("onBLEConnectionStateChanged",(()=>{}))},cL=e=>{Y("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=Qt(t.value)),__errorTracer__.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},uL=()=>{Y("onBLECharacteristicValueChange",(()=>{}))},dL=e=>{Y("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=Qt(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=Qt(t[e]))}))}catch(e){}return e})),__errorTracer__.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},pL=()=>{Y("onBluetoothDeviceFound",(()=>{}))},hL=(e={})=>{Ie?ct("setBLEMTU",e,{deviceId:"",mtu:0})&&it("setBLEMTU",e,{}):dt("setBLEMTU",e,"can only be invoked on android")},fL=new ee,gL={},vL=e=>{fL.removeAllListeners("onBLEMTUChange"),fL.on("onBLEMTUChange",(t=>{__errorTracer__.surroundThirdByTryCatch(e,"at onBLEMTUChange callback function")(t)}))},mL=()=>{fL.removeAllListeners("onBLEMTUChange")};Ie&&Y("onBLEMTUChange",(e=>{if(e.deviceId&&e.mtu){for(var t in gL)delete gL[t];gL[e.deviceId]={mtu:e.mtu}}fL.emit("onBLEMTUChange",e)}));var _L,yL=(e={})=>{if(ct("getBLEMTU",e,{deviceId:""}))if(Ie){var t=gL[e.deviceId];tt({mtu:t?t.mtu:23},"getBLEMTU",e,{})}else{if(e.writeType&&"write"!==e.writeType&&"writeNoResponse"!==e.writeType)throw new Error('writeType only accept "write" or "writeNoResponse"');it("getBLEMTU",e,{})}},AL=(e,t)=>Object.assign({},e,{[t]:Ht(e[t])}),bL=e=>!(e>=0&&e<65536),wL=new ee,EL=new WeakMap,CL=new WeakMap,IL=function(e,t){var r=`${EL.get(this)}_on${e}`,n=r=>{__errorTracer__.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};CL.get(this).set(t,n),wL.on(r,n)},SL=function(e,t){var r=`${EL.get(this)}_on${e}`,n=CL.get(this);if(P(t)){var i=n.get(t);P(i)&&(n.delete(t),wL.off(r,i))}else CL.set(this,new WeakMap),wL.removeAllListeners(r)},TL=ie("CharacteristicReadRequest");TL.onMethod,TL.offMethod;Y("onCharacteristicReadRequest",((e={})=>{wL.emit(`${e.serverId}_onCharacteristicReadRequest`,e),TL.emit(e)}));var xL=ie("CharacteristicWriteRequest");xL.onMethod,xL.offMethod;Y("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=Qt(e.value)),wL.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),xL.emit(e)}));var PL=ie("CharacteristicSubscribed");PL.onMethod,PL.offMethod;Y("onCharacteristicSubscribed",((e={})=>{wL.emit(`${e.serverId}_onCharacteristicSubscribed`,e),PL.emit(e)}));var kL=ie("CharacteristicUnsubscribed");kL.onMethod,kL.offMethod;Y("onCharacteristicUnsubscribed",((e={})=>{wL.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),kL.emit(e)}));var DL=(_L=class{constructor(e){this.serverId=e,this.services=[],EL.set(this,e),CL.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{IL.call(this,e,t)},this[`off${e}`]=t=>{SL.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});it("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",EL.delete(t)}})}addService(e={}){if(ct("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>AL(e,"value"))),Object.assign({},e,{value:Ht(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;it("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if(ct("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});it("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if(ct("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!ct("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(bL(t.beacon.major)||bL(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>AL(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var i=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});it("startBLEPeripheralAdvertising",i,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});it("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:Ht(e.value)});it("writeBLEPeripheralCharacteristicValue",t,{})}},cn()(_L.prototype,"close",[H],Object.getOwnPropertyDescriptor(_L.prototype,"close"),_L.prototype),cn()(_L.prototype,"addService",[H],Object.getOwnPropertyDescriptor(_L.prototype,"addService"),_L.prototype),cn()(_L.prototype,"removeService",[H],Object.getOwnPropertyDescriptor(_L.prototype,"removeService"),_L.prototype),cn()(_L.prototype,"startAdvertising",[H],Object.getOwnPropertyDescriptor(_L.prototype,"startAdvertising"),_L.prototype),cn()(_L.prototype,"stopAdvertising",[H],Object.getOwnPropertyDescriptor(_L.prototype,"stopAdvertising"),_L.prototype),cn()(_L.prototype,"writeCharacteristicValue",[H],Object.getOwnPropertyDescriptor(_L.prototype,"writeCharacteristicValue"),_L.prototype),_L),RL=ie("BLEPeripheralConnectionStateChanged"),OL=RL.onMethod,ML=RL.offMethod;Y("onBLEPeripheralConnectionStateChanged",((e={})=>{RL.emit(e)}));var LL=(e={})=>{if(ct("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);k(e.pin||null)&&(t.pin=Ht(e.pin)),it("makeBluetoothPair",t)}},NL=(e={})=>{ct("isBluetoothDevicePaired",e,{deviceId:""})&&it("isBluetoothDevicePaired",e)},BL=(e={})=>{it("startWifi",e,{})},WL=(e={})=>{it("stopWifi",e,{})},FL=(e={})=>{it("getWifiList",e,{})},UL=(e={})=>{it("getConnectedWifi",e,{})},VL=(e={})=>{if(ct("connectWifi",e,{SSID:"",password:""})){var t=Object.assign({maunal:!1},e);it("connectWifi",t,{})}},jL=(e={})=>{Se?ct("presetWifiList",e,{wifiList:[]})&&it("presetWifiList",e,{}):dt("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},GL=(e={})=>{Se?ct("setWifiList",e,{wifiList:[]})&&it("setWifiList",e,{}):dt("setWifiList",e,"setWifiList must be invoked on iOS platform")},HL=e=>{Y("onGetWifiList",__errorTracer__.surroundThirdByTryCatch(e,"at onGetWifiList callback function"))},QL=()=>{Y("onGetWifiList",(()=>{}))},$L=e=>{Y("onWifiConnected",__errorTracer__.surroundThirdByTryCatch(e,"at onWifiConnected callback function"))},zL=()=>{Y("onWifiConnected",(()=>{}))},YL=null,ZL=["none","low","high"],qL=e=>{"function"==typeof e&&(YL=e)};Y("onEvaluateWifi",__errorTracer__.surroundThirdByTryCatch((function(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof YL)try{t=YL(e)||{}}finally{ZL.find((e=>e===t.confidence))&&(r.confidence=t.confidence),it("evaluateWifi",r,{})}}),"at onEvaluateWifi callback function"));var JL=(e={})=>{it("getHCEState",e,{})},XL=(e={})=>{it("startHCE",e,{})},KL=(e={})=>{it("stopHCE",e,{})},eN=(e={})=>{ct("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&it("sendHCEMessage",Object.assign({},e,{data:Ht(e.data)}),{})},tN=e=>{Y("onHCEMessage",((t={})=>{"string"==typeof t.data&&(t.data=Qt(t.data)),__errorTracer__.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)}))},rN=()=>{Y("onHCEMessage",(()=>{}))},nN=()=>{},iN=(e={},t)=>{var r=Reporter.surroundThirdByTryCatch(e.success||nN,`at api ${t} success callback function`),n=Reporter.surroundThirdByTryCatch(e.fail||nN,`at api ${t} fail callback function`),i=Reporter.surroundThirdByTryCatch(e.complete||nN,`at api ${t} complete callback function`);return O()(O()({},e),{},{success:r,fail:n,complete:i})},aN=(e,t,r)=>{var n=void 0===r?{errMsg:t}:{errMsg:t,errCode:r};e.fail(n),e.complete(n)},oN=new WeakMap,sN=new K,lN="onNFCDiscovered",cN="onNdefMessageRead";oe("onNFCDiscovered",(e=>{sN.emit(lN,e)})),oe("onNdefMessageRead",(e=>{sN.emit(cN,e)}));var uN={ndef:"NDEF",nfcA:"NFC-A",nfcB:"NFC-B",isoDep:"ISO-DEP",nfcF:"NFC-F",nfcV:"NFC-V",mifareClassic:"MIFARE Classic",mifareUltralight:"MIFARE Ultralight"};function dN(e,t){if(!this[e]){var r=t();return Object.defineProperty(this,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),r}return this[e]}class pN{constructor(){this.tech=uN,Object.defineProperty(this,"_singleton",{enumerable:!1,configurable:!1,writable:!1})}startDiscovery(e={}){e=iN(e,"NFCAdapter#startDiscovery"),Ie?it("isSupportNFC",{success(){it("startNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("startNFCDiscovery","startDiscovery"))}})},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isSupportNFC","startDiscovery"))}}):aN(e,"startDiscovery:fail current platform is not supported")}stopDiscovery(e={}){e=iN(e,"NFCAdapter#stopDiscovery"),Ie?it("stopNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("stopNFCDiscovery","stopDiscovery"))}}):aN(e,"stopDiscovery:fail current platform is not supported")}onDiscovered(e){if("function"==typeof e){var t=Reporter.surroundThirdByTryCatch(e,"at NFCAdapter#onDiscovered callback function"),r=(e={})=>{if(e.messages&&x(e.messages)){for(var r=[],n=e.messages||[],i=0;i<n.length;++i){for(var a={records:[]},o=n[i]||[],s=0;s<o.length;++s){var l=`payload-${i}-${s}`,c=e[l];delete e[l],o[s].payload=c,o[s].id=Qt(o[s].id),o[s].type=Qt(o[s].type),a.records.push(o[s])}r.push(a)}e.messages=r}e.id&&"string"==typeof e.id&&(e.id=Qt(e.id)),t(e)};sN.on(lN,r),oN.set(e,r)}}offDiscovered(e){if("function"==typeof e){var t=oN.get(e);t&&sN.off(lN,t)}}getNdef(){return dN.call(this,"_ndef",(()=>new fN))}getNfcA(){return dN.call(this,"_nfcA",(()=>new vN))}getNfcB(){return dN.call(this,"_nfcB",(()=>new mN))}getIsoDep(){return dN.call(this,"_isoDep",(()=>new _N))}getNfcF(){return dN.call(this,"_nfcF",(()=>new yN))}getNfcV(){return dN.call(this,"_nfcV",(()=>new AN))}getMifareClassic(){return dN.call(this,"_mirafeClassic",(()=>new bN))}getMifareUltralight(){return dN.call(this,"_mifareUltralight",(()=>new wN))}}class hN{constructor(e){this.techType=e}connect(e={}){e=iN(e,`${this.techType}#connect`),Ie?it("NFCConnect",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCConnect","connect"))}}):aN(e,"connect:fail current platform is not supported")}close(e={}){e=iN(e,`${this.techType}#close`),Ie?it("NFCClose",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCClose","close"))}}):aN(e,"close:fail current platform is not supported")}setTimeout(e={}){e=iN(e,`${this.techType}#setTimeout`),Ie?e.timeout?it("NFCSetTimeout",{tech:this.techType,timeout:parseInt(e.timeout,10),success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCSetTimeout","setTimeout"))}}):aN(e,"timeout should be specified"):aN(e,"setTimeout:fail current platform is not supported")}isConnected(e){e=iN(e,`${this.techType}#isConnected`),Ie?it("isNFCTechConnected",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isNFCTechConnected","isConnected"))}}):aN(e,"isConnected:fail current platform is not supported")}}class fN extends hN{constructor(){super("NDEF")}onNdefMessage(e){if("function"==typeof e){var t=Reporter.surroundThirdByTryCatch(e,"at Ndef#onReadNdefMessage callback function"),r=e=>{for(var r=e.messages||[],n=0;n<r.length;++n)for(var i=r[n]||[],a=0;a<i.length;++a){var o=`payload-${n}-${a}`,s=e[o];i[a].payload=s,delete e[o]}t(e)};sN.on(cN,r),oN.set(e,r)}}offNdefMessage(e){if("function"==typeof e){var t=oN.get(e);t&&sN.off(cN,t)}}writeNdefMessage(e={}){if(e=iN(e,"Ndef#writeNdefMessage"),Ie){if(e.uris)return x(e.uris)?void it("writeNdefMessage",{uris:e.uris,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void aN(e,"writeNdefMessage: urils should be type of Array");if(e.texts)return x(e.texts)?void it("writeNdefMessage",{texts:e.texts,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void aN(e,"writeNdefMessage: texts should be type of Array");if(e.records){if(!x(e.records))return void aN(e,"writeNdefMessage: records should be type of Array");for(var t={},r=0;r<e.records.length;++r){var n=e.records[r];if(!k(n.id))return void aN(e,"writeNdefMessage: record.id should be type of ArrayBuffer");if(!k(n.type))return void aN(e,"writeNdefMessage: record.type should be type of ArrayBuffer");n.id=Ht(n.id),n.type=Ht(n.type),t[`payload-${r}`]=n.payload,delete n.payload}it("writeNdefMessage",O()(O()({records:e.records},t),{},{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}}),{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}})}else aN(e,"writeNdefMessage: expect parameter contains one of uris, texts, records")}else aN(e,"writeNdefMessage:fail current platform is not supported")}}class gN extends hN{getMaxTransceiveLength(e={}){e=iN(e,`${this.techType}#getMaxTransceiveLength`),Ie?it("NFCGetMaxTransceiveLength",{tech:this.techType,success:e.success,fail:e.fail,complete:e.complete},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetMaxTransceiveLength","getMaxTransceiveLength"))}}):aN(e,"getMaxTransceiveLength:fail current platform is not supported")}transceive(e={}){e=iN(e,`${this.techType}#transceive`),Ie?e.data?k(e.data)?it("NFCTransceive",{tech:this.techType,data:e.data,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCTransceive","transceive"))}}):aN(e,"transceive: data should be type of ArrayBuffer"):aN(e,"transceive: data field is required"):aN(e,"transceive:fail current platform is not supported")}}class vN extends gN{constructor(){super("NFC-A")}getAtqa(e){e=iN(e,`${this.techType}#getAtqa`),Ie?it("NFCGetAtqa",{success(t){t&&t.atqa?e.success({errMsg:t.errMsg,atqa:Qt(t.atqa)}):e.success({errMsg:t.errMsg,atqa:null})},fail(t){e.fail(t)},complete(t){t&&t.atqa?e.complete({errMsg:t.errMsg,atqa:Qt(t.atqa)}):e.complete({errMsg:t.errMsg,atqa:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetAtqa","getAtqa"))}}):aN(e,"getAtqa:fail current platform is not supported")}getSak(e){e=iN(e,`${this.techType}#getSak`),Ie?it("NFCGetSak",e,{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetSak","getSak"))}}):aN(e,"getSak:fail current platform is not supported")}}class mN extends gN{constructor(){super("NFC-B")}setTimeout(e={}){e=iN(e,`${this.techType}#setTimeout`),aN(e,"setTimeout: function not support",13024)}}class _N extends gN{constructor(){super("ISO-DEP")}getHistoricalBytes(e){e=iN(e,`${this.techType}#getHistoricalBytes`),Ie?it("NFCGetHistoricalBytes",{success(t){t&&t.histBytes?e.success({errMsg:t.errMsg,histBytes:Qt(t.histBytes)}):e.success({errMsg:t.errMsg,histBytes:null})},fail(t){e.fail(t)},complete(t){t&&t.histBytes?e.complete({errMsg:t.errMsg,histBytes:Qt(t.histBytes)}):e.complete({errMsg:t.errMsg,histBytes:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetHistoricalBytes","getHistoricalBytes"))}}):aN(e,"getHistoricalBytes:fail current platform is not supported")}}class yN extends gN{constructor(){super("NFC-F")}}class AN extends gN{constructor(){super("NFC-V")}setTimeout(e={}){e=iN(e,`${this.techType}#setTimeout`),aN(e,"setTimeout: function not support",13024)}}class bN extends gN{constructor(){super("MIFARE Classic")}}class wN extends gN{constructor(){super("MIFARE Ultralight")}}var EN=null;function CN(){return EN||(EN=new pN)}var IN=ie("local-service-found"),SN=ie("local-service-lost"),TN=ie("local-service-discovery"),xN=ie("local-service-resolve-fail"),PN=(e={})=>{it("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},kN=(e={})=>{it("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};Y("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=Qt(r)})),delete t.event,e.event){case"found":IN.emit(t);break;case"lost":SN.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,TN.emit(t);break;case"resolveFail":delete t.ip,delete t.port,xN.emit(t)}}));var DN=IN.onMethod,RN=IN.offMethod,ON=SN.onMethod,MN=SN.offMethod,LN=TN.onMethod,NN=TN.offMethod,BN=xN.onMethod,WN=xN.offMethod,FN=ie("gyroscopeChange"),UN=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;it("enableGyroscope",Mt(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},VN=(e={})=>{it("enableGyroscope",Mt(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},jN=FN.onMethod,GN=FN.offMethod;Y("onGyroscopeChange",(e=>{FN.emit(e)}));var HN=ie("deviceMotionChange"),QN=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;it("enableDeviceMotionChangeListening",Mt(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},$N=(e={})=>{it("enableDeviceMotionChangeListening",Mt(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},zN=HN.onMethod,YN=HN.offMethod;Y("onDeviceMotionChange",(e=>{HN.emit(e)}));var ZN=e=>{var t=new Date(1e3*e);return t.setHours(0,0,0),t.valueOf()/1e3},qN=e=>{var t=new Date(1e3*e);return t.setSeconds(0),t.valueOf()/1e3},JN=(e={})=>{if(ct("addPhoneCalendar",e,{})){var t=e.allDay?ZN(e.startTime):qN(e.startTime),r=e.endTime?e.allDay?ZN(e.endTime):qN(e.endTime):void 0;it("addPhoneCalendar",O()(O()({allDay:!1,alarm:!0},e),{},{startTime:t,endTime:r,repeat:!1}))}},XN=(e={})=>{if(sr("addPhoneRepeatCalendar")){if(ct("addPhoneCalendar",e,{})){var t=e.allDay?ZN(e.startTime):qN(e.startTime),r=e.endTime?e.allDay?ZN(e.endTime):qN(e.endTime):void 0;it("addPhoneCalendar",O()(O()({allDay:!1,alarm:!0,repeatInterval:"month"},e),{},{startTime:t,endTime:r,repeat:!0}))}}else dt("addPhoneCalendar",e,"permission denied")},KN=Date.now(),eB={};f("getWebviewDebugInfoRes",(({callbackId:e,info:t},r)=>{var n=eB[e];eB[e]=null,"function"==typeof n.success&&n.success(t)}));var tB={};function rB(e={}){if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in tB)));return("all"!==e.network?new Promise(((e,t)=>{var r=Ki();r?e(r):qi({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})})).then((e=>{if("wifi"!==e.toLowerCase())return Promise.reject(new Error(`network type does not match, '${e}' !== 'wifi'`))}),(()=>Promise.reject(new Error("get network type failed.")))):Promise.resolve()).then((()=>Promise.all(t.map((e=>new Promise((r=>{iM({name:e,success(){tB[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})}))))).then((e=>{if((e=e.filter((e=>e instanceof Error))).length>0){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))))}le.onReady((()=>{Mo((({path:e})=>{if(le.preloadRule&&le.preloadRule[e])return rB(le.preloadRule[e]).then((()=>{console.info("preloadSubpackages: success")}),(e=>{e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}))}))}));var nB=function(e){YO.on("success",e)};md("Upload",{maxTaskCount:10,functionName:"uploadFile"}),le.onReady((()=>{try{"number"==typeof le.wxAppInfo.maxUploadConcurrent&&md("Upload",{maxTaskCount:le.wxAppInfo.maxUploadConcurrent})}catch(e){}}));var iB,aB=class extends ld{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>e})}},oB=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(ct("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=$t(t.header)),t.formData&&(n=$t(t.formData));try{return new aB(Object.assign({},t,{header:r,formData:n,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){return void dt("uploadFile",t,e.message)}}}),sB=oB(),lB=oB({__skipDomainCheck__:!0}),cB=0,uB=new WeakMap,dB=new WeakMap,pB=new WeakMap,hB=new WeakMap,fB={},gB=new mc;Y("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=fB[r];if(n){var i=uB.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){n.readyState=n.OPEN;var a=pB.get(n).url,o=Date.now()-hB.get(n),s=e.statusCode,l=pB.get(n).__skipDomainCheck__,c=e.profile;vc("connectSocket",a,1,o,"",s,l,0,0,c)}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);gB.emit(`${i}${t}`,e),gB.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete fB[r],gB.removeAllListeners(`${i}open`),gB.removeAllListeners(`${i}close`),gB.removeAllListeners(`${i}error`),gB.removeAllListeners(`${i}message`))}}}));var vB=function(e,t){gB.on(`${uB.get(this)}${e}`,__errorTracer__.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},mB=(iB=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var r,n=cB++;uB.set(this,n),pB.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=__errorTracer__.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),hB.set(this,Date.now()),E(t.timeout)||(t.timeout=0);var i=()=>{it("createSocketTask",t,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{dB.set(this,e.socketTaskId),fB[e.socketTaskId]=this},beforeFail:e=>{var n=t.url,i=Date.now()-hB.get(this),a=t.__skipDomainCheck__;r=e.errMsg,vc("connectSocket",n,2,i,r,"",a,0)}}),r&&(this.readyState=this.CLOSED,setTimeout((()=>{gB.emit(`${n}error`,{errMsg:r})}),0))};P(t.customCheck)?t.customCheck(t,(e=>{e?(dt("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{gB.emit(`${n}error`,{errMsg:e})}),0)):i()})):i()}send(e){if(this.readyState===this.OPEN){var t=Date.now();it("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:dB.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=pB.get(this).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-t,o=r.errMsg,s=pB.get(this).__skipDomainCheck__,l=Ur(e.data);vc("sendSocketMessage",n,i,a,o,"",s,l)}}})}else dt("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){it("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:dB.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){vB.call(this,"open",e)}onClose(e){vB.call(this,"close",e)}onMessage(e){vB.call(this,"message",e)}onError(e){vB.call(this,"error",e)}},cn()(iB.prototype,"send",[H],Object.getOwnPropertyDescriptor(iB.prototype,"send"),iB.prototype),cn()(iB.prototype,"close",[H],Object.getOwnPropertyDescriptor(iB.prototype,"close"),iB.prototype),iB),_B=5;le.onReady((()=>{le.wxAppInfo&&le.wxAppInfo.maxWebsocketConnect&&(_B=le.wxAppInfo.maxWebsocketConnect)}));var yB=Bs.Z.WSS,AB=new WeakMap,bB=new WeakMap,wB=new WeakMap,EB={},CB=new mc,IB=0,SB=0;function TB(e,t,r){t.errMsg=t.errMsg||"ok",pt({name:e,args:r,success:"ok"===t.errMsg,errMsg:t.errMsg})}class xB{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING,Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var r=IB++,n=new yB;AB.set(this,t),bB.set(this,n),wB.set(this,r);var i=Date.now();n.onopen=(e,n)=>{this.readyState!==this.CLOSED&&(SB++,this.readyState=this.OPEN,CB.emit(`${r}open`,{header:e,profile:n}),CB.emit("onSocketOpen",{header:e,profile:n},this),vc("connectSocket",t.url,1,Date.now()-i,"","",t.__skipDomainCheck__,0,0,n))},n.onclose=(e,t)=>{SB--,this.readyState=this.CLOSED,CB.emit(`${r}close`,{code:e,reason:t}),CB.emit("onSocketClose",{code:e,reason:t},this)},n.onmessage=e=>{this.readyState!==this.CLOSED&&(k(e)&&(e.__proto__=ArrayBuffer.prototype),CB.emit(`${r}message`,{data:e}),CB.emit("onSocketMessage",{data:e},this))},n.onerror=(e,t)=>{SB--,this.readyState=this.CLOSED,setTimeout((()=>{CB.emit(`${r}error`,{errCode:e,errMsg:t}),CB.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)};var a=()=>{var e={errMsg:""};SB>=_B?(this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${_B}`):(e.errMsg=n.connect(Qr(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile"])),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok")),e.errMsg,"ok"===e.errMsg&&(EB[r]=this),TB("connectSocket",e,t)};P(t.customCheck)?t.customCheck(t,(e=>{e?TB("connectSocket",{errMsg:e},t):a()})):(a(),yd({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;CB.emit(`${r}error`,{errMsg:t}),CB.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:bB.get(this).send(e.data)};(e.success||e.fail||e.complete)&&TB("sendSocketMessage",t,e)}close(e={}){this.readyState,TB("closeSocket",{errMsg:bB.get(this).close(E(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){CB.on(`${wB.get(this)}open`,__errorTracer__.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){CB.on(`${wB.get(this)}close`,__errorTracer__.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){CB.on(`${wB.get(this)}message`,__errorTracer__.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){CB.on(`${wB.get(this)}error`,__errorTracer__.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var PB=mB,kB=fB;l.g.__isAppServiceRemoteDebugMode__||Bs.Z.WSS&&le.onReady((()=>{var e=!1,t=Se?"clicfg_appbrand_ios_native_socket_wcwss":1;1===t?e=!0:ki({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0)}});var r=sr("bindingWebSocket");(e||r||Bs.Z.WSS.force)&&(PB=xB,kB=EB,Vc(/^connectSocket/,2))}));var DB=new WeakMap,RB={};function OB(e,t){return RB[t]||(RB[t]=new WeakMap,gB.on(`onSocket${t}`,MB(t)),CB.on(`onSocket${t}`,MB(t))),function(r){ct(`onSocket${t}`,r,U)&&RB[t].set(e,r)}}function MB(e){return function(t,r){var n=r.__socketInstance__,i=RB[e].get(n),a=DB.get(n);i&&r===a&&__errorTracer__.surroundThirdByTryCatch(i,`at onSocket${e} callback function`)(t)}}var LB=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){if(ct("connectSocket",r,{url:""}))if(!1!==Ot(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var n={};r.header&&(n=$t(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__;try{var i=DB.get(t),a=new PB(t,Object.assign({},r,{header:n}));return i&&i.readyState!==i.CLOSED?i.readyState:DB.set(t,a),a}catch(e){return e.message,void dt("connectSocket",r,e.message)}}else dt("request",r,`invalid url "${r.url}"`)},closeSocket(e){var r=DB.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):dt("closeSocket",e,"WebSocket is not connected"),kB){var i=kB[n];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==r&&i.close())}},sendSocketMessage(e){var r=DB.get(t);r&&r.readyState===r.OPEN?r.send(e):dt("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:OB(t,"Open"),onSocketClose:OB(t,"Close"),onSocketMessage:OB(t,"Message"),onSocketError:OB(t,"Error")}},NB=LB(),BB=()=>LB({__skipDomainCheck__:!0}),WB=(e={})=>{it("uploadToCommonCDN",e,{})},FB=new WeakMap,UB=new WeakMap,VB=new ee;function jB(e){var{success:t,fail:r,complete:n}=e;it("addDownloadTaskForNative",Object.assign(e,{success:e=>{delete e.errMsg,this.taskId=e.downloadId,VB.on(`${this.taskId}:success`,(e=>{e.errMsg="downloadApp:ok","function"==typeof t&&t(e),"function"==typeof n&&n(e)})),VB.on(`${this.taskId}:fail`,(e=>{e.errMsg=`downloadFile:fail ${e.errMsg}`,"function"==typeof r&&r(e),"function"==typeof n&&n(e)}));var i=UB.get(this)||[];FB.set(this,"ready"),i.forEach((e=>{GB.call(this,e[0],...e[1])})),VB.emit(`${this.taskId}:created`,e)},fail:e=>{"function"==typeof r&&r(e),"function"==typeof n&&n(e)},complete:()=>{UB.set(this,[])}}),{beforeAll(e){e.errMsg=e.errMsg.replace("addDownloadTaskForNative","downloadApp")}})}function GB(e,...t){if("ready"!==FB.get(this)){var r=UB.get(this)||[];return r.push([e,t]),void UB.set(this,r)}switch(e){case"cancel":it("cancelDownloadTaskForNative",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":VB.on(`${this.taskId}:progressUpdate`,(e=>{"function"==typeof t[0]&&__errorTracer__.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onProgressUpdate callback function")(e)}));break;case"onCreated":VB.on(`${this.taskId}:created`,(e=>{"function"==typeof t[0]&&__errorTracer__.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onCreated callback function")(e)}));break;default:it(`${e}DownloadTaskForNative`,{downloadId:this.taskId})}}Y("onDownloadAppStateChangeForNative",(e=>{var{state:t,downloadId:r}=e;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":VB.emit(`${r}:progressUpdate`,e),VB.emit(`${r}:success`,e);break;case"download_failed":VB.emit(`${r}:fail`,e);break;case"download_progress_changed":VB.emit(`${r}:progressUpdate`,e)}"download_succ"!==t&&"download_failed"!==t||(VB.removeAllListeners(`${r}:success`),VB.removeAllListeners(`${r}:fail`),VB.removeAllListeners(`${r}:progressUpdate`))}));var HB=class{constructor(e){this.taskId=null,["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=__errorTracer__.surroundThirdByTryCatch(e[t],`at api downloadApp ${t} callback function`))})),jB.call(this,e)}pause(){GB.call(this,"pause")}resume(){GB.call(this,"resume")}cancel(){GB.call(this,"cancel")}install(){GB.call(this,"install")}onCreated(e){GB.call(this,"onCreated",e)}onProgressUpdate(e){GB.call(this,"onProgressUpdate",e)}},QB=function(e={}){var t=ot(vr(this));if("number"==typeof e.maxDuration&&e.maxDuration>60){var r={errMsg:"chooseVideo:fail|maxDuration can not over 60"};return"function"==typeof e.fail&&e.fail(r),void("function"==typeof e.complete&&e.complete(r))}e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),t("chooseVideo",e)},$B=(e={})=>{it("saveVideoToPhotosAlbum",e,{})},zB=(e={})=>{ct("getVideoInfo",e,{src:""})&&it("getVideoInfo",e,{})},YB=(e={})=>{ct("compressVideo",e,{src:""})&&it("compressVideo",e,{})},ZB=e=>{ct("playVoice",e,{filePath:""})&&it("playVoice",e)},qB=e=>{it("pauseVoice",e)},JB=e=>{it("stopVoice",e)},XB=e=>{Reporter.reportKeyValue({key:"DeprecatedAPI",value:e})},KB=new ee,eW={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};Y("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,KB.emit(`onRecorderStateChange_${t}`,e)}));var tW,rW=e=>{it("operateRecorder",Object.assign({},e))},nW={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(eW).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(eW))}`);if(t.encodeBitRate>eW[t.sampleRate][1]||t.encodeBitRate<eW[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${eW[t.sampleRate][0]} and less than ${eW[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{KB.emit("onRecorderStateChange_error",e)},rW(t)},pause(){rW({operationType:"pause",fail(e){KB.emit("onRecorderStateChange_error",e)}})},resume(){rW({operationType:"resume",success(){KB.emit("onRecorderStateChange_resume")},fail(e){KB.emit("onRecorderStateChange_error",e)}})},stop(){rW({operationType:"stop",fail(e){KB.emit("onRecorderStateChange_error",e)}})},onStart(e){KB.removeAllListeners("onRecorderStateChange_start"),KB.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){KB.removeAllListeners("onRecorderStateChange_resume"),KB.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){KB.removeAllListeners("onRecorderStateChange_pause"),KB.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){KB.removeAllListeners("onRecorderStateChange_stop"),KB.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){KB.removeAllListeners("onRecorderStateChange_frameRecorded"),KB.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){KB.removeAllListeners("onRecorderStateChange_error"),KB.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){KB.removeAllListeners("onRecorderStateChange_interruptionBegin"),KB.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){KB.removeAllListeners("onRecorderStateChange_interruptionEnd"),KB.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}},iW=()=>nW,aW=e=>{XB("startRecord"),it("startRecord",e)},oW=e=>{XB("stopRecord"),it("stopRecord",e)},sW=new mc("BackgroundAudioManager",!0),lW={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:""};Y("onBackgroundAudioNext",(()=>{sW.emit("Next")})),Y("onBackgroundAudioPrev",(()=>{sW.emit("Prev")})),Y("onBackgroundAudioStateChange",((e={})=>{var{state:t}=e;delete e.state,"play"===t?(lW.paused=!1,we.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(we.possessingBackgroundAudioPlayer=!1,sW.emit("Stop",e)):("pause"===t||"stop"===t)&&(lW.paused=!0),sW.emit(`${t[0].toUpperCase()}${t.substr(1)}`,e)}));var cW={play(){setTimeout((()=>{uW({operationType:"play"})}),0)},pause(){setTimeout((()=>{uW({operationType:"pause"})}),0)},seek(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type "+typeof e);setTimeout((()=>{uW({currentTime:e,operationType:"seek"})}),0)},stop(){setTimeout((()=>{uW({operationType:"stop"})}),0)},onTimeUpdate(e){void 0===tW&&(tW=setInterval((()=>{var e=lW.currentTime;dW("currentTime",(()=>{"active"===we.runningStatus&&!1!==we.possessingBackgroundAudioPlayer&&this.currentTime!==e&&sW.emit("Timeupdate")}))}),250)),sW.off("Timeupdate"),sW.on("Timeupdate",e)}};function uW(e){it("operateBackgroundAudio",e)}["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy"].forEach((e=>{Object.defineProperty(cW,e,{get:()=>"src"===e&&cW.srcCloudId?cW.srcCloudId:"coverImgUrl"===e&&cW.coverCloudId?cW.coverCloudId:dW(e),set(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy"].indexOf(e)>-1&&("src"===e?gn([t],"audio",(r=>{/^(cloud):\/\//.test(t)?cW.srcCloudId=t:cW.srcCloudId="",hW(e,r.data[0].url)})):"coverImgUrl"===e?gn([t],"image",(r=>{/^(cloud):\/\//.test(t)?cW.coverCloudId=t:cW.coverCloudId="",hW(e,r.data[0].url)})):hW(e,t))}})}));function dW(e,t){if(!1!==we.possessingBackgroundAudioPlayer){var r=lW[e];return it("getBackgroundAudioState",{success(n){void 0===n.paused||!0===n.paused?n.paused=!0:n.paused=!1,lW=Object.assign(lW,n),r=lW[e],"function"==typeof t&&t(r)},fail({errMsg:e}){wxNativeConsole.error(`getBackgroundAudioState fail: ${e}`)}}),r}}["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"].forEach((e=>{cW[`on${e}`]=t=>{sW.off(e),sW.on(e,t)}}));var pW={};function hW(e,t){if("src"===e&&!t)throw new Error(`invalid BackgroundAudioManager.src: ${t}`);if("active"!==we.runningStatus&&!1===we.possessingBackgroundAudioPlayer)throw new Wt(`Can not set BackgroundAudioManager.${e}, background audio is preempted.`);pW[e]=t,1===Object.keys(pW).length&&setTimeout((()=>{Object.assign(lW,pW),lW.src&&lW.title?(it("setBackgroundAudioState",Object.assign({},lW,{fail({errMsg:e}){wxNativeConsole.error(e),sW.emit("Error",{errMsg:e.replace(/^setBackgroundAudioState: fail /,"")})}})),pW={}):pW={}}),0)}var fW=()=>cW,gW=e=>{if(!1===we.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else it("getMusicPlayerState",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},vW=(e={})=>{it("operateMusicPlayer",Mt({operationType:"play"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},mW=(e={})=>{it("operateMusicPlayer",Mt({operationType:"pause"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},_W=(e={})=>{ct("seekBackgroundAudio",e,{position:1})&&it("operateMusicPlayer",Mt({operationType:"seek"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},yW=(e={})=>{it("operateMusicPlayer",Mt({operationType:"stop"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},AW=new ee;Y("onMusicPlay",(()=>{we.possessingBackgroundAudioPlayer=!0,AW.emit("onBackgroundAudioPlay")}));var bW=e=>{AW.removeAllListeners("onBackgroundAudioPlay"),AW.on("onBackgroundAudioPlay",(()=>{"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()}))},wW=e=>{Y("onMusicPause",__errorTracer__.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},EW=e=>{Y("onMusicEnd",__errorTracer__.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},CW=e=>{it("getAvailableAudioSources",e)},IW=e=>{it("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},SW=new WeakMap;function TW(e,t){SW.set(this,Object.assign(SW.get(this),{[e]:t})),this.promise.then((()=>{it("operateAudioPlayer",{operationType:"update",containerId:SW.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class xW{constructor(){SW.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),it("operateAudioPlayer",{operationType:"create",success:e=>{SW.set(this,Object.assign(SW.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}})}start(){return this.promise.then((()=>new Promise(((e,t)=>{it("operateAudioPlayer",{operationType:"start",containerId:SW.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{it("operateAudioPlayer",{operationType:"addTask",containerId:SW.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{it("operateAudioPlayer",{operationType:"delTask",containerId:SW.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{it("operateAudioPlayer",{operationType:"stop",containerId:SW.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{it("operateAudioPlayer",{operationType:"remove",containerId:SW.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),SW.delete(this)}))))}set volume(e){return TW.call(this,"audioVolume",e),e}get volume(){return SW.get(this).audioVolume}}var PW=new WeakMap;function kW(e,t){PW.set(this,Object.assign(PW.get(this),{[e]:t})),this.promise.then((()=>{Bs.Z.MediaToolKit.audioUpdate({containerId:PW.get(this).containerId,[e]:t},(e=>{e.errCode}))})).catch((e=>{}))}class DW{constructor(){PW.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Bs.Z.MediaToolKit.audioCreate({},(e=>{0===e.errCode?(PW.set(this,Object.assign(PW.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)}))}start(){return this.promise.then((()=>new Promise(((e,t)=>{Bs.Z.MediaToolKit.audioStart({containerId:PW.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Bs.Z.MediaToolKit.audioAddTask({containerId:PW.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Bs.Z.MediaToolKit.audioDelTask({containerId:PW.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{Bs.Z.MediaToolKit.audioStop({containerId:PW.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{Bs.Z.MediaToolKit.audioRemove({containerId:PW.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)})),PW.delete(this)}))))}set volume(e){return kW.call(this,"audioVolume",e),e}get volume(){return PW.get(this).audioVolume}}var RW=()=>Bs.Z.MediaToolKit&&Bs.Z.MediaToolKit.audioCreate?new DW:new xW,OW=null,MW=!1;Kn((()=>{MW=!0})),Mo((()=>{MW=!1,OW&&(LW(OW),OW=null)}));var LW=function(e={}){var t=ot(vr(this));e.type||(e.type="all"),void 0===e.count&&(e.count=100),ct("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?dt("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>100&&(e.count=100),MW?OW=e:t("chooseMessageFile",e)):dt("chooseMessageFile",e,"param extension should not be empty."):dt("chooseMessageFile",e,"param extension should be Array."))},NW=function(e={}){ot(vr(this))("chooseMedia",e)},BW=function(e={}){if(ct("previewMedia",e,{sources:[]}))if(e.sources.length>50)dt("previewMedia",e,"maximum length of sources is 50");else{var t=vr(this),r=e=>"string"!=typeof t||"/"!==e[0]?e:xt(`plugin-private://${t}${e}`),n=JSON.parse(JSON.stringify(e.sources)),i=[],a=[];n.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?nc.get(e.url)||e.url:"","image"===e.type?i.push(e):"video"===e.type&&a.push(e)}));var o=i.map((e=>e.url||"")).map((e=>r(e))),s=a.map((e=>e.url||"")).map((e=>r(e)));gn(o,"image",(t=>{var r=t.data.map((e=>e.url));gn(s,"video",(t=>{var o=t.data.map((e=>e.url));r.forEach(((e,t)=>{var r=i[t].index;n[r].url=e})),o.forEach(((e,t)=>{var r=a[t].index;n[r].url=e}));var s=Object.assign({current:0},e,{sources:n});it("previewMedia",s)}))}))}},WW=Object.assign,FW=new WeakMap,UW=new WeakMap;class VW{constructor(e,t=0,r){this.id=e,this.duration=t,this.mediaContainer=r}appendFrom(e){if(!(e instanceof VW))throw new Error("Parameter 1 should be a MediaTrack");FW.get(this.mediaContainer).then((()=>{it("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,appendFrom:e.id,fail:St((e=>{throw new Error(`fail to append. errMsg: ${e.errMsg}`)}),"at MediaTrack.appendFrom method")})}))}slice(e,t){var r=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");r.push([e,t])}else r=e;FW.get(this.mediaContainer).then((()=>{it("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,slice:r,fail:St((e=>{throw new Error(`fail to slice. errMsg: ${e.errMsg}`)}),"at MediaTrack.slice method")})}))}}class jW extends VW{constructor(e,t,r){super(e,t,r),this.kind="audio"}set volume(e){if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");FW.get(this.mediaContainer).then((()=>{it("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,volume:e,fail:St((e=>{throw new Error(`fail to set volume. errMsg: ${e.errMsg}`)}),"at MediaTrack.volume setter")})}))}set atempo(e){if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");FW.get(this.mediaContainer).then((()=>{it("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,atempo:e,fail:St((e=>{throw new Error(`fail to set atempo. errMsg: ${e.errMsg}`)}),"at MediaTrack.atempo setter")})}))}}class GW extends VW{constructor(e,t,r){super(e,t,r),this.kind="video"}}class HW{constructor(){var e=new Promise((e=>{it("operateMediaContainer",{operationType:"create",success:t=>{this.id=t.containerId,e()},fail:St((e=>{throw new Error(`fail to createMediaContainer. errMsg: ${e.errMsg}`)}),"at createMediaContainer function")})}));FW.set(this,e)}extractDataSource(e={}){ct("createMediaContainer.extractDataSource",e,{source:""})&&FW.get(this).then((()=>{it("operateMediaTrack",WW(e,{operationType:"get",containerId:this.id}),{beforeSuccess:e=>{var t,r;e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource"),e.tracks=(t=e.tracks,r=this,t.map((e=>"video"===e.kind?new GW(e.trackId,e.duration,r):"audio"===e.kind?new jW(e.trackId,e.duration,r):null)))},beforeFail(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}addTrack(e){if(!(e instanceof VW))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(UW.get(this))throw new Error("Only can be added one video track.");UW.set(this,!0)}FW.get(this).then((()=>{it("operateMediaTrack",{operationType:"create",containerId:this.id,trackId:e.id,fail:St((e=>{throw new Error(`fail to addTrack. errMsg: ${e.errMsg}`)}),"at createMediaContainer.addTrack function")})}))}removeTrack(e){if(!(e instanceof VW))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&UW.set(this,!1),FW.get(this).then((()=>{it("operateMediaTrack",{operationType:"remove",containerId:this.id,trackId:e.id})}))}export(e={}){e.mimeType||(e.mimeType="mp4"),FW.get(this).then((()=>{it("operateMediaContainer",WW(e,{operationType:"export",containerId:this.id}))}))}destroy(){FW.get(this).then((()=>{it("operateMediaContainer",{operationType:"remove",containerId:this.id})}))}}function QW(){return new HW}var $W=new ee,zW=new WeakMap,YW=new WeakMap;Y("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?$W.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?$W.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&$W.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var ZW=!1;function qW(e){return JW.apply(this,arguments)}function JW(){return(JW=Nn()((function*(e){var t=YW.get(e);yield t}))).apply(this,arguments)}function XW(e,t,r={}){return at("operateCanvasPlayer",O()(O()({},r),{},{containerId:e.id||0,operationType:t}))}function KW(e,t,r={}){return new Promise(((n,i)=>{Bs.Z.MediaToolKit[t](O()(O()({},r),{},{containerId:e.id||0}),(e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void i(r)}n(e)}))}))}function eF(e,t,r){var n=zW.get(e);n&&n.emit(t,r)}class tF{constructor(){var e=this,t=new ee;zW.set(this,t);var r=Nn()((function*(){if(Ie){Ie&&(ZW||(ZW=!0,Bs.Z.MediaToolKit.addEventListener("onPlayerBuffSize",(e=>{$W.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),Bs.Z.MediaToolKit.addEventListener("onPlayerPlayEnd",(e=>{$W.emit(e.containerId,{event:"ended",data:{}})}))));var r=yield new Promise(((e,t)=>{Bs.Z.MediaToolKit.playerCreate({},(r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}))}));e.id=r.containerId}else{var n=yield at("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}$W.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();YW.set(this,r)}start(e={}){var t=this;return Nn()((function*(){var r;if(yield qW(t),Ie){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield at("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var i=yield KW(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=i.video,r.audio=i.audio}else{var a=yield XW(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.buffId=a.buffId,t.width=r.width||0,t.height=r.height||0,r.video=a.video,r.audio=a.audio}return eF(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return Nn()((function*(){yield qW(r);var n="accurate"===t;return Ie?yield KW(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield XW(r,"seek",{seekStamp:e,seekByStamp:n}),eF(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return Nn()((function*(){yield qW(t),Ie?yield KW(t,"playerWait",{wait:e}):yield XW(t,"wait",{wait:e}),eF(t,"wait",{})}))()}stop(){var e=this;return Nn()((function*(){yield qW(e),Ie?yield KW(e,"playerStop",{}):yield XW(e,"stop",{}),eF(e,"stop",{})}))()}remove(){var e=this;return Nn()((function*(){if(yield qW(e),e.id){$W.removeAllListeners(e.id);var t=zW.get(e);t.eventNames().forEach((e=>t.removeAllListeners(e)))}Ie?yield KW(e,"playerRemove",{}):yield XW(e,"remove",{})}))()}getFrameData(){var e,t,r,n,i,a;if(Ie?Bs.Z.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(a=>{a.got&&(e=this.buffer),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts})):it("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:a=>{a.got&&(e=Kc.get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts},fail(e){a=new Error(e.errMsg&&e.errMsg.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(a,e)}}),a)throw a;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:i}:null}on(e,t){zW.get(this).on(e,t)}off(e,t){zW.get(this).off(e,t)}get videoDecoderId(){return this.id}}function rF(){return new tF}var nF={0:"OK","10 01 2":"Global_APINoPermission","10 02 2":"Global_APINoAuthorization","10 03 1":"Global_FileStorageNotEnough","13 01 3":"Render_CanvasIllegalInvocation","13 02 3":"Render_FontFileInvalid","13 03 3":"Render_ImageLoadFailed","14 01 2":"Network_RequestTimeout","15 01 3":"Storage_NotFound","16 01 3":"File_NotExist","22 00 2":"GameRecorder_UnknownError","22 01 2":"GameRecorder_InternalFailed","22 02 2":"GameRecorder_NotSupported","22 10 3":"GameRecorder_StartDurationInvalid","22 11 3":"GameRecorder_StartBitRateInvalid","22 12 3":"GameRecorder_StartFPSInvalid","22 13 3":"GameRecorder_StartGOPInvalid","22 14 3":"GameRecorder_StartWhileAlreadyStartRecording","22 15 3":"GameRecorder_StartWhilePaused","22 20 3":"GameRecorder_PauseWhileNotStartRecording","22 21 3":"GameRecorder_PauseWhileAlreadyPaused","22 30 3":"GameRecorder_ResumeWhileNotStartRecording","22 31 3":"GameRecorder_ResumeWhileRecording","22 40 3":"GameRecorder_AbortWhileNotStartRecording","22 50 3":"GameRecorder_StopWhileNotStartRecording","22 60 3":"GameRecorder_NoVideo","22 61 3":"GameRecorder_BGMNotFound","22 62 3":"GameRecorder_TimeRangeInvalid","22 63 3":"GameRecorder_EditDurationOutOfLimit","22 64 3":"GameRecorder_TimeRangeTooShort","23 00 2":"MediaRecorder_UnknownError","23 01 2":"MediaRecorder_InternalFailed","23 02 2":"MediaRecorder_NotSupported","23 10 3":"MediaRecorder_StartDurationInvalid","23 11 3":"MediaRecorder_StartBitRateInvalid","23 12 3":"MediaRecorder_StartFPSInvalid","23 13 3":"MediaRecorder_StartGOPInvalid","23 14 3":"MediaRecorder_StartWhileAlreadyStartRecording","23 15 3":"MediaRecorder_StartWhilePaused","23 20 3":"MediaRecorder_PauseWhileNotStartRecording","23 21 3":"MediaRecorder_PauseWhileAlreadyPaused","23 30 3":"MediaRecorder_ResumeWhileNotStartRecording","23 31 3":"MediaRecorder_ResumeWhileRecording","23 40 3":"MediaRecorder_AbortWhileNotStartRecording","23 50 3":"MediaRecorder_StopWhileNotStartRecording","23 60 3":"MediaRecorder_NoVideo","23 61 3":"MediaRecorder_BGMNotFound","23 62 3":"MediaRecorder_TimeRangeInvalid","23 63 3":"MediaRecorder_EditDurationOutOfLimit","23 64 3":"MediaRecorder_TimeRangeTooShort"},iF=Object.keys(nF).reduce(((e,t)=>{var r=parseInt(t.replace(/\s/g,""),10);return e[nF[t]]=r,e}),{}),aF=new ee,oF=new WeakMap,sF=new WeakMap,lF=new WeakMap,cF=new WeakMap,uF=new Map,dF=new Map;function pF(e){return hF.apply(this,arguments)}function hF(){return(hF=Nn()((function*(e){var t=cF.get(e);yield t}))).apply(this,arguments)}function fF(e,t={}){return new Promise(((r,n)=>{Bs.Z.MediaToolKit[e](t,(t=>{if(t&&t.errCode&&0!==t.errCode){var i=new Error(t.errMsg||`${e} failed`);return Object.assign(i,t),void n(i)}r(t)}))}))}function gF(e,t,r={}){var n=sF.get(e),i=n.id,a=0;return n instanceof Xp&&(i=n.__id,a=n._offscreenCanvasId),at("operateMediaRecorder",O()(O()({},r),{},{canvasId:i,offScreenCanvasId:a,operationType:t}))}Y("onMediaRecorderStateChange",(e=>{var t,r,n=e.state,i=e.canvasId<<0;if(i=uF.has(i)?uF.get(i):i,delete e.state,"timeUpdate"===n)aF.emit(i,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===n){var a=(t=e.errCode,(r={101:{code:iF.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:iF.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:iF.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:iF.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:iF.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:iF.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:iF.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:iF.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:iF.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:iF.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:iF.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:iF.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:iF.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}})[t]?r[t]:[102,110,111,502,710,810].includes(t)?{code:iF.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:iF.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"});aF.emit(i,{event:"error",data:{error:a}})}}));var vF=!1;class mF{constructor(e,t={}){var r=this;sF.set(this,e);var n=new ee;oF.set(this,n),aF.on(e.id,(({event:e,data:t})=>n.emit(e,t))),"number"==typeof t.duration?this.duration=Math.min(7200,Math.max(5,t.duration)):this.duration=7200,"number"==typeof t.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,t.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=t.fps||24,this.gop=t.gop||12,this.timeUpdateInterval=t.timeUpdateInterval||this.gop,this.audioPlayerId=t.audioPlayerId;var i=Nn()((function*(){if(Ie){Ie&&(vF||(vF=!0,Bs.Z.MediaToolKit.addEventListener("onRecorderTimeUpdate",(e=>{if(dF.has(e.containerId)){var t=dF.get(e.containerId);aF.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}))));var t=yield fF("recorderCreate",{});r._containerId=t.containerId,dF.set(r._containerId,e.id)}else yield gF(r,"create",{}),e instanceof Xp&&uF.set(e.__id,e.id);n.emit("create",{})}))();cF.set(this,i)}pause(){var e=this;return Nn()((function*(){yield pF(e);var t=oF.get(e);if(Ie){var r=yield fF("recorderUpdate",{containerId:e._containerId,pause:!0});t.emit("pause",r)}else yield gF(e,"pause",{}),t.emit("pause")}))()}resume(){var e=this;return Nn()((function*(){yield pF(e);var t=oF.get(e);if(Ie){var r=yield fF("recorderUpdate",{containerId:e._containerId,pause:!1});t.emit("resume",r)}else yield gF(e,"resume"),t.emit("resume")}))()}start(){var e=this;return Nn()((function*(){yield pF(e);var t=oF.get(e),r=sF.get(e),n={width:r.width,height:r.height,fps:e.fps,bitrate:e.videoBitsPerSecond,gop:e.gop,duration:e.duration,timeUpdateInterval:e.timeUpdateInterval,audioPlayerId:e.audioPlayerId,cumulativeStamp:!0};if(Se&&le.clientVersion<385879296?n.duration=Math.floor(e.duration):n.duration=Math.floor(1e3*e.duration),Ie){var i=yield at("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:`${Date.now()}`,mimeType:"mp4",autoDeleteIfExists:!0});e.tempFilePath=i.localId,e._absoluteFilePath=i.filePath;var a=r.id;r instanceof Xp&&(a=r._offscreenCanvasId),n.containerId=e._containerId,n.canvasId=a,n.notifyVideoKeyFrame=!0,n.filePath=i.filePath;var o=yield fF("recorderStart",n);t.emit("start",o)}else yield gF(e,"start",n),t.emit("start")}))()}stop(){var e=this;return Nn()((function*(){yield pF(e);var t,r=oF.get(e);if(Ie){yield fF("recorderStop",{containerId:e._containerId});var n=yield fF("analysis",{filePath:e._absoluteFilePath});t={duration:n.duration,tempFilePath:e.tempFilePath,fileSize:n.size}}else{var{tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}=yield gF(e,"stop");t={tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}}return r.emit("stop",t),t}))()}requestFrame(e=(()=>{})){var t=this;return Nn()((function*(){yield pF(t);var r=sF.get(t);if(Ie){var n=yield new Promise((e=>{Bs.Z.MediaToolKit.recorderCapture({containerId:t._containerId},e)})),i=1e3/t.fps;n.got?e():(yield(e=>new Promise((t=>setTimeout(t,e))))(i),yield t.requestFrame(e))}else r instanceof Xp?setTimeout((()=>{e(),l.g.WeixinCanvas.recordFrame(r.__id,r._offscreenCanvasId)})):(yield new Promise((e=>r.requestAnimationFrame(e))),e())}))()}on(e,t){"timeUpdate"===e&&(e="timeupdate"),oF.get(this).on(e,t)}off(e,t){"timeUpdate"===e&&(e="timeupdate"),oF.get(this).off(e,t)}destroy(){var e=this;return Nn()((function*(){var t=sF.get(e);aF.removeAllListeners(t.id);var r=oF.get(e);r.eventNames().forEach((e=>r.removeAllListeners(e))),Ie?(yield pF(e),dF.delete(e._containerId),yield fF("recorderRemove",{containerId:e._containerId})):yield gF(e,"remove")}))()}}function _F(e,t){if(lF.get(e))throw new Error("Already created by the same canvas node.");if(!e||"function"!=typeof e.getContext||!e.getContext("webgl"))throw new Error("Cannot get webgl context from target.");var r=new mF(e,t);return lF.set(e,r),r}var yF=Object.assign,AF=(e={})=>{if(ct("openVideoEditor",e,{filePath:""})){var{title:t,filePath:r}=e,{minDuration:n,maxDuration:i}=e;(!(n=parseInt(n,10))||n<1)&&(n=1),(!(i=parseInt(i,10))||i>300)&&(i=300),it("openVideoEditor",yF({},e,{editType:2,editorParmas:{title:t,filePath:r,minDuration:n,maxDuration:i,toolBars:["crop"],buttonOptions:[]}}),{beforeSuccess(e){e.duration=e.duraionMs||Math.round(e.duration/1e3),delete e.chosenId,delete e.videoMD5,delete e.duraionS,delete e.duraionMs,delete e.duraionUs}})}};class bF extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}var wF=0,EF=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},CF={setStorage:e=>{if(ct("setStorage",e,{key:""}))try{var{data:t,dataType:r}=V(e.data);it("setStorage",{key:e.key,data:t,dataType:r,storageId:wF,success:e.success,fail:e.fail,complete:e.complete})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`setStorage:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`setStorage:fail ${t.message}`})}},setStorageSync:(e,t="")=>{if(ct("setStorage",e,"")){var r=Se?"setStorage":"setStorageSync",{data:n,dataType:i}=V(t),a=!1,o="";if(it(r,{key:e,data:n,dataType:i,storageId:wF,fail(e={}){a=!0,o=e.errMsg.replace("setStorage:","setStorageSync:")}}),a)throw new bF(o)}},getStorage:e=>{ct("getStorage",e,{key:""})&&it("getStorage",Object.assign({},e,{storageId:wF}),{beforeSuccess:e=>{e.data=j(e.data,e.dataType),delete e.dataType},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")})},getStorageSync:e=>{var t;if(w(e))return it(Se?"getStorage":"getStorageSync",{key:e,storageId:wF},{beforeAll:(e={})=>{t=j(e.data,e.dataType)},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),t},getStorageInfo:e=>{it("getStorageInfo",Object.assign({},e,{storageId:wF}),{beforeAll:e=>{e.keys=EF(e.keys)}})},getStorageInfoSync:()=>{var e;return it("getStorageInfoSync",{storageId:wF},{beforeAll:t=>{e=t,t.keys=EF(t.keys),delete t.errMsg}}),e},removeStorage:e=>{ct("removeStorage",e,{key:""})&&it("removeStorage",Object.assign({},e,{storageId:wF}))},removeStorageSync:e=>{ct("removeStorageSync",e,"")&&it("removeStorageSync",{key:e,storageId:wF})},clearStorage:e=>{it("clearStorage",Object.assign({},e,{storageId:wF}))},clearStorageSync:()=>{it(Se?"clearStorage":"clearStorageSync",{storageId:wF})}},IF={app:0,game:0,opendata:1,singlePage:2},SF=e=>{var t=IF[e],r={};return Object.keys(CF).forEach((e=>{var n=CF[e];r[e]=(...e)=>(wF=t,n(...e))})),r},TF={app:SF("app"),game:SF("game"),opendata:SF("opendata"),singlePage:SF("singlePage")},xF={};["setStorage","getStorage","getStorageInfo","removeStorage","clearStorage"].forEach((e=>{xF[e]=(t={})=>{if(t.key&&t.key.toString().startsWith("__plugins__"))return void dt(e,t,`invalid key "${t.key}"`);return TF[zr()?"singlePage":"app"][`${e}`](t)},xF[`${e}Sync`]=(t,...r)=>{if(!t||!t.toString().startsWith("__plugins__"))return TF[zr()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r)};var t=`plugin_${e}`;xF[t]=(t={})=>(t.key&&(t.key=`__plugins__/${t.key}`),TF[zr()?"singlePage":"app"][`${e}`](t)),xF[`${t}Sync`]=(t,...r)=>(t&&(t=`__plugins__/${t}`),TF[zr()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r))}));var PF=xF,kF=JSON.parse('{"ad":{"unit-id":1,"ad-intervals":1,"ad-type":1,"ad-theme":1,"bindload":1,"binderror":1,"bindclose":1},"audio":{"id":1,"src":1,"loop":1,"controls":1,"poster":1,"name":1,"author":1,"binderror":1,"bindplay":1,"bindpause":1,"bindtimeupdate":1,"bindended":1},"button":{"size":["default","mini"],"type":["primary","default","warn"],"plain":1,"disabled":1,"loading":1,"form-type":["submit","reset"],"open-type":["contact","share","getPhoneNumber","getUserInfo","launchApp","openSetting","feedback"],"hover-class":1,"hover-stop-propagation":1,"hover-start-time":1,"hover-stay-time":1,"lang":["en","zh_CN","zh_TW"],"session-from":1,"send-message-title":1,"send-message-path":1,"send-message-img":1,"app-parameter":1,"show-message-card":1,"bindgetuserinfo":1,"bindcontact":1,"bindgetphonenumber":1,"binderror":1,"bindopensetting":1,"bindlaunchapp":1},"camera":{"mode":["normal","scanCode"],"resolution":["low","medium","high"],"device-position":["front","back"],"flash":["auto","on","off","torch"],"frame-size":["small","medium","large"],"bindstop":1,"binderror":1,"bindinitdone":1,"bindscancode":1},"canvas":{"type":1,"canvas-id":1,"disable-scroll":1,"bindtouchstart":1,"bindtouchmove":1,"bindtouchend":1,"bindtouchcancel":1,"bindlongtap":1,"binderror":1},"checkbox":{"value":1,"disabled":1,"checked":1,"color":1},"checkbox-group":{"bindchange":1},"cover-image":{"src":1,"bindload":1,"binderror":1},"cover-view":{"scroll-top":1},"editor":{"read-only":1,"placeholder":1,"show-img-size":1,"show-img-toolbar":1,"show-img-resize":1,"bindready":1,"bindfocus":1,"bindblur":1,"bindinput":1,"bindstatuschange":1},"form":{"report-submit":1,"report-submit-timeout":1,"bindsubmit":1,"bindreset":1},"functional-page-navigator":{"version":["develop","trial","release"],"name":["loginAndGetUserInfo","requestPayment","chooseAddress","chooseInvoice","chooseInvoiceTitle"],"args":1,"bindsuccess":1,"bindfail":1,"bindcancel":1},"icon":{"type":1,"size":1,"color":1},"image":{"src":1,"mode":["scaleToFill","aspectFit","aspectFill","widthFix","heightFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"],"webp":1,"lazy-load":1,"show-menu-by-longpress":1,"binderror":1,"bindload":1},"input":{"value":1,"type":["text","number","idcard","digit","safe-password"],"password":1,"placeholder":1,"placeholder-style":1,"placeholder-class":1,"disabled":1,"maxlength":1,"cursor-spacing":1,"auto-focus":1,"focus":1,"confirm-type":["send","search","next","go","done"],"always-embed":1,"confirm-hold":1,"cursor":1,"selection-start":1,"selection-end":1,"adjust-position":1,"hold-keyboard":1,"safe-password-cert-path":1,"safe-password-length":1,"safe-password-time-stamp":1,"safe-password-nonce":1,"safe-password-salt":1,"safe-password-custom-hash":1,"bindinput":1,"bindfocus":1,"bindblur":1,"bindconfirm":1,"bindkeyboardheightchange":1},"label":{"for":1},"keyboard-accessory":{},"live-player":{"src":1,"mode":["live","RTC"],"autoplay":1,"muted":1,"orientation":["vertical","horizontal"],"object-fit":["contain","fillCrop"],"background-mute":1,"min-cache":1,"max-cache":1,"sound-mode":["speaker","ear"],"auto-pause-if-navigate":1,"auto-pause-if-open-native":1,"picture-in-picture-mode":["[]","push","pop"],"bindstatechange":1,"bindfullscreenchange":1,"bindnetstatus":1,"bindaudiovolumenotify":1,"bindenterpictureinpicture":1,"bindleavepictureinpicture":1},"live-pusher":{"url":1,"mode":1,"autopush":1,"muted":1,"enable-camera":1,"auto-focus":1,"orientation":["vertical","horizontal"],"beauty":1,"whiteness":1,"aspect":1,"min-bitrate":1,"max-bitrate":1,"audio-quality":1,"waiting-image":1,"waiting-image-hash":1,"zoom":1,"device-position":1,"background-mute":1,"mirror":1,"remote-mirror":1,"local-mirror":["auto","enable","disable"],"audio-reverb-type":["0","1","2","3","4","5","6","7"],"enable-mic":1,"enable-agc":1,"enable-ans":1,"audio-volume-type":["auto","media","voicecall"],"video-width":1,"video-height":1,"beauty-style":["smooth","nature"],"filter":["standard","pink","nostalgia","blues","romantic","cool","fresher","solor","aestheticism","whitening","cerisered"],"bindstatechange":1,"bindnetstatus":1,"binderror":1,"bindbgmstart":1,"bindbgmprogress":1,"bindbgmcomplete":1,"bindaudiovolumenotify":1},"map":{"longitude":1,"latitude":1,"scale":1,"min-scale":1,"max-scale":1,"markers":1,"covers":1,"polyline":1,"circles":1,"controls":1,"include-points":1,"show-location":1,"polygons":1,"subkey":1,"layer-style":1,"rotate":1,"skew":1,"enable-3D":1,"show-compass":1,"show-scale":1,"enable-overlooking":1,"enable-zoom":1,"enable-scroll":1,"enable-rotate":1,"enable-satellite":1,"enable-traffic":1,"enable-poi":1,"enable-building":1,"setting":1,"bindtap":1,"bindmarkertap":1,"bindlabeltap":1,"bindcontroltap":1,"bindcallouttap":1,"bindupdated":1,"bindregionchange":1,"bindpoitap":1,"bindanchorpointtap":1},"match-media":{"min-width":1,"max-width":1,"width":1,"min-height":1,"max-height":1,"height":1,"orientation":1},"movable-area":{"scale-area":1},"movable-view":{"direction":1,"inertia":1,"out-of-bounds":1,"x":1,"y":1,"damping":1,"friction":1,"disabled":1,"scale":1,"scale-min":1,"scale-max":1,"scale-value":1,"animation":1,"bindchange":1,"bindscale":1,"htouchmove":1,"vtouchmove":1},"navigation-bar":{"title":1,"loading":1,"front-color":1,"background-color":1,"color-animation-duration":1,"color-animation-timing-func":1},"navigator":{"target":["self","miniProgram"],"url":1,"open-type":["navigate","redirect","switchTab","reLaunch","navigateBack","exit"],"delta":1,"app-id":1,"path":1,"extra-data":1,"version":["develop","trial","release"],"short-link":1,"hover-class":1,"hover-stop-propagation":1,"hover-start-time":1,"hover-stay-time":1,"bindsuccess":1,"bindfail":1,"bindcomplete":1},"official-account":{},"open-data":{"type":["groupName","userNickName","userAvatarUrl","userGender","userCity","userProvince","userCountry","userLanguage"],"open-gid":1,"lang":["en","zh_CN","zh_TW"],"default-text":1,"default-avatar":1,"binderror":1},"page-container":{"show":1,"duration":1,"z-index":1,"overlay":1,"position":1,"round":1,"close-on-slideDown":1,"overlay-style":1,"custom-style":1,"bind:beforeenter":1,"bind:enter":1,"bind:afterenter":1,"bind:beforeleave":1,"bind:leave":1,"bind:afterleave":1,"bind:clickoverlay":1},"page-meta":{"background-text-style":1,"background-color":1,"background-color-top":1,"background-color-bottom":1,"root-background-color":1,"scroll-top":1,"scroll-duration":1,"page-style":1,"page-font-size":1,"root-font-size":1,"page-orientation":1,"bindresize":1,"bindscroll":1,"bindscrolldone":1},"picker":{"header-text":1,"mode":["selector","multiSelector","time","date","region"],"disabled":1,"bindcancel":1},"picker-view":{"value":1,"indicator-style":1,"indicator-class":1,"mask-style":1,"mask-class":1,"bindchange":1,"bindpickstart":1,"bindpickend":1},"picker-view-column":{},"progress":{"percent":1,"show-info":1,"border-radius":1,"font-size":1,"stroke-width":1,"color":1,"activeColor":1,"backgroundColor":1,"active":1,"active-mode":1,"duration":1,"bindactiveend":1},"radio":{"value":1,"checked":1,"disabled":1,"color":1},"radio-group":{"bindchange":1},"rich-text":{"nodes":1,"space":["ensp","emsp","nbsp"]},"scroll-view":{"scroll-x":1,"scroll-y":1,"upper-threshold":1,"lower-threshold":1,"scroll-top":1,"scroll-left":1,"scroll-into-view":1,"scroll-with-animation":1,"enable-back-to-top":1,"enable-flex":1,"scroll-anchoring":1,"refresher-enabled":1,"refresher-threshold":1,"refresher-default-style":1,"refresher-background":1,"refresher-triggered":1,"enhanced":1,"bounces":1,"show-scrollbar":1,"paging-enabled":1,"fast-deceleration":1,"binddragstart":1,"binddragging":1,"binddragend":1,"bindscrolltoupper":1,"bindscrolltolower":1,"bindscroll":1,"bindrefresherpulling":1,"bindrefresherrefresh":1,"bindrefresherrestore":1,"bindrefresherabort":1},"share-element":{"key":1,"transform":1,"duration":1,"easing-function":1},"swiper":{"indicator-dots":1,"indicator-color":1,"indicator-active-color":1,"autoplay":1,"current":1,"interval":1,"duration":1,"circular":1,"vertical":1,"previous-margin":1,"next-margin":1,"snap-to-edge":1,"display-multiple-items":1,"easing-function":["default","linear","easeInCubic","easeOutCubic","easeInOutCubic"],"bindchange":1,"bindtransition":1,"bindanimationfinish":1},"slider":{"min":1,"max":1,"step":1,"disabled":1,"value":1,"color":1,"selected-color":1,"activeColor":1,"backgroundColor":1,"block-size":1,"block-color":1,"show-value":1,"bindchange":1,"bindchanging":1},"swiper-item":{"item-id":1,"skip-hidden-item-layout":1},"switch":{"checked":1,"disabled":1,"type":1,"color":1,"bindchange":1},"text":{"selectable":1,"user-select":1,"space":["ensp","emsp","nbsp"],"decode":1},"textarea":{"value":1,"placeholder":1,"placeholder-style":1,"placeholder-class":1,"disabled":1,"maxlength":1,"auto-focus":1,"focus":1,"auto-height":1,"fixed":1,"cursor-spacing":1,"cursor":1,"show-confirm-bar":1,"selection-start":1,"selection-end":1,"adjust-position":1,"hold-keyboard":1,"disable-default-padding":1,"confirm-type":["send","search","next","go","done","return"],"confirm-hold":1,"bindfocus":1,"bindblur":1,"bindlinechange":1,"bindinput":1,"bindconfirm":1,"bindkeyboardheightchange":1},"video":{"src":1,"duration":1,"controls":1,"danmu-list":1,"danmu-btn":1,"enable-danmu":1,"autoplay":1,"loop":1,"muted":1,"initial-time":1,"page-gesture":1,"direction":["0","90","-90"],"show-progress":1,"show-fullscreen-btn":1,"show-play-btn":1,"show-center-play-btn":1,"enable-progress-gesture":1,"object-fit":["contain","fill","cover"],"poster":1,"show-mute-btn":1,"title":1,"play-btn-position":["bottom","center"],"enable-play-gesture":1,"auto-pause-if-navigate":1,"auto-pause-if-open-native":1,"vslide-gesture":1,"vslide-gesture-in-fullscreen":1,"ad-unit-id":1,"poster-for-crawler":1,"show-casting-button":1,"picture-in-picture-mode":["[]","push","pop"],"picture-in-picture-show-progress":1,"enable-auto-rotation":1,"show-screen-lock-button":1,"show-snapshot-button":1,"show-background-playback-button":1,"background-poster":1,"is-drm":1,"provision-url":1,"certificate-url":1,"license-url":1,"bindplay":1,"bindpause":1,"bindended":1,"bindtimeupdate":1,"bindfullscreenchange":1,"bindwaiting":1,"binderror":1,"bindprogress":1,"bindloadedmetadata":1,"bindcontrolstoggle":1,"bindenterpictureinpicture":1,"bindleavepictureinpicture":1,"bindseekcomplete":1},"view":{"hover-class":1,"hover-stop-propagation":1,"hover-start-time":1,"hover-stay-time":1},"voip-room":{"openid":1,"mode":1,"device-position":1,"binderror":1},"web-view":{"src":1,"bindmessage":1,"bindload":1,"binderror":1},"ad-custom":{"unit-id":1,"ad-intervals":1,"bindload":1,"binderror":1},"aria-component":{},"native-component":{}}'),DF=JSON.parse('{"class":{"VKSession":["start","stop","destroy","requestAnimationFrame","cancelAnimationFrame","getVKFrame","hitTest","on","off","state","config","cameraSize"],"VKFrame":["getCameraTexture","getDisplayTransform","timestamp","camera"],"VKCamera":["getProjectionMatrix","viewMatrix"],"wx.env":["USER_DATA_PATH"],"CanvasContext":["draw","createLinearGradient","createCircularGradient","createPattern","measureText","save","restore","beginPath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arc","rect","arcTo","clip","fillRect","strokeRect","clearRect","fill","stroke","closePath","scale","rotate","translate","drawImage","strokeText","transform","setTransform","setFillStyle","setStrokeStyle","setShadow","setGlobalAlpha","setLineWidth","setLineJoin","setLineCap","setLineDash","setMiterLimit","fillText","setFontSize","setTextAlign","setTextBaseline","fillStyle","strokeStyle","shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur","lineWidth","lineCap","lineJoin","miterLimit","lineDashOffset","font","globalAlpha","globalCompositeOperation"],"CanvasGradient":["addColorStop"],"OffscreenCanvas":["getContext","createImage","width","height"],"Color":[],"EventChannel":["emit","on","once","off"],"IntersectionObserver":["relativeTo","relativeToViewport","observe","disconnect"],"MediaQueryObserver":["observe","disconnect"],"NodesRef":["fields","boundingClientRect","scrollOffset","context","node"],"SelectorQuery":["in","select","selectAll","selectViewport","exec"],"AudioContext":["setSrc","play","pause","seek"],"InnerAudioContext":["play","pause","stop","seek","destroy","onCanplay","offCanplay","onPlay","offPlay","onPause","offPause","onStop","offStop","onEnded","offEnded","onTimeUpdate","offTimeUpdate","onError","offError","onWaiting","offWaiting","onSeeking","offSeeking","onSeeked","offSeeked","src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered"],"CameraContext":["onCameraFrame","takePhoto","setZoom","startRecord","stopRecord"],"CameraFrameListener":["start","stop"],"EditorContext":["format","insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","scrollIntoView","getSelectionText"],"LivePlayerContext":["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","exitPictureInPicture","snapshot","requestPictureInPicture"],"LivePusherContext":["start","stop","pause","resume","switchCamera","snapshot","toggleTorch","playBGM","stopBGM","pauseBGM","resumeBGM","setBGMVolume","setMICVolume","startPreview","stopPreview","sendMessage"],"MapContext":["getCenterLocation","setLocMarkerIcon","moveToLocation","translateMarker","moveAlong","includePoints","getRegion","getRotate","getSkew","getScale","setCenterOffset","removeCustomLayer","addCustomLayer","addGroundOverlay","addVisualLayer","removeVisualLayer","updateGroundOverlay","removeGroundOverlay","toScreenLocation","fromScreenLocation","openMapApp","addMarkers","removeMarkers","initMarkerCluster","on"],"ScrollViewContext":["scrollTo","scrollIntoView","scrollEnabled","bounces","showScrollbar","pagingEnabled","fastDeceleration","decelerationDisabled"],"VideoContext":["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback"],"UserCryptoManager":["getLatestUserKey","getRandomValues"],"LogManager":["debug","info","log","warn"],"RealtimeLogManager":["info","warn","error","setFilterMsg","addFilterMsg"],"RealtimeTagLogManager":["info","warn","error","setFilterMsg","addFilterMsg"],"BeaconInfo":["uuid","major","minor","proximity","accuracy","rssi"],"MediaRecorder":["pause","resume","start","stop","requestFrame","on","off","destroy"],"VideoDecoder":["start","seek","stop","remove","getFrameData","on","off"],"MediaTrack":["kind","duration","volume"],"MediaContainer":["extractDataSource","addTrack","removeTrack","export","destroy"],"UserInfo":["nickName","avatarUrl","gender","country","province","city","language"],"EntryList":["getEntries","getEntriesByType","getEntriesByName"],"Performance":["getEntries","getEntriesByType","getEntriesByName","createObserver","setBufferSize"],"PerformanceObserver":["observe","disconnect","supportedEntryTypes"],"Animation":["export","step","matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ","opacity","backgroundColor","width","height","left","right","top","bottom"],"UpdateManager":["applyUpdate","onCheckForUpdate","onUpdateReady","onUpdateFailed"],"Worker":["postMessage","terminate","onMessage","onProcessKilled"],"FileSystemManager":[],"ReadResult":["bytesRead","arrayBuffer"],"Stats":["isDirectory","isFile","mode","size","lastAccessedTime","lastModifiedTime"],"WriteResult":["bytesWritten"],"UDPSocket":["bind","setTTL","send","connect","write","close","onClose","offClose","onError","offError","onListening","offListening","onMessage","offMessage"],"Canvas":["getContext","createImage","requestAnimationFrame","cancelAnimationFrame","createImageData","createPath2D","toDataURL","width","height"],"RenderingContext":[],"Image":["src","width","height","onload","onerror"],"NFCAdapter":["startDiscovery","stopDiscovery","getNdef","getNfcA","getNfcB","getIsoDep","getNfcF","getNfcV","getMifareClassic","getMifareUltralight","onDiscovered","offDiscovered","tech"],"Ndef":["connect","close","setTimeout","isConnected","onNdefMessage","offNdefMessage","writeNdefMessage"],"NfcA":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive","getAtqa","getSak"],"NfcB":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive"],"IsoDep":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive","getHistoricalBytes"],"NfcF":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive"],"NfcV":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive"],"MifareClassic":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive"],"MifareUltralight":["connect","close","setTimeout","isConnected","getMaxTransceiveLength","transceive"],"WifiInfo":["SSID","BSSID","secure","signalStrength","frequency"],"BackgroundAudioManager":["play","pause","seek","stop","onCanplay","onWaiting","onError","onPlay","onPause","onSeeking","onSeeked","onEnded","onStop","onTimeUpdate","onNext","onPrev","src","startTime","title","epname","singer","coverImgUrl","webUrl","protocol","playbackRate","duration","currentTime","paused","buffered"],"RecorderManager":["start","pause","resume","stop","onStart","onResume","onPause","onStop","onFrameRecorded","onError","onInterruptionBegin","onInterruptionEnd"],"DownloadTask":["abort","onProgressUpdate","offProgressUpdate","onHeadersReceived","offHeadersReceived"],"RequestTask":["abort","onHeadersReceived","offHeadersReceived"],"SocketTask":["send","close","onOpen","onClose","onError","onMessage"],"UploadTask":["abort","onProgressUpdate","offProgressUpdate","onHeadersReceived","offHeadersReceived"],"AuthSetting":["scope.userInfo","scope.userLocation","scope.address","scope.invoiceTitle","scope.invoice","scope.werun","scope.record","scope.writePhotosAlbum","scope.camera","scope.bluetoothBackground"],"SubscriptionsSetting":["mainSwitch","itemSettings"],"ImageData":["width","height","data"],"Path2D":[],"BLEPeripheralServer":["addService","removeService","startAdvertising","stopAdvertising","writeCharacteristicValue","onCharacteristicWriteRequest","offCharacteristicWriteRequest","onCharacteristicReadRequest","offCharacteristicReadRequest","onCharacteristicSubscribed","offCharacteristicSubscribed","onCharacteristicUnsubscribed","offCharacteristicUnsubscribed"],"MediaAudioPlayer":["start","addAudioSource","removeAudioSource","stop","destroy","volume"],"WebAudioContext":["close","resume","suspend","createIIRFilter","createWaveShaper","createConstantSource","createOscillator","createGain","createPeriodicWave","createBiquadFilter","createBufferSource","createChannelMerger","createChannelSplitter","createDelay","createDynamicsCompressor","createScriptProcessor","createPanner","createBuffer","decodeAudioData","state","onstatechange","currentTime","destination","listener","sampleRate"],"WebAudioContextNode":["positionX","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","setPosition"],"AudioBuffer":["getChannelData","copyFromChannel","copyToChannel","sampleRate","length","duration","numberOfChannels"],"TCPSocket":["connect","write","close","onClose","offClose","onConnect","offConnect","onError","offError","onMessage","offMessage"],"InterstitialAd":["show","load","destroy","onLoad","offLoad","onError","offError","onClose","offClose"],"RewardedVideoAd":["load","show","destroy","onLoad","offLoad","onError","offError","onClose","offClose"]},"method":{"arrayBufferToBase64":{},"base64ToArrayBuffer":{},"createVKSession":{"object":{"track":["plane"]}},"exitVoIPChat":{"object":{},"success":{}},"joinVoIPChat":{"object":{"roomType":["voice","video"],"signature":1,"nonceStr":1,"timeStamp":1,"groupId":1,"muteConfig":1},"success":{"openIdList":1,"errCode":1,"errMsg":1}},"onVoIPChatInterrupted":{"callback":{"errCode":1,"errMsg":1}},"offVoIPChatInterrupted":{},"onVoIPChatMembersChanged":{"callback":{"openIdList":1,"errCode":1,"errMsg":1}},"offVoIPChatMembersChanged":{},"onVoIPChatSpeakersChanged":{"callback":{"openIdList":1,"errCode":1,"errMsg":1}},"onVoIPChatStateChanged":{"callback":{"code":1,"data":1,"errCode":1,"errMsg":1}},"offVoIPChatStateChanged":{"callback":{}},"onVoIPVideoMembersChanged":{"callback":{"openIdList":1,"errCode":1,"errMsg":1}},"offVoIPVideoMembersChanged":{"callback":{}},"subscribeVoIPVideoMembers":{"object":{"openIdList":1},"success":{}},"updateVoIPChatMuteConfig":{"object":{"muteConfig":1},"success":{}},"setEnable1v1Chat":{"object":{"enable":1,"backgroundType":["0","1","2","3","4","5"],"minWindowType":1},"success":{}},"getAccountInfoSync":{},"onAppHide":{"callback":{}},"offAppHide":{"callback":{}},"onAppShow":{"callback":{"path":1,"scene":1,"query":1,"shareTicket":1,"referrerInfo":["appId","extraData"],"forwardMaterials":1}},"offAppShow":{"callback":{}},"getEnterOptionsSync":{},"onError":{"callback":{}},"offError":{},"onUnhandledRejection":{"callback":{"reason":1,"promise":1}},"offUnhandledRejection":{"callback":{}},"getLaunchOptionsSync":{},"onCopyUrl":{"callback":{"query":1}},"offCopyUrl":{"callback":{}},"onPageNotFound":{"callback":{"path":1,"query":1,"isEntryPage":1}},"offPageNotFound":{"callback":{}},"onThemeChange":{"callback":{"theme":["dark","light"]}},"offThemeChange":{"callback":{}},"createBufferURL":{},"revokeBufferURL":{},"canvasGetImageData":{"object":{"canvasId":1,"x":1,"y":1,"width":1,"height":1},"success":{"width":1,"height":1,"data":1}},"canvasPutImageData":{"object":{"canvasId":1,"data":1,"x":1,"y":1,"width":1,"height":1},"success":{}},"canvasToTempFilePath":{"object":{"x":1,"y":1,"width":1,"height":1,"destWidth":1,"destHeight":1,"canvasId":1,"canvas":1,"fileType":["jpg","png"],"quality":1},"success":{"tempFilePath":1}},"createCanvasContext":{},"createOffscreenCanvas":{"object":{"type":["webgl","2d"],"width":1,"height":1,"compInst":1}},"createIntersectionObserver":{},"nextTick":{},"createSelectorQuery":{},"createAudioContext":{},"createCameraContext":{},"createLivePlayerContext":{},"createLivePusherContext":{},"createMapContext":{},"createVideoContext":{},"createInnerAudioContext":{"object":{"useWebAudioImplement":1}},"getRandomValues":{"object":{"length":1},"success":{"randomValues":1}},"getUserCryptoManager":{},"getLogManager":{"object":{"level":1}},"setEnableDebug":{"object":{"enableDebug":1},"success":{}},"getRealtimeLogManager":{},"startAccelerometer":{"object":{"interval":["game","ui","normal"]},"success":{}},"stopAccelerometer":{"object":{},"success":{}},"onAccelerometerChange":{"callback":{"x":1,"y":1,"z":1}},"offAccelerometerChange":{},"checkIsOpenAccessibility":{"object":{},"success":{"open":1}},"getBatteryInfo":{"object":{},"success":{"level":1,"isCharging":1}},"getBatteryInfoSync":{"return":{"level":1,"isCharging":1}},"addPhoneCalendar":{"object":{"title":1,"startTime":1,"allDay":1,"description":1,"location":1,"endTime":1,"alarm":1,"alarmOffset":1},"success":{}},"addPhoneRepeatCalendar":{"object":{"title":1,"startTime":1,"allDay":1,"description":1,"location":1,"endTime":1,"alarm":1,"alarmOffset":1,"repeatInterval":1,"repeatEndTime":1},"success":{}},"getClipboardData":{"object":{},"success":{"data":1}},"setClipboardData":{"object":{"data":1},"success":{}},"startCompass":{"object":{},"success":{}},"stopCompass":{"object":{},"success":{}},"onCompassChange":{"callback":{"direction":1,"accuracy":1}},"offCompassChange":{},"chooseContact":{"object":{},"success":{"phoneNumber":1,"displayName":1,"phoneNumberList":1}},"addPhoneContact":{"object":{"firstName":1,"photoFilePath":1,"nickName":1,"lastName":1,"middleName":1,"remark":1,"mobilePhoneNumber":1,"weChatNumber":1,"addressCountry":1,"addressState":1,"addressCity":1,"addressStreet":1,"addressPostalCode":1,"organization":1,"title":1,"workFaxNumber":1,"workPhoneNumber":1,"hostNumber":1,"email":1,"url":1,"workAddressCountry":1,"workAddressState":1,"workAddressCity":1,"workAddressStreet":1,"workAddressPostalCode":1,"homeFaxNumber":1,"homePhoneNumber":1,"homeAddressCountry":1,"homeAddressState":1,"homeAddressCity":1,"homeAddressStreet":1,"homeAddressPostalCode":1},"success":{}},"getLocalIPAddress":{"object":{},"success":{"errMsg":1,"localip":1}},"startGyroscope":{"object":{"interval":["game","ui","normal"]},"success":{}},"stopGyroscope":{"object":{},"success":{}},"onGyroscopeChange":{"callback":{"x":1,"y":1,"z":1}},"offGyroscopeChange":{},"startBeaconDiscovery":{"object":{"uuids":1,"ignoreBluetoothAvailable":1},"success":{}},"stopBeaconDiscovery":{"object":{},"success":{}},"getBeacons":{"object":{},"success":{"beacons":1}},"onBeaconUpdate":{"callback":{"beacons":1}},"offBeaconUpdate":{"callback":{}},"onBeaconServiceChange":{"callback":{"available":1,"discovering":1}},"offBeaconServiceChange":{"callback":{}},"startLocalServiceDiscovery":{"object":{"serviceType":1},"success":{}},"stopLocalServiceDiscovery":{"object":{},"success":{}},"onLocalServiceFound":{"callback":{"serviceType":1,"serviceName":1,"ip":1,"port":1}},"offLocalServiceFound":{"callback":{}},"onLocalServiceLost":{"callback":{"serviceType":1,"serviceName":1}},"offLocalServiceLost":{"callback":{}},"onLocalServiceDiscoveryStop":{"callback":{}},"offLocalServiceDiscoveryStop":{"callback":{}},"onLocalServiceResolveFail":{"callback":{"serviceType":1,"serviceName":1}},"offLocalServiceResolveFail":{"callback":{}},"startDeviceMotionListening":{"object":{"interval":["game","ui","normal"]},"success":{}},"stopDeviceMotionListening":{"object":{},"success":{}},"onDeviceMotionChange":{"callback":{"alpha":1,"beta":1,"gamma":1}},"offDeviceMotionChange":{},"getNetworkType":{"object":{},"success":{"networkType":["wifi","2g","3g","4g","5g","unknown","none"],"signalStrength":1}},"onNetworkStatusChange":{"callback":{"isConnected":1,"networkType":["wifi","2g","3g","4g","unknown","none"]}},"offNetworkStatusChange":{},"makePhoneCall":{"object":{"phoneNumber":1},"success":{}},"scanCode":{"object":{"onlyFromCamera":1,"scanType":["barCode","qrCode","datamatrix","pdf417"]},"success":{"result":1,"scanType":["QR_CODE","AZTEC","CODABAR","CODE_39","CODE_93","CODE_128","DATA_MATRIX","EAN_8","EAN_13","ITF","MAXICODE","PDF_417","RSS_14","RSS_EXPANDED","UPC_A","UPC_E","UPC_EAN_EXTENSION","WX_CODE","CODE_25"],"charSet":1,"path":1,"rawData":1}},"getSystemInfo":{"object":{},"success":{"brand":1,"model":1,"pixelRatio":1,"screenWidth":1,"screenHeight":1,"windowWidth":1,"windowHeight":1,"statusBarHeight":1,"language":1,"version":1,"system":1,"platform":1,"fontSizeSetting":1,"SDKVersion":1,"benchmarkLevel":1,"albumAuthorized":1,"cameraAuthorized":1,"locationAuthorized":1,"microphoneAuthorized":1,"notificationAuthorized":1,"notificationAlertAuthorized":1,"notificationBadgeAuthorized":1,"notificationSoundAuthorized":1,"phoneCalendarAuthorized":1,"bluetoothEnabled":1,"locationEnabled":1,"wifiEnabled":1,"safeArea":["left","right","top","bottom","width","height"],"locationReducedAccuracy":1,"theme":["dark","light"],"host":["appId"],"enableDebug":1,"deviceOrientation":["portrait","landscape"]}},"getSystemInfoSync":{},"getSystemInfoAsync":{"object":{},"success":{"brand":1,"model":1,"pixelRatio":1,"screenWidth":1,"screenHeight":1,"windowWidth":1,"windowHeight":1,"statusBarHeight":1,"language":1,"version":1,"system":1,"platform":1,"fontSizeSetting":1,"SDKVersion":1,"benchmarkLevel":1,"albumAuthorized":1,"cameraAuthorized":1,"locationAuthorized":1,"microphoneAuthorized":1,"notificationAuthorized":1,"notificationAlertAuthorized":1,"notificationBadgeAuthorized":1,"notificationSoundAuthorized":1,"phoneCalendarAuthorized":1,"bluetoothEnabled":1,"locationEnabled":1,"wifiEnabled":1,"safeArea":["left","right","top","bottom","width","height"],"locationReducedAccuracy":1,"theme":["dark","light"],"host":["appId"],"enableDebug":1,"deviceOrientation":["portrait","landscape"]}},"openSystemBluetoothSetting":{"object":{},"success":{}},"openAppAuthorizeSetting":{"object":{},"success":{}},"getSystemSetting":{},"getAppAuthorizeSetting":{},"getDeviceInfo":{},"getWindowInfo":{},"getAppBaseInfo":{},"vibrateShort":{"object":{"type":1},"success":{}},"vibrateLong":{"object":{},"success":{}},"getExptInfoSync":{"return":{}},"reportEvent":{},"getExtConfig":{"object":{},"success":{"extConfig":1}},"getExtConfigSync":{"return":{}},"initFaceDetect":{"object":{},"success":{}},"faceDetect":{"object":{"frameBuffer":1,"width":1,"height":1,"enablePoint":1,"enableConf":1,"enableAngle":1,"enableMultiFace":1},"success":{"detectRect":1,"x":1,"y":1,"pointArray":1,"confArray":1,"angleArray":1,"faceInfo":1}},"stopFaceDetect":{"object":{},"success":{}},"getChannelsLiveInfo":{"object":{"finderUserName":1},"success":{"feedId":1,"nonceId":1,"description":1,"status":1,"headUrl":1,"nickname":1}},"getChannelsLiveNoticeInfo":{"object":{"finderUserName":1},"success":{"noticeId":1,"status":1,"startTime":1,"headUrl":1,"nickname":1,"reservable":1}},"openChannelsActivity":{"object":{"finderUserName":1,"feedId":1},"success":{}},"openChannelsLive":{"object":{"finderUserName":1,"feedId":1,"nonceId":1},"success":{}},"reserveChannelsLive":{"object":{"noticeId":1}},"chooseLocation":{"object":{"latitude":1,"longitude":1},"success":{"name":1,"address":1,"latitude":1,"longitude":1}},"choosePoi":{"object":{},"success":{"type":1,"city":1,"name":1,"address":1,"latitude":1,"longitude":1}},"getLocation":{"object":{"type":1,"altitude":1,"isHighAccuracy":1,"highAccuracyExpireTime":1},"success":{"latitude":1,"longitude":1,"speed":1,"accuracy":1,"altitude":1,"verticalAccuracy":1,"horizontalAccuracy":1}},"onLocationChange":{"callback":{"latitude":1,"longitude":1,"speed":1,"accuracy":1,"altitude":1,"verticalAccuracy":1,"horizontalAccuracy":1}},"offLocationChange":{"callback":{}},"onLocationChangeError":{"callback":{"错误码":1}},"offLocationChangeError":{"callback":{}},"startLocationUpdateBackground":{"object":{},"success":{}},"startLocationUpdate":{"object":{},"success":{}},"stopLocationUpdate":{"object":{},"success":{}},"openLocation":{"object":{"latitude":1,"longitude":1,"scale":1,"name":1,"address":1},"success":{}},"onAudioInterruptionBegin":{"callback":{}},"offAudioInterruptionBegin":{"callback":{}},"onAudioInterruptionEnd":{"callback":{}},"offAudioInterruptionEnd":{"callback":{}},"chooseMedia":{"object":{"count":1,"mediaType":["image","video"],"sourceType":["album","camera"],"maxDuration":1,"sizeType":1,"camera":["back","front"]},"success":{"tempFiles":1,"type":1}},"chooseMessageFile":{"object":{"count":1,"type":["all","video","image","file"],"extension":1},"success":{"tempFiles":1}},"loadFontFace":{"object":{"global":1,"family":1,"source":1,"desc":["style","weight","variant"],"scopes":1},"success":{"status":1}},"chooseImage":{"object":{"count":1,"sizeType":["original","compressed"],"sourceType":["album","camera"]},"success":{"tempFilePaths":1,"tempFiles":1}},"previewImage":{"object":{"urls":1,"showmenu":1,"current":1},"success":{}},"getImageInfo":{"object":{"src":1},"success":{"width":1,"height":1,"path":1,"orientation":["up","up-mirrored","down","down-mirrored","left-mirrored","right","right-mirrored","left"],"type":1}},"saveImageToPhotosAlbum":{"object":{"filePath":1},"success":{}},"compressImage":{"object":{"src":1,"quality":1},"success":{"tempFilePath":1}},"createMediaRecorder":{},"openVideoEditor":{"object":{"filePath":1},"success":{"duration":1,"size":1,"tempFilePath":1,"tempThumbPath":1}},"previewMedia":{"object":{"sources":1,"current":1,"showmenu":1},"success":{}},"chooseVideo":{"object":{"sourceType":["album","camera"],"compressed":1,"maxDuration":1,"camera":["back","front"]},"success":{"tempFilePath":1,"duration":1,"size":1,"height":1,"width":1}},"saveVideoToPhotosAlbum":{"object":{"filePath":1},"success":{}},"getVideoInfo":{"object":{"src":1},"success":{"orientation":["up","down","left","right","up-mirrored","down-mirrored","left-mirrored","right-mirrored"],"type":1,"duration":1,"size":1,"height":1,"width":1,"fps":1,"bitrate":1}},"compressVideo":{"object":{"src":1,"quality":["low","medium","high"],"bitrate":1,"fps":1,"resolution":1},"success":{"tempFilePath":1,"size":1}},"createVideoDecoder":{},"createMediaContainer":{},"downloadFile":{"object":{"url":1,"header":1,"timeout":1,"filePath":1},"success":{"tempFilePath":1,"filePath":1,"statusCode":1,"profile":1}},"request":{"object":{"url":1,"data":1,"header":1,"timeout":1,"method":["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"],"dataType":["json","其他"],"responseType":["text","arraybuffer"],"enableHttp2":1,"enableQuic":1,"enableCache":1,"enableHttpDNS":1,"httpDNSServiceId":1,"forceCellularNetwork":1},"success":{"data":1,"statusCode":1,"header":1,"cookies":1,"profile":1}},"uploadFile":{"object":{"url":1,"filePath":1,"name":1,"header":1,"formData":1,"timeout":1},"success":{"data":1,"statusCode":1}},"login":{"object":{"timeout":1},"success":{"code":1}},"checkSession":{"object":{},"success":{}},"chooseAddress":{"object":{},"success":{"userName":1,"postalCode":1,"provinceName":1,"cityName":1,"countyName":1,"detailInfo":1,"nationalCode":1,"telNumber":1,"errMsg":1}},"authorize":{"object":{"scope":1},"success":{}},"addCard":{"object":{"cardList":1},"success":{"cardList":1}},"openCard":{"object":{"cardList":1},"success":{}},"chooseInvoice":{"object":{},"success":{"invoiceInfo":1}},"chooseInvoiceTitle":{"object":{},"success":{"type":["0","1"],"title":1,"taxNumber":1,"companyAddress":1,"telephone":1,"bankName":1,"bankAccount":1,"errMsg":1}},"chooseLicensePlate":{"object":{},"success":{"plateNumber":1}},"getGroupEnterInfo":{"object":{},"success":{"errMsg":1,"encryptedData":1,"iv":1,"cloudID":1}},"getUserInfo":{"object":{"withCredentials":1,"lang":["en","zh_CN","zh_TW"]},"success":{"userInfo":1,"rawData":1,"signature":1,"encryptedData":1,"iv":1,"cloudID":1}},"getUserProfile":{"object":{"lang":["en","zh_CN","zh_TW"],"desc":1},"success":{"userInfo":1,"rawData":1,"signature":1,"encryptedData":1,"iv":1,"cloudID":1}},"openCustomerServiceChat":{"object":{"extInfo":["url"],"corpId":1,"showMessageCard":1,"sendMessageTitle":1,"sendMessagePath":1,"sendMessageImg":1},"success":{}},"requestSubscribeMessage":{"object":{"tmplIds":1},"success":{"errMsg":1,"TEMPLATE_ID":1}},"getWeRunData":{"object":{},"success":{"encryptedData":1,"iv":1,"cloudID":1}},"getPerformance":{},"onMemoryWarning":{"callback":{"level":["5","10","15"]}},"offMemoryWarning":{},"reportPerformance":{},"reportAnalytics":{},"reportMonitor":{},"getBackgroundFetchData":{"object":{"fetchType":1},"success":{}},"onBackgroundFetchData":{"callback":{"fetchType":1,"fetchedData":1,"timeStamp":1}},"setBackgroundFetchToken":{"object":{"token":1},"success":{}},"getBackgroundFetchToken":{"object":{},"success":{}},"createAnimation":{"object":{"duration":1,"timingFunction":["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"],"delay":1,"transformOrigin":1}},"enableAlertBeforeUnload":{"object":{"message":1},"success":{}},"disableAlertBeforeUnload":{"object":{},"success":{}},"getMenuButtonBoundingClientRect":{},"getSelectedTextRange":{"object":{},"success":{"start":1,"end":1}},"hideKeyboard":{"object":{},"success":{}},"showModal":{"object":{"title":1,"content":1,"showCancel":1,"cancelText":1,"cancelColor":1,"confirmText":1,"confirmColor":1,"editable":1,"placeholderText":1},"success":{"content":1,"confirm":1,"cancel":1}},"showToast":{"object":{"title":1,"icon":["success","error","loading","none"],"image":1,"duration":1,"mask":1},"success":{}},"hideToast":{"object":{},"success":{}},"showLoading":{"object":{"title":1,"mask":1},"success":{}},"hideLoading":{"object":{},"success":{}},"showActionSheet":{"object":{"alertText":1,"itemList":1,"itemColor":1},"success":{"tapIndex":1}},"onKeyboardHeightChange":{"callback":{"height":1}},"offKeyboardHeightChange":{},"pageScrollTo":{"object":{"scrollTop":1,"duration":1,"selector":1},"success":{}},"startPullDownRefresh":{"object":{},"success":{}},"stopPullDownRefresh":{"object":{},"success":{}},"onWindowResize":{"callback":{"size":["windowWidth","windowHeight"]}},"offWindowResize":{"callback":{}},"setBackgroundColor":{"object":{"backgroundColor":1,"backgroundColorTop":1,"backgroundColorBottom":1},"success":{}},"setBackgroundTextStyle":{"object":{"textStyle":["dark","light"]},"success":{}},"setWindowSize":{"object":{"width":1,"height":1},"success":{}},"setTabBarBadge":{"object":{"index":1,"text":1},"success":{}},"removeTabBarBadge":{"object":{"index":1},"success":{}},"showTabBarRedDot":{"object":{"index":1},"success":{}},"hideTabBarRedDot":{"object":{"index":1},"success":{}},"showTabBar":{"object":{"animation":1},"success":{}},"hideTabBar":{"object":{"animation":1},"success":{}},"setTabBarStyle":{"object":{"color":1,"selectedColor":1,"backgroundColor":1,"borderStyle":1},"success":{}},"setTabBarItem":{"object":{"index":1,"text":1,"iconPath":1,"selectedIconPath":1},"success":{}},"setTopBarText":{"object":{"text":1},"success":{}},"getUpdateManager":{},"updateWeChatApp":{"object":{},"success":{}},"createWorker":{},"saveFile":{"object":{"tempFilePath":1},"success":{"savedFilePath":1}},"openDocument":{"object":{"filePath":1,"showMenu":1,"fileType":["doc","docx","xls","xlsx","ppt","pptx","pdf"]},"success":{}},"getSavedFileList":{"object":{},"success":{"fileList":1}},"getSavedFileInfo":{"object":{"filePath":1},"success":{"size":1,"createTime":1}},"removeSavedFile":{"object":{"filePath":1},"success":{}},"getFileInfo":{"object":{"filePath":1,"digestAlgorithm":["md5","sha1"]},"success":{"size":1,"digest":1}},"getFileSystemManager":{},"saveFileToDisk":{"object":{"filePath":1},"success":{}},"getStorage":{"object":{"key":1},"success":{"data":1}},"getStorageSync":{},"setStorage":{"object":{"key":1,"data":1},"success":{}},"setStorageSync":{},"removeStorage":{"object":{"key":1},"success":{}},"removeStorageSync":{},"clearStorage":{"object":{},"success":{}},"clearStorageSync":{},"getStorageInfo":{"object":{},"success":{"keys":1,"currentSize":1,"limitSize":1}},"getStorageInfoSync":{"return":{"keys":1,"currentSize":1,"limitSize":1}},"createTCPSocket":{},"createUDPSocket":{},"authorizeForMiniProgram":{"object":{"scope":["scope.record","scope.writePhotosAlbum","scope.camera"]},"success":{}},"canIUse":{},"makeBluetoothPair":{"object":{"deviceId":1,"pin":1,"timeout":1},"success":{}},"isBluetoothDevicePaired":{"object":{"deviceId":1},"success":{}},"closeBLEConnection":{"object":{"deviceId":1},"success":{}},"closeBluetoothAdapter":{"object":{},"success":{}},"createBLEConnection":{"object":{"deviceId":1,"timeout":1},"success":{}},"getBLEDeviceCharacteristics":{"object":{"deviceId":1,"serviceId":1},"success":{"characteristics":1}},"getBLEDeviceRSSI":{"object":{"deviceId":1},"success":{"RSSI":1}},"getBLEDeviceServices":{"object":{"deviceId":1},"success":{"services":1}},"getBLEMTU":{"object":{"deviceId":1,"writeType":["write","writeNoResponse"]},"success":{"mtu":1}},"getBluetoothAdapterState":{"object":{},"success":{"discovering":1,"available":1}},"getBluetoothDevices":{"object":{},"success":{"devices":1}},"getConnectedBluetoothDevices":{"object":{"services":1},"success":{"devices":1}},"notifyBLECharacteristicValueChange":{"object":{"deviceId":1,"serviceId":1,"characteristicId":1,"state":1,"type":1},"success":{}},"onBLECharacteristicValueChange":{"callback":{"deviceId":1,"serviceId":1,"characteristicId":1,"value":1}},"offBLECharacteristicValueChange":{},"onBLEConnectionStateChange":{"callback":{"deviceId":1,"connected":1}},"offBLEConnectionStateChange":{},"onBLEMTUChange":{"callback":{"deviceId":1,"mtu":1}},"offBLEMTUChange":{"callback":{}},"onBluetoothAdapterStateChange":{"callback":{"available":1,"discovering":1}},"offBluetoothAdapterStateChange":{},"onBluetoothDeviceFound":{"callback":{"devices":1}},"offBluetoothDeviceFound":{},"openBluetoothAdapter":{"object":{"mode":["central","peripheral"]},"success":{}},"readBLECharacteristicValue":{"object":{"deviceId":1,"serviceId":1,"characteristicId":1},"success":{}},"setBLEMTU":{"object":{"deviceId":1,"mtu":1},"success":{"mtu":1}},"startBluetoothDevicesDiscovery":{"object":{"services":1,"allowDuplicatesKey":1,"interval":1,"powerLevel":["low","medium","high"]},"success":{}},"stopBluetoothDevicesDiscovery":{"object":{},"success":{}},"writeBLECharacteristicValue":{"object":{"deviceId":1,"serviceId":1,"characteristicId":1,"value":1},"success":{}},"getHCEState":{"object":{},"success":{}},"getNFCAdapter":{},"onHCEMessage":{"callback":{"messageType":["1","2"],"data":1,"reason":1}},"offHCEMessage":{},"sendHCEMessage":{"object":{"data":1},"success":{}},"startHCE":{"object":{"aid_list":1},"success":{}},"stopHCE":{"object":{},"success":{}},"getScreenBrightness":{"object":{},"success":{"value":1}},"onUserCaptureScreen":{"callback":{}},"offUserCaptureScreen":{},"setKeepScreenOn":{"object":{"keepScreenOn":1},"success":{}},"setScreenBrightness":{"object":{"value":1},"success":{}},"setVisualEffectOnCapture":{"object":{"visualEffect":1},"success":{}},"connectWifi":{"object":{"SSID":1,"BSSID":1,"password":1,"maunal":1},"success":{}},"getConnectedWifi":{"object":{},"success":{"wifi":1}},"getWifiList":{"object":{},"success":{}},"onGetWifiList":{"callback":{"wifiList":1}},"offGetWifiList":{},"onWifiConnected":{"callback":{"wifi":1}},"offWifiConnected":{},"setWifiList":{"object":{"wifiList":1},"success":{}},"startWifi":{"object":{},"success":{}},"stopWifi":{"object":{},"success":{}},"getBackgroundAudioManager":{},"getRecorderManager":{},"getBackgroundAudioPlayerState":{"object":{},"success":{"duration":1,"currentPosition":1,"status":["0","1","2"],"downloadPercent":1,"dataUrl":1}},"playBackgroundAudio":{"object":{"dataUrl":1,"title":1,"coverImgUrl":1},"success":{}},"pauseBackgroundAudio":{"object":{},"success":{}},"seekBackgroundAudio":{"object":{"position":1},"success":{}},"stopBackgroundAudio":{"object":{},"success":{}},"onBackgroundAudioPlay":{"callback":{}},"onBackgroundAudioPause":{"callback":{}},"onBackgroundAudioStop":{"callback":{}},"getAvailableAudioSources":{"object":{},"success":{"audioSources":["auto","buildInMic","headsetMic","mic","camcorder","voice_communication","voice_recognition"]}},"startRecord":{"object":{},"success":{"tempFilePath":1}},"stopRecord":{"object":{},"success":{}},"setInnerAudioOption":{"object":{"mixWithOther":1,"obeyMuteSwitch":1,"speakerOn":1},"success":{}},"playVoice":{"object":{"filePath":1,"duration":1},"success":{}},"pauseVoice":{"object":{},"success":{}},"stopVoice":{"object":{},"success":{}},"connectSocket":{"object":{"url":1,"header":1,"protocols":1,"tcpNoDelay":1,"perMessageDeflate":1,"timeout":1},"success":{}},"closeSocket":{"object":{"code":1,"reason":1},"success":{}},"sendSocketMessage":{"object":{"data":1},"success":{}},"onSocketOpen":{"callback":{"header":1}},"onSocketClose":{"callback":{"code":1,"reason":1}},"onSocketMessage":{"callback":{"data":1}},"onSocketError":{"callback":{"errMsg":1}},"addFileToFavorites":{"object":{"filePath":1,"fileName":1},"success":{}},"addVideoToFavorites":{"object":{"videoPath":1,"thumbPath":1},"success":{}},"requestOrderPayment":{},"requestPayment":{"object":{"timeStamp":1,"nonceStr":1,"package":1,"signType":["MD5","HMAC-SHA256","RSA"],"paySign":1},"success":{}},"showRedPackage":{"object":{"url":1},"success":{}},"getSetting":{"object":{"withSubscriptions":1},"success":{"authSetting":1,"subscriptionsSetting":1,"miniprogramAuthSetting":1}},"openSetting":{"object":{"withSubscriptions":1},"success":{"authSetting":1,"subscriptionsSetting":1}},"authPrivateMessage":{"object":{"shareTicket":1},"success":{"errMsg":1,"valid":1,"encryptedData":1,"iv":1}},"getShareInfo":{"object":{"shareTicket":1,"timeout":1},"success":{"errMsg":1,"encryptedData":1,"iv":1,"cloudID":1}},"hideShareMenu":{"object":{"menus":1},"success":{}},"shareFileMessage":{"object":{"filePath":1,"fileName":1},"success":{}},"shareVideoMessage":{"object":{"videoPath":1,"thumbPath":1},"success":{}},"showShareImageMenu":{"object":{"path":1},"success":{}},"showShareMenu":{"object":{"withShareTicket":1,"menus":1},"success":{}},"updateShareMenu":{"object":{"withShareTicket":1,"isUpdatableMessage":1,"activityId":1,"toDoActivityId":1,"templateInfo":1,"isPrivateMessage":1},"success":{}},"checkIsSoterEnrolledInDevice":{"object":{"checkAuthMode":["fingerPrint","facial","speech"]},"success":{"isEnrolled":1,"errMsg":1}},"checkIsSupportSoterAuthentication":{"object":{},"success":{"supportMode":["fingerPrint","facial","speech"]}},"startSoterAuthentication":{"object":{"requestAuthModes":["fingerPrint","facial","speech"],"challenge":1,"authContent":1},"success":{"authMode":1,"resultJSON":1,"resultJSONSignature":1,"errCode":1,"errMsg":1}},"shareToWeRun":{"object":{"recordList":1},"success":{}},"exitMiniProgram":{"object":{},"success":{}},"navigateBackMiniProgram":{"object":{"extraData":1},"success":{}},"navigateToMiniProgram":{"object":{"appId":1,"path":1,"extraData":1,"envVersion":["develop","trial","release"],"shortLink":1},"success":{}},"openEmbeddedMiniProgram":{"object":{"appId":1,"path":1,"extraData":1,"envVersion":["develop","trial","release"],"shortLink":1},"success":{}},"setNavigationBarTitle":{"object":{"title":1},"success":{}},"showNavigationBarLoading":{"object":{},"success":{}},"hideNavigationBarLoading":{"object":{},"success":{}},"hideHomeButton":{"object":{},"success":{}},"setNavigationBarColor":{"object":{"frontColor":1,"backgroundColor":1,"animation":["duration","timingFunc"]},"success":{}},"redirectTo":{"object":{"url":1},"success":{}},"reLaunch":{"object":{"url":1},"success":{}},"navigateTo":{"object":{"url":1,"events":1},"success":{"eventChannel":1}},"switchTab":{"object":{"url":1},"success":{}},"navigateBack":{"object":{"delta":1},"success":{}},"createBLEPeripheralServer":{"object":{},"success":{"server":1}},"onBLEPeripheralConnectionStateChanged":{"callback":{"deviceId":1,"serverId":1,"connected":1}},"offBLEPeripheralConnectionStateChanged":{"callback":{}},"createMediaAudioPlayer":{},"createWebAudioContext":{},"createInterstitialAd":{"object":{"adUnitId":1}},"createRewardedVideoAd":{"object":{"adUnitId":1,"multiton":1}}}}');var RF=nn("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),OF=nn("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return C(le.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=le.disableSetUserStorageFromMiniProgram),t})),MF=(__safeway__.apiSign.makeApiSign,!1),LF=[],NF=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),MF?LF.push(e):(MF=!0,it("sendDataToH5",e,{afterAll(){if(MF=!1,LF.length){var e=LF.shift();NF(e)}}}))},BF=!1,WF=[];function FF(e){for(var t=0;t<WF.length;t++)WF[t](e)}var UF,VF,jF,GF=()=>{var e={};return it("getPublicLibVersion",{complete:t=>{t.version?e=t.version:delete(e=t).errMsg}}),e},HF=(e={})=>{ct("setEnableDebug",e,{enableDebug:!0})&&(it("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},QF={debug(){},log(){},info(){},warn(){},error(){}},$F="undefined"!=typeof __initHelper&&1===__initHelper,zF=function(){try{return xu.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return QF.error("accessSync fail",e,arguments),{errMsg:e.message||""}}},YF=function(){try{return Bu.apply(this,arguments)}catch(e){return QF.error("renameSync fail",e,arguments),{errMsg:e.message||""}}},ZF=function(){try{var e=Ru.apply(this,arguments);return{stat:e,errMsg:"statSync:ok"}}catch(e){return QF.error("statSync fail",e,arguments),{errMsg:e.message||""}}},qF=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},JF=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},XF=!1,KF=102400,eU=[],tU={lastLogNum:1,lastLogSize:0},rU=!1,nU=!1,iU=!1,aU={},oU=e=>VF+"log"+e,sU=St((e=>zF(e).errMsg.indexOf("accessSync:ok")>=0)),lU=St((function(e){var t=zF(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)})),cU=St((e=>{if(QF.info(`initLog[1][isRemoteDebugMode=${$F}, wxConfigReady=${XF}, isLogInit=${rU}]`),$F||!XF||rU)e&&e();else{if(QF.info("initLog[2]"),UF=le&&"devtools"===le.platform,VF=(le&&le.env.USER_DATA_PATH||(UF?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!sU(VF))return QF.info(`initLog[3][mkdirSync][usrLogDir=${VF}]`),function(){try{wu.apply(this,arguments)}catch(e){return QF.error("mkdirSync fail",e,arguments),{errMsg:e.message||""}}}(VF),rU=!0,iU=lU(VF),e&&e(),iU?void QF.error("hasNoPermission[1]"):void 0;if(iU=lU(VF))return rU=!0,void QF.error("hasNoPermission[2]");for(var t=1;t<=5&&sU(oU(t));)aU[t]=!0,tU.lastLogNum=t,t++;QF.info(`[before statSync] path=${oU(tU.lastLogNum)}`);var r=ZF(oU(tU.lastLogNum));r.stat&&(tU.lastLogSize=r.stat.size),QF.info("[before isLogInit changeinto true"),rU=!0,e&&e()}})),uU=St((()=>{cU((()=>{if(QF.warn(`[after initLog] isLogInit=${rU}; isRemoteDebugMode=${$F}; hasNoPermission=${iU}; CACHE_LOG.length=${eU.length}; needDeleteOldLog=${nU}`),rU&&!$F&&!iU&&eU.length&&!nU){for(var e=[],t=0,r=0;r<eU.length;r++){var n=JF(eU[r]);if(QF.warn(`[logItemSize=${n}][currentSize=${t}][MAX_LOG_SIZE=102400]`),n>KF)console.warn("[wx.log warn] each log size exceed 100KB will be discard."),QF.warn(`submitLog[3],logItemSize=${n},MAX_LOG_SIZE=102400`);else{if(t+n>KF)break;t+=n,e.push(eU[r])}}if(QF.warn(`[reportLogList.length=${e.length}]`),e.length){if(tU.lastLogSize+t>1048576){if(tU.lastLogNum+1>=6)return nU=!0,QF.warn("submitLog[4][deleteOldLog]","logConfig=",tU,",MAX_FILE_COUNT=",4),void setTimeout((function(){QF.info(`deleteOldLog[1],unlinkSync,logPath(1)=${oU(1)}`),function(){try{ku.apply(this,arguments),QF.info("unlinkSync success",arguments)}catch(e){return QF.error("unlinkSync fail",e,arguments),{errMsg:e.message||""}}}(oU(1));for(var e=2;e<=5;e++)QF.info(`deleteOldLog[2],renameSync,logPath(1)=${oU(1)},logPath(i - 1)=${oU(e-1)}`),YF(oU(e),oU(e-1));tU.lastLogNum=5,aU[tU.lastLogNum]=!1,tU.lastLogSize=0,nU=!1}),50);tU.lastLogNum++,tU.lastLogSize=0}r===eU.length?eU=[]:eU.splice(0,r),aU[tU.lastLogNum]||sU(oU(tU.lastLogNum))?(QF.info("submitLog[7],before appendFile, filePath=",oU(tU.lastLogNum)),Wu({filePath:oU(tU.lastLogNum),data:(tU.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){QF.error("submitLog[7.1], appendFile fail",e)},success(e){QF.info("submitLog[7.2], appendFile success",e)}})):(QF.info("submitLog[5], before writeFile, filePath=",oU(tU.lastLogNum)),yu({filePath:oU(tU.lastLogNum),data:(tU.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",success(e){QF.info("submitLog[5.1], writeFile success",e)},fail(e){console.log("log writeFile err "+e.errMsg),QF.error("submitLog[6],writeFile fail",e)}})),tU.lastLogSize+=t}}}))}));function dU(){jF&&clearTimeout(jF),jF=setTimeout((()=>{uU(),jF=null,dU()}),2e3)}var pU={logApiInvoke:!0};["info","debug","log","warn"].forEach((e=>{pU[e]=function(){if(!$F&&!iU&&XF&&arguments.length&&tU){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,qF(new Date),`[${e}]`),eU.push(t.join(" "))}}}));var hU=!1;function fU(e={}){return hU||(St(dU)(),hU=!0),"number"==typeof e.level&&(pU.level=e.level),1===pU.level?pU.logApiInvoke=!1:0===pU.level&&(pU.logApiInvoke=!0),pU}pU._getUserLog=function(){for(var e={},t=1;t<=5;t++)e["log"+t]=ZF(oU(t));return e},pU.privateSystemLog=(...e)=>{XF&&7===le.appType&&void 0!==Reporter&&e&&e.length&&wxNativeConsole.info(e)},le.onReady((()=>{$F||(XF=!0)})),Pi((()=>{$F||uU()}));var gU=St(NF),vU=St((e=>{if("function"==typeof e){WF.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),BF||(Y("onH5Data",FF),BF=!0)}}));function mU(e={}){if(QF.info(`uploadUserLog[1],logConfig.lastLogNum=${tU.lastLogNum}`,",args=",e),!e.index||e.index>tU.lastLogNum)return QF.info("uploadUserLog[2]"),void(e.complete&&e.complete());var t="ios"===le.platform?1:5,r=e.readFileResp||function(){try{return{data:_u.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return QF.error("readFileSync fail",e,arguments),{errMsg:e.message||""}}}(oU(e.index),"utf8");if(QF.info(`uploadUserLog[3],readFileSync=${r.errMsg},index=${e.index},EACH_SLICE=${t}`),r.errMsg.indexOf("readFileSync:ok")>=0&&r.data){var n=r.data.length,i=Math.max(parseInt(n/t,10),1),a=(e.slice-1)*i;QF.info("uploadUserLog[4]","start=",a,"eachLen=",i,"len=",n,r.data.length);var o=r.data.substr(a,i);if(QF.info("uploadUserLog[5],content.length=",o&&o.length,",logConfig=",tU),!o)return QF.info("uploadUserLog[6],uploadUserLogSliceComplete"),gU({webviewId:e.webviewId,data:{total:tU.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:oa()}}),e.index++,e.slice=1,e.readFileResp=null,void mU(e);QF.info("uploadUserLog[7], uploadUserLogContent,content.length=",o&&o.length,",logConfig=",tU),gU({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:o,index:e.index,slice:e.slice||1,total:tU.lastLogNum,info:1===e.index&&1===e.slice?oa():null},success(){QF.info(`uploadUserLog[8] uploadUserLogContent suc, EACH_SLICE=${t}, args.slice=${e.slice}, logConfig.lastLogNum=${tU.lastLogNum}`),e.slice===t?(gU({webviewId:e.webviewId,data:{total:tU.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:oa()}}),e.index++,e.slice=1,e.readFileResp=null,mU(e)):(e.slice++,e.readFileResp=r,QF.info("uploadUserLog[9],args=",e),mU(e))},fail(t){QF.error(`uploadUserLog[10] fail,failResp.errMsg=${t.errMsg},args.retry=${e.retry}`),e.retry?gU({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:oa()}}):(e.retry=!0,mU(e))}})}else QF.error(`uploadUserLog[11],readFileSync fail=${r.errMsg},index=${e.index}`),gU({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:oa()}})}$F||vU((e=>{QF.info("onH5Data",e,tU),e.data&&"uploadUserLog"===e.data.type&&mU({index:1,slice:1,webviewId:e.webviewId})}));var _U=[],yU=[],AU=~~(+new Date/1e3),bU=0;function wU(e,t,r,n){it("operateRealtimeData",{type:t,content:r,priority:"string"==typeof n?n:n?"high":"low",id:e},{beforeSuccess(){},beforeFail(e){yU.forEach((t=>t(e)))}})}function EU(){var e=_U.shift();"function"==typeof e&&(e(),bU=+new Date),_U.length&&setTimeout(EU,200)}var CU=(e,t,r)=>{if(1005===e||!Ce){var n=+new Date,i=AU++;return n-bU>=200&&!_U.length?(wU(i,e,t,r),bU=n):(_U.push((()=>{wU(i,e,t,r)})),setTimeout(EU,200)),i}},IU=e=>{Ce||"function"==typeof e&&yU.push(F(e))};Y("onRealtimeDataResponse",(e=>{yU.forEach((t=>t(e)))}));var SU,TU="GetUploadSetting",xU={};function PU(e){return e?(xU[e]||(xU[e]=en({sdkApiName:TU,apiName:"GetUploadSetting",reqData:{},pluginId:e})),xU[e]):SU||(SU=en({sdkApiName:TU,apiName:"GetUploadSetting",reqData:{}}))}var kU=+new Date,DU=St((e=>RU(e).errMsg.indexOf("accessSync:ok")>=0)),RU=function(){try{return xu.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},OU={DEBUG:1,INFO:2,WARN:4,ERROR:8},MU=1,LU=2,NU=1,BU="",WU=!1;function FU(e){WU?e&&e():(WU=!0,le.onReady((()=>{BU=le.accountInfo.appId,e&&e()})))}var UU=function(e,t){if("string"!=typeof e)return 0;var r,n,i,a=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return a};function VU(){if(void 0!==a){var e=a.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if(jr())return"index"}var jU;function GU(){jU&&(jU=clearTimeout(jU))}var HU=!1;class QU{constructor(e={}){this.systemInfo=oa(),this.opt={},this.opt.level=OU.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=NU,this._logInfo.platform="ios"===this.systemInfo.platform?LU:MU,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{Ce||this._getLogConfig()}),300),FU((()=>{jr()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,IU((e=>{this.onRealtimeDataResponse(e)})))}cyclelyUploadInGame(){setTimeout((()=>{JU(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=Ki();if("wifi"!==t&&"4g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(HU=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{HU=!1}),6e4))),e.idList&&e.idList.length){var r=!1,n={},i=!1,a={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,Reporter.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${BU}`}),r=!0,delete this.historyLog[o],n[o]=s);var l=this.retryLogList[o];l&&(l.id,l.url,a[o]=l,delete this.retryLogList[o],i=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),i&&this.saveToFile(a)}}}_getLogConfig(e,t){return PU(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=OU.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var i=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],i.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),jr()||function(e){if(GU(),e="number"!=typeof e?3e5:e,(e=Math.max(e,5e3))>0){var t=()=>{GU(),jU=setTimeout((()=>{JU(),t()}),e)};t()}}(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||VU()))return!0;t.forEach((e=>{r+=UU(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,i,a,o;"object"==typeof e?(n=e.id,i=e.name,a=e.level,o=e.time):(n="__DEFAULT__",i="__DEFAULT__",a=e,o=+new Date);var s=OU[a.toUpperCase()]||0;if(!(s<this.opt.level)){var l,c;if(t=this.pluginId||t||VU(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);c=this._checkSize(t,[u,p]),l=[n,o,i,u,p]}else l=r.map(this._getLogValue),c=this._checkSize(t,l),this.structSizeList[t]+=6+(l.length?3*l.length-1:0);if(!0===c)this._addLogMsg(l,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,OU.WARN)}this.exceedSizeList[t]+=c}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||VU();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var i=this.msgList[n][0];if("kv"===this.mode){var[a,o,s,l,c]=e,u=[r,a,o,s,l,c];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[i?p-i[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[n].push(h)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n,i=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var a=this.pluginId?1004:1001;e.url;var o=CU(a,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:BU}));return this.historyLog[o]=e,Reporter.reportKeyValue({key:"UserLog",value:`,${r+i},${i}${e.timestamp},${e.url},${e.filter1},${BU}`}),void(t&&t(!0))}return(n={sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}},en(n)).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||VU())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||VU())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<1e3)}upload(e){var t=e||VU();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(WU){if(!HU){this.msgList[e]=[];var n=this.levelList[e]||OU.DEBUG;this.levelList[e]=0;var i=this.sizeList[e];this.sizeList[e]=0;var a=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=a+i;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var l={},c={};r.forEach((e=>{var[t,r,n,i,a,o]=e,s=t||OU.DEBUG;c[r]=c[r]||[n,{},s],c[r][1][a]=o,c[r][2]=Math.max(c[r][2],s),l[i]=l[i]||[],-1===l[i].indexOf(c[r])&&l[i].push(c[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(c[r]){var i=c[r][1];i.__REALTIME_LOG_TAG__=i.__REALTIME_LOG_TAG__||[],-1===i.__REALTIME_LOG_TAG__.indexOf(n)&&i.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(l),o.filter1=[].concat(Object.keys(l),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";UU(o.msg),o.appid=BU,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),1e3))}))}}else FU((()=>{BU&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),UU(t)>2048)return!1;if(e=this.pluginId||e||VU(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||VU(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var i=this.filterList[e]||"";this.setFilterMsg(e,i+(i?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(le&&le.env.USER_DATA_PATH||(Ce?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return DU(e)||function(){try{wu.apply(this,arguments)}catch(e){return{errMsg:e.message}}}(e),t}getFileContent(e){var t=function(){try{return{data:_u.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}}(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(DU(t)){var r=this.getFileContent(t);if(r)for(var n in r)e[n]||(e[n]=r[n])}yu({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(DU(e)){var t=this.getFileContent(e);if(!t)return;for(var r in t)t.hasOwnProperty(r)&&this.OperateWxUploadLog(t[r]);yu({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var $U,zU=null,YU={},ZU=e=>e?YU[e]:zU,qU=(e={},t,r)=>{var n="",i={stat(){if(!Ce){var e=ZU(t);if(e)return e.stat(n)}},getCurrentState(){if(Ce)return{};var e=ZU(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!Ce){var r=ZU(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!Ce){var r=ZU(t);if(r)return r.addFilterMsg(n,e)}},in(e){jr()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=kU++,i=+new Date;return{debug(a,o){if(!Ce){var s=ZU(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"debug"},n,a,o)}},info(a,o){if(!Ce){var s=ZU(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"info"},n,a,o)}},warn(a,o){if(!Ce){var s=ZU(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"warn"},n,a,o)}},error(a,o){if(!Ce){var s=ZU(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"error"},n,a,o)}},setFilterMsg(i){if(!Ce){var a=ZU(t);if(a)return a.setFilterMsg(n,i,{name:e,id:r})}},addFilterMsg(i){if(!Ce){var a=ZU(t);if(a)return a.addFilterMsg(n,i,{name:e,id:r})}}}}};return i=t?Object.assign(i,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(i,{config(e){if(!Ce&&"object"==typeof e){var r=ZU(t);r&&r._config(e)}},debug(...e){if(!Ce){var r=ZU(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!Ce){var r=ZU(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!Ce){var r=ZU(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!Ce){var r=ZU(t);if(r)return r._baseLog("error",n,...e)}}}),ZU(t)||((e,t)=>{e?YU[e]=t:zU=t})(t,new QU({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),i},JU=e=>{if(!Ce){var t,r=(t=[],zU&&t.push(zU),Object.keys(YU).forEach((e=>t.push(YU[e]))),t);r.length&&r.forEach((t=>{try{t.upload(e)}catch(e){}}))}};Pi((e=>{Ce||e&&8===e.targetAction||WU&&($U&&clearTimeout($U),$U=setTimeout((()=>{void 0!==a?a.getCurrentPagesByDomain("").forEach((e=>{JU(e.route)})):jr()&&JU();$U=null}),10))}));var XU,KU=function(e){var t=vr(this);ot(t)("chooseShareGroup",e)},eV=ie("memoryWarning"),tV=eV.onMethod,rV=eV.offMethod;Y("onMemoryWarningReceive",((e={})=>{Ie&&e.level<10||(eV.getGlobalListeners().length?eV.emitGlobal(e):"function"==typeof XU&&XU(e))}));var nV=[],iV="undefined"!=typeof document,aV=!1;void 0!==__wxConfig&&(!__wxConfig.platform&&iV?window.navigator.userAgent.toLowerCase().indexOf("wechatdevtools")>=0&&(aV=!0):"devtools"===__wxConfig.platform&&(aV=!0));var oV=aV?(e,t,r={})=>{var n={category:e,name:t,timeStamp:"undefined"!=typeof performance&&performance.now?performance.timing.navigationStart+performance.now():Date.now(),phase:"B",args:JSON.stringify(r)};nV.push(n),void 0!==WeixinJSBridge&&"function"==typeof WeixinJSBridge.invoke&&WeixinJSBridge.invoke("traceEvent",{events:[n]})}:()=>{},sV=aV?e=>{var t=nV.pop();t?(t.args=e?t.args:JSON.stringify(e),t.timeStamp="undefined"!=typeof performance&&performance.now?performance.timing.navigationStart+performance.now():Date.now(),t.phase="E",void 0!==WeixinJSBridge&&"function"==typeof WeixinJSBridge.invoke&&WeixinJSBridge.invoke("traceEvent",{events:[t]})):console.error("[Perf] Call traceBeginEvent() before traceEndEvent().")}:()=>{},lV=null,cV=null,uV=null,dV=null,pV=new Promise((e=>{dV=e}));le.onReady((()=>{var e=e=>{cV=e,uV=le,lV=oa(),dV()};new Promise(((e,t)=>{qi({success(t){e(t.networkType)},fail(e){t(e)}})})).then((t=>{e(t)})).catch((()=>{e(null)}))}));var hV,fV=e=>{uV?e():pV.then(e)},gV={enabled:!0,sampleRate:1,batchTime:300,legacyReportEnabled:!0,bufferCapacity:1e3,userUin:0},vV=!1;function mV(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return e%r===parseInt(Date.now()/864e5,10)%r}function _V(){var e=void 0!==a?a.getCurrentPagesByDomain(""):[],t=lV&&lV.brand,r=lV&&lV.model,n=lV&&lV.platform,i=lV&&lV.system,o=uV&&uV.appLaunchInfo&&uV.appLaunchInfo.scene,s=uV&&le.envVersion,l=lV&&lV.version,c=lV&&lV.SDKVersion,u=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:i,path:u=function(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}(u),scene:o,brand:t,model:r,networkType:cV,envType:s,clientVersion:l,sdkVersion:c}}function yV(e,t,r=[],n){var a=Object.create(null);a.key=e,a.value=t;var o=_V(),s="";n?(s=n.pluginId,o.pluginCustomVersion=n.customVersion,o.path=i.convertRouteToComponentAlias(o.path),o.path.indexOf("plugin")<0&&(o.path="")):s=uV.accountInfo&&uV.accountInfo.appId,function({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var i=_V(),a=`${t.key}_${i.networkType}_${i.scene}${n}`;if(Object.keys(AV).length>gV.bufferCapacity)return;AV[a]||(AV[a]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:i,dimensions:r});var o=AV[a];o&&(o.valueSum+=t.value,o.count++)}({appId:s,metrics:a,dimensions:r}),hV&&hV.then((()=>{"release"===le.envVersion&&1!==gV.sampleRate&&gV.userUin&&!mV(gV.userUin,gV.sampleRate)||gV.enabled&&gV.legacyReportEnabled&&SV({appId:s,metrics:a,baseInfo:o,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var AV={};function bV(){var e=Object.keys(AV);if(!(e.length<=0)&&gV.enabled&&("release"!==le.envVersion||1===gV.sampleRate||!gV.userUin||mV(gV.userUin,gV.sampleRate))){var t="develop"===le.envVersion||"trial"===le.envVersion;for(var r of e){var n=AV[r],i={key:n.key,value:n.valueSum/n.count,num:n.count},a=n.baseInfo,o=n.dimensions;t?o.length>0?TV({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):TV({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?SV({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):SV({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete AV[r],Reporter.reportKeyValue({key:"PerfReport",value:[n.appId,a.platform,a.scene,a.brand,a.model,a.networkType,a.envType,i.key,i.value,i.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var wV=null;function EV(){var e="develop"===le.envVersion||"trial"===le.envVersion?60:gV.batchTime;wV&&clearInterval(wV),wV=setInterval(bV,1e3*e)}var CV=!1;function IV(){CV=!0,fV((()=>{setTimeout(bV,3e4),EV(),Pi((()=>{bV()})),Un((()=>{EV()}))}))}function SV({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:i,data:o});CU(1002,s,!0)}function TV({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){if(gV.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)});en({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:i,data:o}}).catch((()=>{}))}}var xV=4294967295;function PV(e,t,r,n){gV.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=0&&e<=xV||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=0&&t<=xV?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),vV||(vV=!0,hV=PU().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(gV.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(gV.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(gV.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(gV.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(gV.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(gV.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),gV.userUin=t.UserUin,300!==gV.batchTime&&EV()}})).catch((e=>{}))),CV||IV(),fV((()=>{"release"===le.envVersion&&1!==gV.sampleRate&&gV.userUin&&!mV(gV.userUin,gV.sampleRate)||yV(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",0," to",xV))}var kV,DV=ie("AppPerfRouteNavigation"),RV=e=>e+9782784e5-3600*((new Date).getTimezoneOffset()/60)*1e3,OV=null,MV=new Promise((e=>{OV=e})),LV=new K;class NV{constructor(e,t,r,n){e&&(this.name=e),t&&(this.entryType=t),r&&(this.startTime=r),n&&(this.duration=n)}}class BV extends NV{constructor(e,t,r,n,i,a,o){super(e,t,r,n),a&&(this.navigationType=a),o&&(this.path=o),i&&(this.navigationStart=i)}}class WV extends NV{constructor(e,t,r,n,i){super(e,t,r,n),i&&(this.path=i)}}class FV extends NV{constructor(e,t,r,n,i,a){super(e,t,r,n),i&&(this.packageName=i),a&&(this.packageSize=a)}}class UV extends NV{constructor(e,t,r,n,i,a){super(e,t,r,n),i&&(this.moduleName=i),a&&(this.size=a)}}var VV={navigation:"navigation",loadPackage:"loadPackage",render:"render",script:"script"},jV="appLaunch",GV="route",HV="firstRender",QV="downloadPackage",$V="evaluateScript",zV={navigation:"navigation",render:"render"},YV={appLaunch:"appLaunch",route:"route",firstRender:"firstRender"};function ZV(e){MV.then((()=>{LV.emit(e.entryType,e)}))}function qV(e=""){return e.indexOf("__wx__")>-1}void 0!==l.g.performanceChannel&&(l.g.performanceChannel.setReceiver((e=>{if(e&&"evaluateScript"===e.type){var t=e.endTime-e.startTime,r="";r="__APP__/"===e.moduleName?"main":e.moduleName,ZV(new UV($V,VV.script,e.startTime,t,r))}})),delete l.g.performanceChannel),Y("onNewPerformanceMetric",(e=>{if("$$$loadPackage"===e.name&&!Ce){var t=e.endTime-e.startTime,r=e.extraInfo&&e.extraInfo.packageName;"__APP__"===r&&(r="main");var n=Se?RV(e.startTime):e.startTime,i=e.extraInfo?e.extraInfo.size:0;ZV(new FV(QV,VV.loadPackage,n,t,r,i))}if(Ce){if("$$$loadPackage"===e.name){var a=e.endTime-e.startTime,o=e.extraInfo&&e.extraInfo.packageName;"__APP__"===o&&(o="main");var s=Se?RV(e.startTime):e.startTime;ZV(new FV(QV,VV.loadPackage,s,a,o,0))}if("evaluateJavaScript"===e.name){var l=e.endTime-e.startTime,c="";c=e.moduleName&&e.moduleName.indexOf("__APP__")>-1?"main":e.moduleName,ZV(new UV($V,VV.script,e.startTime,l,c))}if("appLaunch"===e.name){var u=e.startTime,d=e.endTime-u,p=le.appLaunchInfo;ZV(new BV(jV,VV.navigation,u,d,null,"appLaunch",p.path))}}}));var JV={type:"",start:0},XV={time:0,path:""};Kn((e=>{XV={time:Date.now(),path:e.path}})),Mo((e=>{if(JV&&JV.type&&JV.start){var t=XV.time,r=JV.type,n=Date.now()-JV.start;ZV(new BV(GV,VV.navigation,JV.start,n,t,r,e.path))}JV=null,OV()})),DV.internalOnMethod((e=>{JV=e})),f("initReady_getPerformance",(e=>{if(XV.time&&XV.path){var t=e.initReadyTs-XV.time;ZV(new WV(HV,VV.render,XV.time,t,XV.path))}if(!kV&&!Ce){kV=e.initReadyTs;var r=le.appLaunchInfo;if(r.isLaunch){var n,i;Se?(n=RV(r.clickTimestampInMs),i=kV-n):(n=r.clickTimestamp,i=kV-n);var a=new BV(jV,VV.navigation,n,i,null,"appLaunch",r.path);if(7===le.appType)if(Ie)a.preloadType=r.preloadType;else if(Se){var o=r.preloadType,s=Math.floor(o%100/10),l=Math.floor(o%10),c=0;0===s&&0===l&&(c=0),1===s&&1===l&&(c=1),2===s&&2===l&&(c=2),0===s&&2===l&&(c=4),2===s&&0===l&&(c=5),a.preloadType=c}ZV(a)}}}));var KV=(...e)=>{console.warn(...e)},ej=(e,t)=>e.startTime>=t.startTime;class tj{constructor(e){Object.defineProperty(this,"_list",{value:e,writable:!1,configurable:!1,enumerable:!1})}getEntries(){var e=this._list.slice();return e.sort(ej),e}getEntriesByType(e){var t=[];if(!e)return KV("entryType is not provided"),t;if(!VV[e])return KV("invalid entryType:",e),t;for(var r of this._list)r.entryType===e&&t.push(r);return t}getEntriesByName(e,t){var r=[];if(!e)return KV("getEntriesByName requires name"),r;for(var n of this._list)t&&t!==n.entryType||n.name!==e||r.push(n);return r}}class rj{constructor(e,t={}){this._buffer=[],this._entryList=new tj(this._buffer),this._bufferSize=30,this._emitter=e,this._internalSubscriptionHandler=e=>{this._buffer.length>=this._bufferSize&&this._buffer.shift(),0!==this._bufferSize&&this._buffer.push(...e.getEntries())},this._initiateSubscription(t)}_initiateSubscription(){new nj(this._internalSubscriptionHandler,this._emitter,this._buffer,this._bufferSize).observe({entryTypes:Object.keys(VV)})}getEntries(){return this._entryList.getEntries()}getEntriesByType(e){return this._entryList.getEntriesByType(e)}getEntriesByName(e,t){return this._entryList.getEntriesByName(e,t)}createObserver(e){return new nj(e,this._emitter,this._buffer,this._bufferSize)}setBufferSize(e){this._bufferSize=e}now(){return Date.now()}}class nj{constructor(e,t,r,n){this._emitter=t,this._buffer=r,this._bufferSize=n,this._callback=Reporter.surroundThirdByTryCatch(e,"at api PerformanceObserver callback function"),this._timer=null,this._batchBuffer=[],Object.defineProperty(this,"_observedEntryTypes",{value:[],writable:!1,configurable:!1,enumerable:!1}),this.__handle=(...e)=>this._handle(...e)}_handle(e){e&&"function"==typeof this._shouldHandle&&this._shouldHandle(e)&&(this._batchBuffer.push(e),null===this._timer&&(this._timer=setTimeout((()=>{var e=new tj(this._batchBuffer);this._callback(e,this),this._batchBuffer=[],this._timer=null}),500)))}_shouldHandle(e){return!e.path||!function(e=""){return function(e=""){return e.indexOf("__plugin__")>-1||e.indexOf("plugin-private://")>-1}(e)||qV(e)}(e.path)}observe(e){if(e)if(this._observedEntryTypes.length>0&&this.disconnect(),e.type||e.entryTypes)if(e.type&&e.entryTypes)KV("observe can only be called with either type or entryTypes, but not both of them");else if(!e.type||VV[e.type]){if(e.entryTypes&&e.entryTypes.forEach((e=>{VV[e]||KV("invalid entry type:",e)})),e.type)this._emitter.on(e.type,this.__handle),this._observedEntryTypes.push(e.type);else if(e.entryTypes)for(var t of e.entryTypes)VV[t]&&(this._emitter.on(t,this.__handle),this._observedEntryTypes.push(t))}else KV("invalid entry type:",e.type);else KV("observe can be called with either type or entryTypes provided")}disconnect(){for(var e of this._observedEntryTypes)this._emitter.off(e,this.__handle);this._observedEntryTypes.splice(0,this._observedEntryTypes.length)}get supportedEntryTypes(){return Object.keys(VV)}}class ij extends rj{constructor(e,t){super(e,{pluginId:t}),this._pluginId=t}_initiateSubscription(e={}){new aj(this._internalSubscriptionHandler,this._emitter,this._buffer,this._bufferSize,e.pluginId).observe({entryTypes:Object.keys(zV)})}createObserver(e){return new aj(e,this._emitter,this._buffer,this._bufferSize,this._pluginId)}}class aj extends nj{constructor(e,t,r,n,i){super(e,t,r,n),this._pluginId=i}_handle(e){return e.path&&(e.path=i.convertRouteToComponentAlias(e.path)),super._handle(e)}_shouldHandle(e){if(!!!(e&&zV[e.entryType]&&YV[e.name]))return!1;if(qV(e.path))return!1;var t=`plugin-private://${this._pluginId}`;return!!((e instanceof BV||e instanceof WV)&&e.path&&(e=>e&&e.indexOf(t)>-1)(e.path))}get supportedEntryTypes(){return Object.keys(zV)}}var oj=new rj(LV);var sj=new Map;var lj=()=>["nativeFunctionalized"].includes(Ir().apiCategory)?"服务需要重启以使用最新功能":7===le.appType?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",cj=new ee;Y("onUpdateStatusChange",(e=>{var t,r=(e.state||"").toLowerCase();e.appContactInfo&&e.appContactInfo.passThroughInfo.forceUpdate||!1?"updateready"===r&&(console.info("[apply update before]"),Ie&&le.clientVersion<=654315263?it("updateApp",t):ro({content:lj(),confirmText:"知道了",showCancel:!1,complete(){it("updateApp",t)}})):(delete e.state,cj.emit(r,e))}));var uj,dj=[];cj.on("updating",(()=>{uj={hasUpdate:!0},pj()})),cj.on("noupdate",(()=>{uj={hasUpdate:!1},pj()}));var pj=()=>{dj.forEach((e=>{"function"==typeof e&&e(uj)})),dj.length=0},hj=[],fj=!1,gj=!1;cj.on("updateready",(()=>{fj=!0,mj()}));var vj,mj=()=>{hj.forEach((e=>{"function"==typeof e&&e()})),hj.length=0},_j=[];cj.on("updatefailed",(()=>{vj={},yj()}));var yj=()=>{_j.forEach((e=>{"function"==typeof e&&e(vj)})),_j.length=0},Aj={onCheckForUpdate:e=>{e=__errorTracer__.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),uj?"function"==typeof e&&e(uj):dj.push(e)},onUpdateReady:e=>{e=__errorTracer__.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),fj?"function"==typeof e&&e():hj.push(e)},onUpdateFailed:e=>{e=__errorTracer__.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),vj?"function"==typeof e&&e(vj):_j.push(e)},applyUpdate:e=>{fj&&gj?dt("applyUpdate",e,"applyUpdate has been called"):fj?(gj=!0,Ie&&le.clientVersion<=654315263?it("updateApp",e):ro({content:lj(),confirmText:"知道了",showCancel:!1,complete(){it("updateApp",e)}})):dt("applyUpdate",e,"update is not ready")}},bj=(e={})=>{var t=Object.assign(e,{url:"https://support.weixin.qq.com/update/"});zi(t)},wj=0,Ej=function(e){Date.now()>wj&&(ro({title:"",content:e,confirmText:"确定",showCancel:!1}),wj=Date.now()+6e4)},Cj={2:"插件版本过低，无法提供服务"},Ij=function(e,t,r){if(!hr.pluginInfos)return null;var n=hr.pluginInfos[e];if(!n)return null;var i=n.runningFlag,a=n.banning||{},o=Cj[i];return i||a[t]?{all:i,detail:a[t],hint:a.hint||o||r||"由于小程序违规，该服务暂时无法使用"}:null};hr.emitter.on("pluginInfoFetchDone",(function(){if(void 0!==i&&i.initBannedMap){var e={},t=hr.pluginInfos;for(var r in t)e[r]=Ij(r,"components");i.initBannedMap(e)}}));var Sj=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function Tj(e){return e<=1024||(e>=8e3&&e<=8100||Sj.indexOf(e)>-1)}var xj=new WeakMap,Pj=new WeakMap,kj=1,Dj=[],Rj=!1;le.onReady((()=>{Rj=!1===le.urlCheck}));class Oj{constructor(e,t){xj.set(this,e),Pj.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=ie(`jsapi-tcp-${e}-${t}`);this[`on${Hr(t)}`]=r.onMethod,this[`off${Hr(t)}`]=r.offMethod}))}connect(e){var t,r=ie(`jsapi-tcp-${xj.get(this)}-error`),n=`tcp://${e.address}`,i=()=>{if(it("connectTCPSocket",{id:xj.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ft(t)};P(Pj.get(this).customCheck)?Pj.get(this).customCheck({url:n},(t=>{t||Tj(Number(e.port))?(t=t||`invalid address ${e.address}:${e.port}`,r.emit({errMsg:`connect fail: ${t}`,errCode:-4})):i()})):yd({api:"tcp",url:n}).then((t=>{(t.isInLAN&&!t.isLocalHost||t.isInDomainList)&&!Tj(Number(e.port))||Rj?i():r.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{r.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if(it("writeTCPSocket",{id:xj.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ft(t)}close(){var e;if(it("closeTCP",{id:xj.get(this),fail(t){e=t.errMsg}}),e)throw new Ft(e)}}class Mj extends Oj{constructor(e){var t=Dj[Dj.length-1];if(t&&Date.now()-t<3e5)throw new Ft("[TCPSocket] created too much.");Dj.push(Date.now()),Dj.length>20&&Dj.shift();var r,n=kj++;if(it("createTCPSocket",{id:n,fail(e){e.errMsg,r=e.errMsg}}),r)throw new Ft(r);super(n,e)}}class Lj{constructor(){var e,t=kj++;if(xj.set(this,t),it("createTCPServer",{id:t,fail(t){t.errMsg,e=t.errMsg}}),e)throw new Ft(e);["close","connection","error","listening"].forEach((e=>{var r=ie(`jsapi-tcp-${t}-${e}`);this[`on${Hr(e)}`]=r.onMethod,this[`off${Hr(e)}`]=r.offMethod}))}listen(e){var t,r;if(it("listenTCPServer",{id:xj.get(this),port:e.port,fail(e){t=e.port,r=e.errMsg}}),r)throw new Ft(r);return t}close(){var e;if(it("closeTCP",{id:xj.get(this),fail(t){e=t.errMsg}}),e)throw new Ft(e)}}le.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{Y(`onTCP${Hr(e)}`,(t=>{var{id:r}=t;delete t.id,Hr(e);var n=ie(`jsapi-tcp-${r}-${e}`);"connection"===e?n.emit(new Oj(t.socketId)):n.emit(t)}))}))}));var Nj=Bs.Z.TCP,Bj=new WeakMap,Wj=new WeakMap,Fj=new WeakMap,Uj=new WeakMap,Vj=1,jj=[],Gj=!1;function Hj(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}le.onReady((()=>{var e=le.envVersion&&"release"!==le.envVersion,t=!0===le.debug;Gj=e&&t}));class Qj{constructor(e,t,r){var n=Vj++;["close","error","connect","message"].forEach((r=>{var i=ie(`jsbinding-tcp-${n}-${r}`);this[`on${Hr(r)}`]=i.onMethod,this[`off${Hr(r)}`]=i.offMethod,t||(e[`on${r}`]=function(...e){"message"===r&&(e[0]=Hj(e[0])),i.emit(...e)})})),Bj.set(this,e),Fj.set(this,t),Wj.set(this,n),Uj.set(this,r||{})}connect(e){var t=ie(`jsbinding-tcp-${Wj.get(this)}-error`);if(sr("TCP")){var r=`tcp://${e.address}`;P(Uj.get(this).customCheck)?Uj.get(this).customCheck({url:r},(r=>{r||Tj(Number(e.port))&&!Gj?(r=r||`invalid address ${e.address}:${e.port}`,t.emit({errMsg:`connect fail: ${r}`,errCode:-4})):Bj.get(this).connect(e)})):yd({api:"tcp",url:r}).then((r=>{(r.isInLAN&&!r.isLocalHost||r.isInDomainList)&&!Tj(Number(e.port))||Gj?Bj.get(this).connect(e):t.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{t.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if(sr("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};Fj.get(this)&&(t.socketfd=Fj.get(this)),Bj.get(this).send(t)}else{ie(`jsbinding-tcp-${Wj.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){Fj.get(this)?Bj.get(this).close(Fj.get(this)):Bj.get(this).close()}}class $j extends Qj{constructor(e){if(!Nj)return null;var t=jj[jj.length-20];if(t&&Date.now()-t<3e5)throw new Ft("[TCPSocket] created too much.");jj.push(Date.now()),jj.length>20&&jj.shift();var r=new Nj;if(null===r)return null;super(r,0,e)}}class zj{constructor(){if(!Nj)return null;var e=new Nj;if(null===e)return null;var t=0,r=Vj++,n={};["close","connection","error","listening","message"].forEach((i=>{var a=ie(`jsbinding-tcp-${r}-${i}`);"connection"===i?e.onaccept=r=>{var i=new Qj(e,r);t=r,n[r]=i,a.emit(i),e.recv(r)}:e[`on${i}`]=function(...r){if("close"===i||"error"===i||"message"===i){var o=r[0];if("error"!==i&&"message"!==i||(o=r[0].sockfd,delete r[0].sockfd,o||(o=t)),"message"===i&&(r[0]=Hj(r[0])),n[o])return ie(`jsbinding-tcp-${Wj.get(n[o])}-${i}`).emit(T(r[0])?r[0]:void 0),void delete n[o]}a.emit(T(r[0])?r[0]:void 0),"listening"===i&&e.accept()},this[`on${Hr(i)}`]=a.onMethod,this[`off${Hr(i)}`]=a.offMethod})),Bj.set(this,e)}listen(e){var t=Bj.get(this);return t.onbind=function(){t.listen(10)},t.bind(e)}close(){Bj.get(this).close()}}var Yj={request:Rg,uploadFile:lB,downloadFile:Od,connectSocket:BB().connectSocket,createTCPSocket:Ce?Mj:$j},Zj={_requestSkipCheckDomain:Rg,_uploadFileSkipCheckDomain:lB,_downloadFileSkipCheckDomain:Od,_socketSkipCheckDomainFactory:BB},qj=e=>(...t)=>{wxNativeConsole[e](["[Plugin]",...t.map((e=>"string"==typeof e?e:JSON.stringify(e)))].join(" "))},Jj=qj("info"),Xj=qj("warn"),{emitter:Kj,pluginInfos:eG}=hr,tG={1:!1,3:!1},rG=0,nG=0,iG=[10,10,10],aG=!1;Um()||(tG[2]=!1);var oG=e=>{tG[e]=!0,Object.keys(tG).reduce(((e,t)=>e&&tG[t]),!0)&&(aG||(Jj("all steps done, emit pluginInfoFetchDone"),Kj.emit("pluginInfoFetchDone"),aG=!0),Kj.emit("pluginInfoFetchDoneInterval"))},sG=(e,t)=>{setTimeout((()=>{var r=[e,t,a.getCurrentRoute(),li().sessionid||li().sessionId||"",1,""].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"PluginDisplay",value:r})}),0)},lG=e=>{Jj("start to invokeGetContact");var t=[],r={};for(var n in eG)t.push(n),r[n]=eG[n].customVersion;0!==t.length?(it("batchGetContact",{appIds:t,success({contactList:t}){if(Jj("batchGetContact result -> ",t),(e=>{if(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.appId;if(void 0===r.appId||void 0===r.plugin_list)return;if(!r.plugin_list[0]||!Wm[n])return;var i=r.plugin_list[0].PluginNetWork||{},a=r.plugin_list[0].last_version||{};Wm[n].domains={request:i.RequestDomain||[],uploadFile:i.UploadDomain||[],downloadFile:i.DownloadDomain||[],connectSocket:i.WsRequestDomain||[],tcp:i.TCPDomain||[]},Wm[n].latestCustomVersion=Vm(a.custom_version)}void 0!==Mm&&Mm(),Om=e,Fm.forEach((e=>{e(Om)}))}})(t),e>0){var n=!1;if(!n){var i=0;for(var a in eG){if(eG[a].latestCustomVersion>=0&&r[a]>eG[a].latestCustomVersion){Jj("customVersion in code ("+r[a]+") is larger than customVersion in contact info ("+eG[a].latestCustomVersion+"). Retry needed."),n=!0;break}for(var o in eG[a].domains)eG[a].domains[o]&&(i+=eG[a].domains[o].length)}n||i||(Jj("no domains set. Retry needed."),n=!0)}if(n)return void setTimeout((()=>{lG(e-1)}),1e3)}oG(2)},fail(e){Xj("batchGetContact failed: "+e.errMsg),rG<1?(Jj("retry to batchGetContact.."),setTimeout(lG,0),rG++):oG(2)}}),setTimeout((()=>{oG(2)}),12e4)):Jj("appids are empty, skip invokeGetContact.")},cG=null,uG=()=>{null!==cG&&(clearTimeout(cG),cG=null,dG())},dG=()=>{Jj("start to invokeVerifyPlugin",Date.now());var e=[];for(var t in eG){var r=eG[t];e.push({provider:t,inner_version:r.version})}0!==e.length?(({plugins:e,success:t,fail:r,timeout:n})=>{var i=!1,a=setTimeout((()=>{i=!0,r({errMsg:"verifyPlugin:fail timeout"})}),1e3*n);it("verifyPlugin",{data:{plugins:e},success(...e){i||(clearTimeout(a),t(...e))},fail(...e){i||(clearTimeout(a),r(...e))}})})({plugins:e,timeout:10,success({data:e}){if(void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}(e=>{for(var t=0;t<e.length;t++){var r=e[t],n=r.plugin_id,i=Wm[n];if(!i)return;i.banning=r.banning,i.runningFlag=r.running_flag_info,i.hostSign={noncestr:r.noncestr||"",timestamp:r.timestamp||"",signature:r.host_sign||""},Um()&&(i.domains={request:r.request_domain||[],uploadFile:r.upload_domain||[],downloadFile:r.download_domain||[],connectSocket:r.wsrequest_domain||[]})}jm(e),Mm&&Mm()})(Array.isArray(e.list)?e.list:[]),Jj("verifyPlugin result -> ",e.list),oG(3),nG=0,cG=setTimeout(uG,6e5)}else Xj("Plugin data from backend is not available.")},fail(e){var t;Xj("invokeVerifyPlugin failed: "+e.errMsg,Date.now()),nG<iG.length?t=iG[nG]:(tG[3]||oG(3),t=30),Jj(`retry invokeVerifyPlugin after ${t}s..`),setTimeout(dG,1e3*t),nG++}}):Jj("plugins is empty, skip invokeVerifyPlugin.")};__safeway__.beforeSubpackageReady(((e,t)=>{var r=t.separatedPlugins||[];Jj("onSubpackageReady",r),r.forEach((e=>{eG[e.plugin_id]&&e.custom_version&&(eG[e.plugin_id].customVersion=Vm(e.custom_version))}))}));var pG=!1;le.onReady((()=>{if(Ce)pG=!1===le.urlCheck;else{var e=le.envVersion&&"release"!==le.envVersion,t=!0===le.debug;pG=e&&t}}));var hG=function(e,t,r){return new Promise(((n,i)=>{it("checkNetworkAPIURL",{api:e,url:t,success(e){var a=((e,t)=>{if(void 0===t||void 0===e)return!1;for(var r=(0,pr.Qc)(e||""),n=0;n<t.length;n++){var i=t[n]||"",a=(0,pr.Qc)(i);if(a.protocol===r.protocol&&a.hostname===r.hostname&&a.port===r.port)return!0}return!1})(t,r)||e.isInLAN&&!e.isLocalHost,o="";a||(o=`Url "${t}" not in plugin's domain list.`,pG&&console.warn(o+" This network request will be blocked in release version.")),pG||a?n():i(o)},fail(e){i(e.errMsg||"check url failed.")}})}))},fG=0,gG=!0,vG=[];hr.emitter.on("pluginInfoFetchDoneInterval",(()=>{for(gG=!1,fG=Date.now();vG.length>0;){vG.shift()()}}));var mG=Object.assign,_G={};Object.keys(Yj).forEach((e=>{_G[e]=function(t={}){var r=vr(this),n=mG({},t);return n.customCheck=(t,n)=>{var i;(Date.now()-fG>6e5?(gG||uG(),new Promise((e=>{vG.push(e)}))):Promise.resolve()).then((()=>{var n=(i=hr.pluginInfos[r]).domains[e],a=e;return"connectSocket"===e&&(a="websocket"),"createTCPSocket"===e?hG("tcp",t.url,i.domains.tcp):hG(a,t.url,n)})).then((()=>{if(function(e,t){var r=Ij(e,"domains");if(!r)return!1;if(!r.all){for(var n=r.detail,i=(0,pr.Qc)(t||""),a=!1,o=0;o<n.length;o++){var s=(0,pr.Qc)(n[o]||"");if(i.protocol===s.protocol&&i.hostname===s.hostname&&i.port===s.port){a=!0;break}}if(!a)return!1}return Ej(r.hint),!0}(r,t.url)){var o=`url "${t.url}" is temporarily rejected.`;n(o)}else((e,t,r)=>{var n=[e,t,a.getCurrentRoute(),li().sessionid||li().sessionId||"",2,r].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"PluginDisplay",value:n})})(r,i.version,t.url),"createTCPSocket"!==e&&((e,t)=>{var r=t.header||{},n=e.hostSign||{};r["X-WECHAT-HOSTSIGN"]=JSON.stringify(n),wxNativeConsole.info("[Plugin] add host sign: "+JSON.stringify(n)),t.header=r})(i,t),n(null)})).catch((e=>{var t=w(e)?e:"check url failed.";n(t)}))},"createTCPSocket"===e?new Yj[e](n):Yj[e](n)}}));var yG=_G,AG=e=>(t={})=>{if(Se){tt({errMsg:"preloadWebview:ok preload request ignored in iOS"},"preloadWebview",t,{})}else ii("preloadWebview",{pluginId:e},void 0,(e=>{tt(e,"preloadWebview",t,{})}))},bG=AG("/"),wG=e=>{var t=(e=>lu("app-plugin",e))(e);return delete t.saveFile,delete t.saveFileSync,delete t.getSavedFileList,delete t.getSavedFileInfo,delete t.removeSavedFile,delete t.getFileInfo,{getFileSystemManager:()=>t}},EG=new WeakMap,CG=function(e,t){var r=Ij(e,"apis");return!!r&&(!(!r.all&&r.detail.indexOf(t)<0)&&(Ej(r.hint),!0))},IG=function(e,t){var r=this,n=function(n){var i=e[n];if("function"==typeof i){var a=r;r[n]=function(e){if(Rr(n,t)&&!CG(t,n))return i.apply(a,arguments);if("Sync"===n.slice(-4))throw new Wt(n+":fail rejected due to no permission currently in plugin");e&&(e.fail||e.complete)&&setTimeout((()=>{dt(n,e,"rejected due to no permission currently in plugin")}),0)}}else r[n]=e[n]};for(var i in e)n(i)},SG=function(e){for(var t in le.plugins){var r=le.plugins[t];r.provider===e&&EG.set(this,r.version)}};var TG=class{constructor(t,r,n){var i=zt();hr.puidToPluginWX[i]=this,hr.pluginIDs[i]=r,hr.pluginVersions[i]=n;var a=((t,r,n,i)=>{var a=O()(O()({},Zj),{},{invokeOperateWXData:Dw});for(var o in a)a[o]=a[o].bind(t);var s={sdk:a,identifiers:{pluginId:n,pluginVersion:i}};return O()(O()(O()({},r),wG(n)),{},{preloadWebview:AG(n),cloud:e.getCloudAPI(s),serviceMarket:e.getServiceMarketAPI(s)})})(this,t,r,n);IG.call(this,a,r),SG.call(this,r),this.env={USER_DATA_PATH:au(r)};try{uu.mkdirSync(this.env.USER_DATA_PATH,!0)}catch(e){}}getPluginVersion(){return EG.get(this)}},xG={},PG=(e,t)=>{var r=(e=e.replace("plugin_","")).endsWith("Sync");xG[e]=function(e,...n){var i=vr(this);return r?(e&&(e=`${i}/${e}`),t(e,...n)):(e.key&&(e.key=`${i}/${e.key}`),t(e))}};for(var kG in PF)kG.startsWith("plugin_")&&PG(kG,PF[kG]);var DG=xG,RG={createInnerAudioContext:$v};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach((e=>{RG[e]=function(t,r){var n=vr(this),i=_r(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return o[e].call(this,t,we.currentWebviewId,a,`${n}/${i}`)}}));var OG=RG,MG={createOffscreenCanvas(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},i=vr(this);return n.pluginId=i,Kp(n)}},LG=[];for(var NG in t)NG.endsWith("4Plugin")&&LG.push(NG);LG.forEach((e=>{var r=e.replace("4Plugin","");MG[r]=function(r,n){var i=vr(this),a=_r(this),o=n&&n.__wxExparserNodeId__?n.__wxExparserNodeId__:"";return t[e].call(this,r,`${i}/${a}`,o)}}));var BG=MG,WG=function(){return{miniProgram:{appId:le.accountInfo&&le.accountInfo.appId||"",envVersion:le.envVersion||"release",version:le.appContactInfo&&le.appContactInfo.user_version||""}}},FG=e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},UG=new WeakMap,VG=e=>UG.get(e),jG=function(e){var t=VG(this),r={view:ey,text:ty,image:uy,video:yy,"image-previewer":by}[e.name],n="";e.attributes.id?n=Sa(e.attributes.id):wxNativeConsole.error(`${e.name} 缺少id`);var i=Object.keys(e.attributes).reduce(((r,i)=>{var a=e.attributes[i],o=Sa(i);return"id"===i?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===i?(r.style=a.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(a)||(r[o]=""===a||"true"===a||"false"!==a&&a),r)}),{});i.name=n;var a=new r(i);return t[n]=a,e.children.forEach((e=>{var t=jG.call(this,e);a.add(t)})),a},GG=e=>{UG.delete(e)};class HG{constructor(){UG.set(this,{})}}var QG=function(e,t,r){var n=VG(this);n.xom=e,n.style=t,n.state=r,jG.call(this,e)},$G=function(e,t,r){return QG.call(this,e,(e=>{var t={};for(var r of Object.keys(e||{}))e[r]&&(t[r]=Object.assign({},e[r]),e[r].landscape&&!e[r].landscapeLeft&&(t[r].landscapeLeft=Object.assign({},e[r].landscape)),e[r].landscape&&!e[r].landscapeRight&&(t[r].landscapeRight=Object.assign({},e[r].landscape)));return t})(t),r)},zG={type:"EOF"};class YG{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",zG),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,r=0,n=this.token.length;r<n;r++){var i=this.token[r];"("===i?e+=1:")"===i&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(zG)}}var ZG=e=>{for(var t=new YG,r=0,n=e.length;r<n;){var i=e[r];r+=1,t.push(i)}return t.end(),t.tokens},qG=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,JG=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),XG=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),KG=e=>{var t;t="string"==typeof e?ZG(e):e;for(var r=[qG({type:"ROOT"})],n=e=>{for(var t=e.priority;JG(r[r.length-1])&&XG(r[r.length-2])&&t<=r[r.length-1].priority&&t<=r[r.length-2].priority;){var{children:n}=r[r.length-2];null==n||n.push(r.pop())}},i=e=>{var t=qG(e),i=r[r.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(JG(i))return;XG(i)?i.children.push(t):r.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?JG(i)&&(t.priority>i.priority?((e,t)=>{var n=t.children.pop();n&&e.children.push(n),r.push(e)})(t,i):(n(t),(e=>{var t=r.pop();t&&e.children.push(t),r.push(e)})(t))):"ROOT_END"===t.type&&(n(t),r.push(t))},a=0,o=t.length;a<o;a++)i(t[a]);return r},eH=({type:e,children:t,operator:r},n,i={})=>{var a=e=>eH(t[e],n,i);if("COMPARE"===e){var o=r&&{">":()=>a(0)>a(1),"<":()=>a(0)<a(1),">=":()=>a(0)>=a(1),"<=":()=>a(0)<=a(1),"==":()=>a(0)==a(1),"!=":()=>a(0)!=a(1),"===":()=>a(0)===a(1)}[r];return o?o():null}if("LOGIC"===e){var s=r&&{"&&":()=>a(0)&&a(1),"||":()=>a(0)||a(1)}[r];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var r=e.split("."),n="";return r.forEach((e=>{""===n?n=t[e]:("string"==typeof n&&(n=JSON.parse(n)),n=n[e])})),n})(t[0],n),QUESTION:()=>a(0)?a(1):a(2),TPLFUNC:()=>((e,t,r)=>{var n=e.indexOf("("),i=e.substring(0,n),a=e.substring(n+1,e.length-1);if(!r[i])return null;for(var o=ZG(a),s=[],l=[],c=0,u=o.length;c<u;c++){var d=o[c];"COMMA"===d.type||"EOF"===d.type?(s.push(l),l=[]):l.push(d)}var p=[];return s.forEach((e=>{p.push(rH(e,t,r))})),r[i].apply(null,p)})(t[0],n,i)}[e]||null;return l?l():null},tH={"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,r)=>e.substring(t,r),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,r)=>e.replace(t,r),"#replaceAll":(e,t,r)=>e.replaceAll(t,r),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var r of e)t+=/[\u4e00-\u9fa5]/.test(r)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var r="",n=0;for(var i of e){if((n+=/[\u4e00-\u9fa5]/.test(i)?2:1)>t){r+="...";break}r+=i}return r},"#concat":(...e)=>e.join(""),"#split":(e,t,r)=>null==e?void 0:e.split(t,r),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var r=t.slice(-1)[0];"0"===r[r.length-1];)r=r.slice(0,-1);return t.slice(0,-1).concat(r?[r]:[]).join(".")},"#append":(e,t,r=!1)=>(r&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#mod":(e,t)=>e%t,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],r=0;r<e;r+=1)t.push(r);return t},"#get":J_,"#slice":(e,t,r)=>e.slice(t,r),"#compareVersion":(e,t)=>Zt(e,t)},rH=(e,t,r)=>{try{var n=KG(e);return eH(n[1],t,Object.assign({},tH,r))}catch(e){}return null},nH={},iH=Ee;class aH extends Iy{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.touchInfo=null,this.handleCommonTouchStart=e=>{this.touchInfo=e},this.handleCommonTouchEnd=e=>{if(this.touchInfo){var t=Math.abs(e.x-this.touchInfo.x),r=Math.abs(e.y-this.touchInfo.y),n="none";(t>=20||r>=20)&&(t>=r&&e.x>this.touchInfo.x?n="right":t>=r&&e.x<this.touchInfo.x?n="left":r>=t&&e.y>this.touchInfo.y?n="bottom":r>=t&&e.y<this.touchInfo.y&&(n="top")),this.emitComponentEvent(JA.SLIDE,{direction:n,startEvent:this.touchInfo,endEvent:e})}this.touchInfo=null},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||vb.NONE,this.forItem=e.forItem,this.forIndex=e.forIndex,e.ratio&&(this.ratio=e.ratio),this.checkSize();var r=e.template||{};this.template=r,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var n=r.options||{};this.options=n,this.data=n.data||{},this.events=n.events||{},this.lifecycle=n.lifecycle||{},this.innerStyles=n.innerStyles||{},this.animations=n.animations||{},this.bubbleEvent=void 0===n.bubbleEvent||n.bubbleEvent;var i=this.getDataValue("_bubbleEvent");void 0!==i&&(this.bubbleEvent=i),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.offTouchstart("container",this.handleCommonTouchStart),this.offTouchend("container",this.handleCommonTouchEnd),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.onTouchstart("container",this.handleCommonTouchStart),this.onTouchend("container",this.handleCommonTouchEnd),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope,innerFunctions:this.props.innerFunctions}}getDataValue(e,t,r){var n=t||this.data,i=n[`${e}Expr`];return i?this.run(i,null==r?void 0:r.args):n[e]}getDataValueWithDefault(e,t,r,n){var i=r?this.getDataValue(e,r,n):this.getDataValue(e);return void 0===i?t:i}getAdData(){return this.forType===vb.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t,{template:r}=this;if(!r||"root"===r.type){this.tplConfig=(null==r?void 0:r.tplConfig)||{};var n=this.props.adPosition||{};if(this.tplConfig){var i,a,{tplConfig:o}=this,{width:s}=this.props.adPosition||{};if(null==s)s=(null===(i=this.props)||void 0===i||null===(a=i.systemInfo)||void 0===a?void 0:a.screenWidth)||OE.screenWidth;s=Number(s);var l=o.minWidth||0,c=o.maxWidth||0,u=o.baseWidth||375,d=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||OE.screenWidth,Math.max(l,s));c&&(d=Math.min(d,c)),0===d&&this.setRatio(u/u),n.width=d,this.setRatio(d/u)}}}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var r=this.events[e];null!=r&&r.length&&this.doActions(r,t||{})}emitComponentLifeCycle(e,t){var r=this.lifecycle[e];null!=r&&r.length&&this.doActions(r,t)}doActions(e=[],t={}){for(var r of e)r.force&&!r.targetid?this.doCommonAction({args:t,payload:r}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:r.targetid?`${this.adCustomId}-${r.targetid}`:this.id,args:t,payload:r})}doCommonAction(e){var{payload:t,args:r}=e,{delay:n=0,expr:i}=t,a=()=>{if(!i||this.run(i,r))switch(t.action){case qA.SETSTYLE:var{value:n}=t;if(n.styleExpr)for(var a of Object.keys(n.styleExpr))n.style[a]=this.run(n.styleExpr[a],r);this.setStyle(n.id,n.style);break;case qA.SETEXPRVARS:var{key:o}=t.value,s=this.getDataValue("value",t.value);this.getExprInnerVars()[o]=s;break;case qA.REPORTIDKEY:break;case qA.TRIGGEREVENT:var{detail:l={},eventName:c}=t.value;try{if(null!=r&&r.event&&(l.rawDetail=JSON.stringify(r.event)),t.value.detailExpr)for(var u of Object.keys(t.value.detailExpr)){var d=t.value.detailExpr[u];l[u]=this.run(d,r)}}catch(e){}this.emitAdCustomEvent(ob.TRIGGEREVENT,{eventName:c,detail:l});break;case qA.REPORTMMDATA:var{data:p,dataExpr:h,id:f}=t.value;if(h)for(var g of Object.keys(h)){var v=h[g];p[g]=this.run(v,r)}this.emitAdCustomEvent(ob.REPORTMMDATA,{id:f,data:p});break;case qA.ANIMATE:var{id:m,animation:_}=t.value;this.doAnimation({id:m,animationName:_});break;case qA.TRIGGERBTNCLICK:var y,A=null==r?void 0:r.event;if(A)this.emitAdCustomEvent(ob.BTNTAP,{event:A,isHandleDownload:(null===(y=t.value)||void 0===y?void 0:y.isHandleDownload)||!1});break;case qA.LANDAD:var b=null==r?void 0:r.event,{isButton:w}=(null==t?void 0:t.value)||{};"value"in t&&(b=this.getDataValue("event",t.value,{args:r||{}})||b),this.emitAdCustomEvent(ob.LANDAD,{index:"value"in t?this.getDataValueWithDefault("index",0,t.value,{args:r}):0,event:b,isButton:w});break;case qA.SPLASHSKIPAD:var E=null==r?void 0:r.event;E&&this.emitAdCustomEvent(ob.SPLASHSKIPAD,{event:E});break;case qA.REPORTADMONITORDATA:var{id:C,key:I}=t.value,S=this.getDataValue("extInfo",t.value,{args:r});this.emitAdCustomEvent(ob.REPORTADMONITORDATA,{id:C,key:I,extInfo:S});break;case qA.REWARDEDVIDEODYNAMIC:var{list:T}=t.value;this.emitAdCustomEvent(ob.REWARDEDVIDEODYNAMIC,{list:T});break;case qA.EVALUATEEXPR:var{expr:x}=t.value;x&&this.run(x);break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};n?setTimeout(a,n):a()}run(e,t){var r=this.getInnerFunction(),n=O()(O()({},this.getScope()),r);return rH(e,t?O()({$args:t},n):n,r)}getElementById(e){if(!e){var t,r,n=null!==(t=null===(r=this.getRootElement())||void 0===r?void 0:r.parent)&&void 0!==t?t:null;return n===kA?this.getRootElement():n}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){var{left:r,top:n,scaleWidth:i,scaleHeight:a,opacity:o,rotate:s=0,easing:l="ease-in",duration:c=500}=t,u=new Promise(((t,u)=>{it("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:c,finalStyle:{left:r,top:n,opacity:o,rotate:s,scaleX:i,scaleY:a},success:t,fail:u})}));return"devtools"===iH&&(u=Promise.all([u,Ca(c)])),u}doAnimation({id:e,emitEvent:t=!0,animationName:r,animation:n}){var i=this;return Nn()((function*(){var a=!n&&r?i.animations[r]:n,o=i.getElementById(e);if(a&&o){var{keys:s,duration:l,easing:c,setInitialStyle:u=!0}=a;if(!(((null==s?void 0:s.length)||0)<2)){var d=0;for(var p of Object.keys(s)){var h=s[+p],f=i.getDataValue("offset",h),g=i.getDataValue("opacity",h),v=i.getDataValue("left",h),m=i.getDataValue("top",h),_=i.getDataValue("rotate",h),y=i.getDataValue("scaleX",h),A=i.getDataValue("scaleY",h),b=l*f,w=SA({opacity:g,left:v,top:m,rotate:_,scaleWidth:y,scaleHeight:A});if(b<=0)u&&(yield i.setStyle(e,w));else{var E=O()(O()({},w),{},{easing:c,duration:b-d});E.left=w.left,E.top=w.top,yield aH.animate(o,E),d=b}}r&&t&&(yield i.emitComponentEvent(JA.ANIMATIONEND,{animation:r}))}}}))()}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var r=()=>super.setStyle,n=this;return Nn()((function*(){var i,a=n.getDataValue("_useApx")?n.convertToApxRatio(t):t,o=e;"$$"===o&&(o=null===(i=n.getRootElement())||void 0===i?void 0:i.name);if(a){for(var s of Object.keys(a))a[s]=n.convertApxStyle(a[s]);var l;if(o)yield r().call(n,o,a);else null===(l=n.parent)||void 0===l||l.setStyle("container",a)}}))()}convertApxStyle(e){return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(var r of Object.keys(e)){var n=r,i=e[r];if(r.includes("Expr")){var a=r.split("Expr");2===a.length&&([n]=a,i=this.run(i))}this.setStyle(t,{[n]:i})}}removeInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(var r of Object.keys(e))this.setStyle(t,{[r]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===nH[this.adCustomId]&&(nH[this.adCustomId]={}),nH[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars();return O()({"#getVar":t=>e[t],"#measureText":(e,t)=>rA.getTextWidth(e,t)},this.props.innerFunctions||{})}updateBubbleEvent(){var e=this.getRootElement();e&&MA(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:r=!0,handleClickLimit:n=!0,isReport:i=!1,clickType:a=0}={}){var o=e=>{null!==this.reporter&&(r&&!this.reporter.judgeTriggerClick(e,i)||n&&this.reporter.isClickLimit(e,a))||t(e)};return this.clickCallbackMap.set(t,o),super.onClick(e,o)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var{ratio:t}=this,r=/(\d+)px/g,n={};for(var i of Object.keys(e))if(null!=Jb&&Jb.includes(i)){var a=e[i],o=a;"number"==typeof a?o=a*t:"string"==typeof a?o=a.replace(r,((e,r)=>{var n=Number(r);return Number.isNaN(n)?e:n*t+"px"})):Array.isArray(a)&&null!=a&&a.every((e=>"number"==typeof e))&&(o=a.map((e=>e*t))),n[i]=o}else n[i]=e[i];return n}}class oH extends aH{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){var r=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(r){var[n,i]=r.slice(1);this.isLinearGradient=!0,Number(n)>Number(i)&&(this.isLinearGradientReverse=!0)}}}render(){var{template:e}=this.props,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}oH.subComponents=()=>({CustomLayout:lH,CustomText:cH,CustomImage:uH,CustomButton:dH,CustomVideo:fH,CustomFeedback:gH,CustomEnd:vH,CustomFor:mH,CustomCarousel:EH,CustomCountdown:CH});class sH extends aH{constructor(e){var t,r,n;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.setStyle("body",{hidden:!1,opacity:1}),this.emitAdCustomEvent(ob.CHECKEXPOSURE)},this.hide=()=>{this.setStyle("body",{hidden:!0,opacity:0}),this.emitAdCustomEvent(ob.CHECKEXPOSURE)},this.showFeedback=()=>{var{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(XA.APPENTERFOREGROUND),this.emitAdCustomEvent(ob.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(XA.APPENTERBACKGROUND),this.emitAdCustomEvent(ob.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,r;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(XA.CONTAINERTAP),null===(r=this.reporter)||void 0===r||r.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(r=this.template)||void 0===r||null===(n=r.tplConfig)||void 0===n?void 0:n.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");var i=["left","top"];!OE.isWaGame&&i.push("fixed"),this.isWidthRequired&&i.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",Y_(e.adPosition,i))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return O()(O()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}bindEvent(){EE(this.handleEnterForeground),DE(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){CE(this.handleEnterForeground),RE(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var r,n;if(e.action===qA.HIDEAD)"value"in e&&e.value.preventClose?null===(r=this.manager)||void 0===r||r.hide(!0):null===(n=this.manager)||void 0===n||n.hide();else if(e.action===qA.RELOADAD){var i;null===(i=this.manager)||void 0===i||i.reload()}else e.action===qA.CHANGEMULTISHOW&&(e.value.listExpr?this.emitAdCustomEvent(ob.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(ob.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(ob.CHANGEMULTISHOW,{list:t.list}))}isShow(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:r}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${r?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}sH.subComponents={CustomItem:oH};class lH extends aH{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||lb.COMMON,this.baseType===lb.ROW?this.classRow=!0:this.baseType===lb.COLUMN?this.classColumn=!0:(this.baseType,lb.PROPORTION),this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===qA.ADDCHILDREN){var{value:t}=e,r=Array.isArray(t)?t:[t],n=[...this.state.children,...r];this.setState({children:n})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var r=Math.round(t.height*e);this.setStyle("container",{width:r,left:(t.width-r)/2,top:0})}else{var n=Math.round(t.width/e);this.setStyle("container",{height:n,top:(t.height-n)/2,left:0})}}}getSubComponentProps(e,t){return O()(O()({},this.getCommonSubComponentProps()),{},{template:this.state.children[parseInt(t,10)]})}render(){var{children:e}=this.state,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}lH.subComponents=()=>({CustomItem:oH});class cH extends aH{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;var t=this.options.baseType||ub.NICKNAME;this.baseType=t,t===ub.COMMON?this.initCommonComponent():t===ub.NICKNAME?this.initNickNameComponent():t===ub.DESC&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===ub.RELATION&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){var e=this.getAdData(),t=[hw.APPLE_APP_STORE,hw.OPEN_PLATFORM_APP_MOB].includes(e.product_type),r=pE("video",e.crt_size),n=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:e.crt_size===sw.CRT_SIZE_GRID},{path:["crtInfo","0","wxgame_video_card","title"],condition:r},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:[hw.WE_CHAT_ARTICLE,hw.GDT_WE_CHAT_ARTICLE].includes(e.product_type)},{value:"电商推广",condition:[hw.WE_CHAT_SHOP,hw.JD_URL].includes(e.product_type)},{value:"活动推广"}];this.state.text=LA(e,n)}initDescComponent(){var e=this.getAdData(),t=[hw.APPLE_APP_STORE,hw.OPEN_PLATFORM_APP_MOB].includes(e.product_type),r=pE("video",e.crt_size),n=e.product_type===hw.MINI_GAME,i=e.product_type===hw.WECHAT,a=[hw.WE_CHAT_ARTICLE,hw.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[hw.WE_CHAT_SHOP,hw.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:r},{path:["wording"],condition:[sw.CRT_SIZE_MULTI_POS_NEW_PIC,sw.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:a},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:i},{value:"今日小游戏推荐",condition:n},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=LA(e,s)}initRelationComponent(){var e=this;return Nn()((function*(){var t=e.getAdData();if(8===J_(t,["crtInfo","0","card_info","mp_tag_type"])){var{aid:r}=t,n=Date.now(),i=J_(t,["button_action","button_text"],"");try{var a,o=yield Iw({aid:r,buttonText:i}),s=Date.now();e.adProxy.reportRelationFetchDuration({startTime:n,endTime:s,showTime:(null===(a=e.manager)||void 0===a?void 0:a.showDetailTime)||0});var l="";if(o){var{count:c,descText:u}=o;l=e.getDataValueWithDefault("text","",void 0,{args:{count:c,descText:u}}),e.emitComponentEvent(eb.RELATIONFETCHED,{count:c,descText:u})}e.setState({text:l})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(Ub.RELATION_FETCH_ERROR,t)}}}))()}doAction({payload:e}){e.action===qA.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=((e,t)=>{for(var r=0,n=0,i=0;i<e.length;i++)(r+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)<t-1&&(n=i);return r>t?`${e.substring(0,n+1)}...`:e})(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class uH extends aH{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||cb.ICON;switch(this.baseType=t,t){case cb.COMMON:this.initCommonComponent();break;case cb.AD:this.initADComponent();break;case cb.ICON:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[hw.APPLE_APP_STORE,hw.OPEN_PLATFORM_APP_MOB].includes(e.product_type),r=e.crt_size===Yb.CRT_SIZE_MULTI_POS_GRID,n=[hw.WE_CHAT_SHOP,hw.JD_URL].includes(e.product_type),i=pE("video",e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var a=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:r},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:i},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:n},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=LA(e,a)}initADComponent(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===qA.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,r=this.baseType===cb.AD,{imgUrl:n}=this.state,i=["image-img"];return e&&i.push("image-img-appicon"),t&&i.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          ${r?'bubble-event="false"':""}\n          class="${i.join(" ")}"\n          src="${n}"\n        >\n      </view>\n    `}}class dH extends aH{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===ob.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(ob.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(KA.BUTTONTAP,{event:e})};var t=this.options.baseType||db.LOGICCOMMON;t===db.COMMON?this.initCommonComponent():t===db.LOGICCOMMON&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Zb.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===qA.BUTTONSETTEXT&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}var pH={videoDataMap:{}},hH=(e,t={})=>{e&&(pH.videoDataMap[e]=t)};class fH extends aH{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(tb.MUTEDCHANGE,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case ob.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case ob.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case ob.APPENTERBACKGROUND:var r=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",r):this.reportVideoPlay("partial","app_exit",r);break;case ob.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case ob.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case ob.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case ob.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(Ub.AD_VIDEO_LOAD_FAILED,e)},this.handleTimeUpdate=e=>{var t,{duration:r,position:n}=e;if(null!=r&&null!=n){var i=Math.min(1,n/r);this.setStyle("videoProgressPlayed",{width:100*i+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(r-n)}s`}),this.emitComponentEvent(tb.VIDEOTIMEUPDATE,{event:e,rate:i}),this.currentTime=1e3*n,this.videoDuration||(this.videoDuration=1e3*r);var a={currentTime:this.currentTime,duration:this.videoDuration},o=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;hH(o,a)}},this.handleEnded=e=>{var t;this.emitComponentEvent(tb.VIDEOENDED,{event:e}),this.emitAdCustomEvent(ob.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),Se&&this.reportVideoPlay("partial","start");var r={currentTime:this.videoDuration,duration:this.videoDuration},n=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;hH(n,r),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(ob.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(tb.VIDEOPLAY,{event:e}),this.emitAdCustomEvent(ob.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(tb.VIDEOPAUSE,{event:e}),this.emitAdCustomEvent(ob.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||pb.AD,this.baseType===pb.COMMON?this.initCommonComponent():this.baseType===pb.AD&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(tb.MUTEDCHANGE,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e,t=this.getAdData();this.src=this.getDataValue("src")||J_(t,["video_info","videoUrl"])||J_(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||J_(t,["video_info","thumbUrl"])||J_(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=J_(t,["wx_game_video","short_video","video_duration"])||J_(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var r={currentTime:0,duration:this.videoDuration},n=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;hH(n,r),this.emitAdCustomEvent(ob.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case qA.VIDEOTOGGLEMUTED:this.toggleMuted();break;case qA.VIDEOPLAY:this.operateVideoPlay("play");break;case qA.VIDEOPAUSE:this.operateVideoPlay("pause");break;case qA.VIDEOSTOP:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,r=0){this.baseType===pb.AD&&this.emitAdCustomEvent(ob.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:r,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:r,mutedIconSrc:n,voiceIconSrc:i,voicePlacement:a,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:c}=this,{muted:u,loop:d,autoplay:p,countDownNumber:h,isEndPageShowing:f}=this.state,g=["video-voice-box"],v=["video-count-down"];return g.push(`video-voice-box-${a}`),v.push(`video-count-down-${o}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${u}"\n          loop="${d}"\n          autoplay="${p}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${c}"\n        >\n          ${!f&&r?`\n            <view id="videovoicebox" bubble-event="false" class="${g.join(" ")}">\n              <image\n                src="${u?n:i}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!f&&l&&h?`\n            <text id="video-count-down" class="${v.join(" ")}" value="${h}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class gH extends aH{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===hb.SIMPLE)return this.handleSimpleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:r}=this.state;t||r?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(ob.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(rb.TAGTAP,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(rb.DISLIKETAP,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(rb.FEEDBACKBTNTAP,{event:e}),this.emitAdCustomEvent(ob.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(ob.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||hb.COMMON,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){for(var e of(this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick),Object.keys(this.dislikeReasonHandlers))){var t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(ob.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(ob.HIDEAD),this.emitComponentEvent(rb.TAGTAP,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(rb.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(ob.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var r=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===r?this.emitAdCustomEvent(ob.SHOWFEEDBACK):"hide"===r&&this.emitAdCustomEvent(ob.HIDEAD)}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:r}=this.state,n=["feedback-list"],i=["feedback-list"];r&&(n.push(`feedback-list-${r.toLowerCase()}`),i.push(`feedback-list-${r.toLowerCase()}`));var a=this.baseType===hb.SIMPLE?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===hb.SIMPLE?"close-icon":"feedback-icon"}" src="${a}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${n.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${i.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class vH extends aH{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case ob.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(ob.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(nb.SHOW);break;case ob.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case ob.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case ob.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case ob.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(ob.ENDPAGEHIDE),this.emitComponentEvent(nb.HIDE),this.reportEndPage({act_type:1003}),this.emitComponentEvent(nb.REPLAY)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};var t=this.getAdData();this.cardInfo=bb(t,["crtInfo",0,"card_info"],{});var{end_page_type:r}=this.cardInfo;r&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(ob.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return O()(O()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(ob.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===qA.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(ob.ENDPAGEHIDE),this.emitComponentEvent(nb.HIDE))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),r={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={},i=this.template.id;n.feedBack={type:"feedback",id:`${i}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:qA.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},r)}}],dislikeReasonTap:[{action:qA.TRIGGEREVENT,value:{eventName:nb.VIDEODISLIKE}}]}}},n.iconBig={type:"image",id:`${i}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},n.nickBig={type:"text",id:`${i}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},n.descSmall={type:"text",id:`${i}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},n.button={type:"button",id:`${i}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:qA.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1001},r)}}]}}},n.iconSmall={type:"image",id:`${i}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},n.nickSmall={type:"text",id:`${i}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},n.layoutSmall={type:"layout",id:`${i}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},n.layoutSmall.children.push(n.iconSmall),n.layoutSmall.children.push(n.nickSmall),n.descBig={type:"text",id:`${i}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var a=this.getDataValue("childrenConf");if(a)for(var o of Object.keys(a))n[o]&&yb(n[o],a[o]);var s=[];return s=2===this.cardInfo.end_page_type?[n.feedBack,n.layoutSmall,n.descBig,n.button]:[n.feedBack,n.iconBig,n.nickBig,n.descSmall,n.button],3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:r}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${r}></image>\n        </view>\n      </view>\n    `}}vH.subComponents=()=>({CustomItem:oH});class mH extends aH{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||vb.COMMON,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===vb.COMMON?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===vb.ADS&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,r){var{template:n,forArr:i}=this;return O()(O()({},this.getCommonSubComponentProps()),{},{idPrefix:this.idPrefix+(n.id||"")+t,forType:this.forType,forItem:i[Number(t)],template:n.children[Number(r)],forIndex:Number(t)})}render(){var{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,r)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${r}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}mH.subComponents=()=>({CustomItem:oH});var _H=1,yH=(e,t)=>{_H=e/t},AH=/([+-]?\d+(?:\.\d+)?)apx/g,bH=/([+-]?\d+(?:\.\d+)?)rpx/g,wH=e=>null!=e&&e.replace?e.replace(bH,((e,t)=>`${(e=>{if(0===e)return 0;var{screenWidth:t}=Xy,r=e/750*t;return r<0&&(r=-r),r=Math.floor(r+1e-4),e<0?-r:r})(Number(t))}px`)):e;class EH extends aH{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{var t,r=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+r:-r;var n=(this.isCol?e.relativeY:e.relativeX)-t,i=Math.floor(n/this.size);this.emitComponentEvent(ib.UNITTAP,{index:i,event:e})},this.handleAdCustomEvent=({action:e})=>{[ob.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[ob.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||mb.ROWLOOP,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{var r=t?wH(e):e;return r&&"string"==typeof r?r.replace(AH,((e,t)=>`${Number(t*_H)}px`)):r})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===mb.COLUMNLOOP,this.onClick("mask",this.handleMaskClick),this.baseType===mb.ROWLOOP?this.initCarousel("width"):this.baseType===mb.COLUMNLOOP&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return Nn()((function*(){if(e.isViewable&&!e.isPlaying){var t=e.baseType===mb.ROWLOOP?"left":"top";if(e.disabled)e.emitComponentEvent(ib.SHOWCHANGE,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(ib.SHOWCHANGE,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(var r=function(t){var{animated:r}=e,n=setTimeout((()=>{e.timerSet.delete(n);var i=r?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(ib.SHOWCHANGE,{list:i})}),t*e.duration);e.timerSet.add(n)},n=0;n<e.animateCount;n+=1)r(n);e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;var i=setTimeout((()=>{e.timerSet.delete(i),e.autoplay()}),e.duration/4);e.timerSet.add(i)}}}))()}getCustomItemProps(e,t){return O()(O()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}render(){var{template:{children:e}}=this.props,{baseType:t,allCount:r,showCount:n}=this;return e&&e.length&&r&&n?`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===mb.ROWLOOP?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `:"<view></view>"}}EH.subComponents=()=>({CustomItem:oH});class CH extends aH{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===ob.CHANGECOUNTDOWN){var r=this.getElementById("countdownvalue"),n=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:n}),r&&(r.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return O()(O()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),r={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={};n.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:qA.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},r)}}],dislikeReasonTap:[{action:qA.TRIGGEREVENT,value:{eventName:nb.VIDEODISLIKE}}]},data:{}}};var i=this.getDataValue("childrenConf");if(i)for(var a of Object.keys(i))n[a]&&yb(n[a],i[a]);var o=[];return o=[n.feedBack],3===e?o.concat(this.template.children||[]):o}render(){var{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}CH.subComponents=()=>({CustomItem:oH});var IH=sH;class SH extends dy{}var TH={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},xH=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),PH={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},{root:kH}=Ey()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n'),DH=0,RH=0,OH=0,MH=0,LH=0,NH=0,BH=0,WH=0,FH=!1,UH=!1,VH=!1,jH="",GH="",HH="",QH="",$H={},zH="wxfile://ad/adinfos.txt",YH=Ie?200:400,ZH=2e3,qH=function(e,t=!0){var r=VG(this).adProxy.isTriggerClick(e),n=r?0:1;return t&&JH.call(this,e,n),r},JH=function(e,t=0){var r,n=VG(this);if(n.container&&n.container.layoutBox){var{width:i,height:a}=n.container.layoutBox,o=0;[0,2,3].includes(t)&&(n.clickCount+=1,o=n.clickCount);var s={slotid:lw[n.adType],costtype:null!==(r=n.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,click_time:Date.now(),click_cnt:o,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(i,10)||0,ad_height:parseInt(a,10)||0,press_interval:e.pressInterval,block_click:t};return n.adProxy.reportTouchClick(s)}},XH=function(){var e=VG(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},KH=function(e,t){var r,n=VG(this),{width:i,height:a}=n.container.style,o={click_button:e,cost_type:null!==(r=n.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,slotid:lw[n.adType],is_game:FH?1:0,pageentertime:+new Date(n.adProxy.getProgramStartTime()),ad_width:parseInt(i,10)||0,ad_height:parseInt(a,10)||0,clientexptime:n.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:DH,screen_height:RH};return n.adProxy.reportAntifraud(o)},eQ=function(e){var t,r=VG(this),n=+new Date,i={slotid:lw[r.adType],is_game:FH?1:0,costtype:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:n-r.startExposureTime-r.hideDuration,start_time:r.startExposureTime,close_time:n};return r.adProxy.reportCloseAction(i)},tQ=function(e){var t,r=VG(this),n={slotid:lw[r.adType],is_game:FH?1:0,costtype:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return r.adProxy.reportAdEntranceExposure(n)},rQ=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:r=0,secondGradeDesc:n="",feedbackReason:i=0}){var a=VG(this);e&&!r&&(a.clickFirstGradeTime=+new Date),a.adProxy.reportAdFeedbackData({adWidth:DH,adHeight:RH,adPosX:0,adPosY:0,expTime:a.startExposureTime,slotId:lw[a.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?a.clickFirstGradeTime:0,secondGradeId:r,secondGradeDesc:n,secondGradeTime:r?+new Date:0,feedbackReason:i})},nQ=function(e=!1){var t=VG(this);if(!t.isShowed)return Promise.resolve();if(!t.data||!t.container.layoutBox)return Ca(100).then((()=>nQ.call(this,e)));var{left:r,top:n,width:i,height:a}=t.container.layoutBox;if(!t.isShowedExposureReported)if(t.isShowedExposureReported=!0,t.startExposureTime=+new Date,t.adProxy.setTimePoint("p6"),Ie&&le.clientVersion>=671092224&&le.clientVersion<=671092533){t.adProxy.reportExposure({left:r,top:n,width:i,height:a,exposureType:"showed",source:t.source});var o="launch"===t.source?mw.firstShowSuccess:mw.secondShowSuccess;t.adProxy.reportAdMonitorData(o),t.adProxy.setSplashAdShowStatus()}else le.onReady((()=>{t.adProxy.reportExposure({left:r,top:n,width:i,height:a,exposureType:"showed",source:t.source});var e="launch"===t.source?mw.firstShowSuccess:mw.secondShowSuccess;t.adProxy.reportAdMonitorData(e),t.adProxy.setSplashAdShowStatus()}));if(!t.isViewableExposureReported){if(!e)return Ca(1e3).then((()=>nQ.call(this,!0)));t.adProxy.setTimePoint("p7"),t.isViewableExposureReported=!0,t.adProxy.isViewable=!0;t.adProxy.reportExposure({left:r,top:n,width:i,height:a,exposureType:"viewable",source:t.source})}return Promise.resolve()},iQ=function(e){var t=VG(this);if(t.container&&t.container.layoutBox){var{left:r,top:n,width:i,height:a}=t.container.layoutBox,o=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-r,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,left:r,top:n,width:i,height:a,source:t.source});return o}},aQ=function(e,t,r=!1){var n=VG(this),{appInfo:{apkName:i,channelId:a,urlScheme:o},product_type:s,dest_type:l}=n.data;if(12===s&&Ie&&4===n.androidAppState&&o&&o.trim().length>0)iQ.call(this,e),KH.call(this,t,e),n.adProxy.launchApplication(o).catch((()=>{})),n.lastJsapiName="launchApplication",n.isLandingPage=!0;else if(12===s&&Ie&&n.isYYBInstalled){iQ.call(this,e),KH.call(this,t,e);var{aid:c,traceid:u,apurl:d}=n.adProxy.data,p=["ANDROIDWX.YYB.WX.ADVERTISE",u,c,i.replace(/\./g,"_"),"0",15,d.indexOf("ad.wx.com")>-1?1:0].join("."),h=`tmast://download?oplist=1,2&pname=${i}&channelid=${a}&via=${p}`;n.adProxy.launchApplication(h).catch((()=>{oQ.call(this,{isButton:r})})),n.lastJsapiName="launchApplication",n.isLandingPage=!0}else Se&&46===s&&6===l?Promise.race([iQ.call(this,e),Ca(500)]).then((()=>{KH.call(this,t,e),oQ.call(this,{isButton:r})})).catch((()=>{KH.call(this,t,e),oQ.call(this,{isButton:r})})):(iQ.call(this,e),KH.call(this,t,e),oQ.call(this,{isButton:r}))},oQ=function(e={}){var t=VG(this),r=t.adProxy.land(e);return r.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(mw.landingPageFail,{source:t.source,msg:e})})),r},sQ=function(e){var t=VG(this);for(var r of e)t[r]&&clearTimeout(t[r])},lQ=function(){var e,t=VG(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.isCheckAdRequest=!0,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",sQ.call(this,["countTimer"]),le.onReady((()=>{var e,r,n;t.adProxy.reportTimePoints({slotid:lw[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(r=t.showInfo)||void 0===r?void 0:r.instanceId,scene:null===(n=t.showInfo)||void 0===n?void 0:n.scene,extInfo:{adInfos:t.adInfos}})}))},cQ=function(e={},t){t&&eQ.call(this,t),function(e){lt("closeSplashAd",e)}(e)},uQ=function(e={},t={}){return VG(this).adProxy.fetch(!1,e,t)},dQ=function(){var e=VG(this);if((Ie||Se)&&!VH)try{e.adFetchResult=uQ.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(mw.OTHER_ADS_EMIT_FETCH)}catch(e){}},pQ=function(){var e,t=VG(this).data||{},r={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)r=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var n=t.crtInfo?t.crtInfo[0]:{};r=null!=n&&n.card_info?n.card_info:{}}return r},hQ=function(){var e,t,r=VG(this),n=+new Date-r.startExposureTime-r.hideDuration,i=5e3;(null==r||null===(e=r.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_splashad_show_duration)>=i&&(i=r.data.condition.widget_gray_splashad_show_duration);var a=i-n;if(a>=0){var o=Math.ceil(a/1e3).toString();r.countDown&&(r.countDown.value=o),r.tplComponent&&r.tplComponent.emitAdCustomEvent(ob.CHANGECOUNTDOWN,{value:o}),r.countTimer&&clearTimeout(r.countTimer),r.countTimer=setTimeout((()=>{hQ.call(this)}),1e3)}else"launch"===r.source&&r.isShowedExposureReported&&(r.isDynamic&&r.tplComponent.hide(),cQ.call(this,{source:r.source,animated:!0},12))},fQ=function(){var e=VG(this);if("launch"===e.source)e.topBar&&MH&&(e.topBar.style.top=MH,e.adFeedbackMenu.style.top=MH+34,e.adFeedbackList.style.top=MH+34),e.closeContainer&&(e.closeContainer.style.marginTop=LH-68),e.appInfo&&(e.appInfo.style.height=NH,e.appInfo.style.width=DH,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=FH?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=DH,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=DH,e.tipsLineOne.style.width=DH,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=RH-NH,e.adCloseTips.style.width=DH);else if("menu"===e.source){var t;if(!e.data)return;var{data:r}=e,n=pQ.call(this),i=aa();e.adIcon.src=n.thumb,e.adName.value=n.title,null!==(t=r.button_action)&&void 0!==t&&t.button_text&&(e.button.value=r.button_action.button_text),i.screenTop&&i.screenTop>0?OH=i.screenTop:OH&&0!==OH||(OH=88*RH/812),e.navigator.style.height=OH,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=DH,e.card.style.height=NH-OH,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=LH-12,e.mediaBottom.style.width=DH,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var a=e.data||{},o=pQ.call(this);if(o&&e.adHeadInfo&&(e.adHeadIcon.src=o.thumb||"",e.adversName.value=o.title||"",e.adHeadInfo.style.width=DH/375*311,e.adversName.style.width=DH/375*311),a.hint_txt&&e.adTitle&&a.crt_size!==sw.CRT_SIZE_BIG_PIC?(e.adTitle.value=a.hint_txt,e.adTitle.style.width=DH/375*311):o.description&&e.adTitle?(e.adTitle.value=o.description,e.adTitle.style.width=DH/375*311):e.adTitle&&a.product_type&&Ew[a.product_type]&&(e.adTitle.value=`今日${Ew[a.product_type]}推荐`,e.adTitle.style.width=DH/375*311),a.button_action&&e.adButtonContainer){e.adButton.value=a.button_action.button_text,e.adButtonContainer.style.width=DH,e.closeContainer&&(e.closeContainer.style.marginTop=LH-132);var s={text:a.button_action.button_text,fontSize:17},l=wb(s)||80;e.adButton.style.width=l+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},gQ=function(e){var t,r,n,i,a=VG(this);if(a.dynamicElems||(a.dynamicElems={}),a.dynamicEmitter||bQ.call(this),!a.dynamicElems.root){var o=null==a||null===(t=a.data)||void 0===t?void 0:t.adDynamicList;null!=a&&null!==(r=a.data)&&void 0!==r&&r.template&&(o=a.data.template),$H=null===(n=o)||void 0===n||null===(i=n.tplConfig)||void 0===i?void 0:i.cacheFile;var s={};if($H&&Object.keys($H).length>0){var l,c,u,d=(null==a||null===(l=a.data)||void 0===l||null===(c=l.rerankingExtInfo)||void 0===c?void 0:c.material_hash)||"",p=(null===(u=a.data)||void 0===u?void 0:u.aid)||"";Object.keys($H).forEach((e=>{try{var t=`wxfile://ad/${p}_${d}_${e}.png`;uu.accessSync(t),s=O()(O()({},s),{},{[e]:t})}catch(e){a.adProxy.reportAdMonitorData({idKey:33,idKeyGroup:1646},e)}}))}var h=_Q.call(this,{tpl:o,source:e,cacheLocalFile:s}),f=h.getRootElement();a.dynamicElems.root=f,a.container.add(a.dynamicElems.root),h.show(),a.tplComponent=h,a.tplComponent.emitComponentEvent(XA.SPLASHADFIRSTRENDER)}},vQ=function(){var e="",t=VG(this).adProxy.data,r=pQ.call(this);return t.hint_txt&&t.crt_size!==sw.CRT_SIZE_BIG_PIC?e=t.hint_txt:r.description?e=r.description:t.product_type&&Ew[t.product_type]&&(e=`今日${Ew[t.product_type]}推荐`),e},mQ=function(){var e="",t=VG(this).adProxy.data;return t.product_type&&Ew[t.product_type]&&(e=`今日${Ew[t.product_type]}推荐`),e},_Q=function({tpl:e,source:t,cacheLocalFile:r}){var n=VG(this),i=n.adProxy.data,a=vQ.call(this),o=pQ.call(this),s=mQ.call(this);return zy(sH,{manager:null,reporter:null,emitter:n.dynamicEmitter,adProxy:n.adProxy,template:e,systemInfo:{screenWidth:DH,screenHeight:RH},adData:i,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:MH||40,source:t,screenTop:OH||88*RH/812,isDarkMode:n.isDarkMode,adTitle:a||"",adSubTitle:s||"",cardInfo:o,materialFile:jH,materialBgFile:HH,materialBlurFile:QH,private:n,appIcon:n.showInfo.appIcon,appName:n.showInfo.appName,cacheLocalFile:r}},!1)},yQ=function(e){var t=VG(this);qH.call(this,e,!1)&&(XH.call(this)||"launch"===t.source&&cQ.call(this,{source:t.source,animated:!0},11))},AQ=function(e){var t=VG(this);switch(e.action){case ob.LANDAD:var{event:r,index:n,isButton:i}=e.value,a=n;if(!qH.call(this,r,13===a))return;13===a&&aQ.call(this,r,a,i),cQ.call(this,{source:t.source,animated:!1},a),16===a&&(t.isLandingPage=!0,Ca(YH).then((()=>aQ.call(this,r,a,i))));break;case ob.CHECKEXPOSURE:t.dynamicRendered=!0,t.isShowedExposureReported||nQ.call(this),t.countTimer||hQ.call(this);break;case ob.FEEDBACKREPORT:rQ.call(this,e.value);break;case ob.FEEDBACKBTNTAP:t.data&&t.adProxy.openFeedbackUrl(1014);break;case ob.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case ob.SPLASHSKIPAD:var{event:o}=e.value;yQ.call(this,o);break;case ob.REPORTADMONITORDATA:var s=null==e?void 0:e.value,{id:l,key:c,extInfo:u}=s,d=l?{idKeyGroup:l,idKey:c}:c;t.adProxy.reportAdMonitorData(d,u)}},bQ=function(){var e=VG(this);e.dynamicEmitter=new SH,e.dynamicEmitter.on("adCustomEvent",(e=>{AQ.call(this,e)}))},wQ=function(e,t=!1){var r=VG(this);e.forEach((e=>{var{root:t}=Ey()(PH[e.name]),n=jG.call(this,t);r[e.parent].add(n)})),r.componentsRenderred=!0,fQ.call(this),t&&EQ.call(this)},EQ=function(){var e=VG(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||rQ.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,rQ.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&cQ.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,rQ.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,rQ.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&cQ.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,rQ.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&cQ.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{qH.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,rQ.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&cQ.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{qH.call(this,t,!1)&&(XH.call(this)||"launch"===e.source&&cQ.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{CQ.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{CQ.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{if(qH.call(this,t,!1))return e.data?(cQ.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,Ca(YH).then((()=>aQ.call(this,t,16)))):void 0}));for(var t of["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"])e[t]&&!e.eventsMap[t]&&(e.eventsMap[t]=!0)},CQ=function(e,t=""){var r,n,i=VG(this);if((!((null==i||null===(r=i.data)||void 0===r||null===(n=r.condition)||void 0===n?void 0:n.widget_gray_splash_click_area_switch)||0)||"button"===t)&&qH.call(this,e,!1))return i.data&&"launch"===i.source?!FH||Ie?(aQ.call(this,e,13),Ca(200).then((()=>cQ.call(this,{source:i.source,animated:!1},13)))):(cQ.call(this,{source:i.source,animated:!1},13),aQ.call(this,e,13)):void 0},IQ=function(){var e,t=VG(this);if(t.data){var r=pQ.call(this);r&&"launch"===t.source&&(e={showMenu:!0,title:r.title,icon:r.thumb,success:()=>{t.adProxy.reportAdMonitorData(mw.showSplashAdMenuSuccess)},fail:e=>{t.adProxy.reportAdMonitorData(mw.showSplashAdMenuFail,{msg:e})}},lt("showSplashAdMenu",e))}},SQ=function(){var e=VG(this);try{var t,r=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[r])}catch(e){}},TQ=function(){var e=VG(this);if(!e.data||""===e.data||"object"!=typeof e.data){var t=uu.readFileSync(GH,"utf-8");try{var r=JSON.parse(t);e.data=r,e.adProxy.data=r}catch(t){le.onReady((()=>{e.adProxy.reportAdMonitorData(mw.readFileDataFail,{source:e.source,msg:t})}))}}},xQ=function(){var e=VG(this);if("launch"===e.source){wQ.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},PQ=function(){var e=VG(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(Ie||MH>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),wQ.call(this,t,!0),kb({state:0}),cy.layout().then((()=>{kb({state:1}),cy.auto=!0})).catch((t=>{le.onReady((()=>{e.adProxy.reportAdMonitorData(mw.secondInsertFail,{source:e.source,msg:t})}))}))}},kQ=function(){var e=VG(this);NH=Math.max(160,160*RH/812),LH=RH-NH,e.adMedia.style.width=DH,e.adMedia.style.height=LH;var t=9*RH/16;e.adMaterial.style.width=t,e.adMaterial.style.height=RH,e.adMaterial.style.left=t>DH?(DH-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=jH:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=DH,e.adMaterial.style.height=LH,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=DH,e.adMaterialContainer.style.height=LH,e.adMaterial.src=HH,e.adMaterialBg.style.width=.45*RH*16/9,e.adMaterialBg.style.height=.45*RH,e.adMaterialBg.style.left=-(.45*RH*16/9-DH)/2,e.adMaterialLandscape.style.width=DH/375*311,e.adMaterialLandscape.style.height=DH/375*175,e.adMaterialBg.src=jH,e.adMaterialLandscape.src=jH,e.adCardInfo.style.width=DH/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=RH/1920},DQ=function(e){var t,r,n=VG(this);n.showInfo=e,n.source=e.source,n.isDarkMode=e.isDarkMode||!1,e.isGame&&(FH=e.isGame);var i=aa();if(DH=e.screenWidth,RH=Math.max(i.screenHeight,e.screenHeight),TQ.call(this),null!=n&&null!==(t=n.data)&&void 0!==t&&t.adDynamicList||null!=n&&null!==(r=n.data)&&void 0!==r&&r.template){var{root:a}=Ey()('\n  <view id="container">\n  </view>\n');$G.call(this,a,TH),n.isDynamic=!0,gQ.call(this,e.source)}else $G.call(this,kH,xH),kQ.call(this);if(n.container.style.width=DH,n.container.style.height=RH,n.container.style.backgroundColor=n.isDarkMode?"#191919":"#ffffff",cy.add(n.container),!n.isDynamic)try{uu.access({path:QH,success:()=>{n.adMaterialBg.src=QH}})}catch(e){}var o=[];"menu"!==n.source||n.isDynamic||(TQ.call(this),o=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===n.crtOrientation&&(o=o.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),n.navigator.style.hidden=!1,wQ.call(this,o,!0)),Pb({state:0}),cy.layout().then((()=>{if(n.firstInserted=!0,n.isShowed=!0,Pb({state:1}),"launch"!==n.source||n.isDynamic)cy.auto=!0,n.container.requestLayout();else try{PQ.call(this)}catch(e){le.onReady((()=>{n.adProxy.reportAdMonitorData(mw.secondRenderFail,{source:n.source,msg:e})}))}})).catch((e=>{le.onReady((()=>{n.adProxy.reportAdMonitorData(mw.firstInsertFail,{source:n.source,msg:e})}))}))},RQ=function(e,t={},r,n){var i=VG(this),a=WH+ww[n],o=mw[n];return le.onReady((()=>{var r;i.adProxy.reportAdMonitorData(o,t),i.adProxy.reportTimePoints({slotid:lw[i.adType],costtype:null!==(r=i.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:a,scene:e.scene,extInfo:t})})),xb({adCallTime:Date.now(),errCode:a,show:!1,eventReceivedTime:r.startInit,cgiFetchStart:r.startFetchTime||0,cgiFetchCallBack:r.fetchCallbackTime||0})};class OQ extends HG{constructor(){super();var e=VG(this);e.canShowed=!1,e.today=Ab(),e.countTimer=null,e.componentsRenderred=!1,e.isShowed=!1,e.firstInserted=!1,e.adFeedbackInserted=!1,e.isDynamic=!1,e.isShowedExposureReported=!1,e.startExposureTime=0,e.isViewableExposureReported=!1,e.isCheckAdRequest=!0,e.clickCount=0,e.lastLandingTime=0,e.lastJsapiName="",e.lastJsapiStatus=0,e.lastJsapiCostTime=0,e.isLandingPage=!1,e.landingPageCostTime=0,e.hideTime=0,e.hideDuration=0,e.isClosing=!1,e.isShowCloseTip=!1,e.clickFirstGradeTime=0,e.eventsMap={},e.source="",e.crtOrientation="portrait",e.adType="splashAd",e.adProxy=new KP({adUnitId:"",adType:e.adType}),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null,function(e){Y("onSplashAdButtonClicked",e)}((t=>{"close"===t.buttonType&&"launch"===t.source?(eQ.call(this,10),sQ.call(this,["countTimer"])):"close"===t.buttonType&&"menu"===t.source?eQ.call(this,14):"back"!==t.buttonType||"menu"!==t.source||e.isLandingPage?"menu"===t.buttonType&&tQ.call(this,1):eQ.call(this,15)})),function(e){Y("onSplashAdWillLayout",e)}((t=>{if(t.menuViewFrame&&("launch"===t.source?(MH=t.menuViewFrame.y||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&MH&&e.tplComponent.emitComponentEvent(XA.SPLASHADMENUVIEW,{countdownTop:MH})):"menu"===t.source&&(OH=t.menuViewFrame.height||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&OH&&e.tplComponent.emitComponentEvent(XA.SPLASHADMENUVIEW,{navHeight:OH,menuHeight:172-OH})),Se&&e.firstInserted&&!e.adFeedbackInserted))try{xQ.call(this)}catch(t){le.onReady((()=>{e.adProxy.reportAdMonitorData(mw.iosThirdInsertFail,{source:e.source,msg:t})}))}})),function(e){Y("onSplashAdShow",e)}((()=>{e.adProxy.setTimePoint("p5"),"launch"!==e.source||e.isDynamic||(TQ.call(this),fQ.call(this)),IQ.call(this),SQ.call(this),e.hideTime>0&&(e.hideDuration=+new Date-e.hideTime),nQ.call(this),"launch"===e.source&&e.isShowedExposureReported&&hQ.call(this),e.isLandingPage&&(e.isLandingPage=!1)})),function(e){Y("onSplashAdHide",e)}((()=>{e.hideTime=+new Date,sQ.call(this,["countTimer"])})),function(e){Y("onSplashAdClose",e)}((()=>{UH||(UH=!0),Se&&e.startExposureTime>0&&+new Date-e.startExposureTime>1e3&&nQ.call(this,!0),e.container&&(e.isDynamic&&(e.tplComponent&&Zy(e.tplComponent),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null),cy.remove(e.container)),lQ.call(this)}))}otherAdsEmitFetch(){dQ.call(this)}show(e){VH=!0;var t=VG(this);t.showInfo=e,t.adProxy.scene=e.scene,t.adProxy.setTimePoint("p14");var r=t.adProxy.getTimePoint("p14");if(le.onReady((()=>{setTimeout((()=>{var r="launch"===e.source?mw.launchAcceptShouldShow:mw.menuAcceptShouldShow;t.adProxy.reportAdMonitorData(r)}),ZH)})),"launch"!==e.source)return this.showDetail(e);var n={};try{var i=uu.readFileSync(zH,"utf-8");n.adInfos=i||{},t.adInfos=JSON.parse(i)}catch(e){t.adInfos={},n.errMsg=t.adProxy.processStackMsg(e),n.fileName=zH}if(0===Object.keys(t.adInfos).length)WH=1e4,BH=ww.NO_ADINFOS,this.showAdByRealtimeFetch(e,r);else{var a;Ie&&le.clientVersion>=671092224&&le.clientVersion<=671092533?setTimeout((()=>{t.isCheckAdRequest&&(t.adFetchResult=uQ.call(this).catch((()=>{})))}),ZH):le.onReady((()=>{setTimeout((()=>{t.isCheckAdRequest&&(t.adFetchResult=uQ.call(this).catch((()=>{})))}),ZH)}));var o=t.adInfos.ads||[],s=(null===(a=t.adInfos)||void 0===a?void 0:a.isCheckAndFetch)||0;for(var l of(s?(WH=2e4,this.showAdByRealtimeFetch(e,r,o)):this.showAdByCheckAdsOnline(e,r),t.adDatas={},o))try{var c=`wxfile://ad/${l.aid}.txt`,u=uu.readFileSync(c,"utf-8"),d=JSON.parse(u);t.adDatas[l.aid]=d}catch(e){}}try{var p,h=(null===(p=t.adInfos)||void 0===p?void 0:p.deviceInfo)||{};t.adProxy.setDeviceInfo(h)}catch(e){}}showAdByRealtimeFetch(e,t,r=[]){var n=VG(this),i={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:ea,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:Se,isAndroid:Ie,adNetworkType:e.networkType},a={weappEnterScene:e.scene,requestType:2,preloadAds:r};return n.adProxy.setTimePoint("p15"),le.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(mw.START_CHECK_AD_STATUS)}),ZH)})),uQ.call(this,i,a).then((t=>{le.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(mw.CHECK_AD_STATUS_SUCCESS)}),ZH)})),n.adProxy.setTimePoint("p16");var r=!1;"fetch"===n.adProxy.lastAdRespone&&(n.isCheckAdRequest=!1,n.data=t,n.adProxy.data=t,r=!0,WH=1e4===WH?1e4:3e4),this.showDetail(e,{aid:Number(t.aid)},r)})).catch((r=>(n.adProxy.setTimePoint("p16"),RQ.call(this,e,{msg:r},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}showAdByCheckAdsOnline(e,t){var r=VG(this),n=r.adInfos.requestInQueue&&"true"===r.adInfos.requestInQueue,i=JSON.stringify({weapp_enter_scene:e.scene||0}),a={slot_id:lw[r.adType],publisher_appid:e.appId,network_type:bw[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:ea,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:r.adInfos.ads||[],ext_check_ads_weapp:i};r.adProxy.setTimePoint("p15"),le.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(mw.START_CHECK_AD_STATUS)}),1500)})),((e={},t=!0)=>Sb({apiName:"webapi_getadvert",reqData:{action:"CheckAdIsOnline",request_data:JSON.stringify(e)},requestInQueue:t}))(a,n).then((t=>{le.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(mw.CHECK_AD_STATUS_SUCCESS)}),1500)})),r.adProxy.setTimePoint("p16");var n=t.data;this.showDetail(e,n)})).catch((n=>(r.adProxy.setTimePoint("p16"),RQ.call(this,e,{msg:n},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}showDetail(e,t={aid:0},r=!1){var n=this;return Nn()((function*(){cy.style.width=e.screenWidth,cy.style.height=e.screenHeight,cy.auto=!1;var i=VG(n),a={startInit:i.adProxy.getTimePoint("p14"),startFetchTime:i.adProxy.getTimePoint("p15"),fetchCallbackTime:i.adProxy.getTimePoint("p16")},o=[],{aid:s}=t;if("launch"===e.source&&r){var l,c,u,d=(null==i||null===(l=i.data)||void 0===l||null===(c=l.rerankingExtInfo)||void 0===c?void 0:c.material_hash)||"";jH=`wxfile://ad/${s}_${d}.png`,HH=`wxfile://ad/${s}_${d}_pure_color.png`,QH=`wxfile://ad/${s}_${d}_blur.png`,o.push(jH),i.crtOrientation="portrait";var p=(null==i||null===(u=i.data)||void 0===u?void 0:u.crtInfo[0])||{};if(Object.keys(p).length>0){var{width:h,height:f}=p;i.crtOrientation=h>=f?"landscape":"portrait"}"landscape"===i.crtOrientation&&o.push(HH)}else if("launch"!==e.source||r){if("menu"===e.source){var g,v,m={};null!==(g=i.data)&&void 0!==g&&g.crtInfo&&i.data.crtInfo.length>0?[m]=i.data.crtInfo:null!==(v=i.data)&&void 0!==v&&v.crtInfo&&(m=i.data.crtInfo),Object.keys(m).length>0&&!i.crtOrientation&&(i.crtOrientation=i.data.crtInfo.width>i.data.crtInfo.height?"landscape":"portrait"),tQ.call(n,2)}}else{var _,y,A,b;if(!s||"0"===s)return RQ.call(n,e,{adInfos:i.adInfos,checkAdStatus:t},a,"NO_AID");if(s&&null!=i&&null!==(_=i.adDatas)&&void 0!==_&&_[s]&&(i.data=i.adDatas[s],i.adProxy.data=i.adDatas[s]),i.crtOrientation=s?null==i||null===(y=i.adInfos)||void 0===y||null===(A=y.crtSizeMap)||void 0===A?void 0:A[s]:"",!i.crtOrientation)return RQ.call(n,e,{adInfos:i.adInfos,checkAdStatus:t},a,"CRT_ORIENTATION_NOT_SURE");var w=s?null==i||null===(b=i.adInfos)||void 0===b?void 0:b.materialHashMap[s]:"";GH=`wxfile://ad/${s}.txt`,jH=`wxfile://ad/${s}_${w}.png`,HH=`wxfile://ad/${s}_${w}_pure_color.png`,QH=`wxfile://ad/${s}_${w}_blur.png`,o.push(GH),o.push(jH),"landscape"===i.crtOrientation&&o.push(HH)}try{"launch"===e.source&&o.forEach((e=>{uu.accessSync(e)}))}catch(r){BH=ww.MATERIAL_NOT_READY;var E=i.adProxy.processStackMsg(r),C=!1;if(i.data)try{yield i.adProxy.handleBulkSaveMaterials(i.data),C=!0}catch(e){}if(!C)return RQ.call(n,e,{adInfos:i.adInfos,checkAdStatus:t,msg:E},a,"MATERIAL_NOT_READY")}i.adProxy.setTimePoint("p17"),"launch"===e.source&&xb({showMenu:!0,show:!0,errCode:BH+WH,adCallTime:i.adProxy.getTimePoint("p17"),eventReceivedTime:a.startInit,cgiFetchStart:a.startFetchTime,cgiFetchCallBack:a.fetchCallbackTime,success:()=>{i.adProxy.setTimePoint("p18"),le.onReady((()=>{i.adProxy.reportAdMonitorData(mw.launchShowSplashAdSuccess)}))},fail:e=>{i.adProxy.setTimePoint("p18"),le.onReady((()=>{i.adProxy.reportAdMonitorData(mw.showSplashAdFail,{adInfos:i.adInfos,checkAdStatus:t,msg:e})})),lQ.call(n),i.container&&cy.remove(i.container)}});try{i.adProxy.setTimePoint("p4"),DQ.call(n,e)}catch(t){cQ.call(n,{source:e.source,animated:!1},19),lQ.call(n),le.onReady((()=>{i.adProxy.reportAdMonitorData(mw.firstRenderFail,{adInfos:i.adInfos,source:e.source,msg:t})}))}}))()}}var MQ=new dy,LQ={banner:"SHOW_BANNER","incentive-video":"SHOW_REWARD",grid:"SHOW_GRID"},NQ={banner:"HIDE_BANNER","incentive-video":"HIDE_REWARD",grid:"HIDE_GRID"};class BQ{constructor({adUnitId:e,adType:t="banner"}){this.adUnitId=e,this.adType=t}show(){var e=LQ[this.adType];e&&MQ.emit(e,{adUnitId:this.adUnitId})}hide(){var e=NQ[this.adType];e&&MQ.emit(e,{adUnitId:this.adUnitId})}on(e,t){MQ.on(e,(e=>{e.adUnitId!==this.adUnitId&&t(e)}))}}var WQ={},FQ=function(e,t,r){WQ.hasOwnProperty(e)||(WQ[e]={}),WQ[e][t]=r},UQ=function(e,t){if(WQ.hasOwnProperty(e))return WQ[e][t]},VQ={defaultPageHeadline:{flexDirection:"row"},defaultPageAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},defaultPageWordingWrapper:{marginTop:0,marginBottom:48,height:72},defaultPageAppName:{textAlign:"center",height:28,lineHeight:28,fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,color:"#ffffff",opacity:.8},defaultPageAppWording:{marginTop:16,fontSize:20,lineBreak:"ellipsis",fontWeight:500,opacity:1}},jQ={expandCardHeadline:{flexDirection:"row"},expandCardAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},expandCardWordingWrapper:{marginTop:0,marginBottom:48,height:72},expandCardAppName:{textAlign:"center",height:28,lineHeight:28,fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,color:"#ffffff",opacity:.8},expandCardAppWording:{marginTop:16,fontSize:20,fontWeight:500,lineBreak:"ellipsis",opacity:1}},GQ=O()(O()(O()(O()(O()(O()(O()({container:{rotate:0,position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:1000002,hidden:!0},video:{padding:8,paddingBottom:16,flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"#ff0000",position:"absolute",bottom:0},blank:{width:1,height:1},cardContainer:{hidden:!0,position:"absolute",left:8,flexDirection:"column",alignSelf:"stretch",overflow:"hidden"},card:{hidden:!0,backgroundColor:"rgba(247, 247, 247, 0.95)",borderColor:"rgba(0, 0, 0, 0.08)",flexDirection:"row",alignItems:"center",borderRadius:8,portrait:{height:90,padding:16},landscape:{width:348,height:72,padding:10}},appIcon:{borderRadius:8,opacity:.95,portrait:{width:48,height:48,marginRight:10},landscape:{width:45,height:45,marginRight:6}},appInformation:{flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},appName:{height:22.5,lineHeight:22.5,marginBottom:5,fontSize:17,lineBreak:"ellipsis",color:"#000000",portrait:{marginBottom:5},landscape:{marginBottom:2}},appWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#888888",fontSize:14},button:{width:84,height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#ffffff",borderWidth:1,borderColor:"#07C160",borderRadius:4,marginLeft:8,backgroundColor:"#07C160"},downloadButton:{width:62,height:32,hidden:!0,marginLeft:10},downloadButtonText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},dialogContainer:{zIndex:1000007,position:"absolute",overflow:"hidden",top:0,left:0,hidden:!0},dialogMask:{position:"absolute",overflow:"hidden",backgroundColor:"#000000",opacity:.7,top:0,left:0},dialog:{position:"absolute",width:300,height:168,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)"},dialogTitle:{marginTop:28,marginBottom:27,width:300,height:48,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17,fontWeight:"bold",lineBreak:"break-all"},dialogSplit:{width:300,height:1,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogButton:{width:300,justifyContent:"center",flexDirection:"row",alignItems:"center"},buttonSplit:{width:1,height:63.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogClose:{marginTop:19,marginBottom:19,width:149.5,height:25,lineHeight:25,textAlign:"center",color:"#000000",fontWeight:"bold",fontSize:18},dialogCancel:{marginTop:19,marginBottom:19,width:150,height:25,lineHeight:25,textAlign:"center",color:"#576A94",fontWeight:"bold",fontSize:18},pageCardBody:{position:"absolute",hidden:!0,flexDirection:"column",alignItems:"center",height:340},pageCardHotArea:{flexDiretion:"cloumn",alignItems:"center",height:70},pageCardTipIcon:{hidden:!0,marginTop:33,width:20,height:6.5},pageCardTip:{marginTop:2,hidden:!0,width:52,height:20,lineHeight:20,fontSize:13,color:"#ffffff"},pageCardContainer:{borderRadius:10,flexDirection:"column",height:270},pageCard:{paddingLeft:15,paddingRight:15,flexDirection:"row",alignItems:"center",borderRadius:5,height:80},pageCardAppIcon:{borderRadius:10,opacity:.95,width:48,height:48},pageCardAppInformation:{paddingLeft:5,marginTop:3,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},pageCardAppName:{height:22.5,fontSize:16,color:"#ffffff"},pageCardAppWording:{height:20,marginTop:1,color:"#888888",fontSize:14},pageCardButton:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:14,color:"#ffffff",borderWidth:1,backgroundColor:"#07C160",borderColor:"#07C160",borderRadius:4},pageCardSplitLine:{marginLeft:15,marginRight:15,height:1,backgroundColor:"rgba(255, 255, 255, 0.10)"},pageCardImgContainer:{marginTop:15,marginLeft:15,marginRight:15,marginBottom:25,height:150,overflow:"hidden"},pageCardImgBox:{height:150,left:0,flexDirection:"row",justifyContent:"center"},pageCardImg0:{order:0,borderRadius:3},pageCardImg1:{marginLeft:10,order:1,borderRadius:3},pageCardImg2:{marginLeft:10,order:2,borderRadius:3},pageCardImg3:{marginLeft:10,order:3,borderRadius:3},pageHandler:{top:0,position:"absolute",hidden:!0},pageMask:{top:0,position:"absolute",backgroundColor:"#000000",hidden:!0},dialogCloseTip:{hidden:!0,position:"absolute",overflow:"hidden",top:0,left:0},adCloseTipWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{playableTipsWrap:{left:0,hidden:!0,marginBottom:10,width:132,height:32,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:4},playableTipsContent:{width:100,height:16,lineHeight:16,fontSize:12,color:"#ffffff",textAlign:"center"},playableGiveUp:{hidden:!0,marginLeft:8,width:24,height:32,lineHeight:32,fontSize:12,color:"#07C160"},playableCancelBox:{hidden:!0,width:44,height:32,left:72,position:"absolute"}}),{pageContainer:{top:0,hidden:!0,position:"absolute",backgroundColor:"#ffffff"},pageImgContainer:{position:"absolute",overflow:"hidden",backgroundColor:"#000000"},pageImgBox:{flexDirection:"row",justifyContent:"center",position:"absolute",backgroundColor:"#000000"},pageImg0:{flex:1,order:0},pageImg1:{flex:1,order:1},pageImg2:{flex:1,order:2},pageImgTips:{flexDirection:"row",justifyContent:"center",height:10,width:35},pageImgIcon0:{height:7,width:7,borderRadius:16,backgroundColor:"#ffffff"},pageImgIcon1:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageImgIcon2:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},pageInfoWrapper:{flexDirection:"column",alignItems:"center",height:242},pageAppIcon:{borderRadius:8,width:64,height:64},pageAppName:{marginTop:20,width:180,textAlign:"center",height:28,lineHeight:28,fontSize:20,color:"#000000"},pageAppWording:{marginTop:4,marginBottom:20,width:220,height:28,textAlign:"center",lineHeight:28,color:"#888888",fontSize:17},pageAppConversion:{hidden:!0,width:220,height:24,textAlign:"center",lineHeight:24,color:"#000000",opacity:.3,fontSize:14},pageButton:{marginTop:14,width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4},pageDownloadButton:{marginTop:14,width:166,height:42,hidden:!0},pageDownloadButtonText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#ffffff"},pageDownloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},pageDownloadProgressText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#04be02"}}),{defaultPageContainer:{hidden:!0,top:0,position:"absolute",backgroundColor:"#000000"},defaultPageBackgroundContainer:{position:"absolute"},defaultPageBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.6},defaultPageBackgroundImage:{position:"absolute",left:0,top:0},defaultPageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},defaultPageAppIcon:{borderRadius:8,width:64,height:64,left:0},defaultPageAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1},defaultPageAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineBreak:"ellipsis",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:17},defaultPageAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},defaultPageButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4}}),{topBar:{zIndex:1000003,position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:0,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10}},barLeft:{flexWrap:"nowrap"},count:{marginLeft:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderWidth:.5,justifyContent:"center",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:33.5,height:32,lineHeight:32,fontSize:14},countDownAppend:{height:32,lineHeight:32,fontSize:14},barRight:{marginRight:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderWidth:.5,flexDirection:"row",alignItems:"center"},close:{width:29,height:32,lineHeight:32,fontSize:14},splitLine:{width:1,height:18.5,marginLeft:8,marginRight:8},sound:{width:20,height:20},adFeedback:{hidden:!0,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:12,height:12,marginLeft:2},rectangleLight:{width:12,height:12,marginLeft:2},splitLineLeft:{width:1,height:18.5,marginLeft:10,marginRight:10},adFeedbackList:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}}),{expandCardContainer:{hidden:!0,top:0,position:"absolute",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0)"},expandCardInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},expandCardAppIcon:{borderRadius:8,width:64,height:64,left:0},expandCardAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1},expandCardAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineHeight:28,opacity:.8,color:"#ffffff",lineBreak:"ellipsis",fontSize:17},expandCardAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},expandCardButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4}}),{dynamicContainer:{hidden:!0,position:"absolute",top:0,left:0}}),{pendantContainer:{hidden:!0,position:"absolute"}}),HQ=O()({},{count:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},countDown:{color:"#000000"},countDownAppend:{color:"#000000"},barRight:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},close:{color:"#000000"},splitLine:{backgroundColor:"rgba(0, 0, 0, 0.25)"},adText:{color:"#000000"},rectangle:{hidden:!0},rectangleLight:{hidden:!1},splitLineLeft:{backgroundColor:"rgba(0, 0, 0, 0.25)"}}),QQ=O()({},{count:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},countDown:{color:"#ffffff"},countDownAppend:{color:"#ffffff"},barRight:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},close:{color:"#ffffff"},splitLine:{backgroundColor:"rgba(255, 255, 255, 0.25)"},adText:{color:"#ffffff"},rectangle:{hidden:!1},rectangleLight:{hidden:!0},splitLineLeft:{backgroundColor:"rgba(255, 255, 255, 0.25)"}}),$Q=[{op:"insert",id:"innerPendant",parent:"pendantContainer",tpl:{type:"image",id:"innerPendantImage",style:{width:80,height:60},options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wxgame_video_card.pendant_img"},events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",expr:"$scope.private.pendantContainer.style.hidden == $const.true",value:{list:[{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth < $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#sub($const.systemInfo.screenWidth, 92)",bottomExpr:"#rewardedVideoIsExpandStyle() ? #add(12, #multi(1032, #division($const.systemInfo.screenWidth, 960))) : 150"}},{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#rewardedVideoIsExpandStyle() ? #sub(#sub(#division($const.systemInfo.screenWidth, 2), #division($const.systemInfo.screenHeight, 6)), 92)  : #sub($const.systemInfo.screenWidth, 92)",bottom:20}}]}}],tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{id:924,key:172,extInfo:"pendant-click"}}]}}}}],zQ=!1,YQ=null;le.onReady((()=>{setTimeout((()=>{Kr({apiName:"webapi_getadcardbalance",success({data:e}){zQ=!e.errCode}})}),3e3)}));var ZQ=new mc("touch",!0),qQ=new mc("touch",!0),JQ={};Foundation.env.isGame&&["start","move","end","cancel"].forEach((e=>{if("start"===e){Bs.Z.EventHandler[`ontouch${e}`]=t=>{rc.emit("beforeTouchStart",t),rc.emit("setLastTapTime",Date.now()),Mr("tap"),ZQ.emit(e,t),qQ.emit(e,t)}}else if("end"===e){Bs.Z.EventHandler[`ontouch${e}`]=t=>{rc.emit("beforeTouchEnd"),ZQ.emit(e,t),qQ.emit(e,t),rc.emit("afterTouchEnd")}}else Bs.Z.EventHandler[`ontouch${e}`]=t=>{ZQ.emit(e,t),qQ.emit(e,t)};JQ[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=(t,r)=>{T(r)&&(Bs.Z.EventHandler[`ontouch${e}Dst`]=r),ZQ.on(e,t)},JQ[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{ZQ.off(e,t)}}));var XQ=JQ,KQ=lw["incentive-video"],e$=e=>VG(e),{root:t$}=Ey()('\n  <view id="container">\n    <video id="video" controls="false" muted="true" autoplay="false" object-fit="contain" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad" player-hint="supportSoftDecode,mp4Only" auto-pause-if-navigate="true" auto-pause-if-open-native="true">\n      <view id="blank"></view>\n      <view id="page-card-body">\n        <view id="page-card-hot-area">\n          <image id="page-card-tip-icon"></image>\n          <text id="page-card-tip" value="了解更多"></text>\n        </view>\n        <image id="page-card-container" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=a5af9b5364f6e959667331801f6558e8&filekey=3033020101041f301d02016d040253480410a5af9b5364f6e959667331801f6558e80202423f040d00000004627466730000000131&hy=SH&storeid=32303138313031363036343533343030306464383764313336666664393336663561333230613030303030303664&bizid=1023">\n          <view id="page-card" click-state="true">\n            <image id="page-card-app-icon" bubble-event="true"></image>\n            <view id="page-card-app-information" bubble-event="true">\n              <text id="page-card-app-name" bubble-event="true"></text>\n              <text id="page-card-app-wording" bubble-event="true"></text>\n            </view>\n            <text id="page-card-button" click-state="true"></text>\n          </view>\n          <view id="page-card-split-line"></view>\n          <view id="page-card-img-container">\n            <view id="page-card-img-box" click-state="true">\n              <image id="page-card-img0" bubble-event="true"></image>\n              <image id="page-card-img1" bubble-event="true"></image>\n              <image id="page-card-img2" bubble-event="true"></image>\n              <image id="page-card-img3" bubble-event="true"></image>\n            </view>\n          </view>\n        </image>\n      </view>\n    </video>\n    \n  <view id="dynamic-container"></view>\n\n    <view id="card-container">\n      \n  <view id="playable-tips-wrap">\n    <text id="playable-tips-content" value="视频结束后可试玩"></text>\n    <text id="playable-give-up" value="放弃"></text>\n    <view id="playable-cancel-box" click-state="true"></view>\n  </view>\n\n      <view id="card" click-state="true">\n        <image id="app-icon" bubble-event="true"></image>\n        <view id="app-information" bubble-event="true">\n          <text id="app-name" bubble-event="true"></text>\n          <text id="app-wording" bubble-event="true"></text>\n        </view>\n        <text id="button" click-state="true"></text>\n        <view id="download-button" click-state="true">\n          <text id="download-button-text" bubble-event="true"></text>\n          <text id="download-progress" bubble-event="true">\n            <text id="download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n    \n  <view id="expand-card-container">\n    <view id="expand-card-info-container">\n      <view id="expand-card-wording-wrapper">\n        <view id="expand-card-headline" bubble-event="true">\n          <image id="expand-card-app-icon" bubble-event="true"></image>\n          <text id="expand-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="expand-card-app-wording" bubble-event="true"></text>\n      </view>\n      <text id="expand-card-app-conversion"></text>\n      <text id="expand-card-button" click-state="true"></text>\n    </view>\n  </view>\n\n    \n  <view id="pendant-container"></view>\n\n    \n  <view id="default-page-container">\n    <view id="default-page-background-container">\n      <image id="default-page-background-image"></image>\n      <view id="default-page-background-mask"></view>\n    </view>\n    <view id="default-page-info-container">\n      <view id="default-page-wording-wrapper">\n        <view id="default-page-headline" bubble-event="true">\n          <image id="default-page-app-icon" bubble-event="true"></image>\n          <text id="default-page-app-name" bubble-event="true"></text>\n        </view>\n        <text id="default-page-app-wording" bubble-event="true"></text>\n      </view>\n      <text id="default-page-app-conversion"></text>\n      <text id="default-page-button" click-state="true"></text>\n    </view>\n  </view>\n\n    \n  <view id="page-container">\n    <view id="page-img-container">\n      <view id="page-img-box">\n        <image id="page-img0" bubble-event="true"></image>\n        <image id="page-img1" bubble-event="true"></image>\n        <image id="page-img2" bubble-event="true"></image>\n      </view>\n      <view id="page-img-tips">\n        <view id="page-img-icon0"></view>\n        <view id="page-img-icon1"></view>\n        <view id="page-img-icon2"></view>\n      </view>\n    </view>\n    <view id="page-info-container">\n      <view id="page-info-wrapper">\n        <image id="page-app-icon"></image>\n        <text id="page-app-name"></text>\n        <text id="page-app-wording"></text>\n        <text id="page-app-conversion"></text>\n        <text id="page-button" click-state="true"></text>\n        <view id="page-download-button" click-state="true">\n          <text id="page-download-button-text" bubble-event="true"></text>\n          <text id="page-download-progress" bubble-event="true">\n            <text id="page-download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n  </view>\n\n    <view id="page-handler"></view>\n    <view id="page-mask"></view>\n    \n  <view id="top-bar">\n    <view id="bar-left">\n      <view id="count">\n        <view id="ad-feedback">\n          <text id="ad-text" value="广告" bubble-event="true"></text>\n          <image id="rectangle" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-white.png" bubble-event="true"></image>\n          <image id="rectangle-light" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-black.png" bubble-event="true"></image>\n          <view id="split-line-left" bubble-event="true"></view>\n        </view>\n        <text id="count-down"></text>\n        <text id="count-down-append"></text>\n      </view>\n    </view>\n    <view id="bar-right">\n      <image id="sound"></image>\n      <view id="split-line"></view>\n      <text id="close" value="关闭"></text>\n    </view>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n\n    <view id="dialog-close-tip">\n      <view id="ad-close-tip-wrap">\n        <text id="ad-close-tip-content" bubble-event="true" value="感谢你的反馈"></text>\n      </view>\n    </view>\n    <view id="dialog-container">\n      <view id="dialog-mask"></view>\n      <view id="dialog">\n        <text id="dialog-title"></text>\n        <view id="dialog-split"></view>\n        <view id="dialog-button">\n          <text id="dialog-close" value="放弃"></text>\n          <view id="button-split"></view>\n          <text id="dialog-cancel" value="继续"></text>\n        </view>\n      </view>\n    </view>\n  </view>\n'),r$="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",n$="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",i$="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJAic1IGjzG9g458d7DpIe8URUq74t0dicbwKKc69rPBf8hiby1llOBTndbKUq2NTA9YaA/0?wx_fmt=png",a$=1e3,o$=2e3,s$=!1,l$="portrait",c$=0,u$=0,d$=0,p$=0,h$=0,f$=0,g$={};le.onReady((()=>{g$=le.safeArea||{};try{le.global.window.pageOrientation&&(l$=le.global.window.pageOrientation)}catch(e){}OE.isIOS?s$=!0===le.showStatusBar:OE.isAndroid&&(s$=!0===le.showStatusBar||"true"===le.showStatusBar),OE.isWaGame&&(XQ.onTouchStart((e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(c$=Math.round(e.changedTouches[0].clientX),u$=Math.round(e.changedTouches[0].clientY),d$=0,p$=0,f$=0,h$=+new Date)})),XQ.onTouchEnd((e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(d$=Math.round(e.changedTouches[0].clientX),p$=Math.round(e.changedTouches[0].clientY),f$=+new Date-h$)})))}));var v$=(e,t)=>{var r=e.touchendTimeStamp-e.touchstartTimeStamp;e.touchendTimeStamp>0&&e.touchstartTimeStamp>0&&r>=0&&hk(17035,{aid:t.aid,traceid:t.traceid,touch_start_x:Math.round(e.touchstartPosX),touch_start_y:Math.round(e.touchstartPosY),touch_end_x:Math.round(e.touchendPosX),touch_end_y:Math.round(e.touchendPosY),touch_duration:r,screenwidth:OE.screenWidth,screenheight:OE.screenHeight,device_orientation:OE.deviceOrientation})},m$=function(){var e=e$(this);try{if(OE.isIOS&&OE.isApp&&e.adProxy.isValidCondition("widget_gray_measure_text")){var t;it("measureText",{text:e.button.value,fontSize:16,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){t={width:e.width||0}}}),!1===e.button.style.hidden&&(e.button.style.width=t.width+24),e.data.flooringPage&&2===e.pageType&&(it("measureText",{text:e.button.value,fontSize:e.pageCardButton.style.fontSize||14,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){t={width:e.width||0}}}),e.pageCardButton.style.width=t.width+24)}else{var r=rA.getTextWidthInAndroid(e.button.value,e.button.style.fontSize||16)+24;!1===e.button.style.hidden&&(e.button.style.width=r),!1===e.downloadButton.style.hidden&&(r=rA.getTextWidthInAndroid(e.downloadButtonText.value,e.downloadButtonText.style.fontSize||13)+24,e.downloadButton.style.width=r+2,e.downloadButtonText.style.width=r,e.downloadProgressText.style.width=r),e.data.flooringPage&&2===e.pageType&&(r=rA.getTextWidthInAndroid(e.button.value,e.pageCardButton.style.fontSize||14)+24,e.pageCardButton.style.width=r)}}catch(e){}},_$="video-ad has been destroyed",y$=function(){var e=e$(this);return e.playableTipsWrap.animate({left:-144,duration:200}).then((()=>{var t="即将跳转试玩";t=OE.isIOS?`${t} `:t;var r=wb({text:t,fontSize:12})||72,n=wb({text:"放弃",fontSize:12})||24;return e.playableTipsContent.style.width=r,e.playableGiveUp.style.width=n,e.playableTipsWrap.style.width=r+n+32,e.playableTipsContent.value=t,e.playableGiveUp.value="放弃",e.playableGiveUp.style.hidden=!1,e.playableCancelBox.style.left=r+12,e.playableCancelBox.style.hidden=!1,e.playableCancelBox.style.width=n+20,Ca(300).then((()=>e.playableTipsWrap.animate({left:0,duration:200})))}))},A$=function(e){if(!Tz.call(this)){var t=e$(this);if("object"==typeof e&&e.length>0)for(var r of e)t[r]&&(t[r].style.width=OE.screenWidth,t[r].style.height=OE.screenHeight)}},b$=function(){if(Tz.call(this))return Promise.reject({errMsg:_$});var e=e$(this);return E$.call(this,"hide").then((()=>{OE.isWaGame||(e.adProxy.setPageOrientation(OE.deviceOrientation),OE.isAndroid&&(e.updateScreenInfoTimer&&(clearTimeout(e.updateScreenInfoTimer),e.updateScreenInfoTimer=null),e.updateScreenInfoTimer=setTimeout((()=>{var{screenWidth:t,screenHeight:r}=OE;NE();var n=!1,i=0;OE.screenHeight===r&&OE.screenWidth===t||(n=!0,i=OE.screenHeight-r),i&&(e.cardContainer.style.top+=i);var a=["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask"];kz.call(this)&&a.push("video"),A$.call(this,a),n&&kz.call(this)&&(T$.call(this,!0),Bz.call(this),jz.call(this))}),1e3)))}))},w$=function(){if(Tz.call(this))return Promise.reject({errMsg:_$});var e=e$(this);return E$.call(this,"show").then((()=>{OE.isWaGame||e.adProxy.setPageOrientation(l$)})).catch((t=>{throw e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR,t),t}))},E$=function(e){var t=e$(this);return Rz.call(this)?Promise.resolve():t.adProxy.operateFullscreen(e)},C$=function(e,t=!0){if(Tz.call(this))return!1;var r=e$(this).adProxy.isTriggerClick(e),n=r?0:1;return t&&oz.call(this,e,n),r},I$=function(){if(!Tz.call(this)){var e=e$(this),{product_type:t,button_action:r,card:{icon:n,name:i,wording:a,showTime:o,headBgImg:s,mpTagType:l},app:c,flooringPage:u}=e.data,d=Oz.call(this);e.cardShowTime=o,e.appIcon.src=n,e.appName.value=Ia(i,20),e.appWording.value=a,e.appIcon.style.borderRadius=10,-1===[12,19].indexOf(t)&&("portrait"===OE.deviceOrientation?e.appIcon.style.borderRadius=27:"landscape"===OE.deviceOrientation&&(e.appIcon.style.borderRadius=22)),e.button.value=r.button_text,r.button_text||(12===t?e.button.value="下载":19===t&&(e.button.value="查看")),23===t&&e.adProxy.checkFollow(e.data.app.uin).then((t=>{Tz.call(this)&&e.adProxy.reportAdMonitorData(Nb.CHECK_FLOW_ERROR);var n=t?"查看公众号":r.button_text||"关注公众号";e.button.value=n,m$.call(this),e.data.flooringPage&&1===e.pageType&&0===e.buttonTextType?e.pageButton.value=n:e.data.flooringPage&&2===e.pageType&&0===e.buttonTextType?e.pageCardButton.value=n:e.pageType||(e.defaultPageButton.value=n),e.expandCardButton.value=n,rz.call(this,ob.CHANGEADBTNTEXT,{text:n})})).catch((()=>{var t=c.isFollowed?"查看公众号":r.button_text||"关注公众号";e.button.value=t,m$.call(this),rz.call(this,ob.CHANGEADBTNTEXT,{text:t})})),1===e.buttonTextType&&(e.button.value=r.button_text,rz.call(this,ob.CHANGEADBTNTEXT,{text:r.button_text})),m$.call(this),e.pageType=null!=u&&u.landpage_type?u.landpage_type:0,H$.call(this),d&&(e.expandCardAppIcon.bubbleEvent=!1),e.expandCardAppIcon.src=n,e.expandCardAppName.value=Ia(i,20),e.expandCardAppWording.value=a,e.expandCardButton.value=e.button.value;var{screenWidth:p,screenHeight:h}=OE,f=e.expandCardInfoContainer.style;if("portrait"===OE.deviceOrientation?(f.width=p,f.justifyContent="flex-start",f.paddingLeft=0,f.paddingTop=48,f.height=400/375*p,f.bottom=0,f.position="absolute"):(f.justifyContent="center",f.paddingLeft=.672*h,f.width=f.paddingLeft+300,f.paddingTop=0,f.height=h,f.bottom=null,f.position=null),!d){var g=rA.getTextWidth(Ia(i,20),17);for(var v of(e.expandCardAppIcon.style.left=134-g/2,Object.keys(jQ))){var m=jQ[v];e[v]&&Object.assign(e[v].style,m)}}if(e.expandCardAppIcon.style.borderRadius=d?8:3,-1===[hw.OPEN_PLATFORM_APP_MOB,hw.APPLE_APP_STORE].indexOf(t)&&(e.expandCardAppIcon.style.borderRadius=d?32:12),u&&1===e.pageType&&"portrait"===OE.deviceOrientation)e.pageAppIcon.src=n,e.pageAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageAppName.value=Ia(i,20),e.pageAppWording.value=a,e.pageButton.value=e.button.value,e.imgBaseName="pageImg",e.pageImgContainer.style.width=p,e.pageImgContainer.style.height=p,e.pageImgBox.style.width=3*p,e.pageImgBox.style.height=p,e.pageImgBox.style.left=0,e.pageInfoContainer.style.width=p,e.pageInfoContainer.style.height=h-p,e.pageInfoContainer.style.top=p,e.pageImgTips.style.top=p-20,e.pageImgTips.style.left=p/2-17.5,OE.isIOS&&(e.pageImgIcon0.style.borderRadius=4,e.pageImgIcon1.style.borderRadius=4,e.pageImgIcon2.style.borderRadius=4),e.pageImgIcon0.style.backgroundColor="#ffffff",e.pageImgIcon1.style.backgroundColor="rgba(255, 255, 255, 0.55)",e.pageImgIcon2.style.backgroundColor="rgba(255, 255, 255, 0.55)",j$.call(this),T$.call(this);else if(u&&2===e.pageType&&"portrait"===OE.deviceOrientation)e.pageCardContainer.style.width=p,e.pageCardAppIcon.src=n,e.pageCardAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageCardAppName.value=Ia(i,20),e.pageCardAppWording.value=a,e.pageCardButton.value=e.button.value,e.pageCard.style.width=p,e.pageCardSplitLine.style.width=p-20,e.pageCardHotArea.style.width=p,e.pageCardImgContainer.style.width=p-20,e.pageCardImgBox.style.width=U$.call(this,{padding:10}),e.pageCardTipIcon.src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=f8ba19ac709edca00138c47585de39be&filekey=3033020101041f301d02016d040253480410f8ba19ac709edca00138c47585de39be020202d1040d00000004627466730000000131&hy=SH&storeid=32303138313031303133353430323030303461363337313336666664393336663561333230613030303030303664&bizid=1023",e.video.style.padding=0,e.video.style.paddingBottom=0,e.imgBaseName="pageCardImg",j$.call(this),T$.call(this),e.pageHandler.style.hidden=!1;else if(u&&[3,4].indexOf(e.pageType)>-1){var _="视频结束后可试玩";_=OE.isIOS?`${_} `:_;var y=wb({text:_,fontSize:12})||100;e.playableTipsContent.style.width=y,e.playableTipsWrap.style.width=y+24,e.cardContainer.style.top-=32}else if(!e.pageType){if(d&&(e.defaultPageAppIcon.bubbleEvent=!1),e.defaultPageAppIcon.src=n,e.defaultPageAppName.value=Ia(i,20),e.defaultPageAppWording.value=a,e.defaultPageButton.value=e.button.value,!d){var A=rA.getTextWidth(Ia(i,20),17);for(var b of(e.defaultPageAppIcon.style.left=134-A/2,Object.keys(VQ))){var w=VQ[b];e[b]&&Object.assign(e[b].style,w)}}e.defaultPageAppIcon.style.borderRadius=d?8:3,-1===[hw.OPEN_PLATFORM_APP_MOB,hw.APPLE_APP_STORE].indexOf(t)&&(e.defaultPageAppIcon.style.borderRadius=d?32:12),e.defaultPageBackgroundImage.src=s||"",Bz.call(this)}if(8===l){var E=+new Date;Iw({buttonText:e.button.value,aid:e.adProxy.data.aid}).then((t=>{var r=+new Date;if(e.adProxy.reportRelationFetchDuration({startTime:E,endTime:r,showTime:e.showDetailTime||0}),t){var{count:n,descText:i}=t,a=`- 最近已有${n}人${i} -`;e.pageType?1===e.pageType&&(e.pageAppConversion.value=a,e.pageAppConversion.style.hidden=!1):(e.defaultPageAppConversion.value=a,e.defaultPageAppConversion.style.hidden=!1),e.expandCardAppConversion.value=a,e.expandCardAppConversion.style.hidden=!1}else e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.value="",e.defaultPageAppConversion.style.hidden=!0,e.expandCardAppConversion.style.hidden=!0})).catch((t=>{e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.style.hidden=!0,e.defaultPageAppConversion.value="",e.expandCardAppConversion.style.hidden=!0,e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_RELATION_FETCH_ERROR,t)}))}else e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.style.hidden=!0,e.defaultPageAppConversion.value="",e.expandCardAppConversion.style.hidden=!0;e.androidAppState=0,e.button.style.hidden=!1,e.pageButton.style.hidden=!1,e.defaultPageButton.style.hidden=!1,e.expandCardButton.style.hidden=!1,e.downloadButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!0,12===t&&e.adProxy.isValidCondition("widget_gray_video_download_v2")&&(e.button.style.hidden=!0,e.downloadButton.style.hidden=!1,e.downloadButtonText.value=r.button_text,e.downloadProgressText.value=r.button_text,m$.call(this),1===e.pageType&&(e.pageButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!1,e.pageDownloadButtonText.value=r.button_text,e.pageDownloadProgressText.value=r.button_text))}},S$=function(e={}){if(Tz.call(this))return!1;var t=e$(this);if(t.direction)return t.direction===e.direction;if(1===t.pageType||!t.pageType)return!!t.flooringPageIsShow;if(2===t.pageType){if("left"===e.direction){var{y:r}=e,n=t.flooringPageIsShow?t.video.style.height-180:0,i=t.flooringPageIsShow?t.video.style.height:0;return!!(r>n&&r<i)}if("top"===e.direction){var{y:a}=e,o=t.flooringPageIsShow?t.video.style.height-180:t.video.style.height;return!!(a>0&&a<o)}}return!1},T$=function(e=!1){if(!Tz.call(this)){var t,{screenWidth:r,screenHeight:n}=OE,i=e$(this),a="",o="",s=0,l=0,c=0,u=0,d=(n-i.video.style.height)/2;1===i.pageType?(i.pageHandler.style.width=r,i.pageHandler.style.height=r,a="pageImgBox",l=r/4,s=3*r/4-i.pageImgBox.style.width,t={xRevise:!0,decideByDirection:!0,setImgTips:!0,posQueue:[0,-r,-2*r]}):2===i.pageType&&(i.pageHandler.style.width=r,i.pageHandler.style.height=i.video.style.height,i.pageHandler.style.top=(n-i.video.style.height)/2,(n!==i.video.style.height||e)&&(i.pageMask.style.hidden=!1,i.pageMask.style.width=r,i.pageMask.style.height=(n-i.video.style.height)/2,i.pageMask.style.top=(n+i.video.style.height)/2),a="pageCardImgBox",o="pageCardBody",s=r-(l=60)-i.pageCardImgBox.style.width,c=i.video.style.height-i.pageCardBody.style.height+10,!OE.isWaGame&&OE.isAndroid&&(c=i.video.style.height-i.pageCardBody.style.height+d+10),u=c+180,i.pageCardBody.style.top=u,t={yRevise:!0,directionMap:{up:c,down:u},logPagePull:!0,showTips:!0,xInertia:!0,handleTail:!0,xHead:0,xTail:r-i.pageCardImgBox.style.width-20,touchClick:!0,imgBoxHeight:180,cardHeight:60,buttonWidth:60,buttonHeight:30}),i.flooringPageInfos={xMin:s,xMax:l,yMin:c,yMax:u,xContainer:a,yContainer:o,infos:t}}},x$=function(e={}){if(!Tz.call(this)){var t=e$(this),r=!0===t.flooringPageIsShow?e.max:e.min;return t.pageCardBody.animate({top:r,duration:50}).then((()=>Y$.call(this,e))).then((()=>D$.call(this)))}},P$=function(e={}){if(!Tz.call(this)){var t=e$(this),r=e.event?e.event:{};if(R$.call(this,r))if(t.flooringPageIsShow){var n=t.pageCard.getAbsolutePosition(),i=n.top,a=n.top+e.cardHeight,o=t.pageCardImgContainer.getAbsolutePosition().top;if(r.y>i&&r.y<a){var s=t.pageCardButton.getAbsolutePosition(),l=s.top,c=s.top+e.buttonHeight,u=s.left,d=s.left+e.buttonWidth;r.y>l&&r.y<c&&r.x>u&&r.x<d?O$.call(this,r,"button",rE.REWARD_PAGE_BUTTON):O$.call(this,r,"card",rE.REWARD_PAGE_CARD)}else r.y>=o&&r.y<=t.video.style.height?O$.call(this,r,"img",rE.REWARD_PAGE_IMAGE):x$.call(this,e)}else{var p=t.pageCard.getAbsolutePosition(),h=p.top,f=p.top+e.cardHeight,g=t.pageCardButton.getAbsolutePosition(),v=g.top,m=g.top+e.buttonHeight,_=g.left,y=g.left+e.buttonWidth;r.y>h&&r.y<f?r.y>v&&r.y<m&&r.x>_&&r.x<y?O$.call(this,r,"button",rE.REWARD_PAGE_BUTTON):O$.call(this,r,"card",rE.REWARD_PAGE_CARD):x$.call(this,e)}}},k$=function(e={}){if(!Tz.call(this)){var t=e$(this),r=e.imgBox?e.imgBox:"",n=e.xMin?e.xMin:0,i=e.xMax?e.xMax:0,a=e.xHead?e.xHead:0,o=e.xTail?e.xTail:0;return t[r].nextLayout((()=>{var e=t[r].style.left,s=e;if(e>a&&e<=i?s=a:e>=n&&e<o&&(s=o),s!==e)return t[r].animate({left:s,duration:50})}))}},D$=function(){if(!Tz.call(this)){var e=e$(this);e.flooringPageIsShow?(e.pageCardTipIcon.style.hidden=!0,e.pageCardTip.style.hidden=!0):(e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.pageCardTipIcon.style.hidden=!1,e.pageCardTip.style.hidden=!1)}},R$=function(e){if(!Tz.call(this)){var t=e$(this);return!!(Math.abs(e.x-t.startPosX)<30&&Math.abs(e.y-t.startPosY)<30)}},O$=function(e,t="",r){Tz.call(this)||R$.call(this,e)&&M$.call(this,e,t,r)},M$=function(e,t="",r){if(!Tz.call(this)){var n=e$(this);if([1,2].includes(n.pageType)&&$$.call(this,e,t),OE.isAndroid&&12===n.data.product_type&&1===n.pageType&&n.adProxy.isValidCondition("widget_gray_video_download_v2"))bz.call(this);else if(OE.isIOS&&46===n.data.product_type&&6===n.data.dest_type)Promise.race([sz.call(this,e,r),Ca(500)]).then((()=>{cz.call(this,{button:5},e),_z.call(this)})).catch((()=>{cz.call(this,{button:5},e),_z.call(this)}));else{sz.call(this,e,r),cz.call(this,{button:5},e);var i={},{extBackComm:a}=n.data;(23===n.data.product_type||a.is_from_snsadinfo)&&(i["button"===t?"isButton":"toOfficalAccountDetail"]=!0),_z.call(this,i)}}},L$=function(e={}){if(!Tz.call(this)){var t=e$(this),r=e.container?e.container:"",n=e.event?e.event:{},i=t[r].getAbsolutePosition();return{x:i.left+n.x,y:i.top+n.y}}},N$=function(e=!1,t={}){if(!Tz.call(this)){var r=e$(this);r.isPress=e,r.startPosX=null!=t&&t.x?t.x:0,r.startPosY=null!=t&&t.y?t.y:0,r.lastPosX=null!=t&&t.x?t.x:0,r.lastPosY=null!=t&&t.y?t.y:0,r.lastSecondPosX=null!=t&&t.x?t.x:0,r.lastSecondPosY=null!=t&&t.y?t.y:0,r.direction="",r.startTime=e?+new Date:0,e&&r.throttleTimer&&clearTimeout(r.throttleTimer),r.throttleTimer=null,r.timeStamp=0,r.callCount=0,r.distanceList=[]}},B$=function(){if(!Tz.call(this))for(var e=e$(this),t=e.imgBaseName,r=0;r<3;r++){var n=e[t+r].getAbsolutePosition();e[`pageImgIcon${r}`].style.backgroundColor=0===n.left?"#ffffff":"rgba(255, 255, 255, 0.55)"}},W$=function(e={}){if(!Tz.call(this)){var t=e$(this),r=e.event?e.event:{},n=e.direction?e.direction:"left",i="top"===n?r.y-t.lastPosY:r.x-t.lastPosX;OE.isAndroid&&(i="top"===n?r.y-t.lastSecondPosY:r.x-t.lastSecondPosX);var a=e.critical?e.critical:0;return"top"===n?i<0&&Math.abs(i)>=a?"up":"down":i<0&&Math.abs(i)>=a?"right":"left"}},F$=function(e={}){if(Tz.call(this))return Promise.reject({errMsg:_$});var t=e$(this),r=e.direction?e.direction:"left",n=e.imgBox?e.imgBox:"",i="top"===r?e.event.y:e.event.x,a=W$.call(this,e),o=e.directionMap?e.directionMap:{},s=e.posQueue?e.posQueue:[],l=null;if(Object.keys(o).length>0)l=o[a]?o[a]:0;else{i=t[n].style[r],s.sort(((e,t)=>e-t));for(var c=0,u=s.length-1;c<u;){var d=Math.floor((c+u)/2),p=u-c,h=s[d];if(i===h){l=h;break}if(i>h?c=d:u=d,p<=1)break}if(!l)if(e.decideByDirection)l=s[a]||("right"===a?s[c]:s[u]);else{var f=s[u],g=s[c];l=Math.abs(i-f)>=Math.abs(i-g)?g:f}}return Promise.resolve().then((()=>{t[n].style[r]=l})).then((()=>{if(e.logPagePull)return Y$.call(this,e);N$.call(this)})).then((()=>{if(e.showTips)return D$.call(this)})).then((()=>{if(e.setImgTips)return t[n].nextLayout((()=>{B$.call(this)}))}))},U$=function(e={}){if(!Tz.call(this)){var t=e$(this);if(e&&"object"==typeof e&&t.data.flooringPage){var r=e.padding?e.padding:0,{pageType:n}=t,i=t.data.flooringPage.img_list?t.data.flooringPage.img_list:[];i="string"==typeof i?JSON.parse(i):i;var a=0;return i.forEach(((e,t)=>{var{width:i}=V$.call(this,{pageType:n,width:e.width,height:e.height});a+=0===t?i:r+i})),a}}},V$=function(e){if(!Tz.call(this)){var t={},{screenWidth:r}=OE;if(!e||"object"!=typeof e)return t;var{pageType:n,width:i,height:a}=e;return 1!==n&&n?2===n&&i===a?(t.scale=150/i,t.width=150,t.height=150):2===n&&i!==a&&(t.scale=150/a,t.width=150*i/a,t.height=150):(t.scale=r/i,t.width=r,t.height=r),t}},j$=function(){if(!Tz.call(this)){var e=e$(this);if(e.data.flooringPage){var{pageType:t}=e,r=e.data.flooringPage.img_list?e.data.flooringPage.img_list:[];r="string"==typeof r?JSON.parse(r):r;var n=e.imgBaseName?e.imgBaseName:"";r.forEach(((r,i)=>{var a=n+i,{width:o,height:s,scale:l}=V$.call(this,{pageType:t,width:r.width,height:r.height});e[a].scale=l,e[a].style.width=o,e[a].style.height=s,e[a].src=r.image_url}))}}},G$=function(){if(Tz.call(this))return Promise.resolve();var e=e$(this);nz.call(this,ab.REWARDEDVIDEOSHOWFLOORINGPAGE);var{yMin:t,yMax:r}=e.flooringPageInfos;return 2===e.pageType&&!e.flooringPageIsShow&&e.data.flooringPage?e.pageCardBody.animate({top:t,duration:50}).then((()=>(e.flooringPageAutoShow=!0,Y$.call(this,{min:t,max:r})))).then((()=>D$.call(this))):1===e.pageType&&e.data.flooringPage?e.pageContainer.animate({left:0,duration:300}).then((()=>Y$.call(this))):e.pageType?Promise.resolve():(e.cardContainer.animate({opacity:0,duration:280}),e.defaultPageContainer.animate({opacity:1,duration:280}).then((()=>Y$.call(this))))},H$=function(){if(!Tz.call(this)){var e=e$(this);if([1,2].includes(e.pageType)){e.flooringPageState.pageType=e.pageType,e.flooringPageState.card={click:0},e.flooringPageState.button={click:0};for(var t=0;t<=3&&(3!==t||2===e.pageType);t++)e.flooringPageState[`img${t}`]={exposure:0,click:0}}}},Q$=function(){if(!Tz.call(this)){var e=e$(this);if(OE.isIOS){for(var t=0;t<3;t++)e[`pageImg${t}`].src=i$,e[`pageCardImg${t}`].src=i$;e.pageCardImg3.src=i$,e.pageAppIcon.src=i$,e.pageCardAppIcon.src=i$,e.pageCardTipIcon.src=i$}}},$$=function(e={},t=""){if(!Tz.call(this)){var r=e$(this);if("img"===t)for(var n=r.imgBaseName,i=0;i<=3&&(3!==i||2===r.pageType);i++){var a=r[n+i].getAbsolutePosition(),{width:o}=r[n+i].style,{height:s}=r[n+i].style,l=a.left,c=a.left+o,u=a.top,d=a.top+s;e.x>=l&&e.x<=c&&e.y>=u&&e.y<=d&&(r.flooringPageState[`img${i}`].click+=1)}else["card","button"].includes(t)&&(r.flooringPageState[t].click+=1)}},z$=function(e=!1){if(!Tz.call(this)){var t=e$(this);if(e){if(t.pageType)for(var r=t.imgBaseName,n=0;n<=3&&(3!==n||2===t.pageType);n++){var i=t[r+n].getAbsolutePosition(),{width:a}=t[r+n].style,o=-a/2,s=OE.screenWidth-a/2;i.left>o&&i.left<s&&(t.flooringPageState[`img${n}`].exposure+=1)}}else t.exposureTimer&&(clearTimeout(t.exposureTimer),t.exposureTimer=null),t.exposureTimer=setTimeout((()=>z$.call(this,!0)),1e3)}},Y$=function(e={}){if(!Tz.call(this)){var t=e$(this);if(2===t.pageType){var r=e.min?e.min:0,n=e.max?e.max:0;t.pageCardBody.style.top!==r||t.flooringPageIsShow||t.flooringPageAutoShow?t.pageCardBody.style.top===n&&t.flooringPageIsShow?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,Z$.call(this,{type:2,staytime:0,componentsstartstr:""}),Z$.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageShowTime=0,t.flooringPageCloseTime=0,H$.call(this)):t.pageCardBody.style.top===r&&t.flooringPageAutoShow?(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,Z$.call(this,{type:4,staytime:0,componentsstartstr:""}),z$.call(this)):e.isClose&&t.flooringPageIsShow&&(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,Z$.call(this,{type:5,staytime:0,componentsstartstr:""}),Z$.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,H$.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,Z$.call(this,{type:1,staytime:0,componentsstartstr:""}),z$.call(this))}else 1===t.pageType?e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,Z$.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,H$.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,Z$.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),z$.call(this)):t.pageType||(e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,Z$.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,H$.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,Z$.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),z$.call(this)))}},Z$=function(e){if(!Tz.call(this)){var t=e$(this);1===t.pageType&&delete e.type;var r=[];return r.push(e),t.adProxy.reportFlooringPage(t.pageType,r)}},q$=function(){if(Tz.call(this))return Promise.reject({errMsg:_$});var e=e$(this),t={};return null!==e.adRequestType&&(t.requestType=e.adRequestType),e.adProxy.fetch(!1,{},t).then((t=>{try{e.adProxy.setTimePoint("p4");var r=Object.keys(e.emitter.emitter).includes("_events")?Object.keys(e.emitter.emitter._events):[];return"devtools"!==OE.platform||r.includes("_error")?(e.data=t,e.isData=!0,J$.call(this),e.adProxy.preloadLanding(),e.emitter.emit("load"),void e.adProxy.setTimePoint("p5")):void console.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。（无广告返回时，建议不设置激励视频入口）")}catch(t){throw e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_PARSE_ERROR,t),{}}}))},J$=function(){if(!Tz.call(this)){var e=e$(this),{data:t}=e,{deviceOrientation:r,screenWidth:n,screenHeight:i}=OE;if(e.container.style.left=0,pz.call(this,e.darkMode),OE.isIOS){var a="portrait"===r?g$.top?44:12:10,o="portrait"===r?g$.top?78:46:44;e.topBar.style.top=a,e.adFeedbackList.style.top=o,e.adFeedbackMenu.style.top=o}e.container.style.top=i,e.video.style.padding=8,e.video.style.paddingBottom=16;if(A$.call(this,["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask"]),n<i)e.cardContainer.style.width=n-16,e.cardContainer.style.top=i-130,e.cardContainer.style.left=8,e.topBar.style.left=0,e.topBar.style.width=n,e.card.style.height=90;else if(n>=i){var s=g$.top||0;e.cardContainer.style.width=348,e.cardContainer.style.top=i-104,e.cardContainer.style.left=s+18,e.topBar.style.width=n-2*s-16,e.topBar.style.left=s+8,e.card.style.height=72}if(s$&&(e.topBar.style.top=e.topBar.style.top+30,e.adFeedbackList.style.top=e.adFeedbackList.style.top+30,e.adFeedbackMenu.style.top=e.adFeedbackMenu.style.top+30),OE.isWaGame?e.container.style.fixed&&delete e.container.style.fixed:e.container.style.fixed=!0,e.dialog.style.top=i>138?(i-138)/2:0,e.dialog.style.left=n>300?(n-300)/2:0,e.dialogCloseTip.style.top=(i-36)/2,e.dialogCloseTip.style.left=(n-124)/2,Dz.call(this))e.cardContainer.style.hidden=!0,e.container.style.backgroundColor="rgba(0, 0, 0, 0)",e.topBar.style.hidden=!0,e.video.style.hidden=!0,e.video.src&&(e.video.src="https://wxa.wxs.qq.com/images/wxapp/empty.mp4");else{var l,c,u,d;e.container.style.backgroundColor="#000000";var{product_type:p}=t,{src:h,poster:f,duration:g}=Uz.call(this);e.cardContainer.style.hidden=Fz.call(this),e.expandCardContainer.style.hidden=!Fz.call(this),OE.isIOS&&e.video.src===h&&e.video.seek(0),OE.isIOS?(e.video.poster=f,Ca(500).then((()=>{e.video.src=h}))):(e.video.src=h,e.video.poster=f),e.adProxy.setTimePoint("p8"),e.buttonTextType=e.data.button_action.text_type||0,jz.call(this),OE.isAndroid&&(e.preloadVideo=!0,e.preloadVideoSuccess=!1,e.adProxy.preloadVideo([h]).catch((t=>{e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_PRELOAD_ERROR,t)})));var{rewardedTime:v}=e.data,m=Math.ceil((g>v?v:g)/1e3).toString();e.countDown.value=m,e.countDownAppend.value="秒后可获得奖励",e.countDown.style.width=2===m.length?19:12,e.countDownAppend.style.width=100,I$.call(this),e.adProxy.isValidCondition("widget_gray_close_v2")&&(e.adFeedback.style.hidden=!1,e.close.value="关闭",e.close.style.width=29),null!==(l=e.data)&&void 0!==l&&null!==(c=l.condition)&&void 0!==c&&c.widget_gray_rewarded_video_effect_guide&&(e.video.autoPauseIfOpenNative=!1,e.video.autoPauseIfNavigate=!1,e.isPlayBackgroundSupported=!0),12===p&&(e.adProxy.setAppInstallState(!1),Az.call(this));var _=[];(null===(u=e.data.crtInfo)||void 0===u||null===(d=u.wxgame_video_card)||void 0===d?void 0:d.pendant_img)&&(_=_.concat($Q));var{adDynamicList:y}=e.adProxy.data,A=null!=y&&y.length?_.concat(y):_;ez.call(this,A)}}},X$=function(e){var t=e$(this);return rH(e,{$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:O()({},OE),time:Date.now()},$scope:{private:t,safeArea:g$}},{"#rewardedVideoIsExpandStyle":()=>Fz.call(this),"#setDarkMode":e=>pz.call(this,e)})},K$=null,ez=function(e){var t=e$(this);null!=e&&e.length&&(t.dynamicElems||(t.dynamicElems={}),t.dynamicOldStyle||(t.dynamicOldStyle={}),t.dynamicEmitter||tz.call(this),e.forEach((e=>{var{op:r,expr:n}=e;if(!n||X$.call(this,n))if("insert"===r){var i,{id:a,parent:o,tpl:s,bubbleEvent:l}=e;if(null!==(i=t.dynamicElems)&&void 0!==i&&i[a]){var c,u,d;if(OE.screenWidth===K$)return;null===(c=(u=t.dynamicElems[a]).remove)||void 0===c||c.call(u),Zy(null===(d=t.dynamicElems[a])||void 0===d?void 0:d.referComponent)}var p=zy(oH,{manager:null,reporter:null,emitter:t.dynamicEmitter,adProxy:t.adProxy,template:s,systemInfo:O()({},OE),scope:{private:t,safeArea:g$},adData:t.adProxy.data,adDatas:t.adProxy.datas,adCustomId:dE,isEmpty:!1,innerFunctions:{"#rewardedVideoIsExpandStyle":()=>Fz.call(this),"#setDarkMode":e=>pz.call(this,e)}},!1);!1!==l&&p.updateBubbleEvent(),t.dynamicElems[a]=p.getRootElement(),t[o]&&t[o].add(t.dynamicElems[a])}else if("setStyle"===r){var{id:h,style:f}=e,g=t[h]||t.dynamicElems[h]||null;if(g){var v=!1;for(var m of(t.dynamicOldStyle&&!t.dynamicOldStyle[h]&&(v=!0,t.dynamicOldStyle[h]={}),Object.keys(f))){var _=m,y=f[m];if(m.includes("Expr")){var A=m.split("Expr");2===A.length&&([_]=A,y=X$.call(this,y))}v&&(t.dynamicOldStyle[h][_]=g.style[_]),g.style[_]=y}}}else if("animate"===r){var{id:b,options:w}=e,E=t[b]||t.dynamicElems[b]||null;E&&E.animate(w)}else if("setAttrs"===r){var{id:C,attrs:I}=e,S=t[C]||t.dynamicElems[C]||null;if(S)for(var T of Object.keys(I))S[T]=I[T]}})),K$=OE.screenWidth),nz.call(this,ab.REWARDEDVIDEOHANDLEDYNAMICDONE)},tz=function(){var e=e$(this);e.dynamicEmitter=new SH,e.dynamicEmitter.on("adCustomEvent",(t=>{var{action:r,adCustomId:n,value:i}=t;if(n===dE)if(r===ob.LANDAD){var a,o=null===(a=t.value)||void 0===a?void 0:a.event;if(!o)return void _z.call(this);if(!C$.call(this,o))return;M$.call(this,o,"",rE.REWARD_DYNAMIC_CONTENT)}else if(r===ob.BTNTAP){var s,l=null===(s=t.value)||void 0===s?void 0:s.event;if(!C$.call(this,l))return;M$.call(this,l,"button",rE.REWARD_DYNAMIC_BUTTON)}else if(r===ob.REPORTADMONITORDATA){var{id:c,key:u,extInfo:d}=i,p=c?{idKeyGroup:c,idKey:u}:u;e.adProxy.reportAdMonitorData(p,d)}else if(r===ob.REWARDEDVIDEODYNAMIC){var{list:h}=i;NE(),ez.call(this,h)}}))},rz=function(e,t){var r=e$(this);if(null!=r&&r.dynamicElems){var n=[];for(var i of Object.keys(r.dynamicElems))n.push(r.dynamicElems[i].ready());Promise.all(n).then((()=>{r.dynamicEmitter&&r.dynamicEmitter.emit("adCustomEvent",{adCustomId:dE,action:e,value:t})}))}},nz=function(e,t){var r=e$(this);if(r.dynamicElems)for(var n of Object.keys(r.dynamicElems)){var i,a=null===(i=r.dynamicElems[n])||void 0===i?void 0:i.referComponent;a&&a.emitComponentEvent(e,t)}},iz=function(){var e=e$(this);az.call(this);var t=Uz.call(this);e.keepAliveTimer=setTimeout((()=>{e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_KEEP_ALIVE,{currentTime:e.currentTime,duration:t.duration,src:e.video.src,preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},az=function(){var e=e$(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},oz=function(e,t=0){var r;if(Tz.call(this))return Promise.reject({errMsg:_$});var n=e$(this),{width:i,height:a}=2===n.pageType?n.pageCard.layoutBox:n.card.layoutBox;[0,2,3].includes(t)&&(n.clickCount+=1);var o={slotid:KQ,costtype:null!==(r=n.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,click_time:+new Date,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:Number(i)||0,ad_height:Number(a)||0,press_interval:e.pressInterval,block_click:t};return n.adProxy.reportTouchClick(o)},sz=function(e,t){if(Tz.call(this))return Promise.reject({errMsg:_$});var r=e$(this),n=Uz.call(this),i=Promise.resolve(),a={currentTime:r.currentTime,duration:n.duration},o=r.card,{absoluteX:s,absoluteY:l}=e;2===r.pageType?(o=r.pageCardContainer,s=Math.round(e.x),l=Math.round(e.y)):o=[rE.REWARD_CARD_BUTTON,rE.REWARD_CARD].indexOf(t)>-1?r.card:r.container;var{left:c,top:u}=o.getAbsolutePosition(),{width:d,height:p}=o.layoutBox;return i=r.adProxy.reportClick({clickAbsoluteLeft:s,clickAbsoluteTop:l,clickRelativeLeft:s-c,clickRelativeTop:l-u,pressInterval:e.pressInterval,left:c,top:u,width:d,height:p,videoData:a,weappExtraData:O()({},r.adWelfareData||{})}),Mz.call(this,t),uz.call(this,{stage:1002}),i},lz=function({playType:e,conditionType:t}){if(Tz.call(this))return Promise.reject({errMsg:_$});var r=e$(this),n=Uz.call(this);return r.adProxy.reportVideo({playType:e,conditionType:t,playDuration:r.currentTime,videoDuration:n.duration,muted:r.video.muted,rewardedTime:r.data.rewardedTime,isRewarded:r.isRewarded})},cz=function({button:e},t={}){var r;if(Tz.call(this))return Promise.reject({errMsg:_$});var n=e$(this),i=Uz.call(this),a=5===e?+new Date:0,o=t?t.pressInterval:0;return n.adProxy.reportBehaviorButton({button:e,isEnded:n.isEnded,playDuration:n.currentTime,videoDuration:null!==(r=null==i?void 0:i.duration)&&void 0!==r?r:0,preloadVideo:n.preloadVideo?1:0,preloadVideoSuccess:n.preloadVideoSuccess?1:0,videoFirstPlay:n.videoFirstPlayTime,cardFirstShow:n.cardFirstShowTime,clickCard:a,pressInterval:o,currentPlayUrl:n.video.src,lastFetchUrl:i?i.src:""})},uz=function({stage:e}){if(Tz.call(this))return Promise.reject({errMsg:_$});var t={adtype:2,stage:e};return e$(this).adProxy.reportADFunnelModel(t)},dz=e=>{qa(e?Qa:$a)},pz=function(e){if(!Tz.call(this)){var t=e$(this);t.darkMode=e;var r=e?QQ:HQ;for(var n of Object.keys(r))t[n]&&Object.assign(t[n].style,r[n])}},hz=function(e=0){var t;if(!Tz.call(this)){var r=e$(this);r.adProxy.reportTimePoints({slotid:KQ,costtype:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,extInfo:{preloadVideoSuccess:r.preloadVideoSuccess?1:0}});var n,i=r.isRewarded;r.sound.style.hidden=!1,r.splitLine.style.hidden=!1,r.video.autoPauseIfNavigate=!0,r.video.autoPauseIfOpenNative=!0,r.isPlayBackgroundSupported=!1,r.videoMutedStatus=!1,r.landingCount=0,r.clickCount=0,r.isPlaying=!1,r.isVideoCalledPlay=!1,r.isFirstPlaySuccess=!1,r.isShowed=!1,r.isRewarded=!1,r.isEnded=!1,r.isData=!1,r.disableGaussBlur=!1;try{var a;if(r.dynamicElems)for(var o of Object.keys(r.dynamicElems)){var s=r.dynamicElems[o];null!=s&&s.remove&&s.remove(),s.referComponent&&Zy(s.referComponent)}if(r.dynamicOldStyle)for(var l of Object.keys(r.dynamicOldStyle)){var c,u=r[l]||(null===(c=r.dynamicElems)||void 0===c?void 0:c[l])||null,d=r.dynamicOldStyle[l];for(var p of Object.keys(d))u.style[p]=d[p]}r.dynamicElems=null,r.dynamicOldStyle=null,null!==(a=r.dynamicEmitter)&&void 0!==a&&a.off&&r.dynamicEmitter.off("adCustomEvent"),r.dynamicEmitter=null}catch(e){}if(r.isCancelPlayablePage=!1,r.isLandingPlayblePage=!1,r.playableTipsContent.value="视频结束后可试玩",r.playableGiveUp.value="放弃",r.playableGiveUp.style.color="#07C160",r.playableGiveUp.style.opacity=1,r.playableTipsWrap.style.width=132,r.playableTipsWrap.style.left=0,r.playableTipsWrap.style.hidden=!0,r.cardContainer.style.hidden=!0,r.playableTipsContent.style.width=120,r.playableGiveUp.style.hidden=!0,r.playableCancelBox.style.hidden=!0,r.cardContainer.style.opacity=1,r.rewardPageCostTime=0,r.isShowedExposureReported=!1,r.isViewableExposureReported=!1,r.adProxy.isViewable=!0,OE.isWaGame||(r.isFullscreen=!1),r.downloadProgress.style.width=0,r.pageDownloadProgress.style.width=0,pz.call(this,!0),2!==e)OE.isWaGame||!OE.isIOS&&!pE("landpage",null===(n=r.data)||void 0===n?void 0:n.crt_size)?(r.emitter.emit("close",{isEnded:i}),dz(i)):Ca(100).then((()=>{r.emitter.emit("close",{isEnded:i}),dz(i)}));r.adProxy.reset();var h=q$.call(this);h.catch((()=>{})),r.adFetchResult=h,r.container.style.hidden=!0,r.adCover.hide(),i?uz.call(this,{stage:1005}):uz.call(this,{stage:1006}),1===r.pageType?r.pageContainer.style.hidden=!0:2===r.pageType?(r.pageHandler.style.hidden=!0,r.pageCardBody.style.hidden=!0,r.pageMask.style.hidden=!0,r.pageCardTip.style.hidden=!0,r.video.style.padding=8,r.video.style.paddingBottom=16):r.pageType||(r.defaultPageContainer.style.hidden=!0),r.pageHandler.style.hidden=!0,Y$.call(this,{isClose:!0}),OE.isAndroid&&r.adProxy.setInnerAudioOption(!0).catch((()=>{})),r.showTipsTimer&&clearTimeout(r.showTipsTimer),r.exposureTimer&&clearTimeout(r.exposureTimer),r.updateScreenInfoTimer&&clearTimeout(r.updateScreenInfoTimer),r.layoutTimer&&clearTimeout(r.layoutTimer),r.rewardPageTimer&&clearTimeout(r.rewardPageTimer),r.reportDurationTimer&&clearTimeout(r.reportDurationTimer),r.pageType=0,r.imgBaseName="",FQ("show",r.adType,0),FQ("close",r.adType,+new Date)}},fz=function(e=0){if(Tz.call(this))return Promise.reject({errMsg:_$});var t=e$(this);return Dz.call(this)||Rz.call(this)?gz.call(this,e):(lz.call(this,{playType:t.isEnded?"complete":"partial",conditionType:"close"}),1===e?(hz.call(this),Promise.resolve()):[2,3].includes(e)?Promise.all([w$.call(this),hz.call(this,e)]):t.container.animate({top:OE.screenHeight,duration:500}).then((()=>w$.call(this))).then((()=>hz.call(this))))},gz=function(e){if(Tz.call(this))return Promise.reject({errMsg:_$});var t=e$(this);return Rz.call(this)||(t.container.style.top=OE.screenHeight,t.topBar.style.hidden=!0,t.dialogClose.value="放弃",t.dialogCancel.value="继续",t.video.style.hidden=!1,t.showDialogContainer=!1),1===e?(hz.call(this),Promise.resolve()):Promise.all([w$.call(this),hz.call(this,e)])},vz=function(){if(!Tz.call(this)){var e=e$(this);if(e.rewardPageCostTime>=15e3)e.isEnded=!0,e.isRewarded=!0,fz.call(this),cz.call(this,{button:4});else{e.showDialogContainer=!0,e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续浏览页面",e.adProxy.setRightButtonHide(!0).catch((()=>{}))}}},mz=function(){if(!Tz.call(this)){var e=e$(this);if(az.call(this),e.isRewarded)fz.call(this),cz.call(this,{button:4});else{e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续观看视频",Vz.call(this,"pause"),e.isPause=!0}}},_z=function(e={}){if(!Tz.call(this)){var t,r=e$(this),n=Uz.call(this);if(r.notReportExit=!0,r.landingCount+=1,r.landingCount>1)r.adProxy.reportRepeatClick({slotId:KQ,costType:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,clkCnt:r.landingCount,lastClkPeriod:+new Date-r.lastLandingTime,retCode:r.lastJsapiStatus,costTime:r.lastJsapiCostTime,pageStayTime:r.landingPageCostTime,jsapiName:r.lastJsapiName});r.lastLandingTime=+new Date,r.lastJsapiStatus=2,r.lastJsapiCostTime=0,r.isLandingPage=!1,r.landingPageCostTime=0;var i=23===r.data.product_type&&e&&e.isButton&&!r.adProxy.data.biz_info.is_subscribed;e.isAddContact=i;var a=r.adProxy.land(e);if(23===r.data.product_type&&e&&e.isButton&&!r.adProxy.data.biz_info.is_subscribed?(a.then((e=>{var t=/ok/.test(e.errMsg);t&&(0===r.buttonTextType&&(r.button.value="查看公众号",m$.call(this),rz.call(this,ob.CHANGEADBTNTEXT,{text:"查看公众号"})),r.data.flooringPage&&1===r.pageType&&0===r.buttonTextType?r.pageButton.value="查看公众号":r.data.flooringPage&&2===r.pageType&&0===r.buttonTextType?r.pageCardButton.value="查看公众号":r.pageType||(r.defaultPageButton.value="查看公众号"),r.expandCardButton.value="查看公众号",r.adProxy.data.biz_info&&(r.adProxy.data.biz_info.is_subscribed=1),r.adProxy.reportAdIDKey({key:Nb.REWARDED_VIDEO_FOLLOW_SUCCESS})),e.errMsg&&(r.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var n,i=+new Date;(r.lastJsapiStatus=0,r.lastJsapiCostTime=i-r.lastLandingTime,"private_addContact"===r.lastJsapiName)&&r.adProxy.reportLandingTime({slotId:KQ,costType:null!==(n=r.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,openTime:r.lastLandingTime,closeTime:i,stayTime:r.lastJsapiCostTime,jsapiName:r.lastJsapiName,clickTime:r.lastLandingTime,clkCnt:r.landingCount,retCode:r.lastJsapiStatus,costTime:r.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});OE.isWaGame||!OE.isAndroid||Rz.call(this)||setTimeout((()=>{r.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),r.container.forceUpdate()}),250)})).catch((()=>{r.lastJsapiStatus=1})),yz.call(this,a)):(r.flooringPageCloseTime=(new Date).getTime(),a.then((e=>{e.errMsg&&(r.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===r.lastJsapiName||"navigateToMiniProgram"===r.lastJsapiName||"openADCanvas"===r.lastJsapiName||"launchApplication"===r.lastJsapiName?(r.isLandingPage=!0,r.isPlayBackgroundSupported&&(r.videoMutedStatus=r.video.muted,r.video.muted=!0),az.call(this),r.flooringPageIsShow&&(Z$.call(this,{type:3,staytime:r.flooringPageCloseTime-r.flooringPageShowTime,componentsstartstr:JSON.stringify(r.flooringPageState)}),r.flooringPageShowTime=0,r.flooringPageCloseTime=0,H$.call(this))):r.lastJsapiStatus=0,r.lastJsapiCostTime=+new Date-r.lastLandingTime})).catch((()=>{r.lastJsapiStatus=1}))),Dz.call(this)||Rz.call(this)){setTimeout((()=>{r.notReportExit=!1}),1e3);r.adProxy.reportVideo({playType:r.isPlaying?"partial":"complete",conditionType:"land",playDuration:r.currentTime,videoDuration:n.duration,muted:r.video.muted})}return a}},yz=function(e){if(!Tz.call(this)){var t=e$(this),r=e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):Promise.resolve())).catch((()=>t.adProxy.reportFollow({result:"fail"})));return r}},Az=function(){if(!Tz.call(this)){var e=e$(this),{appInfo:{apkName:t,versionCode:r,urlScheme:n}}=e.data;e.adProxy.getInstallState(t).then((t=>{if(t.isInstalled&&(void 0===t.versionCode||t.versionCode>=r)){if(e.adProxy.setAppInstallState(!0),e.androidAppState=4,e.button&&n&&n.trim().length>0){if(e.button.value="进入应用",e.pageCardButton.value="进入应用",e.pageButton.value="进入应用",e.defaultPageButton.value="进入应用",e.expandCardButton.value="进入应用",rz.call(this,ob.CHANGEADBTNTEXT,{text:"进入应用"}),1===e.buttonTextType){var i=e.data.button_action.button_text;e.button.value=i,e.pageCardButton.value=i,e.pageButton.value=i,e.defaultPageButton.value=i,e.expandCardButton.value=i,rz.call(this,ob.CHANGEADBTNTEXT,{text:i})}m$.call(this)}if(e.adProxy.isValidCondition("widget_gray_video_download_v2")&&e.downloadButtonText&&n&&n.trim().length>0){if(e.downloadButtonText.value="进入应用",e.downloadProgressText.value="进入应用",1===e.buttonTextType){var a=e.data.button_action.button_text;e.downloadButtonText.value=a,e.downloadProgressText.value=a}if(1===e.pageType&&(e.pageDownloadButtonText.value="进入应用",e.pageDownloadProgressText.value="进入应用",1===e.buttonTextType)){var o=e.data.button_action.button_text;e.pageDownloadButtonText.value=o,e.pageDownloadProgressText.value=o}m$.call(this)}}else e.adProxy.isValidCondition("widget_gray_video_download_v2")&&4===e.androidAppState&&(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadProgressText.value=e.data.button_action.button_text,m$.call(this),1===e.pageType&&(e.pageDownloadButtonText.value=e.data.button_action.button_text,e.pageDownloadProgressText.value=e.data.button_action.button_text),e.androidAppState=0)})).catch((()=>{}))}},bz=function(e={}){if(!Tz.call(this)){var t=e$(this);sz.call(this,e,rE.REWARD_DOWNLOAD);var r,{appInfo:{appName:n,apkName:i,apkUrl:a,appMd5:o,urlScheme:s}}=t.data,{aid:l,traceid:c,apurl:u}=t.adProxy.data,d=0,p="";if(t.landingCount+=1,t.lastLandingTime=+new Date,t.lastJsapiStatus=0,t.lastJsapiCostTime=0,4===t.androidAppState)t.adProxy.launchApplication(s).catch((()=>{_z.call(this,{isButton:!0})})),t.lastJsapiName="launchApplication",t.isLandingPage=!0;else if(0===t.androidAppState){var h=[l,c,i.replace(/./g,"_"),0,20,u.indexOf("ad.wx.com")>-1?1:0].join(".");t.adProxy.addDownloadTaskStraight(n,a,o,h).then((e=>{t.androidDownloadId=e.downloadId,setTimeout(wz.bind(this),a$)})).catch((()=>{_z.call(this,{isButton:!0})})),t.lastJsapiName="addDownloadTaskStraight",d=4,p="下载"}else 1===t.androidAppState?(t.adProxy.pauseDownloadTask(t.androidDownloadId).catch((()=>{})),t.downloadButtonText.value="继续下载",t.downloadProgressText.value="继续下载",1===t.pageType&&(t.pageDownloadButtonText.value="继续下载",t.pageDownloadProgressText.value="继续下载"),m$.call(this),t.androidAppState=2,t.lastJsapiName="pauseDownloadTask",d=5,p="暂停"):2===t.androidAppState?(t.adProxy.resumeDownloadTask(t.androidDownloadId).then((()=>{setTimeout(wz.bind(this),a$)})).catch((()=>{})),t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",1===t.pageType&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载"),m$.call(this),t.androidAppState=1,t.lastJsapiName="resumeDownloadTask",d=6,p="继续"):3===t.androidAppState&&(t.adProxy.installDownloadTask(t.androidDownloadId).catch((()=>{})),t.lastJsapiName="installDownloadTask",d=7,p="安装");if(d>0)t.adProxy.reportLandingTime({slotId:KQ,costType:null!==(r=t.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,openTime:t.lastLandingTime,clickTime:t.lastLandingTime,clkCnt:t.landingCount,jsapiName:t.lastJsapiName,actTypeInt:d,actTypeStr:p})}},wz=function(e=3){if(!Tz.call(this)){var t=e$(this);t.adProxy.queryDownloadTask(t.androidDownloadId).then((e=>{if("download_succ"===e.state)t.downloadButtonText.value="安装应用",t.downloadProgressText.value="安装应用",t.downloadProgress.style.width=t.downloadButton.style.width,1===t.pageType&&(t.pageDownloadButtonText.value="安装应用",t.pageDownloadProgressText.value="安装应用",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width),t.androidAppState=3,m$.call(this);else if("downloading"===e.state)t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",t.downloadProgress.style.width=t.downloadButton.style.width*parseInt(e.progress,10)/100,1===t.pageType&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width*parseInt(e.progress,10)/100),t.androidAppState=1,m$.call(this);else if("download_fail"===e.state){if(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,t.downloadProgress.style.width=0,1===t.pageType&&(t.pageDownloadButtonText.value=t.data.button_action.button_text,t.pageDownloadProgressText.value=t.data.button_action.button_text,t.pageDownloadProgress.style.width=0,1===t.buttonTextType)){var r=t.data.button_action.button_text;t.pageDownloadButtonText.value=r}t.androidAppState=0,m$.call(this)}"downloading"!==e.state&&"default"!==e.state||setTimeout(wz.bind(this),a$)})).catch((()=>{e>0&&wz.call(this,e-1)}))}},Ez=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:r=0,secondGradeDesc:n="",feedbackReason:i=0}){if(!Tz.call(this)){var a=e$(this);e&&!r&&(a.clickFirstGradeTime=+new Date),a.adProxy.reportAdFeedbackData({adWidth:OE.screenWidth,adHeight:OE.screenHeight,adPosX:0,adPosY:0,expTime:a.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?a.clickFirstGradeTime:0,secondGradeId:r,secondGradeDesc:n,secondGradeTime:r?+new Date:0,feedbackReason:i})}},Cz=function(e){var t=e$(this),r={adWidth:OE.screenWidth,adHeight:OE.screenHeight,adPosX:0,adPosY:0},n={dismatch:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1},quality:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4},duplicate:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}};if(Array.isArray(e))for(var{type:i,expTime:a,isClickAd:o,clickAdTimeMs:s,feedbackTimeMs:l}of e)if("good"!==i){var c=n[i]||{};t.adProxy.reportAdFeedbackData(O()(O()(O()({},r),c),{},{expTime:a||0,isClickAd:o,clickAdTimeMs:s||0,secondGradeTime:l||0}))}},Iz=function(){var e=e$(this),t=OE.isWaGame?"count":`count_${e.adProxy.getWebviewInfo().currentWebviewId}`,r=UQ(t,e.adType)||0;FQ(t,e.adType,r>0?r-1:0),CE(e.onShow),RE(e.onHide),e.emitter.off("_error"),e.emitter.off("load"),e.emitter.off("close"),ly.remove(e.container),GG(this)},Sz=function(){if(!Tz.call(this)){var e=e$(this),t=Promise.resolve();e.isShowed&&(t=w$.call(this).then((()=>{e.adCover.hide(),OE.isAndroid&&e.adProxy.setInnerAudioOption(!0).catch((()=>{})),FQ("show",e.adType,0),FQ("close",e.adType,+new Date)}))),t.then((()=>{Iz.call(this)})).catch((()=>{Iz.call(this)})),this._destroyed=!0}},Tz=function(){return this._destroyed},xz=function(e){var t=e$(this);t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:OE.screenWidth,height:OE.screenHeight,weappExtraData:O()({},t.adWelfareData||{})});"showed"===e?t.isShowedExposureReported=!0:"viewable"===e&&(t.isViewableExposureReported=!0)},Pz=function(){var e=e$(this);return Rz.call(this)||(e.container.style.hidden=!1,e.container.style.top=0,e.adCover.show()),e.container.nextLayout().then((()=>Tz.call(this)?Promise.reject({errMsg:_$}):(b$.call(this).then((()=>{OE.isWaGame||(e.isFullscreen=!0)})).catch((t=>{e.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR,t)})),_z.call(this)))).then((t=>{if(Rz.call(this)){t?e.adProxy.reportAdMonitorData(Nb.REWARD_CHANNELS_CALLBACK_SUCCESS,t):e.adProxy.reportAdMonitorData(Nb.REWARD_CHANNELS_CALLBACK_FAILED);var{rewardedDuration:r,feedbackInfo:n}=t||{},i=null!=r&&r>=15;e.isEnded=i,e.isRewarded=i,fz.call(this),cz.call(this,{button:i?4:1}),Cz.call(this,n)}})).catch((t=>{throw FQ("show",e.adType,0),t}))},kz=function(){var e,t=e$(this);return pE("video",null===(e=t.data)||void 0===e?void 0:e.crt_size)},Dz=function(){var e,t,r=e$(this);return pE("landpage",null===(e=r.data)||void 0===e?void 0:e.crt_size)&&(null===(t=r.data)||void 0===t?void 0:t.dest_type)!==Qb.DEST_TYPE_CHANNELS},Rz=function(){var e,t,r=e$(this);return pE("landpage",null===(e=r.data)||void 0===e?void 0:e.crt_size)&&(null===(t=r.data)||void 0===t?void 0:t.dest_type)===Qb.DEST_TYPE_CHANNELS},Oz=function(){var e=e$(this),{product_type:t}=e.data;return[hw.OPEN_PLATFORM_APP_MOB,hw.APPLE_APP_STORE,hw.WECHAT,hw.MINI_GAME].includes(t)||!e.expandCardUseLogoStrategy},Mz=function(e){var t=e$(this),{adProxy:r}=t;r.reportMMClickPos({clickPos:e})},Lz=function(){var e=e$(this);if(Wz.call(this)){e.disableGaussBlur=!0;var{poster:t,src:r}=Uz.call(this);e.video.poster!==t&&(e.video.poster=t),e.video.src!==r&&(e.video.src=r,setTimeout((()=>{e.isVideoCalledPlay&&Vz.call(this,"play")}),0)),e.video.style.width=OE.screenWidth,e.video.style.height=OE.screenHeight,Nz.call(this)}},Nz=function(){var e=e$(this);"portrait"===OE.deviceOrientation?e.video.style.bottom=217*OE.screenWidth/160-OE.screenHeight/2:e.video.style.left=43*-OE.screenHeight/96},Bz=function(){var e=e$(this),{deviceOrientation:t,screenWidth:r,screenHeight:n}=OE,i="portrait"===t,a=i?n:r,o=i?r:n;e.defaultPageBackgroundImage.style.width=a,e.defaultPageBackgroundImage.style.height=a;var s=(a-o)/-2;i?(e.defaultPageBackgroundImage.style.left=s,e.defaultPageBackgroundImage.style.top=0):(e.defaultPageBackgroundImage.style.left=0,e.defaultPageBackgroundImage.style.top=s)},Wz=function(){var e=e$(this);return!(!e.data||e.disableGaussBlur)&&qC(e.data)},Fz=function(){var e=e$(this);return!!e.data&&JC(e.data)},Uz=function(){var e,t,r=e$(this);return Wz.call(this)&&null!==(e=r.data)&&void 0!==e&&e.gaussVideo?r.data.gaussVideo:(null==r||null===(t=r.data)||void 0===t?void 0:t.shortVideo)||null},Vz=function(e){var t=e$(this),{video:r}=t;r&&("play"===e?(t.isVideoCalledPlay=!0,r.play()):"pause"===e?(t.isVideoCalledPlay=!1,r.pause()):"stop"===e&&(t.isVideoCalledPlay=!1,r.stop()))},jz=function(){var e=e$(this),{deviceOrientation:t,screenWidth:r,screenHeight:n}=OE,{width:i,height:a}=Uz.call(this);if(e.video.style.width=r,e.video.style.height=n,e.video.style.left=0,e.video.style.bottom=0,Wz.call(this)){if("portrait"===t&&i<a)e.video.style.height=Math.floor(r/i*a),e.video.style.width=r;else if("landscape"===t&&i>a){var o=Math.floor(n*i/a);e.video.style.width=o,e.video.style.height=n,e.video.style.left=(r-o)/2}}else Fz.call(this)&&Nz.call(this)};class Gz extends HG{constructor({adUnitId:e,multiton:t=!1,pluginId:r="",requestType:n=null}){super(),this._destroyed=void 0;var i=e$(this);i.emitter=new SH,i.androidAppState=0,i.androidDownloadId=0,i.adUnitId=e,i.adType="incentive-video",i.adProxy=new KP({adUnitId:e,adType:"incentive-video",pluginAppid:r}),i.adCover=new BQ({adUnitId:e,adType:"incentive-video"}),i.adRequestType=n,i.adWelfareData={},i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.isCardExposureReported=!1,i.dynamicElems=null,i.dynamicOldStyle=null,i.dynamicEmitter=null,i.expandCardUseLogoStrategy=!1,i.rewardPageCostTime=0,i.rewardPageTimer=null,i.showDialogContainer=!1,i.isData=!1,i.isFirstPlay=!1,i.isFirstPlaySuccess=!1,i.isPlaying=!1,i.isVideoCalledPlay=!1,i.isRewarded=!1,i.isEnded=!1,i.isPause=!1,i.currentTime=0,i.cardShowTime=0,i.videoFirstPlayTime=0,i.preloadVideo=!1,i.preloadVideoSuccess=!1,i.cardFirstShowTime=0,i.clickCount=0,i.landingCount=0,i.lastLandingTime=0,i.lastJsapiName="",i.lastJsapiStatus=0,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0,i.hideTime=0,i.showTime=0,i.startExposureTime=0,i.clickFirstGradeTime=0,i.flooringPageIsShow=!1,i.flooringPageShowTime=0,i.flooringPageCloseTime=0,i.flooringPageState={},i.flooringPageAutoShow=!1,i.showTipsTimer=null,i.exposureTimer=null,i.isCancelPlayablePage=!1,i.isLandingPlayblePage=!1,i.buttonTextType=0,i.isPress=!1,i.startPosX=0,i.startPosY=0,i.lastPosX=0,i.lastPosY=0,i.lastSecondPosX=0,i.lastSecondPosY=0,i.direction="",i.throttleTimer=null,i.timeStamp=0,i.callCount=0,i.distanceList=[],i.startTime=0,i.lastStartTime=0,i.lastMoveTime=0,i.flooringPageInfos={},i.weappTouchEventHandler=null,i.updateScreenInfoTimer=null,i.layoutTimer=null,i.closeEventCount=0,i.reportDurationTimer=null,i.disableGaussBlur=!1,this._destroyed=!1,$G.call(this,t$,GQ),pz.call(this,!0);var{deviceOrientation:a,screenWidth:o,screenHeight:s}=OE;i.container.style.width=o,i.container.style.height=s,i.container.style.top=s,i.container.style.hidden=!0,i.topBar.style.width=o,i.sound.src=n$,i.appIcon.src=i$,Q$.call(this),OE.isIOS&&(i.video.obeyMuteSwitch=!0),ly.add(i.container),s$&&(i.topBar.style.top=i.topBar.style.top+30,i.adFeedbackList.style.top=i.adFeedbackList.style.top+30,i.adFeedbackMenu.style.top=i.adFeedbackMenu.style.top+30);A$.call(this,["dialogContainer","dialogMask"]),i.dialog.style.top=s>138?(s-138)/2:0,i.dialog.style.left=o>300?(o-300)/2:0,OE.isWaGame||(i.container.fullscreen=!0,i.isFullscreen=!1);var l=q$.call(this);l.catch((()=>{})),i.adFetchResult=l,i.isSwitched=!1,OE.isWaGame||Mo((()=>{if(!Tz.call(this)){var{openType:e,createWebviewId:t,lastWebviewId:r}=i.adProxy.getWebviewInfo();if(["navigateTo","switchTab"].includes(e)&&t===r&&(i.isSwitched=!0),["navigateBack","navigateTo"].includes(e)&&t===r&&i.isShowed&&i.isData){var n=i.isFullscreen?3:1;cz.call(this,{button:6}),fz.call(this,n)}}})),i.close.on("click",(e=>{C$.call(this,e,!1)&&mz.call(this)})),i.dialogClose.on("click",(e=>{C$.call(this,e,!1)&&(i.dialogContainer.style.hidden=!0,fz.call(this),cz.call(this,{button:1}))})),i.dialogCancel.on("click",(e=>{C$.call(this,e,!1)&&(i.dialogContainer.style.hidden=!0,Dz.call(this)?(i.showDialogContainer=!1,_z.call(this)):(Vz.call(this,"play"),iz.call(this)),cz.call(this,{button:2}))})),i.sound.on("click",(e=>{C$.call(this,e,!1)&&(i.video.muted=!i.video.muted,i.sound.src=i.video.muted?n$:r$)})),i.adFeedback.on("click",(e=>{C$.call(this,e,!1)&&(i.adFeedbackList.style.hidden=!i.adFeedbackMenu.style.hidden||!i.adFeedbackList.style.hidden,i.adFeedbackList.style.hidden||Ez.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),i.adFeedbackBtn.on("click",(e=>{C$.call(this,e,!1)&&(i.adProxy.openFeedbackUrl(OE.isWaGame?1003:1005),i.adFeedbackList.style.hidden=!0,Ez.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}))})),i.adDislikeBtn.on("click",(e=>{C$.call(this,e,!1)&&(Ez.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}),i.adFeedbackList.style.hidden=!0,i.adFeedbackMenu.style.hidden=!1)})),i.adQualityBtn.on("click",(e=>{C$.call(this,e,!1)&&(i.adFeedbackMenu.style.hidden=!0,Ez.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),i.dialogCloseTip.style.hidden=!1,Ca(o$).then((()=>{i.dialogCloseTip.style.hidden=!0})))})),i.adDuplicateBtn.on("click",(e=>{C$.call(this,e,!1)&&(i.adFeedbackMenu.style.hidden=!0,Ez.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),i.dialogCloseTip.style.hidden=!1,Ca(o$).then((()=>{i.dialogCloseTip.style.hidden=!0})))})),i.adDismatchBtn.on("click",(e=>{C$.call(this,e,!1)&&(i.adFeedbackMenu.style.hidden=!0,Ez.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),i.dialogCloseTip.style.hidden=!1,Ca(o$).then((()=>{i.dialogCloseTip.style.hidden=!0})))})),i.video.onTimeUpdate((e=>{var t=Number(e.duration),r=Number(e.position);try{if(Tz.call(this)||!i.isShowed)return;if(iz.call(this),i.isFirstPlay){var n=0;i.showTime>i.videoFirstPlayTime&&(n=i.showTime-i.videoFirstPlayTime),i.adProxy.setTimePoint("p21",{time:Date.now()-1e3*r}),i.adProxy.reportVideoLoadTime({beginTime:i.videoFirstPlayTime,endTime:(new Date).getTime()-Math.floor(1e3*r),departureTime:n,preloadVideo:i.preloadVideo?1:0,preloadVideoSuccess:i.preloadVideoSuccess?1:0,reportType:1}),i.isFirstPlay=!1,uz.call(this,{stage:1004})}if(i.isPlaying=!0,r>0&&(i.currentTime=1e3*r),r>=1&&!i.isViewableExposureReported){var{width:o,height:s}=i.video.style;i.isViewableExposureReported=!0,i.adProxy.isViewable=!0;i.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:o,height:s,weappExtraData:O()({},i.adWelfareData||{})})}Math.ceil(t-r)<=6&&[3,4].indexOf(i.pageType)>-1&&i.playableGiveUp.style.hidden&&y$.call(this);var{rewardedTime:l}=i.data,{duration:c}=Uz.call(this),u=t>l/1e3?l/1e3:t||c/1e3,d=Math.ceil((c>l?l:c)/1e3);if(0===t&&(i.reportDurationTimer&&clearTimeout(i.reportDurationTimer),i.reportDurationTimer=setTimeout((()=>{i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_DURATION_ZERO,{duration:t,durationFromAd:c,rewardedTime:l})}),1e3)),u>r){var p=Math.ceil(u-r);p>d&&(p=d),i.countDown.value=p.toString(),i.countDownAppend.value="秒后可获得奖励",i.countDown.style.width=2===p.toString().length?19:12,i.countDownAppend.style.width=100}else i.countDown.style.hidden=!0,i.sound.style.hidden=!0,i.splitLine.style.hidden=!0,i.countDownAppend.value="已获得奖励",i.countDownAppend.style.width=72,i.isRewarded=!0;if((1e3*r>=i.cardShowTime||1e3*r>0)&&i.card.style.hidden){if(i.data.flooringPage&&2===i.pageType&&"portrait"===a?i.pageCardBody.style.hidden=!1:(i.playableTipsWrap.style.hidden=!(i.data.flooringPage&&[3,4].indexOf(i.pageType)>-1),i.card.style.hidden=!1),i.isCardExposureReported)return;i.card.nextLayout((()=>{var{left:e,top:t}=i.card.getAbsolutePosition(),{width:r,height:n}=i.card.layoutBox;i.isCardExposureReported=!0;i.adProxy.reportExposure({exposureType:"incentiveVideoCard",left:e,top:t,width:r,height:n,weappExtraData:O()({},i.adWelfareData||{})});i.cardFirstShowTime=(new Date).getTime(),i.data.flooringPage&&2===i.pageType&&(i.showTipsTimer=setTimeout((()=>{D$.call(this)}),3e3))}))}nz.call(this,ab.REWARDEDVIDEOTIMEUPDATE,{event:e})}catch(e){i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_RENDER_ERROR,e)}})),i.video.onEnded((()=>{var e,t;if(!Tz.call(this)&&i.isShowed){i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_END),az.call(this),i.countDown.style.hidden=!0,i.sound.style.hidden=!0,i.splitLine.style.hidden=!0,i.countDownAppend.value="已获得奖励",i.countDownAppend.style.width=72,i.isRewarded=!0,i.isPlaying=!1,i.isVideoCalledPlay=!1,i.isEnded=!0,i.isPause=!1;var{duration:r}=Uz.call(this);i.currentTime=r;var n=null===(e=i.data)||void 0===e||null===(t=e.card)||void 0===t?void 0:t.headBgImg;i.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:i.currentTime,videoDuration:r,muted:i.video.muted});if(i.data.flooringPage&&1===i.pageType&&"portrait"===a)i.pageContainer.style.width=o,i.pageContainer.style.height=s,i.pageContainer.style.left=o,i.pageContainer.style.hidden=!1,i.pageHandler.style.hidden=!1,i.card.style.hidden=!0,i.pageHandler.style.zIndex=1000003,i.topBar.style.zIndex=1000004,i.pageImgTips.style.zIndex=1000004,i.pageContainer.nextLayout((()=>{G$.call(this)}));else if(i.data.flooringPage&&2===i.pageType&&"portrait"===a)G$.call(this);else if(i.data.flooringPage&&[3,4].indexOf(i.pageType)>-1&&!i.isCancelPlayablePage){var l=i.data.flooringPage.page_url||"";if(!l&&i.data.crtInfo)try{var{wxgame_video_card:{flooring_page:c}}=i.data.crtInfo;l=c.page_url||""}catch(e){}i.adProxy.handleRewardedVideoPlayableLand(l,i.pageType).then((()=>{i.isLandingPlayblePage=!0}))}else!i.pageType&&n&&(i.defaultPageContainer.style.hidden=!1,i.defaultPageContainer.style.opacity=0,i.defaultPageContainer.nextLayout((()=>{G$.call(this)})))}})),i.video.onError((e=>{i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_LOAD_ERROR,e),az.call(this),Wz.call(this)&&Lz.call(this)})),i.playableCancelBox.on("click",(e=>{var t;if(C$.call(this,e)&&!i.isCancelPlayablePage){i.isCancelPlayablePage=!0,i.playableGiveUp.value="已放弃",i.playableGiveUp.style.color="#ffffff",i.playableGiveUp.style.opacity=.6;var r=wb({text:"已放弃",fontSize:12})||36;i.playableGiveUp.style.width=r,i.playableTipsWrap.style.width=i.playableTipsContent.style.width+r+32,i.adProxy.reportCancelRewardPlayablePage({costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,slotid:KQ,is_reward:1,is_cancel:1})}})),i.pageButton.on("click",(e=>{C$.call(this,e)&&M$.call(this,e,"button",rE.REWARD_OLD_ENDPAGE_BUTTON)}));var c=e=>t=>{if(C$.call(this,t)){var r=Oz.call(this);if(!(r&&"wrapper"===e||!r&&["logo","wording"].includes(e))){var n=[[rE.REWARD_ENDPAGE_HEAD_IMG,r&&"logo"===e],[rE.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED,r&&["wording","wrapper"].includes(e)],[rE.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED,!r&&["wording","wrapper"].includes(e)],[rE.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED,r&&"button"===e],[rE.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED,!r&&"button"===e]].find((([,e])=>e))[0];M$.call(this,t,"button"===e?"button":"",n)}}},u=e=>t=>{if(C$.call(this,t)){var r=Oz.call(this);if(!(r&&"wrapper"===e||!r&&["logo","wording"].includes(e))){var n=[[rE.REWARD_EXPAND_CARD_HEAD_IMG,r&&"logo"===e],[rE.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED,r&&["wording","wrapper"].includes(e)],[rE.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED,!r&&["wording","wrapper"].includes(e)],[rE.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED,r&&"button"===e],[rE.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED,!r&&"button"===e]].find((([,e])=>e))[0];M$.call(this,t,"button"===e?"button":"",n)}}};if(i.defaultPageButton.on("click",c("button")),i.defaultPageAppIcon.on("click",c("logo")),i.defaultPageAppName.on("click",c("wording")),i.defaultPageAppWording.on("click",c("wording")),i.defaultPageWordingWrapper.on("click",c("wrapper")),i.expandCardButton.on("click",u("button")),i.expandCardAppIcon.on("click",u("logo")),i.expandCardAppName.on("click",u("wording")),i.expandCardAppWording.on("click",u("wording")),i.expandCardWordingWrapper.on("click",u("wrapper")),i.pageDownloadButton.on("click",(e=>{C$.call(this,e)&&bz.call(this,e)})),i.button.on("click",(e=>{var t;if(C$.call(this,e)){var{extBackComm:r}=i.data,n=Boolean(23===(null===(t=i.data)||void 0===t?void 0:t.product_type)||r.is_from_snsadinfo);OE.isIOS&&46===i.data.product_type&&6===i.data.dest_type?Promise.race([sz.call(this,e,rE.REWARD_CARD_BUTTON),Ca(500)]).then((()=>{cz.call(this,{button:5},e),_z.call(this,{isButton:n})})).catch((()=>{cz.call(this,{button:5},e),_z.call(this,{isButton:n})})):(sz.call(this,e,rE.REWARD_CARD_BUTTON),cz.call(this,{button:5},e),_z.call(this,{isButton:n}))}})),i.downloadButton.on("click",(e=>{C$.call(this,e)&&bz.call(this,e)})),i.card.on("click",(e=>{C$.call(this,e)&&(OE.isIOS&&46===i.data.product_type&&6===i.data.dest_type?Promise.race([sz.call(this,e,rE.REWARD_CARD),Ca(500)]).then((()=>{cz.call(this,{button:5},e),_z.call(this)})).catch((()=>{cz.call(this,{button:5},e),_z.call(this)})):(sz.call(this,e,rE.REWARD_CARD),cz.call(this,{button:5},e),_z.call(this)))})),i.pageHandler.on("touchstart",(e=>{if(!Tz.call(this)){var t=L$.call(this,{event:e,container:"pageHandler"});i.startPosX=t.x,i.startPosY=t.y,i.lastPosX=t.x,i.lastPosY=t.y,i.lastStartTime=(new Date).getTime()}})),i.pageHandler.on("touchmove",(e=>{if(!Tz.call(this)){var t=i.pageHandler.getAbsolutePosition(),r=t.left+e[0].x,n=t.top+e[0].y,{xMin:a,xMax:o,yMin:s,yMax:l,xContainer:c,yContainer:u}=i.flooringPageInfos;if(r-i.lastPosX!=0&&c&&S$.call(this,{x:r,y:n,direction:"left"})){var d=i[c].style.left;(d+=r-i.lastPosX)>=a&&d<=o&&(i[c].style.left=d,i.lastSecondPosX=i.lastPosX,i.lastPosX=r,i.direction="left",i.lastMoveTime=(new Date).getTime())}if(n-i.lastPosY!=0&&u&&S$.call(this,{x:r,y:n,direction:"top"})){var p=i[u].style.top;(p+=n-i.lastPosY)>=s&&p<=l&&(i[u].style.top=p,i.lastSecondPosY=i.lastPosY,i.lastPosY=n,i.direction="top")}}})),i.pageHandler.on("touchend",(e=>{if(!Tz.call(this)){var t=L$.call(this,{event:e,container:"pageHandler"}),{xMin:r,xMax:n,yMin:a,yMax:o,xContainer:s,yContainer:l,infos:c}=i.flooringPageInfos;if(c.event=t,c.event&&(c.event.pressInterval=(new Date).getTime()-i.lastStartTime),c.touchClick&&P$.call(this,Object.assign({},c,{event:t,max:o,min:a})),"top"===i.direction&&c.yRevise)F$.call(this,Object.assign({},c,{max:o,min:a,direction:"top",imgBox:l}));else if("left"===i.direction&&c.xRevise)F$.call(this,Object.assign({},c,{max:n,min:r,direction:"left",imgBox:s})),z$.call(this);else if("left"===i.direction&&c.xInertia){var u=t.x-i.lastPosX,d=i[s].style.left+5*u;d>=c.xHead&&d<=c.xTail?i[s].style.left=d:k$.call(this,Object.assign({},c,{xMax:n,xMin:r,imgBox:s})),z$.call(this)}else i.startPosX=0,i.startPosY=0,i.lastPosX=0,i.lastPosY=0,i.lastSecondPosX=0,i.lastSecondPosY=0,i.direction="";i.direction=""}})),i.onShow=()=>{if(!Tz.call(this)&&(i.adProxy.setTimePoint("p11"),[3,4].indexOf(i.pageType)>-1&&i.isLandingPlayblePage&&fz.call(this),!Rz.call(this))){if(Dz.call(this)&&i.isShowed&&!i.showDialogContainer)return i.rewardPageTimer&&clearTimeout(i.rewardPageTimer),i.rewardPageCostTime+=+new Date-i.hideTime-400,vz.call(this),setTimeout((()=>{i.lastJsapiStatus=0,i.isLandingPage=!1}),10),void(OE.isWaGame||!OE.isAndroid||Rz.call(this)||(i.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),i.layoutTimer=setTimeout((()=>{i.container.forceUpdate()}),250)));!i.isShowed||i.isEnded||i.isPause||setTimeout((()=>{!i.isShowed||i.isEnded||i.isPause||(Vz.call(this,"play"),iz.call(this))}),1e3),i.data&&23===i.data.product_type?i.adProxy.checkFollow(i.data.app.uin).then((e=>{Tz.call(this)&&i.adProxy.reportAdMonitorData(Nb.CHECK_FLOW_ERROR);var t=i.data.button_action.button_text;0===i.buttonTextType&&(i.button.value=e?"查看公众号":t,m$.call(this),rz.call(this,ob.CHANGEADBTNTEXT,{text:e?"查看公众号":t})),i.data.flooringPage&&2===i.pageType&&0===i.buttonTextType?i.pageCardButton.value=e?"查看公众号":t:i.data.flooringPage&&1===i.pageType&&0===i.buttonTextType?i.pageButton.value=e?"查看公众号":t:i.pageType||(i.defaultPageButton.value=e?"查看公众号":t),i.expandCardButton.value=e?"查看公众号":t,i.adProxy.data.biz_info&&(i.adProxy.data.biz_info.is_subscribed=e?1:0)})):i.data&&12===i.data.product_type&&Az.call(this),i.showTime=+new Date,setTimeout((()=>{var e;(i.flooringPageIsShow&&(i.flooringPageShowTime=+new Date,z$.call(this)),i.isLandingPage)&&(i.lastJsapiStatus=0,i.isLandingPage=!1,i.landingPageCostTime=i.showTime-i.hideTime,i.isPlayBackgroundSupported&&!i.isEnded&&(i.video.muted=i.videoMutedStatus),i.adProxy.reportLandingTime({slotId:KQ,costType:null!==(e=i.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,openTime:i.hideTime,closeTime:i.showTime,stayTime:i.landingPageCostTime,jsapiName:i.lastJsapiName,clickTime:i.lastLandingTime,clkCnt:i.landingCount,retCode:i.lastJsapiStatus,costTime:i.lastJsapiCostTime,actTypeInt:1}),OE.isWaGame||!OE.isAndroid||Rz.call(this)||(i.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),i.layoutTimer=setTimeout((()=>{i.container.forceUpdate()}),250)),i.adProxy.setRightButtonHide(!0).catch((()=>{})))}),10)}},EE(i.onShow),i.onHide=()=>{if(!Tz.call(this)){var e=Uz.call(this);if(i.hideTime=+new Date,Dz.call(this)&&i.isShowed){var t=i.adProxy.checkCanvasXmlState();return!t&&!i.isShowedExposureReported&&xz.call(this,"showed"),!t&&!i.isViewableExposureReported&&xz.call(this,"viewable")}if(!i.notReportExit&&i.isShowed){az.call(this);i.adProxy.reportVideo({playType:i.isPlaying?"partial":"complete",conditionType:"exit",playDuration:i.currentTime,videoDuration:e.duration,muted:i.video.muted});i.flooringPageIsShow&&(i.flooringPageCloseTime=(new Date).getTime(),Z$.call(this,{type:6,staytime:i.flooringPageCloseTime-i.flooringPageShowTime,componentsstartstr:JSON.stringify(i.flooringPageState)}),i.flooringPageShowTime=0,i.flooringPageCloseTime=0,H$.call(this))}}},DE(i.onHide),Y("onVideoResourceLoad",(e=>{!i.isShowed&&i.video&&i.video.src===e.resource&&(i.preloadVideoSuccess=!0,i.video.src=e.resource,i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_PRELOAD_SUCCESS))})),!0===t){var d=OE.isWaGame?"count":`count_${i.adProxy.getWebviewInfo().currentWebviewId}`,p=(UQ(d,i.adType)||0)+1;FQ(d,i.adType,p),p>=5&&(console.warn(`系统检测到您创建的激励视频广告实例过多，由于您当前使用的是多例模式，为避免影响${OE.isWaGame?"小游戏":"小程序"}性能，请减少实例创建数量或调用destroy方法销毁无用的实例`),5===p&&i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_INSTANCE_BROKEN))}}load(){if(Tz.call(this))return Promise.reject({errMsg:_$});var e=e$(this);if(e.isShowed)return Promise.reject({errMsg:"can't invoke load() while video-ad is showed"});if(e.isData)return Promise.resolve();var t=q$.call(this);return e.adFetchResult=t.catch((t=>{var r=-12001===t.errCode?{errMsg:"RewardedVideoAd fail no permission"}:t;throw e.emitter.emit("_error",r),r})),e.adFetchResult}show({branchId:e,branchDim:t,welfareData:r}={}){var n=this;return Nn()((function*(){if(Tz.call(n))return Promise.reject({errMsg:_$});var i=e$(n);if(i.isShowed)return Promise.resolve();if(!i.isData)return Promise.reject({errMsg:"no advertisement data available, please invoke load()"});var a=!1;try{a=(yield new Promise(((e,t)=>{zQ||t(),zQ&&(YQ=setTimeout(t,3e3)),zQ&&Kr({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:i}=r;!n&&i?(YQ&&clearTimeout(YQ),ro({title:"是否使用广告跳过卡",content:`当前还有${i}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?Kr({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?(lo({title:"使用广告卡失败",icon:"error"}),t()):(lo({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))).isUseAdSkipCard}catch(e){}if(a)return i.emitter.emit("close",{isEnded:!0}),i.adProxy.reportAdMonitorData(Nb.CHECK_AD_SKIP_CARD_SUCCESS),i.emitter.emit("load"),Promise.resolve();if(1===(UQ("show",i.adType)||0))return i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_OTHER_SHOW_ERROR),Promise.reject({errMsg:"can't invoke show() while other video-ad is showed"});uz.call(n,{stage:1001});var o=(new Date).getTime();return i.isSwitched=!1,FQ("show",i.adType,1),i.adProxy.setTimePoint("p19"),e?i.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):i.adProxy.resetAnalyseBranchInfo(),null!=r&&r.welfare_id&&null!=r&&r.welfare_trace?i.adWelfareData={welfare_id:r.welfare_id,welfare_trace:r.welfare_trace}:i.adWelfareData={},i.adFetchResult.then((()=>{if(Tz.call(n))return Promise.reject({errMsg:_$});NE(),J$.call(n);var e,{screenWidth:t,screenHeight:r}=OE;return OE.isWaGame?i.adProxy.reportVideoLastClick({touchStartX:Math.round(c$),touchStartY:Math.round(u$),touchEndX:Math.round(d$),touchEndY:Math.round(p$),touchDuration:f$,screenWidth:t,screenHeight:r}):(i.weappTouchEventHandler&&(e=i.weappTouchEventHandler,qw.off("_onWeappTouchEvent",e)),i.weappTouchEventHandler=((e,t)=>{var r=!1;if("function"==typeof e){var n=n=>{!r&&e(n,t),r=!0};return qw.on("_onWeappTouchEvent",n),n}return null})(v$,{aid:i.adProxy.data.aid,traceid:i.adProxy.data.traceid}),h("emitWeappTouchEvent")),i.adProxy.reportVideoLoadTime({beginTime:o,endTime:(new Date).getTime(),reportType:2}),i.isShowed=!0,i.startExposureTime=0,i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.isCardExposureReported=!1,i.adProxy.isViewable=!1,Dz.call(n)||Rz.call(n)?Pz.call(n):(i.adProxy.isValidCondition("widget_gray_video_sound")?(Hv.pauseAllAudio(),vv.pauseAllAudio(),mv.pauseAllAudio(),i.video.muted=!1,OE.isIOS&&(i.video.obeyMuteSwitch=!0),i.sound.src=r$):(i.video.muted=!0,i.sound.src=n$),i.count.style.hidden=!1,i.countDown.style.hidden=!1,i.splitLineLeft.style.hidden=!1,i.card.style.hidden=!0,i.container.style.hidden=!1,i.adFeedbackList.style.hidden=!0,i.adCover.show(),i.adProxy.setTimePoint("p15"),i.container.nextLayout().then((()=>Ca(500))).then((()=>{if(Tz.call(n))return Promise.reject({errMsg:_$});if(i.isSwitched)return fz.call(n,1);b$.call(n).then((()=>{i.topBar.style.hidden=!1,OE.isWaGame||(i.isFullscreen=!0)})).catch((()=>{i.topBar.style.hidden=!0}));var e={top:0,duration:500};return i.container.animate(e).then((()=>{qa(Ha);var{width:e,height:t}=i.video.style;i.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:e,height:t,weappExtraData:O()({},i.adWelfareData||{})});return i.startExposureTime=+new Date,Ca(500).then((()=>{i.isFirstPlay=!0,i.videoFirstPlayTime=(new Date).getTime(),i.adProxy.setTimePoint("p20"),Vz.call(n,"play"),iz.call(n),nz.call(n,ab.REWARDEDVIDEOPLAY)}))})).then((()=>{i.isFirstPlaySuccess=!0;var e=Uz.call(n);i.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:e.duration,muted:i.video.muted})})).catch((e=>{var t={errMsg:e,isSwitched:i.isSwitched};return i.adProxy.reportAdMonitorData(Nb.REWARDED_VIDEO_ANIMATE_ERROR,t),fz.call(n,2)}))})).catch((e=>{throw FQ("show",i.adType,0),e})))})).catch((e=>{throw FQ("show",i.adType,0),e}))}))()}isReady(){return!Tz.call(this)&&e$(this).isData}destory(){Sz.call(this)}destroy(){Sz.call(this)}onError(e){Tz.call(this)||e$(this).emitter.on("_error",e)}offError(e){Tz.call(this)||e$(this).emitter.off("_error",e)}onLoad(e){Tz.call(this)||e$(this).emitter.on("load",e)}offLoad(e){Tz.call(this)||e$(this).emitter.off("load",e)}onClose(e){if(!Tz.call(this)){var t=e$(this);t.emitter.on("close",e),e&&"function"==typeof e&&(t.closeEventCount+=1,t.closeEventCount>1&&console.warn("激励视频广告组件检测到您绑定了多次 onClose 事件，绑定重复的事件会产生多次重复的回调，请确认您绑定的事件是否重复，以免造成事件重复回调问题。"))}}offClose(e){if(!Tz.call(this)){var t=e$(this);t.emitter.off("close",e),e&&"function"==typeof e&&t.closeEventCount>0&&(t.closeEventCount-=1),e||(t.closeEventCount=0)}}}var Hz,Qz,$z=(e,t)=>{var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i of r)if("render"!==i){if("children"!==i&&e[i]!==t[i]){if("object"==typeof e[i]&&"object"==typeof t[i]&&$z(e[i],t[i]))continue;return!1}if("children"===i&&("string"==typeof e[i]||"string"==typeof t[i]))return e[i]===t[i]}else if(!e[i]!=!t[i])return!1;return!0},zz={view:"view",div:"view",span:"view",text:"text",image:"image",img:"image",video:"video"},Yz={view:ey,text:ty,image:uy,video:yy},Zz={text:["value"],image:["src"],view:[],video:["src","poster","referrerPolicy","referrer","initialTime","playbackRate","live","objectFit","controls","showProgress","showProgressInControlMode","autoplay","muted","loop","enableProgressGesture","enablePlayGesture","showCenterPlayBtn","autoInsert","scene","preLoad","obeyMuteSwitch","underGameView","playerHint","autoPauseIfOpenNative","autoPauseIfNavigate"],common:["autoInsert","eventType","bubbleEvent","clickState"]},qz={eventType:"touch",clickState:!1,bubbleEvent:!1,autoInsert:!1},Jz=["click","touchstart","touchmove","touchend"],Xz=e=>[...Zz[e]||[],...Zz.common],Kz=e=>{var t=[];for(var r of Object.keys(e))e[r]&&0===r.indexOf("on")&&t.push(r);return t},eY=(e,t)=>{var r=zz[e]||"view",n=Yz[r],i=Y_(O()(O()({},qz),t),Xz(r));t.id&&(i.name=t.id),t.style&&(i.style=t.style);var a=new n(i);for(var o of(a._sourceHandlers=new Map,a._handlers=new Map,a._type=r,a._isTemplate=!0,a.dataset={},Kz(t))){var s,l=o[2].toLowerCase()+o.slice(3);if(l in Sy){if("video"===r)null===(s=a[o])||void 0===s||s.call(a,t[o])}else a._handlers.set(l,t[o])}for(var c of Jz){var u=tY(a,c);a._sourceHandlers.has(c)||(a._sourceHandlers.set(c,u),a.on(c,u))}for(var d of(t.uniqueId&&(a.adId=t.uniqueId),a._manualStyle=t.style,Object.keys(t)))if(0===d.indexOf("data-")){var p=Sa(d.slice(5));a.dataset[p]=t[d]}return a},tY=function(e,t){return r=>{for(var n=!1,i=O()(O()({},r),{},{target:e,currentTarget:e,stopPropagation:()=>{n=!0}}),a=e;!n&&a&&a!==kA;){var o=a._handlers.get(t);null==o||o.call(e,i),a=a.parent}}},rY=(e,t)=>{var r=!1;for(var n of Object.keys(t))t[n]!==e[n]&&(e[n]=t[n],r=!0);return r},nY=e=>{for(var[t,r]of(e._handlers.clear(),e._sourceHandlers))e.off(t,r);e._sourceHandlers.clear()},iY={createInstance:(e,t)=>eY(e,t),createTextInstance:e=>eY("text",{value:e}),appendInitialChild(e,t){e.add(t)},finalizeInitialChildren:(e,t,r,n)=>(e._rootContainer=n,!0),prepareUpdate:(e,t,r,n)=>!$z(r,n),appendChild(e,t){e.add(t),aY(e)},appendChildToContainer(e,t){e.add(t),aY(t)},insertBefore(e,t,r){e.add(t)},insertInContainerBefore(e,t,r){e.add(t)},removeChild(e,t){e.remove(t),nY(t),aY(e)},removeChildFromContainer(e,t){e.remove(t),nY(t),aY(e)},resetTextContent(e){e.value=""},commitTextUpdate(e,t,r){e.value=r},commitMount(e){},commitUpdate(e,t,r,n,i){((e,t,r)=>{var n=Y_(O()(O()({},qz),r),Xz(e._type)),i=Y_(O()(O()({},qz),t),Xz(e._type)),a=r.style,o=t.style,s=Kz(r),l=Kz(t),c=!1;for(var u of Object.keys(o))u in a||(a[u]=null);var d=rY(e.style,a);for(var p of(c||(c=d),e._manualStyle=a,Object.keys(i)))p in n||(e[p]=null);for(var h of(d=rY(e,n),c||(c=d),l)){var f,g=h[2].toLowerCase()+h.slice(3);s.includes(h)||(g in Sy?"video"===e._type&&(null===(f=e[h.replace(/^on/,"off")])||void 0===f||f.call(e,t[h])):e._handlers.delete(h))}for(var v of s){var m;v[2].toLowerCase()+v.slice(3)in Sy?"video"===e._type&&(null===(m=e[v])||void 0===m||m.call(e,r[v]),c=!0):(e._handlers.has(v)&&e._handlers.delete(v),e._handlers.set(v,r[v]),c=!0)}a.fontSize===o.fontSize&&n.value===i.value||(e._hasEllipsis=!1),c&&aY(e)})(e,n,i)},hideInstance(e){e.style.hidden=!0},hideTextInstance(e){e.style.hidden=!0},unhideInstance(e){e.style.hidden=!1},unhideTextInstance(e){e.style.hidden=!1},clearContainer(e){Object.keys(e.children).forEach((t=>{var r=e.children[t];e.remove(r)}))}},aY=(()=>{var e=new Set,t=null;return r=>{e.add(r),t&&clearTimeout(t),t=setTimeout((()=>{var t=[];for(var r of e){for(var n=r.parent,i=!0;n;)e.has(n)&&(i=!1),n=n.parent;i&&t.push(r)}for(var a of t)mA(a);e.clear()}))}})(),oY={textAlign:"center",color:"#ffffff",lineBreak:"ellipsis",portrait:{width:247,fontSize:17,height:24,lineHeight:24},landscape:{width:185,fontSize:14,height:20,lineHeight:20}},sY={zIndex:1000009,position:"absolute",top:8,right:6,width:60,height:20,color:"#ffffff",fontSize:11,lineHeight:20,borderRadius:4,textAlign:"center"},lY={body:{zIndex:1000005,position:"absolute",overflow:"visibal",hidden:!0},container:{zIndex:1000005,position:"absolute",overflow:"hidden",opacity:0,hidden:!0,flexDirection:"column",alignItems:"center",justifyContent:"center"},mask:{top:0,left:0,backgroundColor:"#000000",opacity:.7,position:"absolute",overflow:"hidden"},cancelBox:{marginBottom:8,portrait:{width:HS,height:36},landscape:{width:QS,height:28},flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},cancel:{portrait:{width:36,height:36},landscape:{width:28,height:28}},adContainer:{flexDirection:"column",alignItems:"center",overflow:"hidden",borderRadius:8,portrait:{width:HS,height:YS},landscape:{width:QS,height:ZS}},adBackground:{position:"absolute",zIndex:1000006,portrait:{marginTop:90,width:HS,height:YS},landscape:{marginTop:70,width:QS,height:ZS},hidden:!0},adMask:{position:"absolute",zIndex:1000007,backgroundColor:"#000000",opacity:.5,borderRadius:8,portrait:{width:HS,height:YS},landscape:{width:QS,height:ZS},hidden:!0},adContent:{zIndex:1000008,portrait:{width:HS,height:204},landscape:{width:QS,height:168},flexDirection:"column",alignItems:"center"},adChannelsLiveReserve:O()(O()({},sY),{},{hidden:!0,backgroundColor:"#959FC1"}),adChannelsLive:O()(O()({},sY),{},{hidden:!0,backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}),adChannelsLiveIcon:{width:12,height:12,marginRight:4,marginLeft:4},adChannelsLiveText:{width:33,height:20,color:"#ffffff",fontSize:11,lineHeight:20,marginRight:8,textAlign:"center"},adChannelsLiveEnd:O()(O()({},sY),{},{hidden:!0,backgroundColor:"#959FC1"}),adWording:{flexDirection:"column",alignItems:"center",justifyContent:"center",portrait:{marginTop:24,marginBottom:12,height:72},landscape:{marginTop:16,marginBottom:10,height:60}},wordingLine0:oY,wordingLine1:oY,wordingLine2:oY,adButtonGroup:{flexDirection:"column",alignItems:"center",justifyContent:"center"},relationLine:{textAlign:"center",fontSize:12,height:16,lineHeight:16,color:"rgba(0, 0, 0, 0.3)",portrait:{width:247,marginBottom:12},landscape:{width:185,marginBottom:10}},adButton:{borderWidth:1,borderColor:"#ffffff",borderRadius:4,textAlign:"center",color:"#ffffff",portrait:{marginBottom:28,width:184,height:40},landscape:{marginBottom:24,width:184,height:32},flexDirection:"column",alignItems:"center",justifyContent:"center"},adButtonText:{textAlign:"center",color:"#ffffff",letterSpacing:1,fontSize:17,height:24,width:184,lineHeight:24},adFeedbackContainer:{position:"absolute",width:60,height:48,zIndex:1000008,top:0,left:0},adFeedback:{zIndex:1000008,width:35,height:16,marginTop:8,marginLeft:6,position:"absolute"},adFeedbackList:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adFeedbackTitle:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{zIndex:1000008,width:134,hidden:!0,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adQualityBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike0:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseTip:{hidden:!0,backgroundColor:"#ffffff",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:1000009,portrait:{width:HS,height:400},landscape:{width:QS,height:ZS}},adCloseTipWrap:{width:140,height:200,flex:1,justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:64,height:55},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a",marginTop:20,textAlign:"center"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:10,textAlign:"center"}},cY={adMedia:{zIndex:1000008,portrait:{width:HS,height:$S},landscape:{width:QS,height:zS}},adVideoAudioBox:{zIndex:1000008,position:"absolute",bottom:0,left:0,width:40,height:40},adVideoAudioIcon:{position:"absolute",bottom:8,left:8,width:24,height:24,hidden:!1},adVideoCountDown:{position:"absolute",top:8,right:10,color:"#ffffff",fontSize:12,lineHeight:18,width:24,height:18,textAlign:"right"},adVideoAfter:{position:"absolute",portrait:{width:HS,height:$S},landscape:{width:QS,height:zS},hidden:!0,alignItems:"center",opacity:0},adVideoAfterMask:{position:"absolute",backgroundColor:"#000000",opacity:.7,portrait:{width:HS,height:$S},landscape:{width:QS,height:zS}},adVideoClickMask:{position:"absolute",zIndex:1000008,borderRadius:6,portrait:{width:HS,height:$S},landscape:{width:QS,height:zS}},adVideoAfterIcon:{zIndex:1000008,flexDirection:"row",portrait:{width:48,height:48,marginTop:52,marginBottom:8},landscape:{width:36,height:36,marginTop:44,marginBottom:6},alignSelf:"center",borderRadius:4},adVideoAfterText:{zIndex:1000008,portrait:{fontSize:16,width:HS},landscape:{fontSize:11,width:QS},lineHeight:22,color:"#ffffff",textAlign:"center",height:22}},uY={adMedia:{zIndex:1000008,portrait:{width:HS,height:$S},landscape:{width:QS,height:zS}}},dY='\n    <view id="ad-feedback-container">\n      <image id="ad-feedback"  bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/adfeedback.png"></image>\n    </view>\n    <view id="ad-feedback-list">\n      <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n      <view id="ad-close-btn-line-dislike0"></view>\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <view id="ad-close-btn-line-dislike1"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line-dislike2"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line-dislike3"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n  ',pY=`\n    <view id="ad-video-container" click-state="true">\n      <video id="ad-media" click-state="true" bubble-event="true" controls="false" muted="true" autoplay="false" object-fit="cover" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad">\n        <view id="ad-video-click-mask" click-state="true" bubble-event="true"></view>\n        \n    <text id="ad-video-Count-Down">\n    </text>\n  \n        \n    <view id="ad-video-audio-box">\n      <image id="ad-video-audio-icon" bubble-event="true"></image>\n    </view>\n  \n        \n    <image id="ad-video-after" click-state="true" bubble-event="true" >\n        <view id="ad-video-after-mask" click-state="true" bubble-event="true"></view>\n        <image id="ad-video-after-icon" click-state="true" bubble-event="true"></image>\n        <text id="ad-video-after-text" click-state="true" bubble-event="true"></text>\n    </image>\n  \n        ${dY}\n      </video>\n    </view>\n  `,hY=`\n    <image id="ad-media">\n      ${dY}\n    </image>\n  `,fY={wordingLineTmpl:'\n  <text bubble-event="true"></text>\n'};!function(e){e[e.AD_BUTTON=1]="AD_BUTTON",e[e.AD_MATERIAL=2]="AD_MATERIAL",e[e.CLOSE_BUTTON=3]="CLOSE_BUTTON",e[e.MASK=4]="MASK",e[e.AD_DESC=5]="AD_DESC",e[e.TIMEOUT=6]="TIMEOUT",e[e.LANDPAGE_BACK=7]="LANDPAGE_BACK",e[e.FEEDBACK_DISLIKE=8]="FEEDBACK_DISLIKE"}(Hz||(Hz={})),function(e){e[e.CLOSE_BUTTON=1]="CLOSE_BUTTON",e[e.MASK=2]="MASK",e[e.TIMEOUT=3]="TIMEOUT",e[e.LANDPAGE_BACK=4]="LANDPAGE_BACK",e[e.ONSHOW=5]="ONSHOW",e[e.CRASH=6]="CRASH",e[e.SWITCH_PAGE_FREQUENTLY=7]="SWITCH_PAGE_FREQUENTLY",e[e.FEEDBACK_DISLIKE=8]="FEEDBACK_DISLIKE"}(Qz||(Qz={}));var gY=e=>VG(e),vY="https://wxa.wxs.qq.com/images/wxapp/new_audio_mute_icon.png",mY=0,_Y=0,yY=Se,AY=Ie,bY="",wY=!0,EY="image",CY="video";le.onReady((()=>{bY=jA();var e=ha();mY=e.screenWidth||0,_Y=e.screenHeight||0,wY=jr()}));var IY="3030046789020061",SY="interstitial-ad has been destroyed",TY=function(e,t=!0){if(dZ.call(this))return!1;var r=gY(this).adProxy.isTriggerClick(e),n=r?0:1;return t&&kY.call(this,e,n),r},xY=function(e,t=0){var r=gY(this);if(dZ.call(this)||!r.data)return!1;var n=!1,i=0;return r.adProxy.isValidCondition("widget_gray_time_limit_2")&&(i=100*(r.data.condition.widget_gray_time_limit_2||5)),i>0&&(0===r.startExposureTime||+new Date-r.startExposureTime<i)&&(n=!0,r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_LIMIT_TIME,{clickType:t})),r.isShow||(n=!1),n},PY=function(){var e,t=gY(this);return null!==(e=t.data)&&void 0!==e&&e.useTemplate?t.tmplContainer:t.container},kY=function(e,t=0){var r;if(!dZ.call(this)){var n=gY(this),i=PY.call(this);if(null!=i&&i.layoutBox){var{width:a,height:o}=i.layoutBox,s=0;return[0,2,3].includes(t)&&(n.clickCount+=1,s=n.clickCount),n.adProxy.reportTouchClick({slotid:IY,costtype:null!==(r=n.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,click_time:+new Date,click_cnt:s,start_posx:Math.round(e.relativeX)||0,start_posy:Math.round(e.relativeY)||0,end_posx:Math.round(e.relativeEndX)||0,end_posy:Math.round(e.relativeEndY)||0,ad_width:Math.round(a)||0,ad_height:Math.round(o)||0,press_interval:e.pressInterval,block_click:t})}}},DY=function(e){if(!dZ.call(this)){var t=gY(this),r=PY.call(this);if(null!=r&&r.layoutBox){var{left:n,top:i,width:a,height:o}=r.layoutBox,s={currentTime:t.videoCurrentTime,duration:t.videoDuration},l=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-n,clickRelativeTop:e.absoluteY-i,pressInterval:e.pressInterval,left:n,top:i,width:a,height:o,videoData:s});return RY.call(this,{stage:1002}),l}}},RY=function({stage:e}){dZ.call(this)||gY(this).adProxy.reportADFunnelModel({adtype:3,stage:e})},OY=function(e=!1){var t,r,n,i,a=gY(this);if(dZ.call(this)||!a.data)return Promise.resolve();var o=PY.call(this);if(null==o||!o.layoutBox)return Ca(0).then((()=>OY.call(this,e)));var s,{left:l,top:c,width:u,height:d}=o.layoutBox,p=a.data.useTemplate?null===(t=a.adTemplateRef)||void 0===t?void 0:t.isShow():!1===(null===(r=a.container)||void 0===r?void 0:r.style.hidden);if(!a.isShowedExposureReported&&p){a.isShowedExposureReported=!0,a.startExposureTime=+new Date,fZ.call(this);a.adProxy.reportExposure({left:l,top:c,width:u,height:d,exposureType:"showed"})}if(null!==(n=a.adTemplateRef)&&void 0!==n&&n.isShow()&&!a.hasEmitShowHalf)a.hasEmitShowHalf=!0,a.hasEmitHideHalf=!1,null===(s=a.adTemplateRef)||void 0===s||s.emitEvent(KT.ADSHOWHALF);else if(!(null!==(i=a.adTemplateRef)&&void 0!==i&&i.isShow()||a.hasEmitHideHalf)){var h;a.hasEmitShowHalf=!1,a.hasEmitHideHalf=!0,null===(h=a.adTemplateRef)||void 0===h||h.emitEvent(KT.ADHIDEHALF)}if(!a.isViewableExposureReported&&p&&a.ad_type===EY){if(!e)return Ca(1e3).then((()=>OY.call(this,!0)));a.isViewableExposureReported=!0,a.adProxy.isViewable=!0;a.adProxy.reportExposure({left:l,top:c,width:u,exposureType:"viewable"})}return Promise.resolve()},MY=function(e){var t;if(!dZ.call(this)){var r=gY(this),n=+new Date;return r.adProxy.reportCloseAction({slotid:IY,is_game:wY?1:0,costtype:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:n-r.startExposureTime-r.hideDuration,start_time:r.startExposureTime,close_time:n})}},LY=function(e,t={}){var r,n,i,a,o=gY(this);if(!dZ.call(this)&&o.data){var{width:s,height:l}=(o.data.useTemplate?null===(r=o.adTemplateRef)||void 0===r||null===(n=r.getElementById("adContainer"))||void 0===n?void 0:n.style:null===(i=o.adContainer)||void 0===i?void 0:i.style)||{width:0,height:0};return o.adProxy.reportAntifraud({click_button:e,cost_type:null!==(a=o.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,slotid:IY,is_game:wY?1:0,pageentertime:+new Date(o.adProxy.getProgramStartTime()),ad_width:Math.round(s)||0,ad_height:Math.round(l)||0,clientexptime:o.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX)||0,pos_y:Math.round(t.absoluteY)||0,screen_width:mY,screen_height:_Y})}},NY=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:r=0,secondGradeDesc:n="",feedbackReason:i=0}){if(!dZ.call(this)){var a=gY(this);e&&!r&&(a.clickFirstGradeTime=+new Date),a.adProxy.reportAdFeedbackData({adWidth:mY,adHeight:_Y,adPosX:0,adPosY:0,expTime:a.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?a.clickFirstGradeTime:0,secondGradeId:r,secondGradeDesc:n,secondGradeTime:r?+new Date:0,feedbackReason:i})}},BY=function(e={}){if(!dZ.call(this)){var t=gY(this);return Object.assign({autoCloseTime:t.autoCloseTime,launchTime:t.launchTime,frequencyTime:t.frequencyTime},e)}},WY=function(){if(!dZ.call(this)){var e=aa();mY=e.screenWidth,_Y=e.screenHeight,bY=mY>_Y?"landscape":"portrait"}},FY=function(){if(!dZ.call(this)){var e=gY(this),t=e.adProxy.fetch();return t.catch((t=>e.emitter.emit("_error",t))),e.adFetchResult=t,e.adFetchResult.then((t=>(e.isData=!0,e.data=t||{},e.ad_type=qS("video",t.crt_size)?CY:EY,e.autoCloseTime=t.card_info&&t.card_info.auto_close_time||15,e.launchTime=t.card_info&&t.card_info.launch_time||15,e.frequencyTime=t.card_info&&t.card_info.frequency_time||15,YY.call(this),zY.call(this))))}},UY=function(){var e=gY(this),{template:t,style:r}=(e=>({template:`\n  <view id="body">\n    <view id="container">\n      <view id="mask" bubble-event="true"></view>\n      <view id="cancel-box">\n        <image id="cancel" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/interstitialClose.jpeg"></image>\n      </view>\n      <view id="ad-container">\n        <image id="ad-background"></image>\n        <view id="ad-mask"></view>\n        ${"video"===e?pY:hY}\n        <text id="ad-channels-live-reserve" value="直播预约"></text>\n        <view id="ad-channels-live">\n          <image id="ad-channels-live-icon" src="https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"></image>\n          <text id="ad-channels-live-text" value="直播中"></text>\n        </view>\n        <text id="ad-channels-live-end" value="直播结束"></text>\n        <view id="ad-content">\n          <view id="ad-wording">\n          </view>\n          <view id="ad-button-group">\n            <text id="relation-line">placeholder</text>\n            <view id="ad-button" click-state="true">\n              <text id="ad-button-text" click-state="true" bubble-event="true"></text>\n            </view>\n          </view>\n        </view>\n        <view id="ad-close-tip">\n          <view id="ad-close-tip-wrap">\n            <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=b7cf6bfe332cf0a981234fdfd5bde985&filekey=3033020101041f301d02016d040253480410b7cf6bfe332cf0a981234fdfd5bde985020207b7040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353331363030303733623437313336666664393331323630333230613030303030303664&bizid=1023"></image>\n            <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n            <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n  `,style:O()(O()({},lY),"video"===e?cY:uY)}))(e.ad_type);e.cardStyle=r,e.cardXOM=Ey()(t).root,$G.call(this,e.cardXOM,r),kA.add(e.body),e.container.on("click",(t=>{if(TY.call(this,t,!1)&&!xY.call(this,t,4))return e.isClosing||(aZ.call(this,1),LY.call(this,4,t)),Promise.resolve()})),e.cancelBox.on("click",(t=>(e.isShow||e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK,{isClosing:e.isClosing}),TY.call(this,t,!1)?(xY.call(this,t,3)||e.isClosing||(aZ.call(this,0),LY.call(this,3,t)),Promise.resolve()):Promise.resolve()))),e.adFeedbackContainer.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||NY.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"})))})),e.adFeedbackBtn.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adProxy.openFeedbackUrl(wY?1007:1006),e.adFeedbackList.style.hidden=!0,NY.call(this,{secondGradeId:1,secondGradeDesc:"投诉"})))})),e.adDislikeBtn.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,NY.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"})))})),e.adQualityBtn.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,NY.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),aZ.call(this,7),LY.call(this,8,t)))})),e.adDuplicateBtn.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,NY.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),aZ.call(this,7),LY.call(this,8,t)))})),e.adDismatchBtn.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,NY.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),aZ.call(this,7),LY.call(this,8,t)))})),e.adButton.on("click",(e=>{TY.call(this,e)&&(xY.call(this,e,1)||lZ.call(this,e,1))})),e.adWording.on("click",(e=>{LY.call(this,5,e)})),e.ad_type===EY&&e.adMedia.on("click",(t=>{e.adProxy.isValidCondition("widget_gray_optimizedstyle")?TY.call(this,t)&&(xY.call(this,t,2)||lZ.call(this,t,2)):LY.call(this,2,t)})),e.ad_type===CY&&(e.adVideoClickMask.on("click",(e=>{TY.call(this,e)&&(xY.call(this,e,2)||lZ.call(this,e,2))})),e.adVideoAfter.on("click",(e=>{TY.call(this,e)&&(xY.call(this,e,2)||lZ.call(this,e,2))})),e.adVideoAudioBox.on("click",(t=>{TY.call(this,t,!1)&&(xY.call(this,t,1)||(e.adMedia.muted=!e.adMedia.muted,e.adVideoAudioIcon.src=e.adMedia.muted?vY:"https://wxa.wxs.qq.com/images/wxapp/new_audio_icon.png"))})),e.adMedia.onTimeUpdate((e=>VY.call(this,e))),e.adMedia.onEnded((()=>jY.call(this))),e.adMedia.onError((e=>GY.call(this,e))))},VY=function(e){var{duration:t,position:r}=e,n=gY(this);if(!dZ.call(this)&&n.data){var i=_Z.call(this);if(pZ.call(this),n.data.useTemplate||(i.autoplay=!1),r>0&&(n.videoCurrentTime=1e3*r),n.videoDuration=1e3*t,n.isFirstPlay){n.adProxy.setTimePoint("p21",{time:Date.now()-1e3*r});var a=0;n.showTime>n.videoFirstPlayTime&&(a=n.showTime-n.videoFirstPlayTime),n.adProxy.reportVideoLoadTime({beginTime:n.videoFirstPlayTime,endTime:(new Date).getTime()-Math.round(1e3*r),departureTime:a,reportType:1,preloadVideo:n.preloadVideo?1:0,preloadVideoSuccess:n.preloadVideoSuccess?1:0}),n.isFirstPlay=!1,RY.call(this,{stage:1004}),n.isFirstPlaySuccess=!0,n.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_VIDEO_PLAY_SUCCESS})}if(r>=1&&!n.isViewableExposureReported){var{width:o,height:s}=i.style;n.isViewableExposureReported=!0,n.adProxy.isViewable=!0;n.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:o,height:s})}if(!n.data.useTemplate){var l=Math.ceil(t-r);n.adVideoCountDown.value=`${l.toString()}s`,yY&&t-r<.6&&n.adVideoAfter.style.hidden&&(n.adVideoAfter.style.hidden=!1,n.adVideoAfter.animate({opacity:1,duration:350}),n.adVideoAudioBox.style.hidden=!0,n.adVideoCountDown.style.hidden=!0)}}},jY=function(){var e=gY(this);if(!dZ.call(this)&&e.data){e.videoCurrentTime=e.videoDuration,e.isEnded=!0,e.isPlaying=!1,hZ.call(this);e.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:e.videoCurrentTime,videoDuration:e.videoDuration,muted:yZ.call(this)});e.data.useTemplate||(e.adVideoAfter.style.hidden=!1,e.adVideoAudioBox.style.hidden=!0,e.adVideoCountDown.style.hidden=!0,AY&&e.adVideoAfter.animate({opacity:1,duration:300})),e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_VIDEO_PLAY_SUCCESS_END)}},GY=function(e){var t=gY(this);dZ.call(this)||(hZ.call(this),t.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_VIDEO_LOAD_ERROR,e))},HY=function(){var e=gY(this);if(dZ.call(this)||!e.data)return Promise.resolve();if(!e.cardStyle)return Promise.resolve();var{width:t,height:r}=e.data,n="portrait"===bY?YS/r:ZS/r,i="portrait"===bY?mY/375:_Y/375,a=e.cardStyle,o=Object.keys(a);o.forEach((t=>{if(a[t][bY]){var r=a[t][bY];Object.keys(r).forEach((n=>{var i;null!==(i=e[t])&&void 0!==i&&i.style&&(e[t].style[n]=r[n],a[t][n]=r[n])}))}}));var s=t*n;a.adBackground.width=s,e.adBackground.style.width=s,"portrait"===bY?(a.adMedia.width=HS,e.adMedia.style.width=HS,a.adMedia.height=$S,e.adMedia.style.height=$S,a.adBackground.height=YS,e.adBackground.style.height=YS,a.adBackground.left=0-(s-HS)/2,e.adBackground.style.left=0-(s-HS)/2):"landscape"===bY&&(e.adMedia.style.width=QS,a.adMedia.width=QS,e.adMedia.style.height=zS,a.adMedia.height=zS,e.adBackground.style.height=ZS,a.adBackground.height=ZS,e.adBackground.style.left=0-(s-QS)/2,a.adBackground.left=0-(s-QS)/2);var l=["width","height","fontSize","lineHeight","borderRadius"];return o.forEach((t=>{if(!["container","mask","body"].includes(t))if(l.forEach((r=>{var n,o;null!==(n=e[t])&&void 0!==n&&null!==(o=n.style)&&void 0!==o&&o[r]&&(e[t].style[r]=a[t][r]*i)})),"adWording"===t)e[t].style.marginTop=a[t].marginTop*i;else if("adButton"===t)e[t].style.marginBottom=a[t].marginBottom*i;else if("adVideoAfterIcon"===t)e[t].style.marginTop=a[t].marginTop*i,e[t].style.marginBottom=a[t].marginBottom*i;else if(0===t.indexOf("wordingLine")){var r,n="portrait"===bY?HS:QS;null!==(r=e[t])&&void 0!==r&&r.style&&(e[t].style.width=n*i)}})),e.adProxy.isValidCondition("widget_gray_close_v2")&&(e.adFeedbackList.style.height=98,e.adFeedbackBtn.style.height=32,e.adDislikeBtn.style.height=32,e.adCloseBtnLineDislike0.style.hidden=!1,e.adCloseBtnLineDislike1.style.hidden=!1,e.adCloseBtnLineDislike2.style.hidden=!1,e.adCloseBtnLineDislike3.style.hidden=!1,e.adDislikeBtn.style.hidden=!1),e.container.style.width=mY,e.container.style.height=_Y,e.body.style.width=mY,e.body.style.height=_Y,e.mask.style.width=mY,e.mask.style.height=_Y,e.container.nextLayout().then((()=>{if(!wY&&yY)return e.container.forceUpdate()}))},QY=function(){var e=Nn()((function*(){var e=gY(this);if(!dZ.call(this)&&e.data)try{var t;e.tmplContainer||(e.tmplContainer=new ey({name:"interstitialTemplContainer"})),kA.children[e.tmplContainer.id]||(kA.add(e.tmplContainer),e.tmplContainer.fullscreen=!0,wY||(e.tmplContainer.style.fixed=!0),e.tmplContainer.style.position="absolute",e.tmplContainer.style.left=0,e.tmplContainer.style.top=0),yield e.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:mY,screenHeight:_Y,deviceOrientation:bY,platform:Ie?"android":"ios",hostEnv:"minigame"},hostContainer:e.tmplContainer,template:e.data.template,adData:e.adProxy.data,adCustomId:"INTERSTITIAL",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0},extraScope:{private:e,cancelBoxIcon:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=0a13bee70ecfda3093ad0e183cc2576a&filekey=3033020101041f301d02016d0402534804100a13bee70ecfda3093ad0e183cc2576a0202105c040d00000004627466730000000131&hy=SH&storeid=32303138313232393033353031333030303365356565313336666664393336663561333230613030303030303664&bizid=1023"},ref:t=>{e.adTemplateRef=t,t.onEvent(e.handleAdTemplateEvent)}}),e.showDetailTime=+new Date,e.buttonTextType=e.data.button_action.text_type||0,e.data.product_type===Zb.ANDROID?(e.adProxy.setAppInstallState(!1),XY.call(this)):e.data.product_type===Zb.WE_CHAT&&e.data.app.isFollowed&&0===e.buttonTextType&&JY.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.emitter.emit("load"),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.emitter.emit("ready"),e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_TEMPLATE_RENDER_SUCCESS)}catch(t){e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_TEMPLATE_RENDER_FAILED,t),e.emitter.emit("_error",{errMsg:"interstitial render failed (internal)"})}}));return function(){return e.apply(this,arguments)}}(),$Y=function(){var e=Nn()((function*(){var e=gY(this);!dZ.call(this)&&e.adTemplateRef&&(WY.call(this),yield e.adTemplateRef.update({systemInfo:{screenWidth:mY,screenHeight:_Y,deviceOrientation:bY,platform:Ie?"android":"ios",hostEnv:"minigame"}}),e.showDetailTime=+new Date)}));return function(){return e.apply(this,arguments)}}(),zY=function(){var e=Nn()((function*(){var e=gY(this);if(dZ.call(this)||!e.data)return Promise.resolve();try{var t,r,{app:n,product_type:i,crtInfo:a,useTemplate:o,button_action:s,image_url:l,card_info:{bg_color:c,font_color:u,bg_img:d,desc:p,thumb:h,title:f},extBackComm:g}=e.data;if(o)return void(yield QY.call(this));var v,m=null==a||null===(t=a[0])||void 0===t||null===(r=t.card_info)||void 0===r?void 0:r.mp_tag_type;if(e.body&&kA.remove(e.body),UY.call(this),e.body.fullscreen=!0,wY||(e.body.style.fixed=!0),e.ad_type===CY){var{short_video:{thumb_url:_,video_url:y}}=e.data;e.adMask.style.hidden=!0,e.adBackground.style.hidden=!0,e.adVideoAfter.style.hidden=!0,e.adVideoAudioIcon.src=vY,e.adVideoAfter.src=d,e.adVideoAfterIcon.src=h,e.adVideoAfterText.value=f,e.adMedia.autoplay=!1,yY&&e.adMedia.src===y&&e.adMedia.seek(0),yY?(e.adMedia.poster=_,Ca(500).then((()=>{e.adMedia.src=y,e.adProxy.setTimePoint("p8")}))):(e.adProxy.setTimePoint("p8"),e.adMedia.src=y,e.adMedia.poster=_),e.adProxy.reportVideoLoadTime({beginTime:e.fetchBeginTime,endTime:(new Date).getTime(),reportType:2}),e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_VIDEO_LOAD})}else e.ad_type===EY&&(e.adMedia.src=l,e.adMask.style.hidden=!1,e.adBackground.style.hidden=!1,e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_IMAGE_LOAD}));if(c?(e.adMask.style.opacity=1,e.adMask.style.backgroundColor=c,v=u,e.relationLine.style.color=u,e.adButton.style.color=u,e.adButton.style.borderColor=u,e.adButtonText.style.color=u,e.adBackground.style.hidden=!0):e.adProxy.isValidCondition("widget_gray_optimizedstyle")?(e.adContainer.style.borderRadius=8,e.adContent.style.backgroundColor="#ffffff",v="#000000",e.relationLine.style.color="#b3b3b3",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#07c160",e.adButton.style.backgroundColor="#07c160",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===CY):(e.adMask.style.opacity=.5,e.adMask.style.backgroundColor="#000000",v="#ffffff",e.relationLine.style.color="#ffffff",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#ffffff",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===CY,e.adBackground.src=d),p.forEach(((t,r)=>{var n=`wordingLine${r}`,{root:i}=Ey()(fY.wordingLineTmpl);i.attributes.id=n;var a=jG.call(this,i);a.value=t,a.style.color=v,e.adWording.add(a)})),e.adButtonText.value=s.button_text,21474837086===g.ams_second_industry_id&&(e.adButtonText.value="点击跳转广告详情页",e.adButtonText.style.width=218,e.adButton.style.width=218),e.buttonTextType=s.text_type||0,m===qb.MP_TAG_TYPE_CONVERTION){var A=+new Date;Iw({buttonText:s.button_text,aid:e.adProxy.data.aid}).then((t=>{var r=+new Date;if(e.adProxy.reportRelationFetchDuration({startTime:A,endTime:r,showTime:e.showDetailTime||0}),t){var{count:n,descText:i}=t,a=`— 最近已有${n}人${i} —`;e.relationLine.value=a}else e.relationLine.value=""})).catch((t=>{e.relationLine.value="",e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_RELATION_FETCH_ERROR,t)}))}i===Zb.ANDROID?(e.adProxy.setAppInstallState(!1),XY.call(this)):i===Zb.WE_CHAT&&n.isFollowed&&0===e.buttonTextType&&JY.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})),e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_RENDER_SUCCESS})}catch(t){return e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_RENDER_ERROR_ALTERNATE}),e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_AD_RENDER_ERROR,t),e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_RENDER_ERROR}),Promise.reject(t)}return Promise.resolve()}));return function(){return e.apply(this,arguments)}}(),YY=function(){var e=gY(this);if(!dZ.call(this)&&e.ad_type===CY&&e.data){var{video_url:t,video_duration:r}=e.data.short_video;e.videoDuration=1e3*r,AY&&(e.preloadVideo=!0,e.preloadVideoSuccess=!1,e.adProxy.preloadVideo([t]).catch((t=>{e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_VIDEO_PRELOAD_ERROR,t)})))}},ZY=function(e){var t=gY(this);if(!dZ.call(this)&&t.data){var r;if(t.clickCount>1)t.adProxy.reportRepeatClick({slotId:IY,costType:null!==(r=t.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,clkCnt:t.clickCount,lastClkPeriod:+new Date-t.lastLandingTime,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,pageStayTime:t.landingPageCostTime,jsapiName:t.lastJsapiName});if(t.adProxy.land(e).then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?(t.isLandingPage=!0,hZ.call(this)):t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((()=>{t.lastJsapiStatus=1})),t.ad_type===CY)t.adProxy.reportVideo({playType:t.isPlaying?"partial":"complete",conditionType:"land",playDuration:t.videoCurrentTime,videoDuration:t.videoDuration,muted:yZ.call(this)})}},qY=function(){var e=gY(this);if(!dZ.call(this)&&e.data)return Ca(10).then((()=>e.adFetchResult.then((()=>{if(e.data&&e.isLandingPage){var t;e.lastJsapiStatus=0,e.isLandingPage=!1;var r=+new Date;e.landingPageCostTime=r-e.hideTime,e.adProxy.reportLandingTime({slotId:IY,costType:null!==(t=e.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,openTime:e.hideTime,closeTime:r,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),aZ.call(this,3)}})).catch((()=>{}))))},JY=function(){var e=Nn()((function*(e){var t,r=gY(this);!dZ.call(this)&&r.data&&(yield KY.call(this),r.data.useTemplate?null===(t=r.adTemplateRef)||void 0===t||t.emitEvent(KT.CHANGEADBTNTEXT,{text:e}):r.adButtonText.value=e)}));return function(t){return e.apply(this,arguments)}}(),XY=function(){var e=Nn()((function*(){var e=gY(this);if(!dZ.call(this)&&e.data){var{appInfo:{apkName:t,versionCode:r,urlScheme:n}}=e.data;try{var i=yield e.adProxy.getInstallState(t);i.isInstalled&&(void 0===i.versionCode||i.versionCode>=r)&&(e.androidAppState=4,e.adProxy.setAppInstallState(!0),n&&n.trim().length>0?JY.call(this,"进入应用"):JY.call(this,"查看应用"),1===e.buttonTextType&&JY.call(this,e.data.button_action.button_text))}catch(e){}}}));return function(){return e.apply(this,arguments)}}(),KY=function(e){if(!e||"function"!=typeof e)return new Promise((e=>KY.call(this,e)));var t=gY(this);return t.isReady?e():t.emitter.on("ready",e),Promise.resolve()},eZ=function(){var e=Nn()((function*(){var e;if(dZ.call(this))throw{errMsg:SY};var t=gY(this);yield $Y.call(this),yield null===(e=t.adTemplateRef)||void 0===e?void 0:e.show()}));return function(){return e.apply(this,arguments)}}(),tZ=function(){if(dZ.call(this))return Promise.reject({errMsg:SY});var e=gY(this);return e.onceSwitched=!1,e.startShow=+new Date,e.body.style.width=mY,e.body.style.height=_Y,!wY&&yY&&(e.body.style.hidden=!1),Promise.resolve().then((()=>{if(WY.call(this),dZ.call(this))throw{errMsg:SY};if(e.isShow=!0,e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!0,e.ad_type===CY){e.videoFirstPlayTime=(new Date).getTime(),e.adProxy.setTimePoint("p20"),pZ.call(this),e.adMedia.play(),e.adMedia.autoplay=!0,e.isFirstPlay=!0;e.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:e.videoDuration,muted:e.adMedia.muted});e.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_VIDEO_PLAY})}return HY.call(this).then((()=>(e.body.style.hidden&&(e.body.style.hidden=!1),e.container.style.hidden=!1,e.isSwitched?aZ.call(this,6):e.container.animate({opacity:1,duration:300}).then((()=>(e.showDetailTime=+new Date,e.container.nextLayout((()=>OY.call(this)))))).catch((t=>{var r={errMsg:t,isSwitched:e.isSwitched,onceSwitched:e.onceSwitched,startShow:e.startShow,enterRoute:e.enterRoute,enterTime:e.enterTime,outRoute:e.outRoute,outTime:e.outTime,lastRoute:e.lastRoute};return e.adProxy.reportAdMonitorData(Nb.INTERSTITIALAD_ANIMATE_ERROR,r),aZ.call(this,6).then((()=>Promise.reject({errCode:2004,errMsg:"广告渲染失败，或因小程序页面切换导致广告渲染失败"})))})))))}))},rZ=function({branchId:e,branchDim:t}={}){if(dZ.call(this))return Promise.reject({errMsg:SY});var r=gY(this);if(1===(function(){if(WQ.hasOwnProperty("show")){var e=Object.keys(WQ.show).map((e=>WQ.show[e]));return Math.max(...e)}}()||0))return r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_SHOW_FAIL3,BY.call(this)),Promise.reject({errCode:2003,errMsg:"当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告"});var{createWebviewId:n,currentWebviewId:i}=r.adProxy.getWebviewInfo();return n!==i?(r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_SHOW_FAIL5,BY.call(this)),Promise.reject({errCode:2005,errMsg:"插屏广告并非当前页面调用，不允许展示插屏广告"})):(r.adProxy.setTimePoint("p19"),r.isSwitched=!1,FQ("show",r.adType,1),r.showTime=+new Date,r.fetchBeginTime=(new Date).getTime(),e?r.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):r.adProxy.resetAnalyseBranchInfo(),r.adFetchResult.catch((()=>Promise.reject({errMsg:"no ad data"}))).then((()=>{var e=+new Date-+new Date(r.adProxy.getProgramStartTime());if(e<=1e3*r.launchTime)return r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_SHOW_FAIL1,BY.call(this,{startInterval:e})),Promise.reject({errCode:2001,errMsg:"小程序启动一定时间内不允许展示插屏广告"});var t=function(){if(WQ.hasOwnProperty("close")){var e=Object.keys(WQ.close).map((e=>WQ.close[e]));return Math.max(...e)}}()||0,n=+new Date-t;return n<=1e3*r.frequencyTime?(r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_SHOW_FAIL2,BY.call(this,{closeInterval:n})),Promise.reject({errCode:2002,errMsg:"距离小程序插屏广告或者激励视频广告上次播放时间间隔不足，不允许展示插屏广告"})):(RY.call(this,{stage:1001}),KY.call(this).then((()=>r.data.useTemplate?eZ.call(this):tZ.call(this))).then((()=>{r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_SHOW_SUCCESS,BY.call(this))})))})).catch((e=>(FQ("show",r.adType,0),Promise.reject(e)))))},nZ=function(){var e=Nn()((function*(){var e;if(!dZ.call(this)){var t=gY(this);t.androidAppState=0,t.data=null,t.isData=!1,t.isShow=!1,t.cardXOM=null,t.cardStyle=null,t.startExposureTime=0,t.isShowedExposureReported=!1,t.isViewableExposureReported=!1,t.adProxy.isViewable=!1,t.lastCloseTime=0,t.buttonTextType=0,t.startExposureTime=0,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.showTime=0,t.isClosing=!1,t.clickFirstGradeTime=0,t.body&&(t.body.style.hidden=!0),t.container&&(t.container.style.hidden=!0),t.isReady=!1,t.hasEmitShowHalf=!1,t.hasEmitHideHalf=!0,t.videoFirstPlayTime=0,t.isEnded=!1,t.fetchBeginTime=0,t.videoCurrentTime=0,t.videoDuration=0,t.isPlaying=!1,t.isFirstPlay=!1,t.isFirstPlaySuccess=!1,t.preloadVideo=!1,t.preloadVideoSuccess=!1,t.keepAliveTimer=null,t.isSwitched=!1,t.onceSwitched=!1,t.startShow=0,t.showDetailTime=0,t.tmplContainer=null,t.handleAdTemplateEvent&&(null===(e=t.adTemplateRef)||void 0===e||e.offEvent(t.handleAdTemplateEvent)),t.adTemplateRef=null,t.isEnded?RY.call(this,{stage:1005}):RY.call(this,{stage:1006}),FQ("show",t.adType,0),FQ("close",t.adType,+new Date),gZ.call(this,"none"),!wY&&yY?Ca(100).then((()=>{t.emitter.emit("close")})):t.emitter.emit("close"),yield sZ.call(this),t.adProxy.reset()}}));return function(){return e.apply(this,arguments)}}(),iZ=function(){var e=Nn()((function*(e){var t;if(dZ.call(this))return Promise.resolve();var r=gY(this);r.adProxy.reportTimePoints({slotid:IY,costtype:null!==(t=r.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,extInfo:{preloadVideoSuccess:r.preloadVideoSuccess?1:0}}),[4,6].includes(e)||(yield r.container.animate({opacity:0,duration:300})),MY.call(this,e),2===e?LY.call(this,6):3===e&&LY.call(this,7),yield nZ.call(this),4!==e&&(yield FY.call(this))}));return function(t){return e.apply(this,arguments)}}(),aZ=function(e){var t=gY(this);return dZ.call(this)||!t.data?Promise.resolve():t.data.useTemplate?oZ.call(this,e):t.isClosing?Promise.resolve():t.container?(t.isClosing=!0,t.ad_type===CY&&(t.adProxy.reportVideo({playType:t.isEnded?"complete":"partial",conditionType:"close",playDuration:t.videoCurrentTime,videoDuration:t.videoDuration,muted:t.adMedia.muted}),t.adMedia.autoplay=!1,t.adMedia.pause(),hZ.call(this),t.adMedia.muted=!0,t.adVideoAfter.style.opacity=0),t.container.ready().then((()=>iZ.call(this,e))).then((()=>t.isClosing=!1)).catch((e=>{t.isClosing=!1,t.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_HIDE_ERROR,e)}))):(t.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_NO_CONTAINER}),Promise.resolve())},oZ=function(){var e=Nn()((function*(e){if(!dZ.call(this)){var t=gY(this);if(t.adTemplateRef){t.isClosing=!0;try{var r,n,i;t.adTemplateRef.hide(),null===(r=t.adTemplateRef)||void 0===r||r.emitEvent(KT.ADHIDEHALF),t.adProxy.reportTimePoints({slotid:IY,costtype:null!==(n=t.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,extInfo:{preloadVideoSuccess:t.preloadVideoSuccess?1:0}}),MY.call(this,e),2===e?LY.call(this,6):3===e&&LY.call(this,7),yield nZ.call(this),4!==e&&(yield FY.call(this)),yield null===(i=t.adTemplateRef.getRootElement())||void 0===i?void 0:i.ready(),t.isClosing=!1}catch(e){t.isClosing=!1,t.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_HIDE_ERROR,e)}}}}));return function(t){return e.apply(this,arguments)}}(),sZ=function(){var e=Nn()((function*(){var e,t,r=gY(this);null===(e=r.adTemplateRef)||void 0===e||e.offEvent(r.handleAdTemplateEvent),null===(t=r.adTemplateRef)||void 0===t||t.hide(),yield Ca(2100),yield r.adTemplate.unmount({hostContainer:r.tmplContainer})}));return function(){return e.apply(this,arguments)}}(),lZ=function(e,t){var r=gY(this);if(r.isShow||r.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK,t.toString()),!dZ.call(this)&&r.data){var{appInfo:{urlScheme:n},product_type:i,dest_type:a,extBackComm:o}=r.data,s={isButton:Boolean(o.is_from_snsadinfo&&t===Hz.AD_BUTTON)};12===i&&AY&&4===r.androidAppState&&n&&n.trim().length>0?(DY.call(this,e),LY.call(this,t,e),r.adProxy.launchApplication(n).catch((()=>{})),r.lastJsapiName="launchApplication",r.isLandingPage=!0):yY&&46===i&&6===a?Promise.race([DY.call(this,e),Ca(500)]).then((()=>{LY.call(this,t,e),ZY.call(this,s)})).catch((()=>{LY.call(this,t,e),ZY.call(this,s)})):(DY.call(this,e),LY.call(this,t,e),ZY.call(this,s))}},cZ=function(){var e=gY(this);CE(e.handleEnterForeground),RE(e.handleEnterBackground),e.emitter.off("_error"),e.emitter.off("load"),e.emitter.off("close"),kA.remove(e.body),GG(this)},uZ=function(){dZ.call(this)||(KY.call(this).then((()=>{var e=gY(this);e.isShow&&(FQ("show",e.adType,0),FQ("close",e.adType,+new Date)),cZ.call(this)})),this._destroyed=!0)},dZ=function(){return this._destroyed},pZ=function(){var e=gY(this);hZ.call(this),e.keepAliveTimer=setTimeout((()=>{var t;e.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_KEEP_ALIVE,{currentTime:e.videoCurrentTime,duration:e.videoDuration,src:(null===(t=_Z.call(this))||void 0===t?void 0:t.src)||"",preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},hZ=function(){var e=gY(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},fZ=function(){var e=Nn()((function*(){var e=gY(this);if(e.ad_type===EY){var t=yield e.adProxy.getChannelsLiveStatus();gZ.call(this,t)}}));return function(){return e.apply(this,arguments)}}(),gZ=function(e){var t=gY(this);if(!dZ.call(this)&&t.data){var r={adChannelsLiveReserve:!1,adChannelsLive:!1,adChannelsLiveEnd:!1};for(var n of("onlive"===e?r.adChannelsLive=!0:"end"===e?r.adChannelsLiveEnd=!0:"reserve"===e&&(r.adChannelsLiveReserve=!0),Object.keys(r))){var i;t.data.useTemplate&&t.adTemplateRef?t.adTemplateRef.emitEvent(KT.SETSTYLE,{targetid:`${t.adTemplateRef.getCustomId()}-${n}`,style:{display:r[n]?"":"none"}}):null!==(i=t[n])&&void 0!==i&&i.style&&(t[n].style.hidden=!r[n])}}},vZ=function(e){var t,r,n=gY(this);if(!dZ.call(this)&&n.data&&n.adTemplateRef)switch(e.action){case KT.TRIGGEREVENT:["error"].includes(e.value.eventName)&&n.emitter.emit(e.value.eventName,e.value.detail||{});break;case KT.HIDEAD:aZ.call(this,0);break;case KT.ADSHOWHALF:n.isShow=!0,null===(t=n.adTemplateRef)||void 0===t||t.emitEvent(KT.OPERATEADVIDEO,{type:"play"});break;case KT.ADHIDEHALF:n.isShow=!1,null===(r=n.adTemplateRef)||void 0===r||r.emitEvent(KT.OPERATEADVIDEO,{type:"pause"});break;case KT.CHECKEXPOSURE:OY.call(this);break;case KT.FEEDBACKREPORT:NY.call(this,e.value);break;case KT.ADVIDEOPLAY:n.videoFirstPlayTime=(new Date).getTime(),n.adProxy.setTimePoint("p20"),pZ.call(this),n.isFirstPlay=!0,n.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_VIDEO_PLAY});break;case KT.ADVIDEOTIMEUPDATE:VY.call(this,e.value);break;case KT.ADVIDEOENDED:jY.call(this);break;case KT.ADVIDEOLOADFAILED:GY.call(this,"videoError");break;case KT.REPORTVIDEOPLAY:var{playType:i,conditionType:a,videoInfo:{playDuration:o,videoDuration:s,isMuted:l}}=e.value;n.adProxy.reportVideo({playType:i,conditionType:a,playDuration:o,videoDuration:s,muted:l});break;case KT.FETCHRELATIONTEXT:var c,u,{targetid:d}=e.value,{crtInfo:p,button_action:h}=n.data;if(8===(null==p||null===(c=p[0])||void 0===c||null===(u=c.card_info)||void 0===u?void 0:u.mp_tag_type)){var f=+new Date;Iw({buttonText:h.button_text,aid:n.adProxy.data.aid}).then((e=>{var t=+new Date;if(n.adProxy.reportRelationFetchDuration({startTime:f,endTime:t,showTime:n.showDetailTime||0}),e){var r,{count:i,descText:a}=e,o=`— 最近已有${i}人${a} —`;null===(r=n.adTemplateRef)||void 0===r||r.emitEvent(KT.CHANGERELATIONTEXT,{targetid:d,text:o}),n.relationLine.value=o}})).catch((e=>{n.adProxy.reportAdMonitorData(Nb.INTERSTITIAL_RELATION_FETCH_ERROR,e)}))}break;case KT.TEMPLATEMESSAGE:var g,v;"posClick"===e.value.message&&null!==(g=e.value.actionArgs)&&void 0!==g&&g.event&&null!==(v=e.value.args)&&void 0!==v&&v.pos&&mZ.call(this,e.value.actionArgs.event,e.value.args.pos);break;default:n.adProxy.handleAdTemplateEvent(e)}},mZ=function(){var e=Nn()((function*(e,t){var r={judgeClick:!1,clickLimit:null,closeType:null,clickType:null,reportFraudType:null};switch(t){case"mask":Object.assign(r,{clickLimit:Hz.MASK,closeType:Qz.MASK,reportFraudType:Hz.MASK});break;case"cancelBox":Object.assign(r,{clickLimit:Hz.CLOSE_BUTTON,closeType:Qz.CLOSE_BUTTON,reportFraudType:Hz.CLOSE_BUTTON});break;case"adImage":case"adVideo":case"videoAfter":Object.assign(r,{judgeClick:!0,clickLimit:Hz.AD_MATERIAL,clickType:Hz.AD_MATERIAL});break;case"adButton":Object.assign(r,{judgeClick:!0,clickLimit:Hz.AD_BUTTON,clickType:Hz.AD_BUTTON});break;case"wording":r.reportFraudType=Hz.AD_DESC;break;case"afterDislike":Object.assign(r,{closeType:Qz.FEEDBACK_DISLIKE,reportFraudType:Hz.FEEDBACK_DISLIKE})}TY.call(this,e,r.judgeClick)&&(r.clickLimit&&xY.call(this,e,r.clickLimit)||(r.clickType&&(yield lZ.call(this,e,r.clickType)),r.reportFraudType&&LY.call(this,r.reportFraudType,e),r.closeType&&(yield aZ.call(this,r.closeType))))}));return function(t,r){return e.apply(this,arguments)}}(),_Z=function(){var e,t=gY(this);return dZ.call(this)||!t.data?null:t.data.useTemplate?(null===(e=t.adTemplateRef)||void 0===e?void 0:e.getElementById("adVideo","video"))||null:t.adMedia},yZ=function(){var e;return(null===(e=_Z.call(this))||void 0===e?void 0:e.muted)||!1};class AZ extends HG{constructor({adUnitId:e,pluginId:t=""}){super(),this._destroyed=!1;var r=gY(this);r.adUnitId=e,r.adType="interstitialAd",r.cardXOM=null,r.cardStyle=null,r.ad_type="image",r.emitter=new SH,r.adProxy=new KP({adUnitId:e,adType:"interstitialAd",pluginAppid:t}),r.adTemplate=new class{constructor(e){var t;this.adCustomIdInc=0,this.containerMap=new WeakMap,"renderer"in e?(((e,t)=>{if(!e)throw new Error("options.renderer achieved uncompletely")})(((e,t)=>{for(let r of t)if(null==(null==e?void 0:e[r]))return!1;return!0})(e.renderer,["render","unmount","findDOMNode"])),this.renderer=e.renderer):this.renderer=new class{constructor(e){this.presetHostConfig={shouldSetTextContent:()=>!1,getRootHostContext:()=>null,getChildHostContext:e=>e,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit:()=>{},preparePortalMount:()=>{},supportsMutation:!0,now:Date.now,scheduleTimeout:(e,t)=>setTimeout(e,t),cancelTimeout:e=>clearTimeout(e),noTimeout:-1,isPrimaryRenderer:!1,commitMount:()=>{}},this.renderer=(0,yT.default)(oT(oT({},this.presetHostConfig),e))}render(e,t){return new Promise(((r,n)=>{try{t._rootContainer||(t._rootContainer=this.renderer.createContainer(t,!1,!1)),this.renderer.updateContainer(e,t._rootContainer,null,(()=>r()))}catch(e){n(e)}}))}unmount(e){return new Promise(((t,r)=>{if(e._rootContainer){try{this.renderer.updateContainer(null,e._rootContainer,null,(()=>t()))}catch(e){r(e)}delete e._rootContainer}}))}findDOMNode(e){return null==e?null:this.renderer.findHostInstance(e)}}(e.hostConfig),this.hostContext=e.hostContext,this.useTextTag=null==(t=e.useTextTag)||t,this.globalEventDelegator=new class{constructor(e){this.options=e,this.handlers={},this.sep="<^.^>",this.handleEvent=e=>t=>{if(!t.target||!this.options.getPropertyOfElement)return;let r=!1,n=!1,i=oT(oT({},t),{stopPropagation:()=>{r=!0},stopImmediatePropagation:()=>{n=!0}}),a=t.target;for(;a&&!r;){let{templateId:t,id:r}=PT(a),o=`${e}${this.sep}${t}-${r}`;if(this.handlers[o])for(let e of this.handlers[o])n||e(i);a=this.options.getPropertyOfElement(a,"parent")}let o=`${e}${this.sep}__global`;if(this.handlers[o]&&!r)for(let e of this.handlers[o])n||e(i)},this.handleTouchStart=this.handleEvent("touchstart"),this.handleTouchMove=this.handleEvent("touchmove"),this.handleTouchEnd=this.handleEvent("touchend"),this.handleTouchCancel=this.handleEvent("touchcancel"),this.handleClick=this.handleEvent("click"),e.onGlobalEvent&&e.getPropertyOfElement&&(e.onGlobalEvent("touchstart",this.handleTouchStart),e.onGlobalEvent("touchmove",this.handleTouchMove),e.onGlobalEvent("touchend",this.handleTouchEnd),e.onGlobalEvent("touchcancel",this.handleTouchCancel),e.onGlobalEvent("click",this.handleClick))}on(e,t,r){var n;let i=`${e}${this.sep}${t}`;(n=this.handlers)[i]||(n[i]=new Set),this.handlers[i].add(r)}onGlobal(e,t){var r;let n=`${e}${this.sep}__global`;(r=this.handlers)[n]||(r[n]=new Set),this.handlers[n].add(t)}off(e,t,r){let n=`${e}${this.sep}${t}`;this.handlers[n]&&this.handlers[n].delete(r)}offGlobal(e,t){let r=`${e}${this.sep}__global`;this.handlers[r]&&this.handlers[r].delete(t)}destroy(){this.options.offGlobalEvent&&(this.options.offGlobalEvent("touchstart",this.handleTouchStart),this.options.offGlobalEvent("touchmove",this.handleTouchMove),this.options.offGlobalEvent("touchend",this.handleTouchEnd),this.options.offGlobalEvent("touchcancel",this.handleTouchCancel),this.options.offGlobalEvent("click",this.handleClick)),this.handlers={}}}({onGlobalEvent:e.hostContext.onGlobalEvent,offGlobalEvent:e.hostContext.offGlobalEvent,getPropertyOfElement:e.hostContext.getPropertyOfElement})}generateCustomId(){return this.adCustomIdInc+=1,`AD_CUSTOM_${this.adCustomIdInc}`}getConvertRatio(e,t=0,r){let{width:n}=r||{};null==n&&(n=t),n=Number(n);let i=e.minWidth||0,a=e.maxWidth||0,o=e.baseWidth||375,s=Math.min(t,Math.max(i,n));return a&&(s=Math.min(s,a)),0===s?{ratio:1,width:null}:{ratio:s/o,width:s}}render(e){return uT(this,null,(function*(){if("isEmpty"in e&&e.isEmpty)return this.renderer.render(_T.default.createElement(qP,null),e.hostContainer);let{hostContainer:t,adData:r,template:n,position:i,systemInfo:a,isMulti:o,darkMode:s,adCustomId:l,styleOptions:c,flattenLayer:u,ref:d,extraScope:p}=e,{adDatas:h}=e,{hostContext:f}=this,g=l||this.generateCustomId(),v=new WT({maxListeners:1e3}),m=_T.default.createRef(),{ratio:_,width:y}=this.getConvertRatio(n.tplConfig||{},a.screenWidth,i);h||(h=[r]),null!=y&&null!=(null==i?void 0:i.width)&&(i.width=y),null==d||d({emitEvent:(e,t)=>{v.emit("adCustomEvent",oT({adCustomId:g,action:e},t?{value:t}:{}))},onEvent:e=>(v.on("adCustomEvent",e),e),offEvent:e=>{v.off("adCustomEvent",e)},getRootData:e=>{var t;return null==(t=m.current)?void 0:t.getRootData(e)},getCustomId:()=>g,getElementById:(e,t)=>m.current&&m.current.travelAndFindElementByIdDeeply(e,t,this.renderer.findDOMNode(m.current))||null,update:e=>uT(this,null,(function*(){let r=(e=>Object.keys(e).reduce(((t,r)=>oT(oT({},t),null==e[r]?{}:{[r]:e[r]})),{}))(FT(e,["adData","adDatas","template","position","systemInfo","isMulti","darkMode","extraScope"]));m.current&&(yield this.renderer.render(_T.default.createElement(qx,oT({},oT(oT(oT({},m.current.props),{ref:m}),r))),t))})),getRootElement:()=>m.current?this.renderer.findDOMNode(m.current):null,show:()=>uT(this,null,(function*(){var e;yield null==(e=m.current)?void 0:e.show()})),hide:()=>uT(this,null,(function*(){var e;yield null==(e=m.current)?void 0:e.hide()})),isShow:()=>{var e;return(null==(e=m.current)?void 0:e.isShow())||!1}}),this.containerMap.set(t,{emitter:v}),yield this.renderer.render(_T.default.createElement(qx,oT({},{adData:r,adDatas:h,isMulti:o||!1,systemInfo:a,position:i,adCustomId:g,darkMode:s,template:n,emitter:v,hostContext:f,extraScope:p,ref:m,renderContext:{hostContainer:t,ratio:_,useTextTag:this.useTextTag,isFlattenLayer:()=>{var e,t;return null!=u?u:"root"===n.type&&null!=(null==(t=null==(e=null==n?void 0:n.options)?void 0:e.data)?void 0:t.flattenLayer)&&n.options.data.flattenLayer},styleOptions:c||{},getRootElement:e=>this.renderer.findDOMNode(e),globalEventDelegator:this.globalEventDelegator}})),t)}))}unmount(e){let{hostContainer:t}=e;if(!this.containerMap.has(t))return;let{emitter:r}=this.containerMap.get(t);return r.removeAllListeners(),this.renderer.unmount(t)}destroy(){this.globalEventDelegator.destroy()}}({hostConfig:iY,hostContext:{onAppEnterForeground:EE,offAppEnterForeground:CE,onAppEnterBackground:DE,offAppEnterBackground:RE,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Dy(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),Ca(t.duration)]),getTextWidth:(e,t)=>rA.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}),r.androidAppState=0,r.isShowedExposureReported=!1,r.isViewableExposureReported=!1,r.isReady=!1,r.isShow=!1,r.emitter.on("ready",(()=>r.isReady=!0)),r.lastCloseTime=0,r.autoCloseTime=15,r.launchTime=15,r.frequencyTime=15,r.startExposureTime=0,r.clickCount=0,r.lastLandingTime=0,r.lastJsapiName="",r.lastJsapiStatus=0,r.lastJsapiCostTime=0,r.isLandingPage=!1,r.landingPageCostTime=0,r.hideTime=0,r.showTime=0,r.hideDuration=0,r.isClosing=!1,r.clickFirstGradeTime=0,r.videoFirstPlayTime=0,r.isEnded=!1,r.fetchBeginTime=0,r.videoCurrentTime=0,r.videoDuration=0,r.isPlaying=!1,r.isFirstPlay=!1,r.preloadVideo=!1,r.preloadVideoSuccess=!1,r.keepAliveTimer=null,r.hasEmitShowHalf=!1,r.hasEmitHideHalf=!0,r.tmplContainer=null,r.isData=!1,r.isSwitched=!1,r.onceSwitched=!1,r.startShow=0;var{openType:n,createWebviewId:i,lastWebviewId:a,currentWebviewId:o}=r.adProxy.getWebviewInfo(),s=[n,a,o,i];r.outRoute="",r.lastRoute="",r.enterTime=0,r.outTime=0,i===o&&(r.enterRoute=s.join("|"),r.enterTime=+new Date,r.lastRoute="enter"),i===a&&(r.outRoute=s.join("|"),r.outTime=+new Date,r.lastRoute="out"),r.handleAdTemplateEvent=e=>{vZ.call(this,e)},FY.call(this),wY||(Kn((e=>{if(!dZ.call(this)){var{createWebviewId:t,lastWebviewId:n,currentWebviewId:i}=r.adProxy.getWebviewInfo(),a=[e.openType,n,i,t];t===i&&(r.enterRoute=a.join("|"),r.enterTime=+new Date,r.onceSwitched=!0,r.lastRoute="enter"),t===n&&(r.outRoute=a.join("|"),r.outTime=+new Date,r.onceSwitched=!0,r.lastRoute="out")}})),Mo((()=>{if(!dZ.call(this)){var{openType:e,createWebviewId:t,currentWebviewId:n}=r.adProxy.getWebviewInfo();["navigateTo","navigateBack","switchTab"].includes(e)&&t===n&&(r.isSwitched=!0,r.isShow&&aZ.call(this,4))}})),$o((e=>{!dZ.call(this)&&r.isShow&&r.data&&e.size&&(_Y=e.size.screenHeight,mY=e.size.screenWidth,bY=e.deviceOrientation,r.data.useTemplate?$Y.call(this).then((()=>{r.adTemplateRef.emitEvent(KT.HOSTMESSAGE,{message:"screenResize"})})):HY.call(this))}))),r.handleEnterForeground=()=>{if(!dZ.call(this)&&r.data){r.ad_type===CY&&r.isShow&&pZ.call(this);var e=bY;WY.call(this),e!==bY&&r.isShow&&(r.data.useTemplate?$Y.call(this):HY.call(this)),r.hideTime>0&&r.isShow&&(r.hideDuration+=+new Date-r.hideTime),qY.call(this)}},r.handleEnterBackground=()=>{if(!dZ.call(this)&&r.isShow&&(r.hideTime=+new Date,r.ad_type===CY)){hZ.call(this);r.adProxy.reportVideo({playType:r.isPlaying?"partial":"complete",conditionType:"exit",playDuration:r.videoCurrentTime,videoDuration:r.videoDuration,muted:yZ.call(this)})}},EE(r.handleEnterForeground),DE(r.handleEnterBackground),Y("onVideoResourceLoad",(e=>{!r.isShow&&r.ad_type===CY&&r.adMedia&&r.adMedia.src===e.resource&&(r.adProxy.reportAdIDKey({key:Nb.INTERSTITIAL_VIDEO_PRELOAD_SUCCESS}),r.preloadVideoSuccess=!0,r.adMedia.src=e.resource)}))}load(){if(dZ.call(this))return Promise.reject({errMsg:SY});var e=gY(this);return e.isShow?Promise.reject({errMsg:"can't invoke load() while interstitial-ad is showed"}):e.isData?Promise.resolve():FY.call(this)}show(e){return dZ.call(this)?Promise.reject({errMsg:SY}):rZ.call(this,e)}destory(){uZ.call(this)}destroy(){uZ.call(this)}onError(e){dZ.call(this)||gY(this).emitter.on("_error",e)}offError(e){dZ.call(this)||gY(this).emitter.off("_error",e)}onLoad(e){dZ.call(this)||gY(this).emitter.on("load",e)}offLoad(e){dZ.call(this)||gY(this).emitter.off("load",e)}onClose(e){dZ.call(this)||gY(this).emitter.on("close",e)}offClose(e){dZ.call(this)||gY(this).emitter.off("close",e)}getSplashAdShowStatus(){return gY(this).adProxy.getSplashAdShowStatus()}}var bZ=e=>!(e.isDestroyed()||!bb(e,["rootElement","layoutBox"]));class wZ{constructor({manager:e,adProxy:t,emitter:r}){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.exposureTimer=null,this.clickFirstGradeTime=0,this.adProxy=void 0,this.manager=void 0,this.emitter=void 0,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set,this.hasEmitShowHalf=!1,this.landManager=void 0,this.handleEnterForeground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(XA.SHOWHALF),e.emitAdCustomEvent(ob.ADSHOWHALF)))},this.handleEnterBackground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(XA.HIDEHALF),e.emitAdCustomEvent(ob.ADHIDEHALF)))},this.handleAdCustomEvent=e=>{switch(e.action){case ob.ADVIDEOPLAY:this.checkVideoViewableExposure(!0);break;case ob.ADVIDEOPAUSE:this.checkVideoViewableExposure(!1);break;case ob.REPORTVIDEOPLAY:this.reportVideoPlay(e.value.playType,e.value.conditionType,e.value.videoInfo);break;case ob.FEEDBACKREPORT:this.reportAdFeedbackData(e.value);break;case ob.REPORTENDPAGE:this.reportEndPage(e.value.data);break;case ob.REPORTMMDATA:e.value.id&&e.value.data&&this.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case ob.BTNTAP:this.manager.rootComponent&&this.manager.rootComponent.emitComponentEvent(XA.ADBUTTONTAP),this.handleClick(e.value.event,1,!0);break;case ob.CHANGEMULTISHOW:this.multiShowList=e.value.list,this.checkExposure()}},this.manager=e,this.adProxy=t,this.emitter=r,this.bindEvent()}setMultiShowList(e=[]){this.multiShowList=[...e]}destroy(){this.unbindEvent()}reset(){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.hasEmitShowHalf=!1,this.adProxy.isViewable=!1,this.exposureTimer&&clearTimeout(this.exposureTimer),this.exposureTimer=null,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set}bindEvent(){this.emitter.on("adCustomEvent",this.handleAdCustomEvent),EE(this.handleEnterForeground),DE(this.handleEnterBackground)}unbindEvent(){this.emitter.off("adCustomEvent",this.handleAdCustomEvent),CE(this.handleEnterForeground),RE(this.handleEnterBackground)}judgeTriggerClick(e,t=!0){if(this.manager.isDestroyed())return!1;var r=this.adProxy.isTriggerClick(e),n=r?0:1;return t&&this.reportTouchClick(e,n),r}reportTouchClick(e,t){if(bZ(this.manager)){var{width:r,height:n}=this.manager.rootElement.layoutBox,i=0;[0,2,3].includes(t)&&(this.clickCount+=1,i=this.clickCount),this.adProxy.reportTouchClick({slotid:this.manager.getSlotId(),costtype:bb(this.adProxy,["adData","data","is_cpm"])?1:2,click_time:Date.now(),click_cnt:i,start_posx:Math.round(e.relativeX||0),start_posy:Math.round(e.relativeY||0),end_posx:Math.round(e.relativeEndX||0),end_posy:Math.round(e.relativeEndY||0),ad_width:r||0,ad_height:n||0,press_interval:e.pressInterval,block_click:t})}}handleClick(e,t,r=!1){if(!this.manager.isDestroyed()&&this.manager.adData){var{appInfo:{urlScheme:n},product_type:i,dest_type:a}=this.manager.adData;this.manager.clearAdTimer(),i===hw.OPEN_PLATFORM_APP_MOB&&Ie&&this.landManager.downloadState===Mb.INSTALLED&&n&&n.trim().length>0?(this.reportClick(e),this.reportAntifraud(t,e),this.adProxy.launchApplication(n).catch((()=>{})),this.manager.landManager.lastJsapiName="launchApplication",this.manager.landManager.isLandingPage=!0):Se&&i===Zb.MINI_GAME&&6===a?Promise.race([this.reportClick(e),Ca(500)]).then((()=>{this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:r})})).catch((()=>{this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:r})})):(this.reportClick(e),this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:r}))}}reportClick(e){if(bZ(this.manager)){var{left:t,top:r,width:n,height:i}=this.manager.rootElement.layoutBox,{adCustomId:a}=this.manager,o=(e=>pH.videoDataMap[e]||{})(a);this.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-t,clickRelativeTop:e.absoluteY-r,pressInterval:e.pressInterval,isMulti:this.manager.isMulti,left:t,top:r,width:n,height:i,videoData:o})}}isClickLimit(e,t=0){var{adProxy:r,manager:{rootElement:n}}=this;if(!n)return!1;var{width:i,height:a}=n.layoutBox,{left:o,top:s}=n.getAbsolutePosition(),l=!1,c=0;r.isValidCondition("widget_gray_time_limit")&&(c=100*(this.manager.adData.condition.widget_gray_time_limit||1)),c>0&&Date.now()-this.showedExposureTime<c&&(l=!0,r.reportAdMonitorData(Ub.AD_LIMIT_TIME,{clickType:t}));var u=0;return r.isValidCondition("widget_gray_bd_limit")&&(u=this.manager.adData.condition.widget_gray_bd_limit||0),"devtools"!==Ee&&e&&u>0&&(e.absoluteEndX-o<u||o+i-e.absoluteEndX<u||e.absoluteEndY-s<u||s+a-e.absoluteEndY<u)&&(l=!0,r.reportAdMonitorData(Ub.AD_LIMIT_BOUNDARY)),l}reportExposure({isViewable:e}){var t=this;return Nn()((function*(){if(bZ(t.manager)){var{rootElement:r,rootComponent:n,isMulti:i}=t.manager,{left:a,top:o,width:s,height:l}=r.layoutBox,c={left:a,top:o,width:s,height:l};t.adProxy.isOriginExposureArea(c)||t.adProxy.reportAdMonitorData(Ub.ORIGIN_EXPOSURE_ERROR);var u=t.adProxy.isViewableExposureArea(c);if(e&&!u&&t.adProxy.reportAdMonitorData(Ub.VIEWABLE_EXPOSURE_ERROR),i){var d=e?t.multiViewableExposureList:t.multiExposureList,p=t.multiShowList.filter((e=>!d.has(e)));p.length&&(p.forEach(d.add,d),n.emitComponentEvent(e?XA.VIEWABLEEXPOSURE:XA.EXPOSURE,{exposureList:p}),yield t.adProxy.reportExposure(O()(O()({},c),{},{multiList:p,isMulti:i,exposureType:e?"viewable":"showed"})))}else e?n.emitComponentEvent(XA.VIEWABLEEXPOSURE):n.emitComponentEvent(XA.EXPOSURE),yield t.adProxy.reportExposure(O()(O()({},c),{},{exposureType:e?"viewable":"showed"}))}}))()}checkExposure(){var e=this;return Nn()((function*(){if(!e.manager.isDestroyed()){if(!bZ(e.manager))return yield Ca(0),void(yield e.checkExposure());var{rootComponent:t,isMulti:r}=e.manager,n=t.isShow(),{exposureUntilVideoPlay:i}=t;(r||!e.isExposured&&n)&&(e.isExposured=!0,e.showedExposureTime=Date.now(),e.reportExposure({isViewable:!1})),n&&!e.hasEmitShowHalf?(e.hasEmitShowHalf=!0,t.emitComponentEvent(XA.SHOWHALF),t.emitAdCustomEvent(ob.ADSHOWHALF)):n||(e.hasEmitShowHalf=!1,t.emitComponentEvent(XA.HIDEHALF),t.emitAdCustomEvent(ob.ADHIDEHALF)),i||(n?e.exposureTimer=setTimeout((()=>{var n=t.isShow();(r||!e.isViewableExposured&&n)&&(e.isViewableExposured=!0,e.adProxy.isViewable=!0,e.reportExposure({isViewable:!0}))}),1e3):e.exposureTimer&&clearTimeout(e.exposureTimer))}}))()}checkVideoViewableExposure(e){var{rootElement:t,rootComponent:r}=this.manager;if(!this.manager.isDestroyed()&&t&&r){var n=r.isShow(),{exposureUntilVideoPlay:i}=r,{left:a,top:o,width:s,height:l}=t.layoutBox;i&&(n&&e?this.exposureTimer=setTimeout((()=>{this.isViewableExposured||(this.isViewableExposured=!0,this.adProxy.isViewable=!0,this.adProxy.reportExposure({left:a,top:o,width:s,height:l,exposureType:"viewable"}),r.emitComponentEvent(XA.VIEWABLEEXPOSURE))}),0):this.exposureTimer&&clearTimeout(this.exposureTimer))}}reportAntifraud(e,t){var r=this;return Nn()((function*(){var n;if(yield r.manager.ready(),bZ(r.manager)){var{width:i,height:a}=r.manager.rootElement.layoutBox;r.adProxy.reportAntifraud({click_button:e,cost_type:null!==(n=r.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,slotid:r.manager.getSlotId(),is_game:Xy.isWaGame?1:0,pageentertime:+new Date(r.adProxy.getProgramStartTime()),ad_width:i||0,ad_height:a||0,clientexptime:r.showedExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX||0),pos_y:Math.round(t.absoluteY||0),screen_width:Xy.screenWidth,screen_height:Xy.screenHeight})}}))()}reportCloseAction(e){if(!this.manager.isDestroyed()){var t=Date.now();this.adProxy.reportCloseAction({slotid:this.manager.getSlotId(),is_game:Xy.isWaGame?1:0,costtype:bb(this.adProxy,["data","is_cpm"])?1:2,close_type:e,exposure_duration:t-this.showedExposureTime-this.hideDuration,start_time:this.showedExposureTime,close_time:t})}}reportAdFeedbackData({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:r=0,secondGradeDesc:n="",feedbackReason:i=0}){this.manager.isDestroyed()||(e&&!r&&(this.clickFirstGradeTime=Date.now()),this.adProxy.reportAdFeedbackData({adWidth:Xy.screenWidth,adHeight:Xy.screenHeight,adPosX:0,adPosY:0,expTime:this.showedExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?this.clickFirstGradeTime:0,secondGradeId:r,secondGradeDesc:n,secondGradeTime:r?Date.now():0,feedbackReason:i}))}reportFollow(e){if(!this.manager.isDestroyed())return e.then((e=>/ok/.test(e.errMsg)?this.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?this.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>this.adProxy.reportFollow({result:"fail"})))}reportVideoPlay(e,t,{playDuration:r,isMuted:n,videoDuration:i}){this.adProxy.reportVideo({playType:e,conditionType:t,playDuration:r,videoDuration:i,muted:n})}reportEndPage({ace_type:e,exposure_duration:t=0}={}){this.adProxy.reportEndPage({slotid:this.manager.getSlotId(),costtype:bb(this.adProxy,["adData","data","is_cpm"])?1:2,posType:this.adProxy.data.pos_type,isGame:Xy.isWaGame?1:0,ace_type:e,exposure_duration:t})}reportTimePoints(){this.adProxy.reportTimePoints({slotid:this.manager.getSlotId(),costtype:bb(this.adProxy,["adData","data","is_cpm"])?1:2})}}class EZ{constructor({manager:e,reporter:t}){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.hideTime=null,this.isLandingPage=!1,this.landingPageCostTime=0,this.downloadState=Mb.DEFAULT,this.downloadProgress=0,this.manager=void 0,this.reporter=void 0,this.adProxy=void 0,this.manager=e,this.adProxy=e.adProxy,this.reporter=t}reset(){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.isLandingPage=!1,this.landingPageCostTime=0}checkAdState(){var e=this;return Nn()((function*(){if(!e.manager.isDestroyed()){if(yield Ca(10),e.isLandingPage){var t;e.adProxy.setTimePoint("p11"),e.lastJsapiStatus=0,e.isLandingPage=!1;var r=Date.now();e.landingPageCostTime=e.hideTime?r-e.hideTime:0,e.adProxy.reportLandingTime({slotId:e.manager.getSlotId(),costType:J_(e.adProxy,["adData","data","is_cpm"])?1:2,openTime:e.hideTime,closeTime:r,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.reporter.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),null!==(t=e.manager.rootComponent)&&void 0!==t&&t.hideAfterLanding&&e.manager.hide()}e.manager.isShow&&e.manager.setAdTimer()}}))()}checkFollow(){var e=this;return Nn()((function*(){var{adData:t}=e.manager,r=J_(t,["button_action","text_type"],0),n=yield e.adProxy.checkFollow(t.app.uin);0===r&&e.manager.updateButtonText({text:n?"查看":t.button_action.button_text}),e.adProxy.data.biz_info&&(e.adProxy.data.biz_info.is_subscribed=n?1:0)}))()}checkAppInstallState(){var e=this;return Nn()((function*(){if(!e.manager.isDestroyed()){var{appInfo:{apkName:t,versionCode:r,urlScheme:n}}=e.manager.adData;try{var i=yield e.adProxy.getInstallState(t);i.isInstalled&&(void 0===i.versionCode||i.versionCode>=r)&&(e.downloadState=Mb.INSTALLED,e.downloadProgress=0,e.adProxy.setAppInstallState(!0),n&&n.trim().length>0?e.manager.updateButtonText({text:"进入应用"}):e.manager.updateButtonText({text:"查看应用"}))}catch(e){}}}))()}landing(e){if(!this.manager.isDestroyed()){this.reporter.clickCount>1&&this.adProxy.reportRepeatClick({slotId:this.manager.getSlotId(),costType:J_(this.adProxy,["data","is_cpm"])?1:2,clkCnt:this.reporter.clickCount,lastClkPeriod:Date.now()-this.lastLandingTime,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,pageStayTime:this.landingPageCostTime,jsapiName:this.lastJsapiName});var t=this.adProxy.land(e),r=J_(this.adProxy,["data","button_action","text_type"],0);this.adProxy.data.product_type===hw.WECHAT&&J_(e,["isButton"])&&!this.adProxy.data.biz_info.is_subscribed?(t.then((e=>{var t=/ok/.test(e.errMsg);t&&0===r&&(this.manager.updateButtonText({text:"查看公众号"}),this.adProxy.data.biz_info&&(this.adProxy.data.biz_info.is_subscribed=1),this.adProxy.reportAdIDKey({key:Ub.FOLLOW_SUCCESS})),e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var n,i=Date.now();(this.lastJsapiStatus=0,this.lastJsapiCostTime=i-this.lastLandingTime,"private_addContact"===this.lastJsapiName)&&this.adProxy.reportLandingTime({slotId:this.manager.getSlotId(),costType:null!==(n=this.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,openTime:this.lastLandingTime,closeTime:i,stayTime:this.lastJsapiCostTime,jsapiName:this.lastJsapiName,clickTime:this.lastLandingTime,clkCnt:this.reporter.clickCount,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});this.manager.isShow&&this.manager.setAdTimer()})).catch((()=>{this.lastJsapiStatus=1})),this.reporter.reportFollow(t)):t.then((e=>{e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","")),["private_openUrl","navigateToMiniProgram","openADCanvas","launchApplication"].includes(this.lastJsapiName)?this.isLandingPage=!0:this.lastJsapiStatus=0,this.lastJsapiCostTime=Date.now()-this.lastLandingTime})).catch((()=>{this.lastJsapiStatus=1}))}}}var CZ=new WeakMap,IZ=e=>CZ.get(e);var SZ="customAd has been destroyed",TZ=1;class xZ{constructor({adUnitId:e,adIntervals:t=0,left:r,top:n,width:i,height:a,fixed:o,style:s}){if(this.adUnitId=void 0,this.adCustomId=void 0,this.adProxy=void 0,this.reporter=void 0,this.landManager=void 0,this.isShow=!1,this.rootElement=null,this.rootComponent=null,this.systemInfo=null,this.adData=null,this.adDatas=[],this.showDetailTime=0,this.callbacks={load:[],error:[],close:[],hide:[]},this.adType="customAd",this.emitter=new SH,this.isReady=!1,this.isDestroy=!1,this.isShowing=!1,this.isHiding=!1,this.fetchedError=null,this.template=null,this.tplConfig=null,this.slotId=void 0,this.adIntervals=void 0,this.adTimer=null,this.readyResolve=new Set,this.adPosition=void 0,this.isMulti=!1,this.handleReady=()=>{if(!this.isReady){for(var e of this.readyResolve)e();this.readyResolve.clear(),this.isReady=!0}},this.handleEnterBackground=()=>{this.landManager.hideTime=Date.now(),this.clearAdTimer()},this.handleEnterForeground=()=>{this.landManager.checkAdState(),this.landManager.hideTime&&(this.reporter.hideDuration+=Date.now()-this.landManager.hideTime)},this.handleAdCustomEvent=e=>{var t;switch(e.action){case ob.TRIGGEREVENT:["error","videodislike"].includes(e.value.eventName)&&this.emitter.emit(e.value.eventName,e.value.detail||{});break;case ob.SHOWFEEDBACK:null===(t=this.rootComponent)||void 0===t||t.showFeedback();break;case ob.FEEDBACKBTNTAP:this.adProxy.openFeedbackUrl(OE.isWaGame?1003:1005);break;case ob.HIDEAD:this.hide();break;case ob.REPORTTIMEPOINT:e.value.key&&this.adProxy.setTimePoint(e.value.key);break;case ob.ADSHOWHALF:this.isShow=!0;break;case ob.ADHIDEHALF:this.isShow=!1;break;case ob.CHECKEXPOSURE:this.reporter.checkExposure();break;case ob.LANDAD:var{index:r,event:n}=e.value;if(this.reporter.isClickLimit(n))return;this.isMulti&&this.adProxy.setCurrentData(r),this.reporter.handleClick(n,1,!1)}},this.handleLoad=e=>this.emitCallback("load",e),this.handleError=e=>this.emitCallback("error",e),this.handleClose=()=>this.emitCallback("close"),this.handleHide=()=>this.emitCallback("hide"),this.handleVideoDislike=()=>this.emitCallback("videodislike"),this.onLoad=e=>this.callbacks.load.push(e),this.onError=e=>this.callbacks.error.push(e),this.onClose=e=>this.callbacks.close.push(e),this.onHide=e=>this.callbacks.hide.push(e),this.onVideoDislike=e=>this.callbacks.videoDislike.push(e),this.offLoad=e=>this.removeCallback("load",e),this.offError=e=>this.removeCallback("error",e),this.offClose=e=>this.removeCallback("close",e),this.offHide=e=>this.removeCallback("hide",e),this.offVideoDislike=e=>this.removeCallback("videodislike",e),e||console.error("广告单元 id(unit-id) 为空, 请先在 'https://mp.weixin.qq.com' 上创建广告单元"),this.adUnitId=e,this.slotId="4071202390577885",this.adCustomId=`AD_CUSTOM_${TZ}`,TZ+=1,this.adPosition={left:r,top:n,width:i,height:a,fixed:o},s&&"object"==typeof s){for(var l of["left","top","width","height","fixed"])null!=s[l]&&(this.adPosition[l]=s[l])}jr()&&delete this.adPosition.fixed,this.adProxy=new KP({adUnitId:e,adType:this.adType}),this.reporter=new wZ({manager:this,adProxy:this.adProxy,emitter:this.emitter}),this.landManager=new EZ({manager:this,reporter:this.reporter}),this.adIntervals="number"==typeof t?t:0,this.reporter.landManager=this.landManager,this.bindEvent(),this.fetchAndRender()}getSlotId(){return this.slotId}bindEvent(){this.emitter.on("load",this.handleLoad),this.emitter.on("error",this.handleError),this.emitter.on("videoDislike",this.handleVideoDislike),this.emitter.on("close",this.handleClose),this.emitter.on("hide",this.handleHide),this.emitter.on("adCustomEvent",this.handleAdCustomEvent),this.onLoad(this.handleReady),this.onError(this.handleReady),EE(this.handleEnterForeground),DE(this.handleEnterBackground)}unbindEvent(){this.emitter.off("load",this.handleLoad),this.emitter.off("error",this.handleError),this.emitter.off("videoDislike",this.handleVideoDislike),this.emitter.off("close",this.handleClose),this.emitter.off("hide",this.handleHide),this.emitter.off("adCustomEvent",this.handleAdCustomEvent),this.offLoad(this.handleReady),this.offError(this.handleReady),CE(this.handleEnterForeground),RE(this.handleEnterBackground)}fetchAndRender({isAdInterval:e=!1,autoUnmount:t=!1}={}){var r=this;return Nn()((function*(){try{var n,i,[a,o]=yield Promise.all([r.adProxy.fetch(e),r.getSystemInfo(),Jy?Promise.resolve(Xy):new Promise((e=>{le.onReady((()=>{Jy=!0,Xy.deviceOrientation=jA();var t=ha();Xy.screenWidth=t.screenWidth||0,Xy.screenHeight=t.screenHeight||0,Xy.isWaGame=jr(),e(Xy)}))}))]);t&&r.resetState(),r.systemInfo=o,r.adData=a,r.adDatas=r.adProxy.datas||[],r.template=r.getTemplateFromAdData(a),r.tplConfig=(null===(n=r.template)||void 0===n?void 0:n.tplConfig)||{},r.checkSize(),yield r.render(),r.adProxy.reportAdMonitorData(Ub.RENDER_SUCCESS);var s={errMsg:"load advertisement success"};null!==(i=r.rootComponent)&&void 0!==i&&i.exportAid&&(s.aid=r.adData.aid),r.emitter.emit("load",s),r.fetchedError=null,r.adProxy.preloadLanding()}catch(e){r.adProxy.reportAdMonitorData(Ub.RENDER_FAILED,e);var l=null!=e&&e.errCode?e:{errCode:Ob.ERR_RENDER,errMsg:"customAd render failed"};r.fetchedError=l,r.emitter.emit("error",l)}}))()}getTemplateFromAdData(e){return e.template}checkSize(){if(this.tplConfig){var{tplConfig:e}=this,{width:t}=this.adPosition;null==t&&(t=OE.screenWidth),t=Number(t);var r=e.minWidth||0,n=e.maxWidth||0,i=e.baseWidth||375,a=Math.min(OE.screenWidth,Math.max(r,t));n&&(a=Math.min(a,n)),0===a&&(this.adProxy.reportAdMonitorData(Ub.WIDTH_GET_ERROR,{unitId:this.adUnitId}),yH(i,i)),this.adPosition.width=a,yH(a,i)}}reload(){}updateButtonText({text:e,progress:t}){var r;null===(r=this.rootComponent)||void 0===r||r.emitAdCustomEvent(ob.CHANGEADBTNTEXT,{text:e||"",progress:t||0})}getSystemInfo(){return OE}ready(){return new Promise(((e,t)=>{var r=()=>{this.fetchedError?t(this.fetchedError):e()};this.isReady?r():this.readyResolve.add(r)}))}removeCallback(e,t){this.callbacks[e]&&(this.callbacks[e]=t?this.callbacks[e].filter((e=>e!==t)):[])}emitCallback(e,t){if(this.callbacks[e])for(var r of this.callbacks[e])"function"==typeof r&&r(t)}show({branchId:e,branchDim:t}={}){var r=this;return Nn()((function*(){if(r.isDestroyed())throw{errMsg:SZ};if(r.isShow||r.isShowing)throw{errMsg:"the advertisement has shown"};r.isShowing=!0,e?r.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):r.adProxy.resetAnalyseBranchInfo();try{yield r.ready(),r.rootComponent&&r.rootComponent.show(),r.setAdTimer()}finally{r.isShowing=!1}}))()}setAdTimer(){var e,t;this.rootComponent&&!this.rootComponent.enableTimer||(t=this.adIntervals>=30&&this.adIntervals<=3600?1e3*this.adIntervals:null!==(e=this.adData)&&void 0!==e&&e.refreshTime?1e3*this.adData.refreshTime:null)&&(this.adTimer&&clearTimeout(this.adTimer),this.adTimer=setTimeout((()=>this.refetch(!0)),t))}clearAdTimer(){this.isDestroyed()||this.adTimer&&(clearTimeout(this.adTimer),this.adTimer=null)}refetch(e=!1){var t=this;return Nn()((function*(){if(!t.isDestroyed()&&t.isShow)try{yield t.fetchAndRender({isAdInterval:e,autoUnmount:!0}),yield t.show(),t.adProxy.reportAdMonitorData(Ub.REFETCH_SUCCESS),t.rootElement&&(yield t.rootElement.nextLayout(),t.reporter.checkExposure())}catch(e){t.adProxy.reportAdMonitorData(Ub.REFETCH_FAILED,e);var r={errCode:Ob.ERR_RENDER,errMsg:"customAd render failed"};t.emitter.emit("error",r)}}))()}hide(e=!1){var t=this;return Nn()((function*(){var r;if(t.isDestroyed())throw{errMsg:SZ};if(t.isShow&&!t.isHiding){if(t.isHiding=!0,null===(r=t.rootComponent)||void 0===r||r.hide(),t.clearAdTimer(),e)t.emitter.emit("hide");else{t.isReady=!1,t.emitter.emit("close"),t.resetState(),t.adProxy.setTimePoint("p14"),t.reporter.reportTimePoints();var n=!1;t.rootComponent&&(n=t.rootComponent.getRootData("refetchable")),n?(t.unmount(),yield t.fetchAndRender()):yield t.destroy()}t.isHiding=!1}}))()}destroy(){var e=this;return Nn()((function*(){if(!e.isDestroyed()){e.isDestroy=!0;try{yield e.ready()}catch(e){}e.clearAdTimer(),e.unbindEvent(),e.resetState(),e.callbacks={load:[],error:[],close:[]},e.reporter.destroy()}}))()}isDestroyed(){return this.isDestroy}canHideAd(){return!!this.rootComponent&&this.rootComponent.getRootData("hidable")}resetState(){this.unmount(),this.rootComponent=null,this.rootElement=null,this.isReady=!1,this.isShow=!1,this.isMulti=!1,this.adData=null,this.adDatas=[],this.reporter.reset(),this.landManager.reset()}emitRender(e){return this.rootComponent?(Yy(this.rootComponent,e),this.rootComponent):zy(IH,e)}render(){return this.adProxy.setTimePoint("p4"),this.template?(this.rootComponent=this.emitRender({manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy,template:this.template,systemInfo:this.systemInfo,adData:this.adProxy.data,adDatas:this.adProxy.datas,adCustomId:this.adCustomId,adPosition:this.adPosition,isEmpty:!1}),this.initialMultiLists(),this.rootElement=this.rootComponent.getRootElement(),this.adProxy.reportAdMonitorData(Ub.TPL_RENDER_SUCCESS),this.adProxy.setTimePoint("p5"),this.rootElement.ready()):this.renderEmpty()}initialMultiLists(){if(this.rootComponent&&(this.isMulti=this.rootComponent.isMulti&&this.adProxy.isMulti,this.isMulti)){var{multiShowList:e}=this.rootComponent;e&&Array.isArray(e)?this.reporter.setMultiShowList(e):this.reporter.setMultiShowList(Object.keys(this.adDatas).map((e=>+e)))}}unmount(){this.rootComponent&&(Zy(this.rootComponent),this.rootElement=null,this.rootComponent=null)}renderEmpty(){return this.rootComponent=this.emitRender({isEmpty:!0,manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy}),this.rootElement=this.rootComponent.getRootElement(),kA.nextLayout()}}var PZ=e=>IZ(e);class kZ extends class{constructor(e,...t){var r=new e(...t);CZ.set(this,r)}}{constructor(e){super(xZ,e),this.isDestroy=!1}destroy(){var e=this;return Nn()((function*(){var t;e.isDestroy||(yield PZ(e).destroy(),t=e,CZ.delete(t),e.isDestroy=!0)}))()}hide(){var e=this;return Nn()((function*(){var t=PZ(e);if(!t.canHideAd())throw{errMsg:"the advertisement don't support hide"};yield t.hide(!0)}))()}isShow(){return PZ(this).isShow}}((e,t)=>{var r=function(t){e.prototype[t]=function(...e){return IZ(this)[t](...e)}};for(var n of t)r(n)})(kZ,["show","isDestroyed","onLoad","onError","onClose","onHide","offLoad","offError","offClose","offHide"]);var DZ,RZ,OZ={},MZ="onWxAdRewardedVideoEvent";!function(e){e.onError="rewardedVideoOnError",e.onClose="rewardedVideoOnClose",e.onShowSuccess="rewardedVideoOnShowSuccess",e.onShowFail="rewardedVideoOnShowFail"}(DZ||(DZ={})),f("wxAdOperateRewardedVideo",((e={},t)=>{var{op:r,data:n,unitId:i,adCustomId:a}=e;if(i){var o=`${t}-${i}`,s=OZ[o];if("create"===r){s&&s.destory();var l=new Gz({adUnitId:i,multiton:!0,requestType:ow.WELFAREAD});l.onLoad((()=>{}));var c=l.onError.bind(l),u=l.onClose.bind(l);c((e=>{h(MZ,{unitId:i,adCustomId:a,eventName:DZ.onError,data:{err:e}},[t])})),u((e=>{h(MZ,{unitId:i,adCustomId:a,eventName:DZ.onClose,data:{res:e}},[t])})),OZ[o]=l}else"show"===r?s&&s.load().then((()=>{var e={};null!=n&&n.welfareData&&(e.welfareData=n.welfareData),s.show(e).then((e=>{h(MZ,{unitId:i,adCustomId:a,eventName:DZ.onShowSuccess,data:{res:e}},[t])})).catch((e=>{h(MZ,{unitId:i,adCustomId:a,eventName:DZ.onShowFail,data:{err:e}},[t])}))})).catch((e=>{h(MZ,{unitId:i,adCustomId:a,eventName:DZ.onShowFail,data:{err:e}},[t])})):"load"===r?s&&s.load():"destroy"===r&&s&&(s.destroy(),delete OZ[o])}})),RZ||(RZ=new OQ),function(e){Y("shouldShowSplashAd",e)}((e=>{RZ||(RZ=new OQ),RZ.show(e)})),(e=>{"function"==typeof e&&Bw.on("_onEmitSplashAdFetch",e)})((()=>{RZ||(RZ=new OQ),RZ.otherAdsEmitFetch()}));var LZ={},NZ={},BZ=0;Kn((({webviewId:e})=>{BZ=e,NZ[e]||(NZ[e]=!0,dn(e,(e=>{delete NZ[e],delete LZ[e]})))}));var WZ=e=>e&&!0===e.multiton?new Gz(e):(LZ[BZ]||(LZ[BZ]=new Gz(e)),LZ[BZ]);var FZ={};function UZ(e,t){var r="";if(502===e&&(r="setCookies"),503===e&&(r="getCookies"),r){var n=vr(this);FZ[n]=FZ[n]||{502:null,503:null},__safeway__.pluginPermissionBytes.ifIs(n,r,1,(r=>{FZ[n][e]=r,t()}))}}function VZ(e,t){var r=vr(this);Ce?t(!0):FZ[r]&&null!==FZ[r][e]?t(!!FZ[r][e]):UZ.call(this,e,(()=>t(!!FZ[r][e])))}var jZ={muteMicrophone:!1,muteEarphone:!1};function GZ(e){return T(e)?(C(e.muteMicrophone)&&(jZ.muteMicrophone=e.muteMicrophone),C(e.muteEarphone)&&(jZ.muteEarphone=e.muteEarphone),jZ):jZ}var HZ=function(e){if(ct("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:GZ(e.muteConfig),handsFree:!C(e.handsFree)||e.handsFree,roomType:t}),n=vr(this);ot(n)("joinVoIPChat",r,{beforeSuccess(e){h("joinVoIPChat",{}),e.errCode=0},beforeFail(e){void 0===e.errCode&&(e.errCode=(e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}})(e.errMsg))}})}},QZ=function(e){try{var t=vr(this);ot(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";h("exitVoIPChat",{}),pt({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";pt({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},$Z=function(e){if(ct("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=vr(this);ot(t)("updateVoIPChatMuteConfig",Object.assign({},e,{muteConfig:GZ(e.muteConfig),handsFree:!C(e.handsFree)||e.handsFree}))}},zZ=ie("voIPChatMembersChanged"),YZ=zZ.onMethod,ZZ=zZ.offMethod;Y("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",zZ.emit(e)}));var qZ=e=>{try{Y("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},JZ=()=>{Y("onVoIPChatSpeakersChanged",(()=>{}))},XZ=ie("VoIPChatInterrupted"),KZ=e=>{e.errCode||(e.errCode=((e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3)(e.reason)),XZ.emit(e)};Y("onVoIPChatInterrupted",(e=>{KZ(e)})),Y("onVoIPChatInterruptedJsEvent",(e=>{KZ(e)}));var eq=XZ.onMethod,tq=XZ.offMethod,rq=(e={})=>{ct("subscribeVoIPVideoMembers",e,{openIdList:[]})&&it("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},nq=ie("VoIPVideoMembersChanged"),iq=nq.onMethod,aq=nq.offMethod;Y("onVoIPVideoMembersChanged",((e={})=>{nq.emit(e)}));var oq=ie("voIPChatStateChanged"),sq=oq.onMethod,lq=oq.offMethod;Y("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",oq.emit(e)}));var cq=["scope.record","scope.writePhotosAlbum","scope.camera"],uq=(e={})=>{it("saveFileToDisk",e,{})},dq=1;le.onReady((()=>{["close","error","listening","message"].forEach((e=>{Y(`onUDPSocket${Hr(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,Hr(e),ie(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class pq{constructor(e){var t;if(this._id=dq++,it("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=ie(`jsapi-udp-${this._id}-${e}`);this[`on${Hr(e)}`]=t.onMethod,this[`off${Hr(e)}`]=t.offMethod}))}bind(e){var t,r;if(it("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if(it("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,it("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{ie(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if(it("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var hq=Bs.Z.UDP,fq=new WeakMap,gq=new WeakMap,vq=new WeakMap,mq=1;class _q{constructor(e){if(!hq)return null;var t=new hq;if(null===t)return null;var r=mq++;["close","error","listening","message"].forEach((e=>{var n=ie(`jsbinding-udp-${r}-${e}`);t[`on${e}`]=function(...t){"message"===e&&t[0].remoteInfo&&(t[0].localInfo={address:t[0].remoteInfo.localaddress,family:t[0].remoteInfo.localfamily,port:t[0].remoteInfo.localport},delete t[0].remoteInfo.localaddress,delete t[0].remoteInfo.localfamily,delete t[0].remoteInfo.localport),n.emit(...t),"error"===e?Reporter.reportIDKey({key:"UDPError"}):"message"===e&&Reporter.reportIDKey({key:"receiveUDPMessage"})},this[`on${Hr(e)}`]=n.onMethod,this[`off${Hr(e)}`]=n.offMethod})),fq.set(this,t),gq.set(this,r),vq.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return vc("bindUDP","",1,0,"","",!1,0),Reporter.reportIDKey({key:"bindUDP"}),fq.get(this).bind({port:e,type:vq.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){ie(`jsbinding-udp-${gq.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=fq.get(this);"IPv6"===vq.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)})}}send(e={}){if(sr("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,fq.get(this).send(Object.assign({},e,{message:t})),Math.random()>.99&&vc("sendUDP",r,1,0,"","",!1,Ur(e.message)),Reporter.reportIDKey({key:"sendUDPMessage"})}else{ie(`jsbinding-udp-${gq.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=fq.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if(sr("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=fq.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{ie(`jsbinding-udp-${gq.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){fq.get(this).onconnect=e}close(){return fq.get(this).close()}}var yq=(e="udp4")=>Ce?new pq(e):new _q(e);var Aq=e=>{if(ct("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=Ci();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie,it("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:()=>{ii("reportPaymentFormId",{packageStr:e.package}),Ps()}})}},bq="webapi_getenteroptions_sensitivetype",wq=e=>wxNativeConsole.info(bq+" "+e),Eq=Object.prototype.hasOwnProperty,Cq=Object.assign,Iq=[{name:"chooseAddressForPlugin",factory:()=>function(e={}){(e=>{it("openAddress",e,{beforeSuccess(e){Yt(e,"addressPostalCode","postalCode"),Yt(e,"proviceFirstStageName","provinceName"),Yt(e,"addressCitySecondStageName","cityName"),Yt(e,"addressCountiesThirdStageName","countyName"),Yt(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})})(e)},permissionBytes:["chooseAddressForPlugin"],copyToWx:!0},{name:"openSettingForPlugin",factory:()=>function(e={}){((e={})=>{it("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{})}})})(e)},permissionBytes:["openSettingForPlugin"],copyToWx:!0},{name:"requestPaymentForPlugin",factory:()=>function(e={}){(e=>{jk((t=>{var r=(+new Date-(t||0))/1e3/60,n=!1,i="",a=le&&le.appContactInfo&&le.appContactInfo.operationInfo&&le.appContactInfo.operationInfo.jsonInfo&&le.appContactInfo.operationInfo.jsonInfo.warning_info&&le.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,i=e.wording)})),n&&r>30?ro({content:i,confirmText:"继续支付",cancelText:"取消",success(t){t.confirm&&(Gk(+new Date),Aq(e))}}):Aq(e)}))})(e)},permissionBytes:["requestPaymentForPlugin"],copyToWx:!0},{name:"chooseAddressDirectly",factory:e=>function(t){!function(e,t){kw({pluginId:e,apiName:"GetPluginAuthScope",reqData:{scope_list:["scope.eCommercePluginAuths"]},fail(){t(!1)},success(e){var r=JSON.parse(e.respData.data).auth_item_list.find((e=>"scope.eCommercePluginAuths"===e.scope));t(!!r&&r.state&&1===r.state)}})}(e,(e=>{e?ii("chooseAddressDirectly",{},void 0,(e=>{0===e.errMsg.indexOf("chooseAddressDirectly:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)})):dt("chooseAddressDirectly",t,"no permission")}))},permissionBytes:[],copyToWx:!0},{name:"enterContactForPlugin",factory:()=>function(e={}){e.permissionBytes=[1,1,1],ii("appServiceEnterContact",e,void 0,(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("enterContact","enterContactForPlugin")),0===t.errMsg.indexOf("enterContactForPlugin:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},permissionBytes:["enterContactForPlugin"],copyToWx:!0},{name:"openUrl",factory:()=>function(e){e.isNativeStyle=!0,it("private_openUrl",e,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openUrl")}})},permissionBytes:["openUrlForPlugin"],copyToWx:!0},{name:"setLoginAuth",factory:e=>function(t){t.pluginId=e,t.appId=le.accountInfo.appId,ii("setPluginLoginAuth",t,void 0,(e=>{0===e.errMsg.indexOf("setLoginAuth:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)}))},permissionBytes:["setLoginAuthForPlugin"],copyToWx:!0},{name:"navigateBackNative",factory:e=>function(t={}){var r="";T(t.extraData)&&(r=JSON.stringify(t.extraData)),ot(e)("navigateBackNative",Object.assign({},t,{extraData:r}))},permissionBytes:["navigateBackNative"],copyToWx:!0},{name:"setNavigationBarRightButton",factory:e=>function(t={}){ct("setNavigationBarRightButton",t,{hide:!0})&&ot(e)("setNavigationBarRightButton",t,{})},permissionBytes:["setNavigationBarRightButton"],copyToWx:!0},{name:"openAddressWithLightMode",factory:e=>function(t={}){ot(e)("openAddressWithLightMode",t,{beforeSuccess(e){Yt(e,"addressPostalCode","postalCode"),Yt(e,"proviceFirstStageName","provinceName"),Yt(e,"addressCitySecondStageName","cityName"),Yt(e,"addressCountiesThirdStageName","countyName"),Yt(e,"addressDetailInfo","detailInfo")},beforeAll(e){delete e.err_msg}})},permissionBytes:["openAddressWithLightMode"],copyToWx:!0},{name:"editTextWithPopForm",factory:e=>function(t={}){ot(e)("editTextWithPopForm",t,{})},permissionBytes:["editTextWithPopForm"],copyToWx:!0},{name:"navigateToMiniProgramDirectly",factory:()=>function(e){cs(e,e,{beforeAll(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}})},permissionBytes:["navigateToMiniProgramDirectly"],copyToWx:!0},{name:"getInnerEnterOptions",factory:e=>(t={})=>{var r=Ir();r.sessionid=r.sessionid||r.sessionId,delete r.sessionId,((e,t,r)=>{var n={app_info_list:[{appid:e,scene:t}]};wq("reqData="+JSON.stringify(n)),Kr({sdkApiName:"getInnerEnterOptions",pluginId:e,apiName:bq,reqData:n,complete(e){wq("respData="+JSON.stringify(e))},fail(e){r(e.errmsg||e.errMsg)},success(n){var i=(n.data.sensitive_type_data_list||[]).find((r=>r.appid===e&&r.scene===t)),a=i?i.sensitive_type_list:[],o=a.indexOf("sessionId");-1!==o&&(a[o]="sessionid"),r(null,a||[])}})})(e,r.scene,((e,n)=>{var i={};e||(i=Cq(r.__public),n.forEach((e=>{Eq.call(r,e)&&(i[e]=r[e])}))),pt({name:"getInnerEnterOptions",args:t,success:!e,errMsg:e,res:i})}))},permissionBytes:["private_getEnterOptions"],copyToWx:!1},{name:"chooseInvoiceTitleDirectly",factory:()=>function(e={}){ER(yr(e,"chooseInvoiceTitle","chooseInvoiceTitleDirectly"))},permissionBytes:["private_chooseInvoiceTitleDirectly"],copyToWx:!1},{name:"getPhoneNumberDirectly",factory:e=>(t={})=>{ii("getPhoneNumber",Object.assign({permissionBytes:[1,1,1],pluginId:e},t),void 0,(e=>{"string"==typeof e.public.errMsg&&(e.public.errMsg=e.public.errMsg.replace(/^getPhoneNumber:/,"getPhoneNumberDirectly:")),tt(e.public,"getPhoneNumberDirectly",t,{})}))},permissionBytes:["private_getPhoneNumberDirectly"],copyToWx:!1},{name:"openCardDirectly",factory:()=>function(e={}){lR(yr(e,"openCard","openCardDirectly"))},permissionBytes:["private_openCardDirectly"],copyToWx:!1},{name:"launchTrialMiniProgram",factory:()=>function(e){var t=(0,pr.Qc)("https://open.weixin.qq.com/sns/checktpbetaplugintoken");t.query={appid:String(e.appid),token:String(e.token)},e.extraData&&(t.query.extraData=JSON.stringify(e.extraData));var r={url:t.format(),isNativeStyle:!0};it("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","launchTrialMiniProgram")}})},permissionBytes:["private_launchTrialMiniProgram"],copyToWx:!1},{name:"navigateToDevMiniProgram",factory:e=>(t={})=>{Qm(t,e)},permissionBytes:[],copyToWx:!1},{name:"createTCPServer",factory:()=>(e={})=>{var t=Ce?new Lj:new zj;e.success&&e.success(t),e.complete&&e.complete(t)},permissionBytes:["TCPServer"],copyToWx:!1}],Sq=(e,t,r)=>{var{ifIsNot:n}=__safeway__.pluginPermissionBytes;Promise.all((t||[]).map((t=>(t=>new Promise((r=>n(e,t,0,r))))(t)))).then((e=>{r(e.every((e=>e)))}))},Tq=(e={})=>{ct("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&dt("getRandomValues",e,"invalid length"),it("getRandomValues",e))};var xq=0,Pq=2003002,kq={[-1]:2000001,[-2]:2003e3,[-3]:2e6,[-4]:2000002,[-5]:2000003,[-6]:2003001,[-7]:Pq},Dq=0,Rq=1,Oq=2,Mq=0,Lq=1,Nq=2,Bq=3,Wq=4,Fq={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},Uq=0,Vq=3,jq=Fq.VKReference,Gq={};class Hq{constructor(e=0,t){this[jq]={webviewId:e,native:t}}destroy(){this[jq].native=null}}class Qq extends Hq{}class $q extends Hq{}function zq(e=0,t){if(!t)return null;Gq[e]||(Gq[e]=new WeakMap);var r=Gq[e];if(r.has(t))return r.get(t);var n=null;return t instanceof Bs.Z.ARImageReference?n=new Qq(e,t):t instanceof Bs.Z.ARObjectReference&&(n=new $q(e,t)),r.set(t,n),n}function Yq(e){return e[jq].native}function Zq(e=0){Gq[e]={}}var qq=Fq.VKMesh;class Jq{constructor(e=0,t){this[qq]={webviewId:e,native:t}}get vertices(){return this[qq].native?this[qq].native.getVertices():null}get uvs(){return this[qq].native?this[qq].native.getUVs():null}get triangles(){return this[qq].native?this[qq].native.getTriangles():null}destroy(){this[qq].native=null}}var Xq=Fq.VKAnchor,Kq={};class eJ{constructor(e=0,t){this[Xq]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[Xq].native?this[Xq].native.id:null}get type(){return this[Xq].native?this[Xq].native.type:null}get transform(){return this[Xq].native?this[Xq].native.transform:null}get reference(){if(!this[Xq].native)return null;if(!this[Xq].reference){var e=this[Xq].native.reference;this[Xq].reference=zq(this[Xq].webviewId,e)}return this[Xq].reference}get mesh(){if(!this[Xq].native)return null;if(!this[Xq].mesh){var e=this[Xq].native.mesh;this[Xq].mesh=new Jq(this[Xq].webviewId,e)}return this[Xq].mesh}destroy(){this[Xq].native=null,this[Xq].reference&&(this[Xq].reference.destroy(),this[Xq].reference=null),this[Xq].mesh&&(this[Xq].mesh.destroy(),this[Xq].mesh=null)}}class tJ extends eJ{get _size(){return this[Xq].native?this[Xq].native.size:null}get alignment(){return this[Xq].native?this[Xq].native.alignment:null}}class rJ extends eJ{}class nJ extends eJ{}class iJ extends eJ{}function aJ(e=0,t){if(!t)return null;Kq[e]||(Kq[e]={});var r=Kq[e];if(r[t.id])return r[t.id];var n=null;return t.type===Mq?n=new tJ(e,t):t.type===Nq?n=new rJ(e,t):t.type===Lq?n=new nJ(e,t):t.type===Bq&&(n=new iJ(e,t)),r[t.id]=n,n}function oJ(e=0){Kq[e]&&Object.keys(Kq[e]).forEach((t=>{var r=Kq[e][t];r&&r.destroy()}));Kq[e]={}}var sJ=Fq.VKCamera;class lJ{constructor(e){this[sJ]={native:e}}get _transform(){return this[sJ].native?this[sJ].native.transform:null}get viewMatrix(){return this[sJ].native?this[sJ].native.viewMatrix:null}destroy(){this[sJ].native=null}getProjectionMatrix(e,t){return this[sJ].native?this[sJ].native.getProjectionMatrix(e,t):null}}var cJ=Fq.VKLightEstimate;class uJ{constructor(e){this[cJ]={native:e}}get ambientIndensity(){return this[cJ].native?this[cJ].native.ambient_indensity:null}destroy(){this[cJ].native=null}}var dJ=Fq.VKFrame,pJ=Fq.VKSession;class hJ{constructor(e=0,t,r){this[dJ]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null}}get timestamp(){return this[dJ].native?this[dJ].native.timestamp:null}get camera(){if(!this[dJ].native)return null;if(!this[dJ].camera){var e=this[dJ].native.camera;this[dJ].camera=new lJ(e)}return this[dJ].camera}get lightEstimate(){if(!this[dJ].native)return null;if(!this[dJ].lightEstimate){var e=this[dJ].native.lightEstimate;this[dJ].lightEstimate=new uJ(e)}return this[dJ].lightEstimate}destroy(){this[dJ].native=null,this[dJ].camera&&(this[dJ].camera.destroy(),this[dJ].camera=null),this[dJ].lightEstimate&&(this[dJ].lightEstimate.destroy(),this[dJ].lightEstimate=null),this[dJ].session=null}getCameraBuffer(){}getCameraTexture(e,t="yuv"){if(!e||!this[dJ].native||!this[dJ].session)return null;var r=this[dJ].session;if("yuv"===t){var n=r[pJ].yTexture;n||(n=e.createTexture());var i=r[pJ].uvTexture;i||(i=e.createTexture());var{yAddress:a,uvAddress:o,width:s,height:l}=this[dJ].native.getCameraYUVBuffer();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,s,l,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(a)),r[pJ].yTexture=n,n._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,s/2,l/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(o)),r[pJ].uvTexture=i,i._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:n,uvTexture:i}}return null}getDisplayTransform(){return this[dJ].native?this[dJ].native.getDisplayTransform():null}getAllAnchors(){}}var fJ={},gJ=[],vJ=null;function mJ(e=0){return fJ[e]}function _J(e=0){if(vJ){var t=mJ(vJ);t&&t.stop()}vJ=e}function yJ(e=0){vJ===e&&(vJ=null),function(e=0){fJ[e]=null}(e)}function AJ(){return vJ}function bJ(e=0){return-1!==gJ.indexOf(e)}var wJ=Date.now(),EJ=e=>setTimeout(e,0,1e3*(Date.now()-wJ)),CJ=e=>clearTimeout(e),IJ=null;Se&&!jr()?(IJ||(IJ=ec()),EJ=e=>IJ.requestAnimationFrame(e),CJ=e=>IJ.cancelAnimationFrame(e)):Ie||jr()?(EJ=e=>Bs.Z.requestAnimationFrame(e),CJ=e=>Bs.Z.cancelAnimationFrame(e)):Ce&&(EJ=e=>window.requestAnimationFrame((()=>e(1e3*(Date.now()-wJ)))),CJ=e=>window.cancelAnimationFrame(e));var SJ=Fq.VKSession,TJ=function(){};class xJ{constructor(e=0,t={}){this[SJ]={webviewId:e,native:null,options:t,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[SJ].eventMap[e];r&&r.length&&r.forEach((r=>{__errorTracer__.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[SJ].native?this[SJ].native.state:Dq}get cameraSize(){return this[SJ].native?this[SJ].native.getCameraSize():null}get config(){return this[SJ].native?this[SJ].native.config:null}get requestAnimationFrame(){return this[SJ].native?EJ:TJ}get cancelAnimationFrame(){return this[SJ].native?CJ:TJ}start(e){if("function"!=typeof e&&(e=TJ),this.state===Rq)return e(null);if(this[SJ].native){_J(this[SJ].webviewId);var t=this[SJ].native.start();e(t===xq?null:kq[t])}else{var r=this[SJ].options,n=r.track||{};n.image&&n.image.references&&(n.image.references=n.image.references.map(Yq)),n.object&&n.object.references&&(n.object.references=n.object.references.map(Yq)),n.plane&&"number"==typeof n.plane.mode&&(n.plane.mode=n.plane.mode<<1),r.arImplType!==Uq&&r.arImplType!==Vq&&(r.arImplType=void 0);zh({scope:"scope.camera",success:()=>{r.track=r.track||{},r.track.plane=r.track.plane||{mode:1},Bs.Z.ARSession.create(r,(t=>{if("number"==typeof t)return e(kq[t]);t.onEvent(Wq,(()=>this[SJ].trigger("resize"))),this[SJ].native=t,_J(this[SJ].webviewId);var r=t.start();return e(r===xq?null:kq[r]),null}))},fail:()=>{e(Pq)}})}return null}stop(){this[SJ].native&&this.state!==Oq&&(this[SJ].native.stop(),function(e=0){vJ===e&&(vJ=null)}(this[SJ].webviewId))}destroy(){this[SJ].native&&(this[SJ].native.destroy(),oJ(this[SJ].webviewId),Zq(this[SJ].webviewId),yJ(this[SJ].webviewId),this[SJ].native=null,this[SJ].lastFrame&&(this[SJ].lastFrame.destroy(),this[SJ].lastFrame=null),this[SJ].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[SJ][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[SJ][e]=null})))}getVKFrame(e,t){if(!this[SJ].native)return null;var r=this[SJ].native.getARFrame(e,t);if(r){oJ(this[SJ].webviewId);var n=new hJ(this[SJ].webviewId,r,this);return this[SJ].lastFrame&&(this[SJ].lastFrame.destroy(),this[SJ].lastFrame=null),this[SJ].lastFrame=n,n}return null}removeAnchor(e){if(this[SJ].native){var t=function(e){return e[Xq].native}(e);this[SJ].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[SJ].native)return null;var n=this[SJ].native.hitTest(e,t,r);return n?n.map((e=>({anchor:aJ(this[SJ].webviewId,e.anchor),transform:e.transform}))):[]}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[SJ].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[SJ].eventMap;if(r){var n=r[e]=r[e]||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}}function PJ(e){var t=AJ();t!==e&&function(e=0){var t=mJ(e);t&&(t.stop(),bJ(e)||gJ.push(e))}(t)}function kJ(e){bJ(e)&&function(e=0){var t=mJ(e);if(t&&(t.start(),bJ(e))){var r=gJ.indexOf(e);gJ.splice(r,1)}}(e)}function DJ(e){var t=we.currentWebviewId,r=mJ(t);return r||function(e=0,t){fJ[e]=t}(t,r=new xJ(t,e)),r}function RJ(e={}){var t=we.currentWebviewId,{type:r,config:n={}}=e,i=null;return"image"===r?i=new Bs.Z.ARImageReference(n):"object"===r&&(i=new Bs.Z.ARObjectReference(n)),zq(t,i)}ui((()=>{kJ(we.currentWebviewId)})),Eo((()=>PJ())),Kn((e=>{var t=e.webviewId;PJ(t),kJ(t),dn(t,(()=>{var e=mJ(t);e&&e.destroy(),oJ(t),Zq(t)}))}));var OJ=new Set,MJ=new WeakMap,LJ="service",NJ="plugin",BJ={[LJ]:0,[NJ]:0},WJ={add(e,t){OJ.add(e),MJ.set(e,t),BJ[t]++},remove(e){var t=MJ.get(e);OJ.delete(e)&&(MJ.delete(e),BJ[t]--)},get size(){return OJ.size},getSizeByType:e=>BJ[e]},FJ=0,UJ=1,VJ=2,jJ=new WeakMap,GJ=new Map,HJ=ArrayBuffer,QJ="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer;"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?HJ=__global.SharedArrayBuffer:l.g.SharedArrayBuffer&&(HJ=l.g.SharedArrayBuffer));class $J{constructor(e,t){if(!E(e)||e<0)throw new Ft(`Invalid array buffer length ${e}`);if(E(t)){var r;try{r=QJ.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new HJ(e),writable:!1,enumerable:!0});var n=QJ.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var i={writeStatus:FJ,readStatus:FJ,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};jJ.set(this,i),GJ.set(this._sabId,this)}destroy(){var e=jJ.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],GJ.delete(this._sabId),jJ.get(this).destroyed=!0,this.unlock(),QJ.destroy(this._sabId)}lock(e,t=!1){var r=jJ.get(this),{destroyed:n,writeStatus:i,readStatus:a,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new Ft("SharedArrayBuffer has been destroyed");if(!P(e))throw new Ft("callback must be a function");i!==VJ?(o.push(e),i===UJ||(r.writeStatus=UJ,r.writeLockId=QJ.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=VJ,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=jJ.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:i,destroyed:a}=e;a?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==UJ&&n!==VJ||(QJ.Unlock(this._sabId,t),e.writeStatus=FJ,e.writeLockId=void 0,e.writeLockCallbacks=[]),i!==UJ&&i!==VJ||(QJ.Unlock(this._sabId,r),e.readStatus=FJ,e.readLockId=void 0,e.readLockCallbacks=[]))}}var zJ=e=>{return T(e)?E(e._sabId)?(t=e._sabId,GJ.has(t)?GJ.get(t):new $J(0,t)):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=zJ(n),t}),{}):x(e)?e.map(zJ):e;var t},YJ=new WeakMap,ZJ=new WeakMap,qJ=new WeakMap,JJ={},XJ={},KJ={},eX=new WeakMap,tX=new WeakMap,rX=0,nX={};function iX(e,t,r=++rX){return KJ[e]?(nX[e]||(nX[e]=[]),nX[e].push({id:r,callback:t})):(KJ[e]=r,t()),r}function aX(e,t){if(KJ[e]===t&&(delete KJ[e],nX[e]&&nX[e].length)){var{id:r,callback:n}=nX[e].shift();iX(e,n,r)}}if(!QJ.new){var oX=0;Object.assign(QJ,{new(e){var t=++oX;return XJ[t]=e,Object.keys(JJ).forEach((r=>{var n=YJ.get(JJ[r]);__safeway__.worker.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:t},!1)})),t},get:e=>XJ[e],destroy(e){delete XJ[e]},Lock:iX,Unlock:aX})}__safeway__.worker.onWorkerMsg(((e,t)=>{var r=JJ[e],n=ZJ.get(r),i=tX.get(r);if(t.__inner_postmsg_flag__&&(t=t.data),t.__log__&&t.logs)(e=>{e.__isNativeConsole__?wxNativeConsole[e.level](...e.logs):console[e.level](...e.logs)})(t);else{if("setSharedBuffer"===t.__cmd__)return XJ[t.__id__]=t.__buffer__,void Object.keys(JJ).forEach((r=>{var n=YJ.get(JJ[r]);n!==e&&__safeway__.worker.postMsgToWorker(n,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if(r&&"function"==typeof n)if(i&&i.useWKWorker){if("requireScriptSuccess"===t.__cmd__){var a=eX.get(r);return void(a&&a.evaluateWorkerScriptPromiseResolve&&a.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void uu.readFile({filePath:t.filePath,success:({data:r})=>__safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))}),fail:({errMsg:r})=>__safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})});n(t.data)}else n(zJ(t))}else aX(t.__sid__,t.__lid__);else iX(t.__sid__,(()=>r.postMessage(t)),t.__lid__)}}));var sX=function(e,t){this.postMessage({__cmd__:"requireScript",__script__:e,__id__:YJ.get(this),__options__:t})},lX=function(){var e,t=new Promise((t=>{e=t}));eX.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class cX{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:""}){YJ.set(this,e),tX.set(this,r),JJ[e]=this,this._id=e,r.useWKWorker?lX.call(this):sX.call(this,t,{pluginId:r.pluginId}),WJ.add(this,r.contextType)}postMessage(e){var t=YJ.get(this),r=eX.get(this),n=tX.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{__safeway__.worker.postMsgToWorker(t,{data:e,appid:le.accountInfo.appId})})):(e={data:e,__inner_postmsg_flag__:!0},__safeway__.worker.postMsgToWorker(t,e))}onMessage(e){ZJ.set(this,e)}terminate(){var e=YJ.get(this),t=tX.get(this);t&&t.useWKWorker?__safeway__.worker.postMsgToWorker(e,{__cmd__:"terminate",appid:le.accountInfo.appId}):__safeway__.worker.terminate(e),WJ.remove(this),YJ.delete(this),ZJ.delete(this),eX.delete(this),qJ.delete(this),tX.delete(this),delete JJ[e]}onProcessKilled(e){qJ.set(this,e)}}Y("onWorkerWebViewTerminate",(()=>{Object.keys(JJ).forEach((e=>{var t=JJ[e],r=tX.get(t);if(r&&r.useWKWorker){var n=qJ.get(t);WJ.remove(t),YJ.delete(t),ZJ.delete(t),eX.delete(t),qJ.delete(t),tX.delete(t),delete JJ[e],"function"==typeof n&&__errorTracer__.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),Reporter.reportIDKey({key:"onWorkerWebViewTerminate"})}}))}));var uX=1;le.onReady((()=>{try{"number"==typeof le.wxAppInfo.maxWorkerConcurrent&&(uX=le.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var dX=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:le.accountInfo.appId,useExperimentalWorker:r&&sr("WeAppWorker")},i="workers.js",a=LJ,o=mr(this);if(o&&(i=xt(`plugin-private://${o}/workers.js`),a=NJ,n.pluginId=o),WJ.getSizeByType(a)>=uX)throw new Error("createWorker: exceed max concurrent workers limit.");var{workerId:s,useWKWorker:l}=__safeway__.worker.create(i,n);if(setTimeout((()=>{Reporter.reportIDKey({key:l?"createWKWorker":"createNormalWorker"})}),0),s>0)return new cX(s,e,{useWKWorker:l,contextType:a,pluginId:n.pluginId});throw-1===s?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},pX=(Bs.Z.fs,(e={})=>{ct("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&it("readCompressedFile",e)}),hX="weapp://wechat-game-runtime",fX="readFile";function gX(e={}){var t,{filePath:r,encoding:n}=e,i=new XMLHttpRequest;i.open("POST",`${hX}/wxfs/${btoa(r)}`,!0),i.setRequestHeader("content-type","application/json"),i.responseType="string"==typeof n?"text":"arraybuffer",i.onload=()=>{t="string"==typeof n?i.responseText:i.response,pt({name:fX,args:e,res:{data:t}})},i.onerror=t=>{dt(fX,e,t.message)},i.send(JSON.stringify({}))}var vX=void 0===a,mX=globalThis,_X={};function yX(e,t){var r=function(e,t,r,n=!1){var i=Dc(),a=Date.now(),o=Ki(),s=0;return kc.forEach((({match:t,version:r})=>{"string"==typeof t?e===t&&(s=r):t instanceof RegExp&&t.test(e)&&(s=r)})),"connectWifi"===e&&(t=""),(l,c,u=!1)=>{if(Nc(e,i,t,null===c?0:1,a,o,0,c,r,n),!u){var d=[e,i,Mc(t),l?1:0,a,Date.now()-a,o,1,Mc(c),le.appType+1e3,yc,bc,wc,s,r,Ic(),Ac,Date.now()-Ec,Date.now()-Cc].map(Lc(1024)).join(",");n||(Reporter.reportIDKey({key:"asyncApiCount"}),Reporter.reportIDKey({key:"asyncApiCost",value:Date.now()-a})),Reporter.reportKeyValue({key:n?"WeAppInvoke2":"WeAppInvoke",value:d})}}}("instantiate",{file:e,imports:t},!1,!1);return((e,t)=>{if("string"!=typeof e){var n=new Error("WebAssembly.instantiate: first argument must be a string");return r(!1,n,!0),Promise.reject(n)}if(/^(wxfile|https?):/.test(e)){var i=new Error("WebAssembly.instantiate: not support wxfile: or http: path");return r(!1,i,!0),Promise.reject(i)}if(!/\.wasm(\.br)?$/.test(e)){var a=new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br");return r(!1,a,!0),Promise.reject(a)}if(Le)return new Promise(((n,i)=>{gX({filePath:e,success(e){_X.instantiate(e.data,t).then((e=>{r(!0,e),n(e)}),(e=>{r(!1,e),i(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));r(!1,t),i(t)}})}));if(Se||Ie){var o=_X.instantiate(e,t);return"Promise"===b(o)?(r(!0,o),o):(r(!0,o,!0),Promise.resolve(o))}var s=Hc;return Ce&&/\.br$/.test(e)&&(s=pX),new Promise(((n,i)=>{s({compressionAlgorithm:"br",filePath:e,success(e){_X.instantiate(e.data,t).then((e=>{r(!0,e),n(e)}),(e=>{r(!1,e),i(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));r(!1,t,!0),i(t)}})}))})(e,t)}function AX(e){return function(e){return new Promise(((t,r)=>{"string"!=typeof e?r(new Error("WebAssembly.instantiate: first argument must be a string")):/^(wxfile|https?):/.test(e)?r(new Error("WebAssembly.instantiate: not support wxfile: or http: path")):/\.wasm(\.br)?$/.test(e)||r(new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br")),t()}))}(e).then((()=>{if(Le)return new Promise(((t,r)=>{gX({filePath:e,success(e){t(_X.compile(e.data))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var t=Hc;return/\.br$/.test(e)&&!ke&&(t=pX),new Promise(((r,n)=>{t({compressionAlgorithm:"br",filePath:e,success(e){r(_X.compile(e.data))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}))}void 0!==Bs.Z.WebAssembly?_X=Bs.Z.WebAssembly:void 0!==mX.WebAssembly&&(_X=mX.WebAssembly);class bX{constructor(){}}_X.Module&&(bX.customSections=_X.Module.customSections,bX.exports=_X.Module.exports,bX.imports=_X.Module.imports);var wX=e=>{var t={Table:_X.Table,Memory:_X.Memory,Global:_X.Global,Instance:_X.Instance,instantiate:(t,r)=>_X.Module&&t instanceof _X.Module?_X.instantiate(t,r):"string"==typeof t?(-1!==t.indexOf(`__plugin__/${e}/`)||(t=t.replace(/^\//,""),t=vX?`__plugin__/${e}/${t}`:xt(`plugin-private://${e}/${t}`)),yX(t,r)):yX(t,r)};return _X.compile&&(t.compile=e=>AX(e)),_X.Module&&(t.Module=bX),t},EX=()=>{var e={Table:_X.Table,Memory:_X.Memory,Global:_X.Global,Instance:_X.Instance};!function(e,t){Fc("",e,!0,1,t,!1,!0)}(e,!1);var t=O()(O()({},e),{},{instantiate:(e,t)=>_X.Module&&e instanceof _X.Module?_X.instantiate(e,t):yX(e,t)});return _X.compile&&(t.compile=e=>AX(e)),_X.Module&&(t.Module=bX),t};mX.WXWebAssembly=EX(),delete mX.WebAssembly;_X.Table,_X.Memory,_X.Global,_X.Instance,_X.compile,_X.compileStreaming,_X.instantiateStreaming,_X.validate,_X.CompileError,_X.LinkError,_X.Module,_X.RuntimeError;var CX,IX=BM,SX=Lw,TX=Nw,xX=cf,PX=FM,kX=WM,DX=UM,RX=VM,OX=UD,MX=VD,LX=GD,NX=HD,BX=QD,WX=aW,FX=oW,UX=iW,VX=QB,jX=$B,GX=ZB,HX=qB,QX=JB,$X=jM,zX=gW,YX=vW,ZX=mW,qX=_W,JX=yW,XX=bW,KX=wW,eK=EW,tK=co,rK=po,nK=ho,iK=no,aK=fo,oK=Zm,sK=qm,lK=Jm,cK=t_,uK=r_,dK=n_,pK=i_,hK=TD,fK=PD,gK=kD,vK=MD,mK=tR,_K=Tm,yK=Im,AK=km,bK=Pm,wK=Sm,EK=ks,CK={getAccountInfoSync:function(){var e=WG(),t=vr(this);return e.plugin={appId:t||"",version:FG(hr.pluginInfos[t].customVersion)},e},request:yG.request,uploadFile:yG.uploadFile,downloadFile:yG.downloadFile,connectSocket:yG.connectSocket,getStorage:DG.getStorage,getStorageSync:DG.getStorageSync,removeStorage:DG.removeStorage,removeStorageSync:DG.removeStorageSync,setStorage:DG.setStorage,setStorageSync:DG.setStorageSync,createAudioContext:OG.createAudioContext,createCameraContext:OG.createCameraContext,createMapContext:OG.createMapContext,createVideoContext:OG.createVideoContext,createInnerAudioContext:OG.createInnerAudioContext,createLivePlayerContext:OG.createLivePlayerContext,createLivePusherContext:OG.createLivePusherContext,createSelectorQuery:function(e){return LO(e,vr(this))},createIntersectionObserver:function(e,t){return FO(e,t,vr(this))},createMediaQueryObserver:function(e,t){return GO(e,t,vr(this))},nextTick:function(e){return zO(e)},createCanvasContext:BG.createCanvasContext,createOffscreenCanvas:BG.createOffscreenCanvas,drawCanvas:BG.drawCanvas,canvasToTempFilePath:BG.canvasToTempFilePath,canvasGetImageData:BG.canvasGetImageData,canvasPutImageData:BG.canvasPutImageData,createAnimation:T_,reportAnalytics:function(e,t){var r={business:"mmbizwxaanalytics",eventID:e,data:t||{},uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:ea,pluginId:vr(this),pluginVersion:_r(this)};it("reportRealtimeAction",{actionData:JSON.stringify(r)})},chooseImage:OX,chooseMedia:NW,previewImage:MX,getImageInfo(e){return LX(e,yG.downloadFile.bind(this))},saveImageToPhotosAlbum:NX,compressImage:BX,startRecord:WX,stopRecord:FX,getRecorderManager:UX,playVoice:GX,pauseVoice:HX,stopVoice:QX,getBackgroundAudioManager:fW,setInnerAudioOption:IW,chooseVideo:VX,saveVideoToPhotosAlbum:jX,createMediaContainer:QW,createMediaRecorder:_F,createVideoDecoder:rF,createMediaAudioPlayer:RW,createWorker:dX,getLocation:oO,openLocation:cO,chooseLocation:sO,choosePoi:lO,onLocationChange:dO,offLocationChange:pO,onLocationChangeError:fO,offLocationChangeError:gO,startLocationUpdate:vO,stopLocationUpdate:mO,getNetworkType:qi,onNetworkStatusChange:Ji,offNetworkStatusChange:Xi,getSystemInfo:ia,getSystemInfoSync:aa,startAccelerometer:cM,stopAccelerometer:uM,onAccelerometerChange:hM,offAccelerometerChange:pM,startCompass:vM,stopCompass:mM,onCompassChange:AM,offCompassChange:yM,getClipboardData:xM,setClipboardData:PM,makePhoneCall:bM,makeVoIPCall:wM,startGyroscope:UN,stopGyroscope:VN,onGyroscopeChange:jN,offGyroscopeChange:GN,startDeviceMotionListening:QN,stopDeviceMotionListening:$N,onDeviceMotionChange:zN,offDeviceMotionChange:YN,scanCode:EM,scanItem:SM,makeBluetoothPair:LL,isBluetoothDevicePaired:NL,openBluetoothAdapter:QM,closeBluetoothAdapter:$M,getBluetoothAdapterState:zM,onBluetoothAdapterStateChange:fm,offBluetoothAdapterStateChange:gm,startBluetoothDevicesDiscovery:YM,stopBluetoothDevicesDiscovery:ZM,getBluetoothDevices:qM,getConnectedBluetoothDevices:XM,createBLEConnection:KM,closeBLEConnection:eL,getBLEDeviceServices:tL,getBLEDeviceCharacteristics:rL,getBLEDeviceRSSI:JM,setBLEMTU:hL,getBLEMTU:yL,getHCEState:JL,startHCE:XL,stopHCE:KL,sendHCEMessage:eN,onHCEMessage:tN,offHCEMessage:rN,getNFCAdapter:CN,notifyBLECharacteristicValueChanged:nL,notifyBLECharacteristicValueChange:iL,readBLECharacteristicValue:aL,writeBLECharacteristicValue:oL,onBluetoothDeviceFound:dL,offBluetoothDeviceFound:pL,onBLEConnectionStateChanged:sL,offBLEConnectionStateChanged:lL,onBLEConnectionStateChange:dm,offBLEConnectionStateChange:pm,onBLECharacteristicValueChange:cL,offBLECharacteristicValueChange:uL,onBLEMTUChange:vL,offBLEMTUChange:mL,startBeaconDiscovery:kM,stopBeaconDiscovery:DM,getBeacons:RM,onBeaconUpdate:OM,offBeaconUpdate:MM,onBeaconServiceChange:LM,offBeaconServiceChange:NM,startWifi:BL,stopWifi:WL,getWifiList:FL,getConnectedWifi:UL,connectWifi:VL,presetWifiList:jL,setWifiList:GL,onGetWifiList:HL,onWifiConnected:$L,offGetWifiList:QL,offWifiConnected:zL,onEvaluateWifi:qL,addPhoneCalendar:JN,addPhoneRepeatCalendar:XN,getRandomValues:Tq,captureScreen:IX,onUserCaptureScreen:SX,offUserCaptureScreen:TX,setKeepScreenOn:xX,setScreenBrightness:PX,getScreenBrightness:kX,vibrateShort:DX,vibrateLong:RX,addPhoneContact:$X,login:function(e={}){var t=Object.assign({},e,{miniprogram_appid:le.accountInfo.appId});Dw.call(this,{sdkApiName:"login",apiName:"webapi_plugin_login",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},pluginLogin:function(e={}){var t=Object.assign({},e,{miniprogram_appid:le.accountInfo.appId});Dw.call(this,{sdkApiName:"pluginLogin",apiName:"webapi_getapppluginopenpid",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},getUserInfo:function(e={}){var t=vr(this),r=Object.assign({},e,{miniprogram_appid:le.accountInfo.appId});Dw.call(this,{sdkApiName:"getUserInfo",apiName:"webapi_plugin_getuserinfo",reqData:r,success:r=>{r.rawData=JSON.stringify(r.data),r.userInfo=r.data,delete r.data,"function"==typeof e.success&&e.success(r),setTimeout((()=>{fR(t)}))},fail:e.fail,complete:e.complete})},getNativeUserInfo:function(e={}){var{success:t,fail:n}=ht(e,"getNativeUserInfo");Kr({sdkApiName:"getNativeUserInfo",apiName:"webapi_getuserinfo",fromComponent:!0,reqData:{lang:e.lang||"en",version:r&&r.version&&r.version.version||""},pluginId:vr(this),withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,success:e=>{var{cloudID:r,encryptedData:n,iv:i,signature:a,data:o}=e,s=JSON.stringify(e.data);t({cloudID:r,encryptedData:n,iv:i,signature:a,userInfo:o,rawData:s,respData:{data:s}})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),n(e)}})},openSetting:wR,getSetting:function(e={}){var t=Object.assign({},e,{miniprogram_appid:le.accountInfo.appId,filter_auth_status:1,with_app_auth:!0});Dw.call(this,{sdkApiName:"getSetting",apiName:"webapi_getwxapluginuserscope",reqData:t,success:t=>{var r=t.data,n={errMsg:"getSetting:ok"};n.authSetting=(r.auth_item||[]).reduce(((e,t)=>(e[t.scope]=1===t.auth_status,e)),{}),r.user_all_app_auth&&(n.miniprogramAuthSetting=AR(r.user_all_app_auth).authSetting||{}),"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)},fail:t=>{var r={errMsg:t.errMsg||"getSetting:fail"};"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}})},operateWXData:function(e={}){var t=vr(this);e.pluginId=t,kw(e)},requestFacetoFacePayment:CD,requestPersonalPay:ID,showModal:iK,showToast:function(e={}){if(e.image){if(0!==e.image.indexOf("/"))return void dt("showToast",e,"parameter 'image' must be begin with '/'");var t=vr(this);e=Object.assign({},e,{image:i.getPluginRoutePrefix(t)+e.image.substr(1)})}lo(e)},hideToast:tK,showLoading:rK,hideLoading:nK,showActionSheet:aK,pageScrollTo:p_,setPageStyle:m_,setPageOrientation:P_,startPullDownRefresh:h_,stopPullDownRefresh:f_,setNavigationBarTitle:oK,showNavigationBarLoading:sK,hideNavigationBarLoading:lK,setNavigationBarColor:cK,setNavigationBarAlpha:uK,setNavigationBarRightButton:dK,onTapNavigationBarRightButton:pK,getShareInfo:hK,showShareMenu:fK,hideShareMenu:gK,updateShareMenu:vK,showShareImageMenu:mK,setBackgroundColor:D_,setBackgroundTextStyle:R_,navigateTo:_K,redirectTo:yK,navigateBack:AK,switchTab:bK,reLaunch:wK,getBackgroundAudioPlayerState:zX,playBackgroundAudio:YX,pauseBackgroundAudio:ZX,seekBackgroundAudio:qX,stopBackgroundAudio:JX,onBackgroundAudioPlay:XX,onBackgroundAudioPause:KX,onBackgroundAudioStop:eK,setCookies:function(e){VZ.call(this,502,(t=>{var r="setCookies:ok";if(t){var n=Si(e);n?(r=n,"function"==typeof e.fail&&e.fail({errMsg:r})):"function"==typeof e.success&&e.success({errMsg:r})}else r="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))},getCookies:function(e){VZ.call(this,503,(t=>{var r="getCookies:ok";if(t){var n=Ti(e);"function"==typeof e.success&&e.success({errMsg:r,cookies:n})}else r="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))},chooseShareGroup:KU,arrayBufferToBase64:__errorTracer__.surroundThirdByTryCatch(Ht),base64ToArrayBuffer:__errorTracer__.surroundThirdByTryCatch(Qt),openBusinessView:function(e={}){if(ct("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,t.privateExtraData={__pluginAppId:vr(this)},it("openBusinessView",t)}},joinVoIPChat:HZ,exitVoIPChat:QZ,updateVoIPChatMuteConfig:$Z,onVoIPChatMembersChanged:YZ,offVoIPChatMembersChanged:ZZ,onVoIPChatSpeakersChanged:qZ,offVoIPChatSpeakersChanged:JZ,onVoIPChatInterrupted:eq,offVoIPChatInterrupted:tq,subscribeVoIPVideoMembers:rq,onVoIPVideoMembersChanged:iq,offVoIPVideoMembersChanged:aq,onVoIPChatStateChanged:sq,offVoIPChatStateChanged:lq,createRewardedVideoAd:function(e){var t=vr(this);return WZ(O()(O()({},e),{},{pluginId:t}))},createInterstitialAd:function(e){var t=vr(this);return(e=>new AZ(e))(O()(O()({},e),{},{pluginId:t}))},updateWeChatApp:bj,reportPerformance:function(e,t,r){var n=vr(this),i=(e=>{var t=vr(e);if(void 0!==t)return hr.pluginInfos[t]})(this);!function(e,t,r,n){PV(e,t,r,n)}(e,t,r,{pluginId:n,customVersion:i?i.customVersion:""})},getPerformance:function(){return function(e={}){var t=e.pluginId;return sj.has(t)||sj.set(t,new ij(LV,t)),sj.get(t)}({pluginId:vr(this)})},getLaunchOptionsSync:si,getEnterOptionsSync:Cr,onThemeChange:es,offThemeChange:rs,getVideoInfo:zB,compressVideo:YB,createUDPSocket:yq,createTCPSocket:yG.createTCPSocket,getRealtimeLogManager:function(...e){return((e,t,r)=>{r=r||{};var n="develop"===le.envVersion||"trial"===le.envVersion;return r.isClientReport=!n,qU(r,e,t)})(vr(this),_r(this),...e)},authorizeForMiniProgram:(e={})=>{ct("authorizeForMiniProgram",e,{scope:""})&&(cq.includes(e.scope)?Yh({args:yr(e,"authorize","authorizeForMiniProgram")}):dt("authorizeForMiniProgram",e,`scope "${e.scope}" is not supported to be authorized by plugin.`))},getPublicLibVersion:GF,startLocalServiceDiscovery:PN,stopLocalServiceDiscovery:kN,onLocalServiceFound:DN,offLocalServiceFound:RN,onLocalServiceLost:ON,offLocalServiceLost:MN,onLocalServiceDiscoveryStop:LN,offLocalServiceDiscoveryStop:NN,onLocalServiceResolveFail:BN,offLocalServiceResolveFail:WN,loadFontFace:Hd,getBatteryInfo:aM,getBatteryInfoSync:oM,getAvailableAudioSources:CW,onAudioInterruptionBegin:Kf,offAudioInterruptionBegin:eg,onAudioInterruptionEnd:rg,offAudioInterruptionEnd:ng,previewMedia:BW,openVideoEditor:AF,saveFileToDisk:uq,openDocument:_c,getMenuButtonBoundingClientRect:M_,version:"undefined"==typeof __libVersionInfo__?{version:"9.9.9"}:JSON.parse(JSON.stringify(__libVersionInfo__)),chooseAddress:mR,chooseInvoice:DR,chooseInvoiceTitle:ER,publishWeChatState:QR,navigateToMiniProgram:EK,createVKSession:DJ,createVKReference:RJ},IK=(CX={},Iq.forEach((e=>{e.copyToWx&&(CX[e.name]=function(t){var r=vr(this);((e,t)=>{var r=!0===le.debug,n="devtools"===le.platform;(r||n)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),XB(`${e} (${t})`)})(e.name,r),Sq(r,e.permissionBytes,(n=>{n?e.factory(r)(t):dt(e.name,t,"no permission")}))})})),CX);Object.keys(IK).forEach((e=>{CK[e]=IK[e]}));var SK=(e,t)=>new TG(CK,e,t),TK=()=>"undefined"==typeof BaseConsole?new __appServiceConsole__.BaseConsole:new BaseConsole,xK=e=>wX(e);le.onReady((()=>{(()=>{if(Jj("start to invokeGetPluginList"),le.appContactInfo&&le.appContactInfo.call_plugin_info)for(var e=le.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],n=r.plugin_id;eG[n]=Gm({version:r.inner_version,customVersion:r.plugin_version||""}),sG(n,r.inner_version)}else if(le.plugins)for(var i in le.plugins){var a=le.plugins[i],o=a.provider;eG[o]=Gm({version:0,customVersion:a.version||""}),sG(o,0)}oG(1),Jj("invokeGetPluginList -> ",eG)})(),Um()||lG(5),dG()}));var PK=hr.pluginInfos,kK={};le.onReady((()=>{"object"==typeof le.env&&(kK.USER_DATA_PATH=le.env.USER_DATA_PATH)}));var DK=kK,RK=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))};function OK(e=""){for(var t=le.subpackages||le.subPackages||[],r=0;r<t.length;r++){var n=t[r];if(0===e.indexOf(n.root))return n}return null}function MK(e=""){var t=OK(e);return!!(t&&t.independent&&t.isolated)}var LK={};f("media_banned",(e=>{var{index:t,permissionByte:r}=e;LK[t]=r}));var NK,BK=()=>LK,WK=null,FK=["width","left"],UK=new Map;function VK(){return[...UK.entries()].map((([e,t])=>{var{width:r,height:n,left:i,top:a}=t(e);return{width:r,height:n,left:i,top:a}}))}function jK({left:e,width:t}){return e+t}function GK({top:e,height:t}){return e+t}function HK(e,t){var r;null!==(r=t)&&void 0!==r||(t=VK());var n=t.findIndex((t=>{return r=t,n=e,i=Math.max(r.left,n.left),a=Math.max(i,Math.min(jK(r),jK(n))),o=Math.max(r.top,n.top),s=Math.max(o,Math.min(GK(r),GK(n))),i!==a&&o!==s;var r,n,i,a,o,s}));return-1!==n&&t[n]}UK.set({},(()=>M_()));var QK=null!==(NK=le.screenWidth)&&void 0!==NK?NK:375,$K=QK/2;var zK=null;function YK(e={},t){if(zK)return t&&t(zK);var{top:r}=function({height:e,width:t,align:r="right",padding:n=8}){for(var i=VK(),a=i.map((e=>{var{width:t,left:r}=e,n=v()(e,FK);return O()(O()({width:t,left:r},n),{},{align:t>$K?"center":r<$K?"left":"right"})})).filter((({align:e})=>r===e||"center"===e)).sort(((e,t)=>e.top-t.top)),o=a[a.length-1],s={height:e,width:t,left:"left"===r?0:QK-t,top:o?o.height+o.top+n:0},l=HK(s,i);l;)s.top=l.top+l.height+n,l=HK(s,i);return s}({height:20,width:180,align:"right"}),{right:n}=M_(),i=le.screenWidth-n,a=JSON.stringify(e);__sclEngine__.initScl((e=>{(function({component:e,getVisibleAera:t}){UK.has(e)||UK.set(e,t)})({component:zK=e.mainRoot.append("verify-tip",{top:r,right:i,info:a}),getVisibleAera:e=>e.__wxSlotChildren[0].__wxSlotChildren[0].childNodes[0].getBoundingClientRect()}),zK.addListener("destroy",(()=>{!function(e){UK.delete(e)}(zK),zK=null})),t&&t(zK)}))}var ZK=new mc("Keyboard"),qK=new mc("",!0);["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"].forEach((e=>{oe(e,(t=>{ZK.emit(e,t),qK.emit(e,t)}))}));var JK=null,XK=!1,KK="",e0=0,t0=null,r0=({value:e})=>{KK&&JK.setData({[KK]:e})},n0=({value:e})=>{XK=!1,KK&&JK.setData({[KK]:e})},i0=({detail:e})=>{KK===e.key&&XK||(KK=e.key,XK?it("hideKeyboard",{success:()=>{XK=!1,setTimeout((()=>{it("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===KK?"identity":"text",style:{height:"50px"},success:()=>{XK=!0}})}),800)}}):it("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===KK?"identity":"text",style:{height:"50px"},success(){XK=!0,JK.setData({open:XK,key:KK})}}))},a0=({height:e})=>{e<100?JK.setData({keyboardHeight:0}):JK.setData({keyboardHeight:e+50})};function o0(e={},t){var r;if(clearInterval(t0),e0=null!==(r=e.remainSeconds)&&void 0!==r?r:e0,t0=setInterval((()=>{e0>0&&e0--}),1e3),JK)return t&&t(JK);__sclEngine__.initScl((r=>{JK=r.mainRoot.append("verify-modal",e),oe("onKeyboardHeightChange",a0),JK.addListener("destroy",(({detail:t})=>{JK=null,(e=>{qK.off("onKeyboardInput",e)})(r0),(e=>{qK.off("onKeyboardConfirm",e)})(n0),se("onKeyboardHeightChange",a0),e.des&&e.des(null==t?void 0:t.reason),"success"===(null==t?void 0:t.reason)&&e.reportkv({UIArea:1511,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1})})),JK.addListener("click",i0),JK.addListener("confirm",(({detail:t})=>(it("hideKeyboard",{success:()=>{XK=!1}}),e.confirm(O()(O()({},t),{},{showModal:(...e)=>JK.showModal(...e)}))))),JK.addListener("switchPage",(({detail:t})=>{XK&&it("hideKeyboard",{success:()=>{XK=!1}});var{page:r}=t,n=e.half?1508:1507;"help"===r?n=1509:"fail"===r?n=1510:"succ"===r&&(n=1511),e.reportkv({UIArea:n,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1}),JK.setData(O()({},t))})),JK.addListener("close",(({detail:t})=>{!e.isSoftMode&&e0<=0?$m():(JK.des(null==t?void 0:t.reason),"fail"===(null==t?void 0:t.reason)?e.reportkv({UIArea:1510,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1}):"cancel"===(null==t?void 0:t.reason)&&(it("hideKeyboard",{success:()=>{XK=!1}}),e.reportkv({UIArea:e.half?1508:1507,PositionID:3,ActionID:2,Status:e.isSoftMode?3:1})))})),JK.addListener("report",(({detail:t})=>{e.reportkv(t)})),(e=>{qK.on("onKeyboardInput",e)})(r0),(e=>{qK.on("onKeyboardConfirm",e)})(n0),t&&t(JK)}))}function s0(e,t,r,n=0){Reporter.reportKeyValue({key:"Handoff",value:[le.appType+1e3,le.appLaunchInfo.scene,e,t,r,n,Ki(),""].join(",")})}var l0=(e={})=>{var{path:t,fromButton:r}=e;r?sr("handoff")?(e=>{it("checkHandoffEnabled",e)})({success({isEnabled:e,errCode:r}){e?(s0(2,2,2),((e={})=>{if(ct("showAuthorize",e,{apply:""})){var t=le.accountInfo.nickname,r=le.accountInfo.icon,n=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),i=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&WK&&(WK.handleCancel(),WK=null)}));__sclEngine__.initScl((t=>{(WK=t.mainRoot.append("authorize",{input:n})).addListener("confirm",(()=>{Hi(i),pt({name:"showAuthorize",args:e})})),WK.addListener("cancel",(()=>{Hi(i),dt("showAuthorize",e,"cancel")}))}))}})({apply:"在电脑端微信打开小程序",success(){s0(2,2,1),it("startHandoff",{path:t,actionId:2},{beforeSuccess:()=>s0(2,1,1),beforeFail:({errCode:e})=>s0(2,1,0,e)})},fail(){s0(2,2,0)}})):s0(2,1,0,r)}}):console.warn("startHandOff:fail no permission"):it("startHandoff",{path:t,actionId:1},{beforeSuccess:()=>s0(1,1,1),beforeFail:({errCode:e})=>s0(1,1,0,e)})},c0=(e,t)=>{it("getAppConfig",e,t)},u0=function(e){Y("onAppConfig",e)},d0=function(e){Y("onPullDownRefresh",e)},p0=function(e){Y("onShareAppMessage",e)},h0=function(e){Y("onAddToFavorites",e)},f0=function(e){Y("onStartHandoff",e)},g0=(e,t)=>{it("addToFavorites",e,t)},v0=function(e){Y("onTabItemTap",e)},m0=(e,t)=>{h("analyticsConfig",e,t)},_0=(e,t)=>{it("reportRealtimeAction",e,t)},y0=(e,t)=>{it("shareAppMessage",e,t)},A0=(e,t)=>{it("shareAppMessageDirectly",e,t)},b0=(e,t)=>{it("shareAppMessageToSpecificContactDirectly",e,t)},w0=(e,t)=>{it("shareAppMessageForFakeNative",e,t)},E0=(e,t)=>{it("shareAppMessageToSpecificContactForFakeNativeDirectly",e,t)},C0=(e,t)=>{it("checkHandoffEnabled",e,t)},I0=e=>{f("analyticsReport",e)},S0=e=>{f("recycleStatistics",e)},T0=e=>{f("savePageState",e)},x0=e=>{f("tapShareButton",e)},P0=e=>{f("tapHandoffButton",e)},k0=e=>{f("tapShareTimeLineButton",e)},D0=(e,t)=>{it("showUpdatableMessageSubscribeButton",e,t)},R0=e=>Y("onShareTimeline",e),O0=(e,t)=>it("shareTimeline",e,t),M0=e=>it("showShareTimelineMenu",e),L0=Ym,N0=PD,B0=xD,W0=tr,F0=s_,U0=l_,V0=function(e){o_.call(this,e)},j0=to,G0=(e,t)=>{h("functionalPage",e,t)},H0=(e,t)=>{h("pageScrollTo",e,t)},Q0=(e,t)=>{h("telecontrol",e,t)},$0=(e,t)=>{h("__updateAppData",e,t)},z0=e=>{f("subjectChangeInfo",e)},Y0=e=>{Kr({apiName:"webapi_report_data",reqData:e})},Z0=e=>{f("vdCallComponentMethodForWxs",e)},q0=()=>le.subPackages||le.subpackages;we.appStatus=ye,we.hanged=!1,pi((e=>{Date.now()})),Io((e=>{Date.now()})),Un((()=>{we.appStatus=ye})),Pi((e=>{"hide"===e.mode?we.appStatus=be:we.appStatus=Ae,"close"===e.mode?we.hanged=!1:"hang"===e.mode&&(we.hanged=!0)})),bo((()=>{we.hanged=!1}));var J0=e=>{var t=/^rgba?\((.+)\)/.exec(e);if(!t)return e;var r=t[1].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e=`0${e}`),e))).join("");return r=`#${r}`},X0=e=>{e.type=e.type||"play",it("operateCallTone",e)},K0=e=>{it("hasJoinVoIPChat",e)},e1={voip1v1:1},t1={};Object.keys(e1).forEach((e=>{t1[e1[e]]=e}));var r1=(e={})=>{e1[e.msgType]?nn("sendChannelMessage","webapi_sendwxachannelmsg",(e=>({msg_type:e1[e.msgType],receiver_openid:e.receiver,msg_content:JSON.stringify(e.data||{})})),(e=>{e.msgId=e.msg_id,delete e.msg_id}))(e):dt("sendChannelMessage",e,"lock of message type")},n1=ie("receiveMsgChannel"),i1=n1.onMethod;n1.offMethod;Y("onReceiveMsgChannel",(e=>{e.msgType=t1[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent,n1.emit(e)}));var a1=["对方版本暂不支持发起视频通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的视频通话请求","对方正在通话中，请稍后再播"],o1=["已接通","对方已挂断，通话结束","已拒绝，通话结束"],s1=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","对方已切换到语音通话，请使用听筒接听","已切换到语音通话，请使用听筒接听","余额不足，通话结束"],l1=["对方版本暂不支持发起语音通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的语音通话请求","对方正在通话中，请稍后再播","对方设备未开启通话选项"],c1=["已接通，请使用听筒接听","对方已挂断，通话结束","已拒绝，通话结束"],u1=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","声音将通过扬声器播放","声音将通过听筒播放","余额不足，通话结束"],d1=(e=[],t={})=>{T(e)&&(e=Object.keys(e));var r={};return e.forEach((e=>{e in t&&void 0!==t[e]&&(r[e]=t[e])})),r},p1=new ee({maxListeners:2e5}),h1={onTextViewClick:"click",onImageViewClick:"click",onTextViewDrag:"drag",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel"};Object.keys(h1).forEach((e=>{oe(e,(t=>{var r=h1[e],n=JSON.parse(t.data).id;p1.emit(`${r}-${n}`,t)}))}));var f1,g1=32768;class v1{constructor(e={}){var{props:t={},style:r={},position:n={},dataset:i={}}=e;this.parent=null,this.parentId=0,this.children={},this.events=[],this.id=++g1,this.props=t,this.style=r,this.position=n,this.dataset=i,this.bubbleHandler()}bubbleHandler(){["touchstart","touchmove","touchend","touchcancel","click"].forEach((e=>{this.on(e,(t=>{if(this.props.bubbles&&this.parent&&!this.parent.props.transEvt){var r=this.position.left,n=this.position.top;if("click"===e){if(!this.parent.props.clickable)return;this.parent.emit(e)}else if("touchstart"===e||"touchend"===e){if(!this.parent.props.gesture)return;var i=Object.assign({},t.touch);i.x+=r,i.y+=n,i.id=this.parent.id,this.parent.emit(e,{viewId:this.parent.id,touch:i})}else{if(!this.parent.props.gesture)return;var a=t.touches.map((e=>({x:e.x+r,y:e.y+n,id:this.parent.id})));this.parent.emit(e,{viewId:this.parent.id,touches:a})}}}))}))}getAbsolutePositon(){if(!this.parent)return{left:0,top:0};var e=this.parent.getAbsolutePositon(),{left:t,top:r}=this.position;return{left:t+e.left,top:r+e.top}}hide(){return this.props.hide=!0,this.update()}show(){return this.props.hide=!1,this.update()}insert(){var e=this.insertView(),t=[];return Object.keys(this.children).forEach((e=>{var r=this.children[e];t.push(r.insert())})),Promise.all([e,...t]).then((()=>{this.emit("ready")}),(e=>{this.emit("ready")}))}update(){return this.updateView()}remove(){this.parent&&this.parent.removeChild(this);var e=[];Object.keys(this.children).forEach((t=>{var r=this.children[t];this.removeChild(r),e.push(r.remove())})),this.removeListeners();var t=this.removeView();return Promise.all([t,...e]).catch((e=>{}))}insertView(){return Promise.resolve()}updateView(){return Promise.resolve()}removeView(){return Promise.resolve()}removeListeners(){this.events.forEach((e=>{p1.removeAllListeners(`${e}-${this.id}`)}))}appendChild(e){e.parent=this,e.parentId=this.id,this.props.independent&&(e.props.independent=!0),this.children[e.id]=e}empty(){Object.keys(this.children).forEach((e=>{var t=this.children[e];this.removeChild(t),t.remove()}))}removeChild(e){delete this.children[e.id],e.parent=null,e.parentId=0}emit(e,t){p1.emit(`${e}-${this.id}`,t)}on(e,t){p1.on(`${e}-${this.id}`,t)}off(e,t){p1.off(`${e}-${this.id}`,t)}once(e,t){p1.once(`${e}-${this.id}`,t)}}var m1,_1,y1,A1=(f1=class extends v1{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultLabel(),n=this.getDefaultStyle();this.events=["click","drag","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor);var i=this.props.label;this.style=Object.assign(n,d1(n,this.style)),this.props=Object.assign(t,d1(t,this.props)),this.label=Object.assign(r,d1(r,i)),this.label.lineHeight=this.label.lineHeight||1.2*this.label.fontSize}getDefaultProps(){return{hide:!1,clickable:!1,gesture:!1,transEvt:!1,sendTo:"appservice",fullscreen:!1,independent:!1,bubbles:!1,draggable:!1,dragConfig:{}}}getDefaultLabel(){return{content:"",color:"#000000",fontSize:12,textAlign:"left",fontWeight:"normal",lineHeight:0,lineBreak:"clip",whiteSpace:"nowrap"}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,overflow:"hidden",rotate:0,scaleX:1,scaleY:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,draggable:this.props.draggable,dragConfig:this.props.dragConfig,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,data:JSON.stringify({id:this.id}),label:this.label,fullscreen:this.props.fullscreen,independent:this.props.independent,zIndex:this.style.zIndex,fixed:this.style.fixed,style:this.style,notCoverRect:!0};Object.assign(t,e),it("insertTextView",t)}updateView(e){var t={viewId:this.id,position:this.position,hide:this.props.hide,label:this.label,independent:this.props.independent,style:this.style,fixed:this.style.fixed,zIndex:this.style.zIndex,notCoverRect:!0,draggable:this.props.draggable,dragConfig:this.props.dragConfig};Object.assign(t,e);it("updateTextView",t,{beforeFail(e){}})}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);it("removeTextView",t,{beforeFail(e){}})}animate(e){var t=this,r={duration:300,easing:"linear",viewId:this.id,finalStyle:{},independent:this.props.independent},n=Object.assign(r,e);it("animateCoverView",n,{beforeSuccess(){Object.keys(n.finalStyle).forEach((e=>{e in t.position?t.position[e]=n.finalStyle[e]:e in t.style&&(t.style[e]=n.finalStyle[e])}))},beforeFail(e){wxNativeConsole.error("animateView fail",t.id,n,e)}})}measureText(e=""){var t=0,r={text:e,fontSize:this.label.fontSize,fontWeight:this.label.fontWeight,fontStyle:"normal",fontFamily:"sans-serif",complete(e){t=e.width||0}};return it("measureText",r),t}fadeIn(e=300,t="linear"){return this.show().then((()=>this.animate({finalStyle:{opacity:1},duration:e,easing:t})))}fadeOut(e=300,t="linear"){return this.animate({finalStyle:{opacity:0},duration:e,easing:t}).then((()=>this.hide()))}fadeTo(e,t=300,r="linear"){return this.animate({finalStyle:{opacity:e},duration:t,easing:r})}slideUp(e=300,t="linear"){return this.animate({finalStyle:{height:0},duration:e,easing:t})}slideDown(e=300,t="linear"){var r=this.position.height;return this.position.height=0,this.update(),this.animate({finalStyle:{height:r},duration:e,easing:t})}},cn()(f1.prototype,"insertView",[H],Object.getOwnPropertyDescriptor(f1.prototype,"insertView"),f1.prototype),cn()(f1.prototype,"updateView",[H],Object.getOwnPropertyDescriptor(f1.prototype,"updateView"),f1.prototype),cn()(f1.prototype,"removeView",[H],Object.getOwnPropertyDescriptor(f1.prototype,"removeView"),f1.prototype),cn()(f1.prototype,"animate",[H],Object.getOwnPropertyDescriptor(f1.prototype,"animate"),f1.prototype),f1),b1=(m1=class extends v1{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultStyle();this.events=["click","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor),this.style=Object.assign(r,d1(r,this.style)),this.props=Object.assign(t,d1(t,this.props))}getDefaultProps(){return{hide:!1,iconPath:"",clickable:!1,gesture:!1,transEvt:!1,bubbles:!1,sendTo:"appservice",independent:!1}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,iconPath:this.props.iconPath,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,independent:this.props.independent,data:JSON.stringify({id:this.id}),style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,notCoverRect:!0};Object.assign(t,e),it("insertImageView",t)}updateView(e){var t={viewId:this.id,position:this.position,iconPath:this.props.iconPath,hide:this.props.hide,style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,independent:this.props.independent,notCoverRect:!0};Object.assign(t,e),it("updateImageView",t)}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);it("removeImageView",t)}},cn()(m1.prototype,"insertView",[H],Object.getOwnPropertyDescriptor(m1.prototype,"insertView"),m1.prototype),cn()(m1.prototype,"updateView",[H],Object.getOwnPropertyDescriptor(m1.prototype,"updateView"),m1.prototype),cn()(m1.prototype,"removeView",[H],Object.getOwnPropertyDescriptor(m1.prototype,"removeView"),m1.prototype),m1),w1=(_1=class extends v1{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,d1(t,this.props))}getDefaultProps(){return{independent:!1,mode:"normal",devicePosition:"front",resolution:"medium",hide:!1}}insertView(e){var t={parentId:this.parentId,cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,resolution:this.props.resolution,hide:this.props.hide};Object.assign(t,e),it("insertCamera",t)}updateView(e){var t={cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,hide:this.props.hide};Object.assign(t,e),it("updateCamera",t)}removeView(e){var t=Object.assign({cameraId:this.id,independent:this.props.independent},e);it("removeCamera",t)}},cn()(_1.prototype,"insertView",[H],Object.getOwnPropertyDescriptor(_1.prototype,"insertView"),_1.prototype),cn()(_1.prototype,"updateView",[H],Object.getOwnPropertyDescriptor(_1.prototype,"updateView"),_1.prototype),cn()(_1.prototype,"removeView",[H],Object.getOwnPropertyDescriptor(_1.prototype,"removeView"),_1.prototype),_1),E1=(y1=class extends v1{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,d1(t,this.props))}getDefaultProps(){return{independent:!1,self:!0,configCamera:"front",openid:""}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),it("insertVoIPView",t)}updateView(e){var t={viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),it("updateVoIPView",t)}removeView(e){var t=Object.assign({viewId:this.id,independent:this.props.independent,openId:this.props.openid},e);it("removeVoIPView",t)}},cn()(y1.prototype,"insertView",[H],Object.getOwnPropertyDescriptor(y1.prototype,"insertView"),y1.prototype),cn()(y1.prototype,"updateView",[H],Object.getOwnPropertyDescriptor(y1.prototype,"updateView"),y1.prototype),cn()(y1.prototype,"removeView",[H],Object.getOwnPropertyDescriptor(y1.prototype,"removeView"),y1.prototype),y1),C1=l(725),I1={view:A1,image:b1,voip:E1,camera:w1};class S1{constructor(e,t){this.elementClassMap={},this.root=null;var r=C1(e).root;this.addStyle(r,t),ny(r),this.root=this.compose(r)}querySelector(e=""){return this.querySelectorAll(e)[0]||null}querySelectorAll(e=""){return e.startsWith(".")?this.elementClassMap[e.slice(1)]||[]:null}addStyle(e,t){var r=e.attributes,n={},i=["id","class","name"];e.tagName=e.name,Object.keys(r).forEach((a=>{var o=r[a];if(""===o||"true"===o?r[a]=!0:"false"===o&&(r[a]=!1),a.startsWith("data-")){i.push(a);var s=a.slice(5);n[s]=r[a]}"class"===a&&(e.class=o&&o.trim().split(/\s+/)||[],e.style=e.class.reduce(((e,r)=>{var n=t[r]||{};return Object.assign(e,n)}),{}))})),i.forEach((e=>delete r[e])),e.dataset=n,e.children.forEach((e=>{this.addStyle(e,t)}))}compose(e){var t=e.tagName,r=I1[t],{layout:n,attributes:i,dataset:a,content:o,style:s}=e;if(i.hidden)return null;"view"===t&&(i.label=s,i.label.content=o,i.label.padding=s.labelPadding);var l=new r({position:n,props:i,dataset:a,style:s});return e.class.forEach((e=>{this.elementClassMap[e]||(this.elementClassMap[e]=[]),this.elementClassMap[e].push(l)})),e.children.forEach((t=>{e.attributes.independent&&(t.attributes.independent=!0);var r=this.compose(t);r&&l.appendChild(r)})),l}}var T1="https://res.wx.qq.com/op_res/uv-tkcFVNYmjSLo8oYLi6eHVUT_JFSWYhjoYd77-hNkfpHKJrm4qL1nTZBE7JdfM",x1="https://res.wx.qq.com/op_res/eG0naaMvi5-ResXXogaG1JfWqr7axjp_DgJu1Q-Al-_KPOFwDImGlDAd1y8rHxv2",P1="https://res.wx.qq.com/op_res/abRQv44fOA20modJp4dTaplyqzBvee7vYikt8Um1XjPwg4gGibt6kvjqG_ZgN4tl",k1="https://res.wx.qq.com/op_res/Wvt127UTzax9olBJldzRshntgwJBswVtASV7AoLiSSsx85W_g2Umr33qRtOElgvD",D1="https://res.wx.qq.com/op_res/ZjsLKqozyScMcOTIqmL1LHdV6M95Hz9luJu65Tf4jmzrYgBPKFKxKxDGw6GAaki9";var R1=0,O1=1,M1=2,L1=3,N1=4,B1=5,W1=6,F1=7,U1=8,V1=10,j1=11,G1=12,H1=13,Q1=14,$1="voip1v1";class z1{constructor(e){var{roomType:t="video",roomId:r="",groupId:n=0,disableSwitchVoice:i=!1,command:a=-1,caller:o={},listener:s={},sender:l=""}=e;this.roomType=t,this.roomId=r,this.groupId=n,this.disableSwitchVoice=i,this.command=a,this.caller=o,this.listener=s,this.sender=l}}var Y1={};le.onReady((()=>{var e=function(){var{screenWidth:e,screenHeight:t,statusBarHeight:r}=ya(),n=Se?44:46,i=r+n+12,a=t-i,o=e-32,s=o-32-24,l=t-105,c=t-226,u=e-151,d=le.menuButtonInfo&&le.menuButtonInfo.zIndex||1e3,p={left:e-87,top:24,width:75,height:162},h={left:0,top:0,width:e,height:a};return{styleTree:{container:{width:e,height:t,zIndex:d-1},overlay:{position:"absolute",left:0,top:0,width:e,height:t,backgroundColor:"#000000",opacity:0},navigationBar:{marginTop:r,width:e,height:n,color:"#ffffff",lineHeight:n,fontSize:17,textAlign:"center",opacity:0},maxWindow:{position:"absolute",left:0,top:t,width:e,height:a+16,borderRadius:16,backgroundColor:"#262930"},cameraContainer:{position:"absolute",left:0,top:0,width:e,height:a},camera:{position:"absolute",left:0,top:0,width:e,height:a},voipContainer:{position:"absolute",left:0,top:0,width:e,height:a},mainContainer:{position:"absolute",left:0,top:0,width:e,height:a},videoAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},voiceAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},previewWindow:{width:e,height:a},scaleBtn:{position:"absolute",left:0,top:0,width:60,height:60},scaleBtnIcon:{position:"absolute",left:16,top:24,width:24,height:24},videoInfoWindow:{flexDirection:"row",justifyContent:"flex-end",position:"absolute",right:16,top:24,height:64,width:s},videoInfoWindowNicknameCenter:{position:"absolute",textAlign:"center",color:"#ffffff",lineHeight:20,fontSize:14,height:20,width:e,top:24,left:0},voiceInfoWindow:{position:"absolute",top:234,left:0,width:e,height:200,alignItems:"center"},voiceInfoWindowHeadImage:{width:96,height:96,borderRadius:16,marginBottom:8},voiceInfoWindowNickname:{width:e,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"center"},voiceInfoWindowTips:{marginTop:4,width:e,height:20,color:J0("rgba(255,255,255,0.9)"),lineHeight:20,fontSize:14,textAlign:"center"},duration:{position:"absolute",bottom:177,width:e,height:16,color:"#ffffff",lineHeight:16,fontSize:14,textAlign:"center"},tips:{position:"absolute",left:e/2-33,bottom:225,width:66,labelPadding:[0,12,0,12],height:28,color:"#ffffff",lineHeight:28,fontSize:14,textAlign:"center",backgroundColor:J0("rgba(0,0,0,0.5)"),borderRadius:6},operationContainer:{position:"absolute",flexDirection:"row",justifyContent:"space-between",bottom:0,width:e,height:149,paddingLeft:38,paddingRight:38},operationItemContainer:{width:84,height:149,alignItems:"center"},listenItemContainer:{height:235},listenArea:{height:235},callItemContainer:{height:235},callArea:{height:235,justifyContent:"center"},switchVoiceText:{marginTop:8},operationItemTop:{width:84,height:57,alignItems:"center"},operationItemBottom:{position:"absolute",bottom:0,left:0,width:84,height:149,alignItems:"center"},callBtnArea:{position:"absolute",bottom:0,left:0,width:e,height:149,alignItems:"center"},operationItemBtn:{borderRadius:32,justifyContent:"center",alignItems:"center",width:64,height:64},operationItemIcon:{width:64,height:64},switchVoiceIcon:{width:32,height:32},operationItemText:{marginTop:16,color:"#ffffffe5",lineHeight:17,fontSize:12,textAlign:"center",width:104,height:17,overflow:"visible"},videoInfoWindowInfo:{width:s-60,height:64},videoInfoWindowTips:{marginTop:6,width:s-60,height:20,color:J0("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14,textAlign:"right"},videoInfoWindowNickname:{width:s-60,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"right"},videoInfoWindowHeadImage:{marginLeft:12,width:64,height:64,borderRadius:8},minPreviewWindowMask:O()({position:"absolute"},p),previewWindowSelfContainer:O()(O()({position:"absolute"},p),{},{zIndex:2}),previewWindowOtherContainer:O()(O()({position:"absolute"},h),{},{zIndex:1}),maskTop:{position:"absolute",left:0,top:0,width:e,height:145},maskBottom:{position:"absolute",left:0,top:a-201,width:e,height:201},maskVoice:{position:"absolute",left:0,top:0,width:e,height:a}},minWindowStyle1:{minWindow:{position:"absolute",left:16,top:l,height:72,width:o,backgroundColor:J0("rgba(38,41,48,1)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:72,width:o},minWindowLeft:{flexDirection:"row",paddingLeft:12,paddingRight:12,height:48,width:s},minWindowVoipContainer:{paddingRight:12,width:56,height:48,borderRadius:6},minWindowHeadImage:{width:48,height:48,borderRadius:6},minWindowVoip:{position:"absolute",left:0,top:0,width:48,height:48,borderRadius:6},minWindowInfo:{paddingLeft:4,width:s-64,height:48},minWindowNickname:{width:s-64,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:4,width:s-64,height:20,color:J0("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14},minWindowRight:{width:32,height:51},minWindowHangupIcon:{width:32,height:32},minWindowHangupText:{marginTop:2,width:32,height:17,color:J0("rgba(255, 255, 255, 0.9)"),lineHeight:17,fontSize:12,textAlign:"center"}},minWindowStyle2:{minWindow:{position:"absolute",top:c,left:u,height:64,width:135,backgroundColor:J0("rgba(44,44,44,0.70)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:64,width:135},minWindowVoipContainer:{paddingLeft:12,paddingRight:12,width:64,height:40},minWindowHeadImage:{width:40,height:40,borderRadius:4},minWindowVoip:{position:"absolute",left:12,top:0,width:40,height:40,borderRadius:4},minWindowInfo:{width:59,height:43},minWindowNickname:{width:59,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:3,width:59,height:16,color:J0("rgba(255, 255, 255, 0.7)"),lineHeight:16,fontSize:14}},maxPreviewWindowPosition:h,minPreviewWindowPosition:p,minPreviewWindowVoipPosition:{left:0,top:0,width:75,height:162},screenWidth:e,minWindowLeft2:u,maxWindowTop:i,maxWindowHeight:a}}();Object.assign(Y1,e)}));var Z1=Gr(bR),q1=Gr(zh),J1=Gr((function(e={}){if(ct("join1v1VoIPChat",e,{roomId:0,sessionKey:"",lifespan:0})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:GZ(e.muteConfig),handsFree:!!C(e.handsFree)&&e.handsFree,roomType:t}),n=vr(this);ot(n)("join1v1VoIPChat",r)}})),X1=Gr(((e={})=>{var t=nn("generateRoomId","webapi_join1v1voiproom",(e=>({use_pluginid:void 0!==e.pluginId,groupid:e.groupId,room_type:"join"===e.type?2:1,target_openid:e.targetOpenid||""})),(e=>{e.targetSupport=0===e.target_version,delete e.target_version,e.roomId=e.imroomid,delete e.imroomid,e.groupId=e.groupid,delete e.groupid}));e.pluginId=vr(void 0),t(e)})),K1=Gr(((e={})=>{var t=nn("getCloudSession","webapi_getcloudimsession",(e=>({use_pluginid:void 0!==e.pluginId})),(e=>{e.sessionKey=e.session_key,delete e.session_key}));e.pluginId=vr(void 0),t(e)})),e2=Gr(((e={})=>{console.log("@@ deductVoIPCallPay: ",e);var t=nn("deductVoIPCallPay","webapi_deductapp1v1voipcallpay",(e=>({op_type:e.operationType,call_type:e.callType,use_pluginid:void 0!==e.pluginId,roomid:e.roomId,session_key:e.sessionKey})),(e=>{delete e.rawData}));e.pluginId=vr(void 0),t(e)})),t2={0:"#262930ff",1:"#FA5151ff",2:"#FA9D3Bff",3:"#3D7257ff",4:"#1485EEff",5:"#6467F0ff"},r2={enable:!1,ignoreSelfVersion:!1,minWindowType:1,popupDuration:300,userSessionInfo:{},widget:null,backgroundColor:t2[0],occupied:!1},n2=(e,t)=>{var r=e.sender,n=r2.userSessionInfo.openid,i=Object.assign({},e,{sender:n,command:t});r1({msgType:$1,receiver:r,data:i,complete(e){}})},i2=()=>!(Ie&&le.clientVersion>=654315520||Se&&le.clientVersion>=402653184);i1((e=>{e.data.command;var{msgType:t,data:r}=e,n=r2.widget;t===$1&&(n?r.sender===n.sessionInfo.otherOpenid?n.handleReceiveMessage(r.command):n.sendMessage(U1):r.command===R1&&s2().then((()=>{i2()&&!r2.ignoreSelfVersion?n2(r,j1):r2.enable?K0({complete(e){r2.occupied=e.join,r2.occupied?n2(r,U1):e2({roomId:r.roomId,sessionKey:r2.userSessionInfo.sessionKey,callType:"video"===r.roomType?1:0,operationType:1}).then((e=>{console.log("[1v1 voip] deductVoIPCallPay",e);var t=parseInt(e.errcode,10),n=parseInt(e.unused_quota_count,10);0===t&&n>0?r2.widget=new a2(O()({role:"listener",minWindowType:r2.minWindowType,backgroundColor:r2.backgroundColor},r)):n2(r,H1)})).catch((e=>{console.log("[1v1 voip] deductVoIPCallPay fail: ",e),n2(r,Q1)}))}}):n2(r,G1)})))})),Ji((e=>{r2.widget&&r2.widget.onNetworkStatusChange(e)})),eq((e=>{r2.widget&&r2.widget.onVoIPChatInterrupted(e)})),YZ((e=>{r2.widget&&r2.widget.onVoIPChatMembersChanged(e)}));class a2{constructor(e){var t={};t.roomType=e.roomType||"video",t.isVoiceRoom="voice"===e.roomType,t.isCaller="caller"===e.role,t.groupId=e.groupId,t.roomId=e.roomId,t.disableSwitchVoice=e.disableSwitchVoice||!1,t.minWindowType=e.minWindowType||1,t.caller=e.caller,t.listener=e.listener,t.lifespan=r2.userSessionInfo.lifespan,t.sessionKey=r2.userSessionInfo.sessionKey,t.createSessionTime=r2.userSessionInfo.createSessionTime,t.handsFree=!1,t.muteConfig={muteMicrophone:!1,muteEarphone:!1},t.backgroundColor=e.backgroundColor,this.node={container:null,overlay:null,navigationBar:null,maxWindow:null,scaleBtn:null,hangupBtns:null,muteBtn:null,handsFreeBtn:null,cancelBtn:null,refuseBtn:null,listenBtn:null,switchVoiceBtns:null,switchCameraBtn:null,cameraContainer:null,voipContainer:null,videoOperationArea:null,voiceOperationArea:null,videoInfoWindow:null,voiceInfoWindow:null,videoInfoWindowNicknameCenter:null,callArea:null,listenArea:null,minPreviewWindowMask:null,previewWindowSelfContainer:null,previewWindowOtherContainer:null,previewWindowSelf:null,previewWindowOther:null,tips:null,camera:null,duration:null,minWindow:null,minWindowLeft:null,minWindowInfo:null,minWindowHangupBtn:null,minWindowDuration:null,minWindowVoipContainer:null,minWindowVoip:null,minWindowHeadImage:null,videoInfoWindowTips:null,voiceInfoWindowTips:null,maskBottom:null,maskTop:null,maskVoice:null,callSwitchVoiceBtn:null,mainContainer:null},this.statistics={videoStartTime:0,videoEndTime:0,voiceStartTime:0,voiceEndTime:0},this.callback={success:e.success,fail:e.fail,complete:e.complete},t.isCaller?(t.selfOpenid=e.caller.openid,t.otherOpenid=e.listener.openid):(t.otherOpenid=e.caller.openid,t.selfOpenid=e.listener.openid),this.sessionInfo=t,this.isPreviewWindowOtherMax=!0,this.hasOtherReceiveCall=!1,this.showMinWindow=!1,this.onDraging=!1,this.onCalling=!1,this.destoryed=!1,this.hasJoinVoIPChat=!1,this.startChatTime=0;var{maxWindowTemplate:r,minWIndowTemplate:n}=this.compileTemplate(t);Y1.styleTree.maxWindow.backgroundColor=t.isVoiceRoom?t.backgroundColor:t2[0];var i=new S1(r,Y1.styleTree),a=this.isMinWindowTypeMax()?Y1.minWindowStyle1:Y1.minWindowStyle2;a.minWindow.backgroundColor=t.backgroundColor;var o=new S1(n,a);Object.keys(this.node).forEach((e=>{this.node[e]=i.querySelector(`.${e}`)}));["minWindow","minWindowLeft","minWindowRight","minWindowHangupBtn","minWindowDuration","minWindowInfo","minWindowVoipContainer","minWindowHeadImage","minWindowVoip","minWindowContainer"].forEach((e=>{this.node[e]=o.querySelector(`.${e}`)})),this.node.hangupBtns=i.querySelectorAll(".hangupBtn"),this.node.switchVoiceBtns=i.querySelectorAll(".switchVoiceBtn"),this.bindEvent(),this.node.container.insert(),this.node.minWindow.insert(),this.startWaitAnimation(),t.isCaller||(this.startVibrateLong(),this.sendMessage(F1)),t.isCaller&&(setTimeout((()=>{this.destoryed||this.onCalling||this.showMinWindow||this.showTips(a1[1],2e4)}),2e4),setTimeout((()=>{this.destoryed||this.onCalling||(this.sendMessage(O1),this.showTipsThenDestory(a1[2]))}),6e4),this.call()),this.payTimer=setInterval((()=>{this.onCalling&&e2({roomId:t.roomId,sessionKey:t.sessionKey,callType:t.isVoiceRoom?0:1,operationType:2}).then((e=>{console.log("[1v1 voip]: deductVoIPCallPay: ",e);var t=parseInt(e.errcode,10);3===t?(this.sendMessage(H1),this.showTipsThenDestory(s1[8])):0!==t&&(this.sendMessage(Q1),this.showTipsThenDestory(s1[2]))})).catch((e=>{console.log("[1v1 voip]: deductVoIPCallPay fail: ",e),this.sendMessage(Q1),this.showTipsThenDestory(s1[2])}))}),6e4)}bindEvent(){var{container:e,overlay:t,navigationBar:r,scaleBtn:n,maxWindow:i,minWindow:a,minWindowLeft:o,minWindowInfo:s,minWindowHangupBtn:l,cancelBtn:c,refuseBtn:u,listenBtn:d,muteBtn:p,handsFreeBtn:h,minPreviewWindowMask:f,switchCameraBtn:g,hangupBtns:v,switchVoiceBtns:m,minWindowVoipContainer:_,minWindowContainer:y,mainContainer:A}=this.node;e.on("ready",(()=>{this.popupMaxWindow(),r.fadeTo(.9,r2.popupDuration),t.fadeTo(.87,r2.popupDuration),this.changeStatusBarColor()})),n&&n.on("click",(()=>{this.resetStatusBarColor(),this.showMinWindow=!0;var n=this.sessionInfo.isVoiceRoom;r.hide(),t.fadeOut(),A.hide(),this.popDownMaxWindow().then((()=>{e.hide()})),this.showMinWindowVoipPreviewWindow(),!n&&this.onCalling&&this.hideOtherVoipPreviewWindow(),setTimeout((()=>{n?(this.hideMask(),y.style.opacity=0,y.update(),a.fadeIn(5),y.fadeTo(1,200)):a.fadeIn(200)}),200)}));var b=()=>{var e=this.onCalling?s1[5]:a1[4],t=this.onCalling?M1:O1;this.sendMessage(t),this.showTipsThenDestory(e,0)},w=()=>{if(!this.onDraging){this.showMinWindow=!1;var{isVoiceRoom:n}=this.sessionInfo;!n&&this.onCalling&&this.showOtherVoipPreviewWindow(),this.hideMinWindowVoipPreviewWindow(),e.show(),n?y.fadeTo(0,100).then((()=>{this.showMask(),a.fadeOut(5).then((()=>{y.style.opacity=1,y.update()}))})):a.fadeOut(100),t.show(),t.fadeTo(.87,r2.popupDuration),this.popupMaxWindow().then((()=>{this.node.maxWindow.style.borderRadius=16,this.node.maxWindow.update(),r.show(),A.show()})),this.changeStatusBarColor()}};l&&l.on("click",(()=>{b()})),o&&o.on("click",(()=>{w()})),s&&s.on("click",(()=>{this.isMinWindowTypeMax()||w()})),_&&_.on("click",(()=>{var{isVoiceRoom:e}=this.sessionInfo;this.isMinWindowTypeMax()||(e?b():w())})),a&&a.on("drag",(e=>{var t=a.position.width/2,r=Y1.screenWidth/2,n=e.stage,o=e.drag;"dragging"===n&&(this.onDraging=!0),"end"===n&&this.onDraging&&(this.onDraging=!1,a.position.left=16,o.left+t>r&&!this.isMinWindowTypeMax()&&(a.position.left=Y1.minWindowLeft2),a.position.top=o.top,a.animate({finalStyle:O()({},a.position),duration:100}),i.position=Object.assign({},a.position),i.update())})),p&&p.on("click",(()=>{var e=this.sessionInfo.muteConfig,t=!e.muteMicrophone;e.muteMicrophone=t,$Z({muteConfig:{muteMicrophone:t}});var r=t?"https://res.wx.qq.com/op_res/tqnj65wMmdaQDVBAia5726VAaVtTVOcFF9PgeVrkis1gJWt_C2k7pHYWC_pjaGjR":k1;p.props.iconPath=r,p.update()})),h&&h.on("click",(()=>{var e=!this.sessionInfo.handsFree;this.showTips(u1[e?6:7]),this.sessionInfo.handsFree=e,$Z({muteConfig:this.sessionInfo.muteConfig,handsFree:e});var t=e?"https://res.wx.qq.com/op_res/7f8h7wvyZo92NU4yaA3Kwp4yXLkdgj8jsA4GFUO7G6r3rBObYxqqEeDP9pgm1O2k":D1;h.props.iconPath=t,h.update()})),c&&c.on("click",(()=>{this.sendMessage(O1),this.showTipsThenDestory(a1[4])})),u&&u.on("click",(()=>{this.stopVibrateLong(),this.sendMessage(N1),this.showTipsThenDestory(o1[2])})),v.forEach((e=>{e.on("click",(()=>{this.showTipsThenDestory(s1[5])}))})),m.forEach((e=>{e.on("click",(()=>{var{isCaller:e}=this.sessionInfo;this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.onCalling?(this.switchToVoiceCall(),this.sendMessage(L1)):e?(this.switchToVoiceCall(),this.showTips(s1[7]),this.sendMessage(L1)):(this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),this.showTips(s1[7]),this.sendMessage(W1),this.showDuration()})))}))})),d&&d.on("click",(()=>{this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{var{isVoiceRoom:e}=this.sessionInfo,t=e?c1[0]:o1[0];this.onCalling=!0,this.stopWaitAnimation(),this.showTips(t),this.showDuration(),this.pullUpCallingInterface(),this.sendMessage(B1)}))})),g&&g.on("click",(()=>{var e=this.node.previewWindowSelf,t="front"===e.props.configCamera?"back":"front";e.props.configCamera=t,e.update()})),f&&f.on("click",(()=>{this.switchVoipPreviewWindow()}))}isMinWindowTypeMax(){return 1===this.sessionInfo.minWindowType}call(){var e=this.callback;Date.now();X1({type:"create",targetOpenid:this.sessionInfo.otherOpenid}).then((t=>{Date.now();this.sessionInfo.groupId=t.groupId,this.sessionInfo.roomId=t.roomId,e2({roomId:this.sessionInfo.roomId,sessionKey:r2.userSessionInfo.sessionKey,callType:"video"===this.sessionInfo.roomType?1:0,operationType:1}).then((t=>{console.log("[1v1 voip] deductVoIPCallPay",t);var r=parseInt(t.errcode,10),n=parseInt(t.unused_quota_count,10);if(0===r&&n>0)J1(O()({},this.sessionInfo)).then((t=>{this.hasJoinVoIPChat=!0,this.playCallTone();Date.now();this.sendMessage(R1);var r="join1v1Chat:ok";e.success&&e.success({errMsg:r,errCode:0}),e.complete&&e.complete({errMsg:r,errCode:0})})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("join1v1VoIPChat","join1v1Chat");e.fail&&e.fail({errMsg:r,errCode:t.errCode}),e.complete&&e.complete({errMsg:r,errCode:t.errCode})}));else{this.showTipsThenDestory(s1[8]);var i=`join1v1Chat:fail ${t.errmsg}`;e.fail&&e.fail({errMsg:i,errCode:r}),e.complete&&e.complete({errMsg:i,errCode:r})}})).catch((t=>{console.log("[1v1 voip] deductVoIPCallPay",t),this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("deductVoIPCallPay","join1v1Chat");e.fail&&e.fail({errMsg:r}),e.complete&&e.complete({errMsg:r})}))}))}listenerJoinVoIPChat(){return X1({type:"join",groupId:this.sessionInfo.groupId}).then((e=>(this.sessionInfo.groupId=e.groupId,this.sessionInfo.roomId=e.roomId,J1(O()({},this.sessionInfo)).then((e=>{this.hasJoinVoIPChat=!0})).catch((e=>{this.showTipsThenDestory("接听失败"),wxNativeConsole.error(e)})))))}onVoIPChatInterrupted(){this.showTipsThenDestory(s1[2])}onVoIPChatMembersChanged(e){var t=e.openIdList,{selfOpenid:r,isCaller:n}=this.sessionInfo,{callSwitchVoiceBtn:i}=this.node;2===t.length&&n&&(i&&i.hide(),this.showDuration()),this.onCalling&&1===t.length&&t[0]===r?this.showTipsThenDestory(s1[4]):n||1!==t.length||t[0]!==r||this.showTipsThenDestory(s1[4])}sendMessage(e){if(!this.destoryed){var{otherOpenid:t,selfOpenid:r}=this.sessionInfo,n=new z1(O()(O()({},this.sessionInfo),{},{sender:r,command:e}));r1({msgType:$1,receiver:t,data:n,complete(e){}})}}handleReceiveMessage(e){var{isVoiceRoom:t}=this.sessionInfo;switch(e){case B1:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),!t&&this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()),this.showTips(a1[3]);break;case L1:this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.switchToVoiceCall(),this.showTips(s1[6]);break;case W1:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.pullUpCallingInterface(),this.showTips(s1[6]);break;case F1:this.hasOtherReceiveCall=!0;break;case O1:this.showTipsThenDestory(o1[1]);break;case N1:var r=t?l1[5]:a1[5];this.showTipsThenDestory(r);break;case M1:break;case V1:this.showTips(s1[0]);break;case U1:this.showTipsThenDestory(a1[6]);break;case j1:this.showTipsThenDestory(l1[0]);break;case G1:this.showTipsThenDestory(l1[7])}}onNetworkStatusChange(e){var{isConnected:t,networkType:r}=e,{isVoiceRoom:n}=this.sessionInfo;t?("2g"===r||!n&&"3g"===r)&&(this.sendMessage(V1),this.showTips(s1[1])):this.showTipsThenDestory(s1[3])}switchToVoiceCall(){var{videoInfoWindowNicknameCenter:e,voipContainer:t,cameraContainer:r,switchVoiceBtns:n,videoInfoWindow:i,voiceInfoWindow:a,voiceInfoWindowTips:o,videoOperationArea:s,voiceOperationArea:l,minWindowVoipContainer:c,minWindowInfo:u,minWindowHeadImage:d,maskBottom:p,maskTop:h}=this.node,{isCaller:f}=this.sessionInfo;p&&(p.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),this.isMinWindowTypeMax()?(c&&c.remove(),u.position=Object.assign({},u.position,{left:16,top:0}),u.update()):(d.props.iconPath=P1,d.update()),this.onCalling?(f||(this.statistics.videoEndTime=Date.now(),this.statistics.voiceStartTime=Date.now()),t&&t.remove(),this.node.voipContainer=null,e.hide(),o.hide(),a.show(),s.hide(),l.show()):(r&&r.remove(),this.node.cameraContainer=null,i.hide(),a.show(),n.forEach((e=>e.hide())))}pullUpCallingInterface(){if(this.onCalling){var{isVoiceRoom:e}=this.sessionInfo,{videoInfoWindow:t,videoOperationArea:r,listenArea:n,callArea:i,videoInfoWindowNicknameCenter:a,voiceInfoWindow:o,voiceInfoWindowTips:s,voiceOperationArea:l,cameraContainer:c,minWindowVoipContainer:u,minWindowInfo:d,minWindowHeadImage:p,maskTop:h,maskBottom:f}=this.node;i&&i.hide(),n&&n.hide(),t&&t.hide(),c&&c.remove(),this.node.cameraContainer=null,e?(f&&(f.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),o.show(),s.hide(),l.show(),this.isMinWindowTypeMax()?(u&&u.remove(),d.position=Object.assign({},d.position,{left:16,top:0}),d.update()):(p.props.iconPath=P1,p.update())):(this.showVoipPreViewWindow(),o&&o.hide(),a.show(),r.show(),this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()))}}destory(){clearInterval(this.payTimer),this.hideDuration(),this.resetStatusBarColor(),this.stopWaitAnimation(),this.onCalling=!1,this.destoryed=!0,this.hasJoinVoIPChat&&QZ(),this.node.container.remove(),this.node.minWindow.remove(),r2.widget=null}showTipsThenDestory(e,t=2e3){this.stopCallTone(),this.stopVibrateLong(),0===t?this.destory():this.showTips(e,t).then((()=>this.destory()))}showTips(e,t=2e3){if(this.showTipsTimier&&clearTimeout(this.showTipsTimier),this.showMinWindow)return lo({title:e,icon:"none",duration:t}),new Promise((e=>{setTimeout((()=>{e()}),t)}));var r=this.node.tips,n=r.measureText(e)+28,i=(Y1.screenWidth-n)/2;return r.label.content=e,r.position.left=i,r.position.width=n,r.props.hide=!1,r.update(),new Promise((e=>{this.showTipsTimier=setTimeout((()=>{this.destoryed||r.hide(),e()}),t)}))}changeStatusBarColor(){it("setStatusBarStyle",{color:"white"})}resetStatusBarColor(){it("setStatusBarStyle",{color:"#ffffff"==={backgroundColor:Xm,frontColor:Km}.frontColor?"white":"black"})}showVoipPreViewWindow(){var{otherOpenid:e,selfOpenid:t}=this.sessionInfo;this.createVoipPreviewWindow({self:!1,openid:e,size:"max"}),this.createVoipPreviewWindow({self:!0,openid:t,size:"min"})}showOtherVoipPreviewWindow(){var{otherOpenid:e}=this.sessionInfo,t=this.isPreviewWindowOtherMax?"max":"min";this.createVoipPreviewWindow({self:!1,openid:e,size:t})}hideOtherVoipPreviewWindow(){var{previewWindowOther:e}=this.node;e&&e.remove()}showMinWindowVoipPreviewWindow(){var{otherOpenid:e,isVoiceRoom:t}=this.sessionInfo,{minWindowVoip:r,cameraContainer:n}=this.node;if(!t){r&&r.empty(),n&&n.empty();var i=this.isMinWindowTypeMax()?48:40,a=this.isMinWindowTypeMax()?48:40,o=null;this.onCalling&&(o=new E1({position:{left:0,top:0,width:a,height:i},props:{independent:!0,self:!1,openid:e}})),o&&(r.appendChild(o),o.insert())}}hideMinWindowVoipPreviewWindow(){var{minWindowVoip:e,cameraContainer:t}=this.node;if(e&&e.empty(),!this.onCalling&&t){var r=new w1({position:{left:0,top:0,width:Y1.screenWidth,height:Y1.maxWindowHeight}});t.appendChild(r),t.insert()}}switchVoipPreviewWindow(){var{previewWindowOther:e,previewWindowSelf:t}=this.node;if(t&&e){var r=this.isPreviewWindowOtherMax?"max":"min",n=this.isPreviewWindowOtherMax?"min":"max";this.adjustVoipPreviewWindow(t,r),this.adjustVoipPreviewWindow(e,n),this.isPreviewWindowOtherMax=!this.isPreviewWindowOtherMax}}adjustVoipPreviewWindow(e,t){var r="max"===t,n=e.parent,i=r?Y1.maxPreviewWindowPosition:Y1.minPreviewWindowPosition,a=r?Y1.maxPreviewWindowPosition:Y1.minPreviewWindowVoipPosition,o=r?1:2;n.position=i,e.position=a,n.style.zIndex=o,n.update(),e.update()}createVoipPreviewWindow(e){var{size:t,self:r,openid:n}=e,{previewWindowSelfContainer:i,previewWindowOtherContainer:a}=this.node,o="max"===t?Y1.maxPreviewWindowPosition:Y1.minPreviewWindowVoipPosition,s=r?i:a,l=new E1({position:o,props:{independent:!0,self:r,openid:n}});this.node[r?"previewWindowSelf":"previewWindowOther"]=l,s.appendChild(l),l.insert()}startWaitAnimation(){this.sessionInfo.isCaller&&(this.waitCount=0,this.waitTimer=setInterval((()=>{var{voiceInfoWindowTips:e,videoInfoWindowTips:t}=this.node,r=`正在等待对方接收邀请${new Array(++this.waitCount).fill(".").join("")}`;this.waitCount%=3,t&&(t.label.content=r,t.update()),e&&(e.label.content=r,e.update())}),800))}stopWaitAnimation(){clearInterval(this.waitTimer)}playCallTone(){X0({type:"play"})}stopCallTone(){X0({type:"stop"})}startVibrateLong(){this.vibrateLongTimer=setInterval((()=>{VM()}),2e3)}stopVibrateLong(){clearInterval(this.vibrateLongTimer)}showDuration(){var{duration:e,minWindowDuration:t}=this.node,{isVoiceRoom:r,isCaller:n}=this.sessionInfo;n||(r?this.statistics.voiceStartTime=Date.now():this.statistics.videoStartTime=Date.now()),this.startChatTime||(this.startChatTime=Date.now()),e.show(),this.durationTimer=setInterval((()=>{if(!this.destoryed){var n=(e=>{var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%3600-60*r;r<10&&(r=`0${r}`),n<10&&(n=`0${n}`);var i=`${r}:${n}`;return t>0&&(i=`${t}:${i}`),i})(Math.ceil((Date.now()-this.startChatTime)/1e3));e.label.content=n,e.update();var i=this.isMinWindowTypeMax()?r?`音频通话中 ${n}`:`通话中 ${n}`:n;t.label.content=i,t.update()}}),1e3)}hideDuration(){var{isCaller:e,isVoiceRoom:t,caller:r,listener:n}=this.sessionInfo;if(this.onCalling&&!e){t?this.statistics.voiceEndTime=Date.now():this.statistics.videoEndTime=Date.now();var{videoEndTime:i,videoStartTime:a,voiceEndTime:o,voiceStartTime:s}=this.statistics,l=Math.ceil((i-a)/1e3),c=Math.ceil((o-s)/1e3);((e={})=>{var t=nn("setVoIPChatRecord","webapi_set1v1voipcallrecord",(e=>({use_pluginid:void 0!==e.pluginId,caller_openid:e.callerOpenid,receiver_openid:e.listenerOpenid,video_time:e.videoTime||0,voice_time:e.voiceTime||0})),(()=>{}));e.pluginId=vr(void 0),t(e)})({callerOpenid:r.openid,listenerOpenid:n.openid,videoTime:l,voiceTime:c,complete(e){}})}clearInterval(this.durationTimer)}popupMaxWindow(){return this.node.maxWindow.animate({finalStyle:{top:Y1.maxWindowTop,left:0,width:Y1.screenWidth,height:Y1.maxWindowHeight},duration:r2.popupDuration})}changeMaxWindowBackground(){var{maxWindow:e}=this.node;e.style.bgColor=this.sessionInfo.backgroundColor,e.update()}hideMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.hide(),t&&t.hide(),r&&r.hide()}showMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.show(),t&&t.show(),r&&r.show()}popDownMaxWindow(){var{minWindow:e,minWindowVoip:t}=this.node,{isVoiceRoom:r}=this.sessionInfo,n={},i=9.6;return r?Object.assign(n,e.position):(n={left:e.position.left+12,top:e.position.top+12,width:t.position.width,height:t.position.height},i=Y1.minWindowStyle1?6:4),this.node.maxWindow.style.borderRadius=i,this.node.maxWindow.update(),this.node.maxWindow.animate({finalStyle:O()({},n),duration:r2.popupDuration})}compileTemplate(){var e=this.sessionInfo,t=e.isCaller?e.listener:e.caller;return function(e){var t=`\n    <view class="container" independent="true" clickable="true">\n      <view class="overlay"></view>\n      <view class="navigationBar" clickable="true">${e.title}</view>\n\n      <view class="maxWindow"> \n        <view class="cameraContainer" hidden="${e.isVoiceRoom}">\n          <camera class="camera"></camera>\n        </view>\n        <view class="voipContainer" hidden="${e.isVoiceRoom}">\n          <view class="previewWindowSelfContainer"></view>\n          <view class="previewWindowOtherContainer"></view>\n        </view>\n\n        <image class="maskBottom" hidden="${e.isVoiceRoom}" iconPath="https://res.wx.qq.com/op_res/TnkjDXCOtdoxzei_oGVMdSiYu-0a3TBEgas1qwql8YYMyn8zwsFMDB0W272fSFZk"></image>\n        <image class="maskTop" hidden="${e.isVoiceRoom}" iconPath="https://res.wx.qq.com/op_res/XWPIP9W-ZHRXSdZMoQH_RzjZ2msJo3gNU7H9HkkV8ect4MGc6KJmXRjwBqr01Mb1"></image>\n        <image class="maskVoice" hidden="${!e.isVoiceRoom}" iconPath="https://res.wx.qq.com/op_res/wKk3iTI51g49P2MX1rfvuwvi-JfjpNM2z4wHFmXEwS8xOm0WZu0zcKnDR78QvoVo62u8fNsQEJ0rZFyWT_7K7A"></image>\n\n        <view class="mainContainer">\n          <view class="videoInfoWindowNicknameCenter" hide="true" hidden="${e.isVoiceRoom}">${e.nickname}</view>\n          <view class="videoInfoWindow" hidden="${e.isVoiceRoom}">\n            <view class="videoInfoWindowInfo">\n              <view class="videoInfoWindowNickname">${e.nickname}</view>\n              <view class="videoInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你视频通话"}</view>\n            </view>\n            ${e.headImage?`<image class="videoInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n          </view>\n\n          <view class="operationContainer videoOperationArea" hide="true" hidden="${e.isVoiceRoom}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon switchVoiceBtn" iconPath="https://res.wx.qq.com/op_res/MMZ7ikr1yDWDciblT6cTjGEYi5X7nUBkmxeFiAYY6pTrTZTcVWlcLB8_CsIP---k" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切到语音通话</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${x1}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon switchCameraBtn" iconPath="https://res.wx.qq.com/op_res/QTADvaCvE516_xRgOJ7MxnMeM_I-9bk-ngeQrOE4O6SjCk0zj-YeAVwoWDzJEFsA" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切换摄像头</view>\n            </view>\n          </view>\n\n          <view class="voiceInfoWindow" hide="${!e.isVoiceRoom}" hidden="${e.disableSwitchVoice}">\n            ${e.headImage?`<image class="voiceInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n            <view class="voiceInfoWindowNickname">${e.nickname}</view>\n            <view class="voiceInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你语音通话"}</view>\n          </view>\n\n          <view class="operationContainer voiceOperationArea" hide="true" hidden="${e.disableSwitchVoice}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon muteBtn" iconPath="${k1}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">静音</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${x1}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon handsFreeBtn" iconPath="${D1}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">免提</view>\n            </view>\n          </view>\n\n          <view class="operationContainer callArea" hidden="${!e.isCaller}">\n            <view class="operationItemContainer callItemContainer">\n              <view class="operationItemTop switchVoiceBtn callSwitchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${T1}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon cancelBtn" iconPath="${x1}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">取消</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="operationContainer listenArea" hidden="${e.isCaller}">\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop"></view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon refuseBtn" iconPath="${x1}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">拒绝</view>\n              </view>\n            </view>\n            <view class="operationItemContainer listenItemContainer"></view>\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop switchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${T1}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon listenBtn" iconPath="https://res.wx.qq.com/op_res/VgAFtpPeKJeLoWBJ0QXzjP7ebzWqPqfVnfKclugzcpfp6_PkGC12B-uwBakQhvhP" clickable="true"></image>\n                </view>\n                <view class="operationItemText">接听</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="tips" hide="true">已接通</view>\n          <view class="duration" hide="true">00:01</view>\n          <view class="minPreviewWindowMask" clickable="true"></view>\n\n          <view class="scaleBtn" clickable="true">\n            <image class="scaleBtnIcon" iconPath="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABPFJREFUeAHtnF2IVkUYx/e1NI3AMrpSaI2UMkKwi6AgQRCCLtILwaSL8sIiwUTrRvrQoAgqPyD6EDQvVMyr8FaI9sLwQr0QK7WgJKKLvlZsdXNb335/nFme9+y++75zOrPvHJ0H/jzPzJkz88z/fWbOzJyz29eXJTOQGcgMZAYyA3VloFHG8WazOZ37NoA1YCG4HUwDVUmzooqGqOcHcADsajQaI6H1BhPkyDlKQ0tDG+tx+QHaXx5KUplfXZFTN3L028hn+R4kZSLoJC0sca1cRX8BLrp0amo2Dq0AM5xjp4igR6I6yRC7BLwcjtpYBZXj6OfeWfSl0CrLDDFNyF4GvZGwttFtfe/K5TIE2Xuqetp05WwFhazvXVUXfENXtd5AhTJBHX7MTFAvCOJp0Q8Ogn3gng4+JH351kjefUy9T7q6F0DSE6w/RiO1FbXaWENMezUvj2Fs9Ym66VgEvQER/xoythBFddyeVLoDH+OD4fQ1iW1jGdd3+vshaY7Jq4UZK4LU+XfAVzKczEPv9QmvIe0ZcBl8C/p9fm01nbDy6WQdoeBc8Lu9Afslfw/2NGD3du/6a1Vp6t8NxiS03pgR1MdQ+wWH1hac+gBvH3Z589F3mOv/GDsJMypB6iEkHUF9aHo7E/sQJM1CP2DyZX5XSPc8GZ0g18NX0adNbxdh7wAPmjyZZwvpnidjLRRbOkYUDRMxq8k8AfyRwwvYOi/2opOBcz6Rip6qCNJQ0/DZWOj4/SZ9gTJXTDoJMxpBRMw8cAb8AY6Dz+ix1kE/tul5cvOP/Iw5xLQOesiR8ShamEySm3/kbLQIou4Lk7ExwbWbLoLehIS/wDKgp1U/aPeDaILW9iQ5iTbEmHCv0dvtDn3MQVr/LARa+4gwr2/D1lvPb9DJSTSCij2FgGHytBay66FiseTS7UI+OUd75VAmqAPzmaBMUAcGOlzOEdSBoCl7inXwY9xllgUvkvky0BmRFpFaaXt93j0VyYorSRIEOdqifAQarvuLCzRco8xP5ImwL8FOt+7CrFaSJIguPg48ORP1WFPDfQ5Poe8Cr4PKJdU5SKvsELk3pHBI2VQjqHjS6PukoxK9KBCBgrYuv4ItIIqkSlC7CJoPC4PMN89HYWOCSpMbYky+OpK1Q+b7gt87KKMz7SmR5Aii1xo2doLeTfoTw8YsbL0VmWnyopkpElScf/Qo3wTscYjeq70fjRVTcYoEFeefs8w5V/B5NRg2vq8nip426ShmigTpAM3L3xh6cumtyBnUZtlG9kDSXJOu3EyRIM03GlaKmnV2hYyt1bU+XPdyN4a+GkmnHzhjRWuSKRUanwN+tk5gv9bOCa6l+/FCO6f/Tz5R9Cf3Pwt05u1lK0ToS7bKJZ3QDOgaJA1Q/G1zyy3Yb5l0ZWYtCXK934Y+ZpgYMXZlZqpbjY4dJIpGGVYrKfgemAGi7MdqS5AYhKTfUM/JjiV1HmKxOGmpNxPUQsf4RCZoPCctOWUIsusPu+tuqTjRRDPUrzIEXTaNzDZ2qqb1cSjUyTJPsfM0ssQ1tIJH7WFs/Wlm8K/j6oilFN13Arvjt99EdtVuGYIOUrMnSOuPVV21lEahA6FuBM8hRMx0GjkKloY21uPyA7Qf/x8LsDjTkn45eAWcAjqzsRM3ySREPsk3+Shfg8nhniyZgcxAZiAzkBmoMQP/Af+8lwiMNw+aAAAAAElFTkSuQmCC" clickable="true" bubbles="true"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n  `,r=`\n    <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n      <view class="minWindowContainer">\n        <view class="minWindowLeft" clickable="true">\n          ${e.isVoiceRoom?"":`<view class="minWindowVoipContainer" transEvt="true">\n              <image class="minWindowHeadImage" iconPath="${e.headImage}"></image>\n              <view class="minWindowVoip"></view>\n            </view>`}\n          <view class="minWindowInfo" transEvt="true">\n            <view class="minWindowNickname">${e.nickname}</view>\n            <view class="minWindowDuration">等待接听</view>\n          </view> \n        </view>\n        <view class="minWindowRight minWindowHangupBtn" clickable="true">\n          <image class="minWindowHangupIcon" iconPath="${P1}" clickable="true" bubbles="true"></image>\n          <view class="minWindowHangupText" transEvt="true">挂断</view>\n        </view>\n      </view>\n    </view>\n  `;return 2===e.minWindowType&&(r=`\n      <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n        <view class="minWindowContainer">\n          <view class="minWindowVoipContainer" clickable="true">\n            ${e.isVoiceRoom?`<image class="minWindowHeadImage" iconPath="${P1}" clickable="true" bubbles="true"></image>`:`<image class="minWindowHeadImage" iconPath="${e.headImage}" clickable="true" bubbles="true"></image>\n            <view class="minWindowVoip" transEvt="true"></view>`}\n          </view>\n          <view class="minWindowInfo" clickable="true">\n            <view class="minWindowNickname" transEvt="true">${e.nickname}</view>\n            <view class="minWindowDuration" transEvt="true">等待接听</view>\n          </view>\n        </view>\n      </view>\n    `),{maxWindowTemplate:t,minWIndowTemplate:r}}({title:le.accountInfo.nickname,nickname:t.nickname,headImage:t.headImage,disableSwitchVoice:e.disableSwitchVoice,isVoiceRoom:e.isVoiceRoom,isCaller:e.isCaller,minWindowType:e.minWindowType})}}var o2=["on call","wechat has no camera authorization","wechat has no record authorization","miniprogram has no record authorization","miniprogram has no camera authorization","device not support","not open 1v1 Chat","system error","occupied by other miniprogram"],s2=()=>{var e=Math.ceil(Date.now()/1e3),{lifespan:t,createSessionTime:r}=r2.userSessionInfo;return r&&t&&e<r+t?Promise.resolve():K1().then((t=>{Object.assign(r2.userSessionInfo,{openid:t.openid,lifespan:t.lifespan,sessionKey:t.sessionKey,createSessionTime:e-3600})}),(e=>{}))},l2=(e={})=>{if(ct("setEnable1v1Chat",e,{enable:!0})){s2();var t="ok",r=0;if(!i2()||e.ignoreSelfVersion){if(!e.enable)return r2.enable=!1,r2.ignoreSelfVersion=e.ignoreSelfVersion||!1,void pt({name:"setEnable1v1Chat",args:e});var{cameraAuthorized:n,microphoneAuthorized:i}=aa();if(!n||!i)return n||(r=-30001,t=o2[1]),i||(r=-30002,t=o2[2]),void no({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){dt("setEnable1v1Chat",e,t,r)}});Z1().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?(r2.enable=!0,r2.ignoreSelfVersion=e.ignoreSelfVersion||!1,r2.minWindowType=E(e.minWindowType)?e.minWindowType:1,r2.backgroundColor=E(e.backgroundType)?t2[e.backgroundType]:t2[0],pt({name:"setEnable1v1Chat",args:e})):a?i||q1({scope:"scope.camera"}).then((()=>{l2(e)}),(()=>{dt("setEnable1v1Chat",e,t=o2[4],r=-30004)})):q1({scope:"scope.record"}).then((()=>{l2(e)}),(()=>{dt("setEnable1v1Chat",e,t=o2[3],r=-30003)}))}))}else dt("setEnable1v1Chat",e,t=o2[5],r=-20001)}},c2=e=>{var t="ok",r=0;if(i2()&&!e.ignoreSelfVersion?(r=-20001,t=o2[5]):r2.widget?(r=-20002,t=o2[0]):r2.occupied&&(r=-20003,t=o2[8]),"ok"===t){var{cameraAuthorized:n,microphoneAuthorized:i}=aa();if(!n||!i)return n||(t=o2[1],r=-30001),i||(t=o2[2],r=-30002),void no({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){dt("join1v1Chat",e,t,r)}});Z1().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?s2().then((()=>{K0({complete(n){if(r2.occupied=n.join,r2.occupied)dt("join1v1Chat",e,t=o2[8],r=-20003);else{var i=Object.assign({role:"caller"},e);i.backgroundColor=E(e.backgroundType)?t2[e.backgroundType]:t2[0],i.caller.openid=r2.userSessionInfo.openid,r2.widget=new a2(i)}}})}),(()=>{dt("join1v1Chat",e,t=o2[7],r=-3e4)})):a?i||q1({scope:"scope.camera"}).then((()=>{c2(e)}),(()=>{dt("join1v1Chat",e,t=o2[4],r=-30004)})):q1({scope:"scope.record"}).then((()=>{c2(e)}),(()=>{dt("join1v1Chat",e,t=o2[3],r=-30003)}))}))}else dt("join1v1Chat",e,t,r)},u2=!1;le.onReady((()=>{u2=u2||1055===(le.appLaunchInfo||{}).scene})),Un((e=>{u2=u2||1055===e.scene}));var d2=__safeway__.apiSign.makeApiSign,p2="RefreshRuntimeSession",h2=e=>{var t=0,r=0,n=()=>{++t>=e&&en({apiName:p2,sdkApiName:p2,reqData:{}}).then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;os(n)})).catch((e=>{++r>=2&&os(n)}))};as(n)},f2=e=>new Promise((t=>setTimeout(t,e)));class g2{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=aa(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var a=new ey({id:i,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!jr()}}),o=new ty({id:i+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${jr()?"小游戏":"小程序"}业务及数据已由新开发者承接`});a.add(o),ly.add(a),this.banner=a,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,f2(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>f2(3e3))).then((()=>ly.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=aa();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=aa();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var v2=(e,t)=>en({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((r=>{var n=JSON.parse(r.rawData),{need_show:i,runtime_refresh_clicks:a}=n;if(a&&Yr()&&h2(a),i){var o=new g2(e,t);return o.show(),o}})).catch((()=>{}));class m2{constructor(e,t,r=!1){this.orientation=t,this.animating=!1;var{screenWidth:n}=aa(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=r;var a=n-30,o=new ey({id:i,style:{display:"flex",alignItems:"center",position:"fixed",left:(n-a)/2,top:this.getTop(),width:a,height:38,backgroundColor:"#FA5151",opacity:0,zIndex:1000001,borderRadius:5,fixed:!0}}),s=new ty({id:i+1,style:{width:a-30,height:38,lineHeight:38,textAlign:"center",fontSize:13,color:"#ffffff"},value:e,bubbleEvent:!1,clickState:!1}),l=new ty({id:i+2,style:{position:"absolute",left:a-44,top:-2,width:30,height:38,lineHeight:38,fontSize:18,color:"#ffffff"},value:"×",eventType:"touch",bubbleEvent:!0,clickState:!0});s.add(l),o.add(s),ly.add(o),o.on("touchstart",(()=>{this.hide()})),this.banner=o,this.bannerWidth=a}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.9,duration:300})))).then((()=>{this.animating=!1})).catch((()=>{}))}hide(){!function(e,t){var r=le.accountInfo&&le.accountInfo.appId||"noAppId";e&&ii("setRiskWarningToGlobalStorage",{riskWarning:e,appId:r},void 0,t)}(+new Date),this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>{return e=3e3,new Promise((t=>setTimeout(t,e)));var e})).then((()=>ly.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=aa();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=aa();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var _2=(e,t)=>{!function(e){var t=le.accountInfo&&le.accountInfo.appId||"noAppId";ii("getRiskWarningFromGlobalStorage",{appId:t},void 0,e)}((r=>{var n=(+new Date-(r||0))/1e3/60,i=le&&le.appContactInfo&&le.appContactInfo.operationInfo&&le.appContactInfo.operationInfo.jsonInfo&&le.appContactInfo.operationInfo.jsonInfo.warning_info&&le.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner&&le.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner.wording||"";if(!jr()&&i&&n>30){var a=new m2(i,e,t);return a.show(),a}}))},y2=(()=>{var e,t=[1011,1012,1013,1124,1125,1126],r=r=>{e=t.includes(r.scene)};return Un((e=>r(e))),le.onReady((()=>r(le.appLaunchInfo||{}))),()=>e})(),A2=e=>{if(Ie&&((e={})=>y2()&&e.query&&e.query.q&&e.query.scancode_time)(e)){var t=le.accountInfo&&le.accountInfo.appId;ii("getPatchWrongQueryFromGlobalStorage",{appId:t},void 0,(r=>{r="number"==typeof r?r:0;var n=e.path+".html",i=Object.keys(e.query||{}).reduce(((t,r,n)=>t+`${0===n?"":"&"}${r}=${e.query[r]}`),"");en({apiName:"webapi_checkwxa3rdqrcodescaninfo",reqData:{retry_time:r,path:n,query:i}}).then((n=>{wxNativeConsole.info("webapi_checkwxa3rdqrcodescaninfo res=",n);var{is_restart:i,replace_query:a,replace_appid:o}=n.data;i?o?ro({content:"无法启动小程序，请重试",confirmText:"确认",showCancel:!1,success(){ii("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{$m()}))},fail(){ii("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{$m()}))}}):(r++,ii("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:r},void 0,(()=>{ro({content:"信息已更新，需要重启小程序",confirmText:"确认",showCancel:!1,success(){it("restart",{url:a,scene:e.scene})},fail(){it("restart",{url:a,scene:e.scene})}})}))):"number"==typeof r&&r>0&&ii("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)})).catch((e=>{wxNativeConsole.error("patchWrongQuery fail",e),"number"==typeof r&&r>0&&ii("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)}))}))}},b2=wxNativeConsole.createLogger("common reportUserBehavior"),w2=Gr(ro),E2=Gr(uu.readFile),C2=Gr(uu.writeFile),I2="wxfile://ad/verifystate.json",S2="game:verifystate",T2=null;function x2(){return(x2=Nn()((function*(e){try{if(T2=e,b2.log("set verifydata",JSON.stringify(T2)),Ce)return;ke||Ie?yield at("setGlobalStorage",{key:S2,data:JSON.stringify(e)}):Se&&(yield C2({filePath:I2,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){b2.log("set cache fail",e.message)}}))).apply(this,arguments)}function P2(){return k2.apply(this,arguments)}function k2(){return(k2=Nn()((function*(){try{if(Ce)return;if(ke||Ie){var{data:e}=yield at("getGlobalStorage",{key:S2});b2.log("get verifydata",e),T2=JSON.parse(e)}else if(Se){var{data:t}=yield E2({filePath:I2,encoding:"utf8"});b2.log("get verifydata",t),T2=JSON.parse(t)}}catch(e){b2.log("get cache fail",e.message,e)}}))).apply(this,arguments)}var D2=!1,R2=0,O2=null,M2=0,L2=new mc("Verify",!0);function N2(e=!0){var t;null!==(t=T2)&&void 0!==t&&t.isSoftMode||(e&&(T2=null),O2&&(O2.des(),O2=null))}var B2=null;function W2(e){pt({args:B2,name:"getRealNameVerifyMethod",success:e}),B2=null}function F2(e,{ContentType:t,ContentID:r}={}){if(T2){var n=null;"function"==typeof e?n=e:B2=e;var{url:i,weapp:a,inlineCertMode:o}=T2.urlInfo,{isSoftMode:s,remainSeconds:l}=T2;if(o)return V2({UIArea:o===U2.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:s?3:1,ContentType:t}),void o4({inlineCertMode:o,isSoftMode:s,remainSeconds:l,ContentType:t,ContentID:r});a?cs({appId:a.appid,path:a.path,extraData:a.extraData,success:n}):i&&zi({url:i,isNativeStyle:!0,success:n}),N2()}}var U2={INLINE_CERT_MODE_DIALOG:1,INLINE_CERT_MODE_HALF_SCREEN:2};function V2({UIArea:e,PositionID:t,ActionID:r,Status:n,ExpID:i="",ContentType:a=0,ContentID:o=0,ExternInfo:s,SourceID:l=R2}){Reporter.reportKeyValue({key:"GameAdsSkipCard",value:[Ki(),le.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(le.deviceOrientation)?2:1,n,l,"",i,0,"",M2,0,"",a,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(R2=e)}var j2,G2=0,H2="",Q2="",$2={},z2=!1,Y2=0,Z2=null,q2=!1,J2=!1,X2=!1,K2=null,e4=null,t4=0,r4=3e5,n4=null;function i4(e,t,{coldBoot:r=!1,realnameInfo:n}={},{appType:i,deviceOrientation:a}=le){t4=Date.now();var o={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return D2?P2().then(s).then(l).catch((e=>{b2.error("report fail",e)})):g4.then(P2).then(s).then(l).catch((e=>{b2.error("report fail",e)}));function s(){var a={version:4,callbackData:j2,type:o[e],duration:t/1e3,scene_note:Q2,scene:G2,realnameInfo:n,referrerInfo:{appId:H2,extraData:$2},appServiceType:i,isColdStart:r};return jr()||(a.isWxaAdultOnly=q2),en({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:a}).catch((e=>{var t;if(jr()&&1!==(null===(t=T2)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function l(e){var t=e.data;!function(e){x2.apply(this,arguments)}(t);var{action:r,alertMsg:n,heartbeatInterval:i,jumpRule:o={},realnameResult:s}=t;if(o.gameStartRule&&(go.setShouldExecuteFirstSkipLimitStrategy(!0),go.setAttemptSkipMinTime(o.gameStartRule.blockJumpTimeInSeconds),go.setModalMessage2(o.gameStartRule.jumpInfo.desc),go.setModalConfirm2(o.gameStartRule.jumpInfo.jumpButtonLabel),go.setModalSkipLink2(o.gameStartRule.jumpInfo.url),go.setExpId2(o.gameStartRule.expId),go.resumeLimitTimer(!0)),o.cancelRule&&(go.setShouldExecuteSkipMaxLimitStrategy(!0),go.setAttemptSkipMaxThreshold(o.cancelRule.maxCancelCount),go.setModalMessage1(o.cancelRule.jumpInfo.desc),go.setModalConfirm1(o.cancelRule.jumpInfo.jumpButtonLabel),go.setModalSkipLink1(o.cancelRule.jumpInfo.url),go.setExpId1(o.cancelRule.expId)),j2=t.callbackData,i!==r4&&i>=1e4&&(r4=i,u4()),s){var{code:l,failReason:c,certRemainTimes:u}=s;if(0===l)K2.showSucc(),N2();else if(0===u)K2.showFail({failReason:c});else{var d;K2.showModal({title:c+u?`（剩余${u}次机会）`:""}),V2({ExpID:null==t||null===(d=t.urlInfo)||void 0===d?void 0:d.expId,UIArea:t.inlineCertMode===U2.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:4,ActionID:4,Status:t.isSoftMode?3:1,ExternInfo:{number:u}})}}else switch(W2(1===r),r){case 1:break;case 2:setTimeout((()=>{V2({UIArea:1518,PositionID:0,ActionID:1}),w2({title:"提示",content:n,showCancel:!1}).then((()=>{V2({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(a)?500:0);break;case 3:if(z2)break;z2=!0;var p=setTimeout($m,15e3);V2({UIArea:1517,PositionID:0,ActionID:1}),w2({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(p),z2=!1,V2({UIArea:1517,PositionID:1,ActionID:2}),$m()}));break;case 4:var{url:h,name:f,inlineCertMode:g,inlineUrl:v,expId:m}=t.urlInfo,{remainSeconds:_}=t;if(v&&jr()){!function({url:e,ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i}){var a,o;if(null!==e4)return;e=e.replace("#wechat_redirect","");var s=Object.entries({ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i,appid:le.accountInfo.appId,AppServiceType:null!==(a=le.appType)&&void 0!==a?a:4,versionType:null!==(o=le.versionType)&&void 0!==o?o:0}).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).join("&");(e4=new Va({src:`${e}?${s}#wechat_redirect`,style:{left:0,top:0,width:le.screenWidth,height:le.screenHeight},zIndex:2e6,__skipDomainCheck__:!0})).onmessage=function(e){b2.log("webview onMessage",e);var{type:t}=e;"success"===t?(e4.destroy(),e4=null):"exit"===t?(e4=null,$m()):"showModal"===t&&w2(e)}}({url:v,ExpId:m,DeviceModel:n4.model,DeviceBrand:n4.brand,OsName:n4.platform});break}if(g){V2({ExpID:m,UIArea:g===U2.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),o4({alertMsg:n,inlineCertMode:g,isSoftMode:!1,remainSeconds:_,ContentType:1});break}var y=setTimeout($m,15e3);!z2&&n&&h&&f&&(z2=!0,V2({ExpID:m,UIArea:1504,PositionID:0,ActionID:1,Status:1}),ro({title:"提示",content:n,confirmText:f,cancelText:"退出游戏",success(e){clearTimeout(y),e.confirm?(V2({ExpID:m,UIArea:1504,PositionID:1,ActionID:2,Status:1}),F2((()=>{X2=!0}))):e.cancel&&(V2({ExpID:m,UIArea:1504,PositionID:2,ActionID:2,Status:1}),$m()),z2=!1},fail(e){b2.error("show modal fail=",e),clearTimeout(y),$m(),z2=!1}}));break;case 5:var A,{name:b,inlineCertMode:w}=t.urlInfo,{remainSeconds:E}=t;if(w){var C;V2({ExpID:null==t||null===(C=t.urlInfo)||void 0===C?void 0:C.expId,UIArea:w===U2.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),o4({alertMsg:n,inlineCertMode:w,isSoftMode:!0,remainSeconds:E,ContentType:1});break}V2({ExpID:null==t||null===(A=t.urlInfo)||void 0===A?void 0:A.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{z2||ro({title:"提示",content:n,confirmText:b,cancelText:"继续游戏",success({confirm:e}){var r,n;e&&V2({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||V2({ExpID:null==t||null===(n=t.urlInfo)||void 0===n?void 0:n.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&F2((()=>{X2=!0}))},complete(){z2=!1}}),z2=!0}),/landscape/.test(a)?1e3:0);break;case 6:var I,S,{inlineCertMode:T}=t.urlInfo,{remainSeconds:x,needAlert:P,alertMsg:k,isSoftAlert:D,isSoftMode:R}=t;if(D&&L2.emit("notify",{alertMsg:k,remainSeconds:x,doVerify:()=>F2()}),P){o4({alertMsg:k,remainSeconds:x,isSoftMode:R,inlineCertMode:T,ContentType:1,ContentID:R?0===x?3:2:1});break}O2?null===(I=(S=O2).setData)||void 0===I||I.call(S,t):(O2=!0,setTimeout((()=>a4(t,{ContentType:0})),Se?2e3:0))}}}function a4(e,{ContentID:t,ContentType:r}={}){null!==O2&&!0!==O2||YK(e,(n=>{var i;O2=n,V2({ExpID:null==e||null===(i=e.urlInfo)||void 0===i?void 0:i.expId,UIArea:e.isSoftMode?1506:1501,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r}),setTimeout((()=>{var n;return O2&&V2({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1502,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r})}),1e4),O2.addListener("stop",(()=>{var n;(i4("heartbeat",Y2=Date.now()-t4),e.isSoftMode)&&V2({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1506,PositionID:0,ActionID:1,Status:3,ContentID:t,ContentType:r});N2()})),O2.addListener("click",(()=>{var n,{showSeconds:i,remainSeconds:a}=O2.data;V2({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:i?a?1502:1506:1501,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r,Time:a}),F2((()=>{var e,t;X2=!(null===(e=T2)||void 0===e||null===(t=e.urlInfo)||void 0===t||!t.inlineCertMode)}),{ContentID:t,ContentType:r})}))}))}function o4({inlineCertMode:e,alertMsg:t,isSoftMode:r=!1,isPay:n=!1,remainSeconds:i=0,ContentType:a,ContentID:o}){var s;null===(s=O2)||void 0===s||s.des(),O2=null,null===K2&&setTimeout((()=>o0({alertMsg:t,hor:/landscape/.test(le.deviceOrientation),reportkv:t=>{var n,i;return V2(O()({UIArea:e===U2.INLINE_CERT_MODE_DIALOG?1507:1508,ExpID:null===(n=T2)||void 0===n||null===(i=n.urlInfo)||void 0===i?void 0:i.expId,Status:r?3:1,ContentType:a,ContentID:o},t))},remainSeconds:i,isSoftMode:r,isPay:n,half:e===U2.INLINE_CERT_MODE_HALF_SCREEN,confirm:({name:t,id:n,showModal:i})=>{var s,l;t?n?/(^\d{15}$)|(^\d{17}([0-9]|[xX])$)/.test(n)?(V2({ExpID:null===(s=T2)||void 0===s||null===(l=s.urlInfo)||void 0===l?void 0:l.expId,UIArea:e===U2.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:2,ActionID:2,Status:r?3:1,ContentType:a,ContentID:o}),i4("retryLogin",Y2=Date.now()-t4,{realnameInfo:{name:t,id:n}})):i({title:"身份证格式错误"}):i({title:"请输入身份证号"}):i({title:"请输入真实姓名"})},des(e){K2=null,("cancel"===e&&T2.isSoftMode||"fail"===e&&T2.isSoftMode)&&setTimeout((()=>a4(O()({},T2),{ContentID:o,ContentType:a})),0),W2("succ"===e)}},(e=>{K2=e}))),0)}var s4=J2,l4=J2,c4=J2||q2,u4=()=>{null!==Z2&&(clearInterval(Z2),d4())},d4=()=>{Z2=setInterval((()=>{Y2=Date.now()-t4,s4&&i4("heartbeat",Y2)}),r4)},p4=(e,{coldBoot:t=!1}={})=>{go.resumeLimitTimer(),Q2=e.scene_note||"",Y2=0,G2=e.scene,e.referrerInfo&&(H2=e.referrerInfo.appId,$2=e.referrerInfo.extraData),d4(),X2?(i4("retryLogin",Y2),X2=!1):c4&&i4("onShow",Y2,{coldBoot:t})},h4=()=>{go.pauseLimitTimer(),Y2=Date.now()-t4,clearInterval(Z2),Z2=null,l4&&i4("onHide",Y2)};le.onReady((()=>{var e=le.appLaunchInfo;n4=ya(!0);try{le.appContactInfo&&le.appContactInfo.operationInfo&&le.appContactInfo.operationInfo.jsonInfo&&le.appContactInfo.operationInfo.jsonInfo.op_info&&(q2=1===Number(le.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),J2=1===Number(le.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){b2.error("get op_info fail",e.message)}s4=jr()||J2,l4=jr()||J2,c4=jr()||J2||q2,p4(e,{coldBoot:!0}),oe("onAppEnterForeground",(t=>{p4(e=t)})),oe("onAppEnterBackground",(()=>{h4()})),oe("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(z2=!1,h4(),setTimeout((()=>{p4(e)}),1e3))}))}));var f4=()=>{},g4=new Promise((e=>{f4=e}));le.onReady((()=>{var e="",t=setInterval((()=>{e&&(e&&clearInterval(t),r(e))}),1e3),r=e=>{var t=Object.keys(le.page).find((t=>t.startsWith(e))),n=le.page[t];if(t&&n&&n.window){var i=n.window.pageOrientation,a=!1;try{var o=n.window.navigationStyle||le.global.window.navigationStyle;a="custom"===o}catch(e){}if("landscape"===i){var s=!1;Yo((()=>{s||(v2(i,a),_2(i,a),s=!0)}))}else{var l=v2("portrait",a),c=_2(i,a);"auto"===i&&$o((e=>{var{windowWidth:t,windowHeight:r}=e,n=t>r?"landscape":"portrait";l.then((e=>{e&&e.setOrientation&&e.setOrientation(n)})),c&&c.then((e=>{e&&e.setOrientation&&e.setOrientation(n)}))}))}Lo(r)}};Mo((t=>{"appLaunch"!==t.openType&&"autoReLaunch"!==t.openType||A2(t),e=t.path})),D2=!0,f4()}));var v4=!1,m4=!1,_4=!1,y4=function(){if(!v4)return v4=!0,{invokeMethod:it,onMethod:Y,subscribe:f,publish:h,beforeInvokeFail:dt,beforeInvokeCallback:pt}};function A4(e={}){it("openWCPayLQTDetail",e)}function b4(e={}){it("openWCPayLQTSave",e)}function w4(e={}){it("openWCPayLQTDepositPlan",e)}function E4(e={}){it("openWCPayLQTDepositPlanAdd",e)}le.onReady((function(){_4=le.exportBaseMethods}));var C4=["canvasGetImageData","canvasPutImageData","canvasToTempFilePath","setEnableDebug","startAccelerometer","stopAccelerometer","getBatteryInfo","getClipboardData","setClipboardData","startCompass","stopCompass","addPhoneContact","startGyroscope","stopGyroscope","startBeaconDiscovery","stopBeaconDiscovery","getBeacons","startLocalServiceDiscovery","stopLocalServiceDiscovery","startDeviceMotionListening","stopDeviceMotionListening","getNetworkType","makePhoneCall","scanCode","scanItem","getSystemInfo","vibrateShort","vibrateLong","getExtConfig","chooseLocation","choosePoi","getLocation","startLocationUpdateBackground","startLocationUpdate","stopLocationUpdate","openLocation","chooseMessageFile","loadFontFace","chooseImage","previewImage","getImageInfo","saveImageToPhotosAlbum","compressImage","chooseVideo","saveVideoToPhotosAlbum","checkSession","chooseAddress","authorize","addCard","openCard","chooseInvoice","chooseInvoiceTitle","requestFacetoFacePayment","requestPayment","requestPersonalPay","requestSubscribeMessage","requestSubscribeDeviceMessage","requestOrderPayment","getBackgroundFetchData","setBackgroundFetchToken","getBackgroundFetchToken","getSelectedTextRange","hideKeyboard","showModal","showToast","hideToast","showLoading","hideLoading","showActionSheet","pageScrollTo","startPullDownRefresh","stopPullDownRefresh","setBackgroundColor","setBackgroundTextStyle","setTabBarBadge","removeTabBarBadge","showTabBarRedDot","hideTabBarRedDot","showTabBar","hideTabBar","setTabBarStyle","setTabBarItem","setTopBarText","saveFile","openDocument","getSavedFileList","getSavedFileInfo","removeSavedFile","getFileInfo","getStorage","setStorage","removeStorage","clearStorage","getStorageInfo","closeBLEConnection","closeBluetoothAdapter","createBLEConnection","getBLEDeviceCharacteristics","getBLEDeviceServices","getBluetoothAdapterState","getBluetoothDevices","getConnectedBluetoothDevices","notifyBLECharacteristicValueChange","openBluetoothAdapter","readBLECharacteristicValue","startBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","writeBLECharacteristicValue","getHCEState","sendHCEMessage","startHCE","stopHCE","getScreenBrightness","setKeepScreenOn","setScreenBrightness","connectWifi","getConnectedWifi","getWifiList","setWifiList","startWifi","stopWifi","getBackgroundAudioPlayerState","playBackgroundAudio","pauseBackgroundAudio","seekBackgroundAudio","stopBackgroundAudio","getAvailableAudioSources","startRecord","stopRecord","setInnerAudioOption","playVoice","pauseVoice","stopVoice","closeSocket","sendSocketMessage","hideShareMenu","showShareMenu","updateShareMenu","getSetting","openSetting","checkIsSoterEnrolledInDevice","checkIsSupportSoterAuthentication","startSoterAuthentication","navigateBackMiniProgram","navigateToMiniProgram","setNavigationBarTitle","showNavigationBarLoading","hideNavigationBarLoading","hideHomeButton","setNavigationBarColor","redirectTo","reLaunch","navigateTo","switchTab","navigateBack","checkIsUserAdvisedToRest","getUserGameLabel","getFriendCloudStorage","getGroupCloudStorage","getPotentialFriendList","getUserCloudStorage","getUserInteractiveStorage","modifyFriendInteractiveStorage","removeUserCloudStorage","setUserCloudStorage","exitVoIPChat","joinVoIPChat","updateVoIPChatMuteConfig","showKeyboard","updateKeyboard","openCustomerServiceConversation","setMenuStyle","setStatusBarStyle","exitMiniProgram","requestMidasPayment","showRedPackage","chooseMedia","requestSubscribeSystemMessage","getGroupInfo","getBLEDeviceRSSI","createBLEPeripheralServer","subscribeVoIPVideoMembers","previewMedia","makeBluetoothPair","isBluetoothDevicePaired","setBLEMTU","getBLEMTU","getVideoInfo","compressVideo","checkIsOpenAccessibility","requestFacetoFacePayment","updateWeChatApp","join1v1Chat","setEnable1v1Chat","shareToWeRun","addPhoneCalendar","addPhoneRepeatCalendar","getRandomValues","showShareImageMenu","shareFileMessage","shareVideoMessage","addFileToFavorites","addVideoToFavorites","getUserProfile","searchContacts","publishWeChatState","chooseLicensePlate","openSystemBluetoothSetting","openAppAuthorizeSetting","openEmbeddedMiniProgram"],I4=[{name:"quicklyAddBrandContact",permissionByte:"quicklyAddBrandContact"},{name:"privateScanItem",permissionByte:"privateScanItem"},{name:"privateSearchContacts",permissionByte:"privateSearchContacts"},{name:"setNavigateBackInterception",permissionByte:"private_setNavigateBackInterception"},{name:"stopNavigateBackInterception",permissionByte:"private_stopNavigateBackInterception"},{name:"getWebviewDebugInfo",permissionByte:"private_getWebviewDebugInfo"}],S4=(e,t,r)=>function(...n){return(e=>{var t=!0===le.debug,r="devtools"===le.platform;(t||r)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),XB(`wx.${e}`)})(e),t.apply(r,n)};var T4,x4,P4=Bs.Z.createSignal||(()=>null),k4=!1,D4={},R4=JSON.parse,O4="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",M4="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function L4(){if("string"==typeof le.opConfig){var e;try{e=R4(le.opConfig)}catch(e){}return e&&e.expt_info}return le.opConfig&&le.opConfig.expt_info}function N4(){var e,t=L4();return t&&k4?(e=1,T4=t,Reporter.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,T4=t,Reporter.reportIDKey({key:"useLaunchExptInfo"}),Reporter.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,Reporter.reportIDKey({key:"useContactExptInfo"})),{exptInfo:T4,jsDataType:e}}function B4(){if(void 0===a)return"";var e=a.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}"string"==typeof O4&&(O4=O4.replace(" ","")),"string"==typeof M4&&(M4=M4.replace(" ","-")),oe("onAppEnterForeground",(e=>{Object.assign(D4,e),x4=D4.sessionid||D4.sessionId})),rO((e=>{L4()&&(k4=!0)})),le.onReady((()=>{Object.assign(D4,le.appLaunchInfo);var e=L4();e?T4=e:le.appContactInfo&&le.appContactInfo.passThroughInfo&&(T4=le.appContactInfo.passThroughInfo.expt_info)}));var W4=nn("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));var F4=l(926),U4=l.n(F4);function V4(e){for(var t="",r=0;r<e.length;){var n=e[r],i=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(i=(3&e[r])<<30,i|=(63&e[r+1])<<24,i|=(63&e[r+2])<<18,i|=(63&e[r+3])<<12,i|=(63&e[r+4])<<6,i|=63&e[r+5],t+=String.fromCharCode(i),r+=6):248==(248&n)?(i=(7&e[r])<<24,i|=(63&e[r+1])<<18,i|=(63&e[r+2])<<12,i|=(63&e[r+3])<<6,i|=63&e[r+4],t+=String.fromCharCode(i),r+=5):240==(240&n)?(i=(15&e[r])<<18,i|=(63&e[r+1])<<12,i|=(63&e[r+2])<<6,i|=63&e[r+3],t+=String.fromCharCode(i),r+=4):224==(224&n)?(i=(31&e[r])<<12,i|=(63&e[r+1])<<6,i|=63&e[r+2],t+=String.fromCharCode(i),r+=3):192==(192&n)?(i=(63&e[r])<<6,i|=63&e[r+1],t+=String.fromCharCode(i),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}var j4="STOP_CPU_PROFILE",G4="TAKE_HEAP_SNAPSHOT",H4="PERFDOG_METHOD",Q4="PERFDOG_METHOD_CALLBACK",$4="LAN_DEBUG_GET_DEVICE_INFO",z4="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",Y4="OPEN",Z4="CLOSED",q4="ERROR",J4="CONNECTING",X4="LAN_DEBUG_STATUS_CHANGE",K4=null,e3=!1,t3=()=>!0===e3||("function"!=typeof getProfiler?(void 0!==Bs.Z.Profiler&&(K4=Bs.Z.Profiler,e3=!0),!0):((K4=getProfiler())&&(e3=!0),!0)),r3=!1,n3=!1;function i3(e,t){var{model:r,version:n,system:i,SDKVersion:a}=pa(),{accountInfo:o,isDevEdition:s}=le,{appId:l,nickname:c}=o,u={model:r,wechatVersion:n,system:i,SDKVersion:a,appId:l,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(u))}function a3(e,t,r){n3||(n3=!0,function(e){var t=l.g.LanDebug;t&&(jr||delete l.g.LanDebug,t.registerCallback?t.registerCallback(H4,((t,r)=>{e(Q4,r)})):t.registerCallback)}(t),e($4,(()=>{i3($4,t)})),e(z4,(()=>{i3(z4,t)})),e(H4,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(H4,e)),t(Q4,n)})),e("START_CPU_PROFILE",(()=>{t3(),K4&&(r3||(r3=!0,K4.startCpuProfiling()))})),e(j4,(()=>{var e=(()=>{if(t3(),!K4)return null;if(r3){return r3=!1,K4.stopCpuProfiling()}return null})();Ie&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=V4(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(j4,e||"")})),e(G4,(()=>{setTimeout((()=>{var e=(t3(),K4?K4.takeHeapSnapshot():null);if(t("TAKE_HEAP_SNAPSHOT:PROGRESS",JSON.stringify({data:"start"})),!e)return t(G4,""),t("TAKE_HEAP_SNAPSHOT:PROGRESS",JSON.stringify({data:"error"})),!1;if(e.on){var n=r(G4),i=!1;e.on("data",(e=>{i||(t("TAKE_HEAP_SNAPSHOT:PROGRESS",JSON.stringify({data:"data"})),i=!0),n.send(e.slice())})),e.on("end",(()=>{t("TAKE_HEAP_SNAPSHOT:PROGRESS",JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t("TAKE_HEAP_SNAPSHOT:PROGRESS",JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var o3=0,s3=BB(),l3=null,c3=()=>l3||(l3=U4()("\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n")),u3=((e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")})(),d3=new ee,p3=null,h3=Z4,f3="",g3=-1,v3=!1,m3=null,_3=null,y3=[],A3=[],b3=[];function w3(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(h3===Y4&&_3)return Promise.resolve(_3);if(h3===J4)return p3;var{ip:r,port:n,token:i,useStaticServer:a=!1,mode:o}=t;v3=a,f3=r,g3=n,h3=J4;var s="mpHelper"===o?"MPHELPER":"LANDEBUG",l=pa();return a3(T3,I3,S3),p3=new Promise((e=>{(_3=s3.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${l.system}_v${l.version}_${u3}`)}||${i}`]})).onOpen((()=>{_3.send({data:"ping",success(){y3.forEach((e=>{x3(e)}))},fail(e){}}),h3=Y4,d3.emit(X4,h3),e(_3)})),_3.onMessage((e=>{if(e.data&&"pong"===e.data)return wxConsole.info("[LAN DEBUG] hand shake success");if(!(e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),i=new Uint32Array(n)[0],a=r.slice(4,4+i);try{t=c3().LanDebugHeader.decode(a)}catch(e){return e.message,void e.stack}var o,{isString:s,method:l}=t;if(s)o=V4(r.slice(4+i));else o=r.slice(4+i).buffer;d3.emit(l,o)}})),_3.onClose((()=>{E3(Z4),b3.forEach((e=>{k3(e)}))})),_3.onError((e=>{E3(q4),m3=e,A3.forEach((e=>{P3(e)}))}))}))}function E3(e){h3=e,d3.emit(X4,h3),f3="",g3=-1,v3=!1,_3=null}function C3(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var i=!1;return p3?("string"==typeof r&&(i=!0,r=function(e){for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var a=new Int8Array(r.length),o=0;o<r.length;o++)a[o]=r[o];return a.buffer}(r)),p3.then((a=>new Promise((o=>{if(!a)return o({errMsg:"sendSocketMessage:fail no client"});var s=c3().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:i,clientId:u3,options:JSON.stringify({isDevEdition:le.isDevEdition})},n?{notEnd:!0}:{})),l=new Uint32Array([s.length]);a.send({data:new Uint8Array([...new Uint8Array(l.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var I3=function(e,t){return C3(o3++,e,t)},S3=function(e){var t=o3++;return{send:r=>C3(t,e,r,!0),end:(r=new ArrayBuffer(0))=>C3(t,e,r)}},T3=function(e,t){d3.on(e,t)},x3=function(e){try{e()}catch(e){e.message,e.stack}},P3=function(e){try{e(m3)}catch(e){e.message,e.stack}},k3=function(e){try{e(m3)}catch(e){e.message,e.stack}},D3={sendPackage:I3,sendStream:S3,onMessage:T3,offMessage:function(e,t){d3.off(e,t)},onReady:function(e){"function"==typeof e&&(h3===Y4?x3(e):y3.push(e))},onError:function(e){"function"==typeof e&&(h3===q4?P3(e):A3.push(e))},onClose:function(e){"function"==typeof e&&(h3===q4?k3(e):b3.push(e))},get status(){return h3},get ip(){return f3},get port(){return g3},get useStaticServer(){return v3}};Object.defineProperty(D3,"_start",{get:()=>(...e)=>w3(...e)});le.onReady((()=>{jr()||pi((()=>{(e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:i,useLanDebug:a}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||a)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return w3({ip:t,port:r,token:n,useStaticServer:i})}),500)})(le)}))}));var R3="getLatestUserKey",O3={},M3=null;var L3={getLatestUserKey:function(e){(O3.expireTime&&O3.expireTime<Date.now()?Promise.resolve(O3):M3||(M3=en({apiName:"webapi_getuserencryptkey",reqData:{}}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:i}=e.data;return O3={encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:i},M3=null,O3})).catch((e=>{throw M3=null,e})))).then((t=>(pt({name:R3,args:e,res:t}),null))).catch((t=>{dt(R3,e,t.message||t.errMsg)}))},getRandomValues:Tq},N3=l(31),B3=l.n(N3),W3=()=>Math.floor(Date.now()/1e3),F3=()=>{var e="0123456789abcdef",t=t=>{for(var r="";t--;)r+=e[Math.floor(Math.random()*e.length)];return r};return`${t(8)}-${t(4)}-4${t(3)}-8${t(3)}-${t(8)}`},U3=(e,t)=>{var r=t.map((t=>`${t}=${e[t]}`)).join("&");return B3()(r).toUpperCase()},V3=TF.app,j3="_private_@@financial_applet_events@@",G3="https://open.fdep.cn",H3="applet_start",Q3={applet_start:"小程序启动",data_disclosure:"数据泄露",applet_crash:"小程序崩溃",sandbox_crash:"安全沙箱崩溃",operation_exception:"运维异常",access_exception:"无法访问业务内容",start_fail:"启动失败"},$3=new Promise((e=>le.onReady(e))),z3=function(){var e=Nn()((function*(){var e,t;yield $3;var r=null==le||null===(e=le.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t?void 0:t.finance_app_info;return r?{appId:r.finance_appid,sdkFingerprint:r.finance_sdk_fingerprint,sdkKey:r.finance_sdk_key,sdkSecret:r.finance_sdk_secret,sdkBundleId:r.finance_sdk_bundleid,sdkVersion:r.finance_sdk_version,appPkgList:r.finance_app_pkg_list,appSequence:r.finance_app_seq,appVersion:r.finance_app_version,organId:r.finance_organ_id,encryptionType:r.finance_encryption_type,isGray:r.is_gray,shouldCheck:r.should_check,baseUrl:r.finance_base_url}:null}));return function(){return e.apply(this,arguments)}}(),Y3=function(){var e=Nn()((function*(e){var t,r,n,i,a,o,s,l,c,u="wechat",d="sha256",p=Math.floor(Date.now()/1e3),h=F3(),f=e.appPkgList.filter((e=>16===e.pkg_type))[0].pkg_sha256,g={source:u,identityType:d,apps:[{appId:e.appId,identity:f}],timestamp:p,uuid:h,sign:U3({timestamp:p,uuid:h,source:u,identityType:d,secret:e.sdkSecret},["identityType","source","timestamp","uuid","secret"])},v={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},m=`${e.baseUrl||G3}/api/v1/mop/runtime/external/check/app-packages`,_=yield new Promise(((e,t)=>{Rg({method:"POST",url:m,header:v,data:g,success:e,fail:t})}));if(wxNativeConsole.info(`[mop verify response] errcode=${null==_||null===(t=_.data)||void 0===t?void 0:t.errcode} error=${null==_||null===(r=_.data)||void 0===r?void 0:r.error}`),["FS_BIND_NOT_FOUND","MOP_SDK_FINGERPRINT_CHECK_FAIL"].includes(null==_||null===(n=_.data)||void 0===n?void 0:n.errcode))return!1;if("OK"!==(null==_||null===(i=_.data)||void 0===i?void 0:i.errcode))throw new Error((null==_||null===(c=_.data)||void 0===c?void 0:c.error)||"mop verify failed");var y=null==_||null===(a=_.data)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.appList)||void 0===s?void 0:s[0];if(!y)throw new Error("cannot find app data in appList");if(["FS_APP_ID_NOT_FOUND","FS_IDENTITY_NOT_FOUND_ERR","FS_ORGAN_STATUS_INVALID","FS_COOPERATION_TERMINATED","FS_APP_NOT_ASS_BIND"].includes(null==y?void 0:y.errcode))return!1;if("OK"!==(null==y?void 0:y.errcode))throw new Error((null==y?void 0:y.error)||"mop verify failed");return!0===(null==y||null===(l=y.data)||void 0===l?void 0:l.identityValid)}));return function(t){return e.apply(this,arguments)}}(),Z3=function(){var e=Nn()((function*(e,t){var r={applet_id:e.appId,applet_ver:e.appVersion,applet_sequence:e.appSequence,event_name:Q3[t],event_type:t,is_gray:e.isGray,organ_id:e.organId,basic_pack_version:le.SDKVersion,payload:{},timestamp:W3()},n=V3.getStorageSync(j3);if((n=Array.isArray(n)?n:[]).push(r),V3.setStorageSync(j3,n),e.shouldCheck){var i=F3(),a=W3(),o={data:{app_info:{app_id:e.sdkBundleId,app_version:le.host.version+"",name:le.host.env,sdk_key:e.sdkKey,sdk_version:e.sdkVersion,finger:e.sdkFingerprint},device_info:{brand:le.brand,device_id:null,model:le.model,os:le.platform,os_version:le.system,screen_size:`${le.screenHeight}*${le.screenWidth}`},events:n},exp:{},timestamp:a,uuid:i,sign:U3({timestamp:a,uuid:i,secret:e.sdkSecret},["timestamp","uuid","secret"])},s={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},l=`${e.baseUrl||G3}/api/v1/mop/runtime/data-report/apm/private`;try{var c,u,d=yield new Promise(((e,t)=>{Rg({method:"POST",url:l,header:s,data:o,success:e,fail:t})}));if("OK"!==(null==d||null===(c=d.data)||void 0===c?void 0:c.errcode))throw new Error((null==d||null===(u=d.data)||void 0===u?void 0:u.error)||"report failed");var p=V3.getStorageSync(j3);p=(p=Array.isArray(p)?p:[]).slice(n.length),V3.setStorageSync(j3,p)}catch(e){}}}));return function(t,r){return e.apply(this,arguments)}}(),q3=null,J3=Gr(((e={})=>{var t=["release","develop","trial"];nn("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}))(e)})),X3=Gr(((e={})=>{((e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",it("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})})({success(t){pt({name:"getAppContact",args:e,res:t})},fail(t){((e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",it("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})})({success(t){pt({name:"getAppContact",args:e,res:t})},fail(t){pt({name:"getAppContact",args:e,res:t,success:!1})}})}})})),K3=e=>lo({icon:"none",title:e}),e6=new Map,t6="请检查网络后重试",r6=0;Y("onCopyUrl",(e=>{if(e.webviewId!==we.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void K3("请检查网络后重试");var t=e.shortLinkEnable||!1,r=we.lastRoute,n=we.lastOpenType,i=JSON.parse(JSON.stringify(we.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void K3(t6)}var a=jr()?t?"":"index.html":`${r}.html`,o=Object.entries(i).map((e=>e.join("="))).join("&");if(t&&"function"==typeof q3)try{o=(q3()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${a}?${o}`:a;if(t){e6.has(r6)&&e6.set(r6,!1);var l=++r6,c=!1;e6.set(l,!0);var u=e=>{!!e6.get(l)&&(K3(e),e===t6&&it("returnCopyUrl",{url:"",shortLinkEnable:t}),e6.set(l,!1))};setTimeout((()=>{c=!0,u(t6)}),1500);var d=le.page[`${r}.html`],p=d&&d.window||{},h=le.global&&le.global.window||{},f=p.navigationBarTitleText||h.navigationBarTitleText||"";X3().then((e=>{var r=e.data;return J3({appid:le.accountInfo.appId,envVersion:le.envVersion,path:s,title:jr()?"":f,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!e6.get(l)&&!c&&(it("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){K3("已复制")},fail(){K3(t6)}}),e6.set(l,!1)),null))).catch((e=>{u(t6),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u(t6),console.log("[onCopyUrl]: ",e)}))}else it("returnCopyUrl",{url:s,shortLinkEnable:t,success(){K3("已复制")},fail(){K3(t6)}})})),Protect.hijackWasm(),Kn((()=>{var e=le.appLaunchInfo||{},t=+le.appLaunchInfo.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;"string"==typeof i&&bi(i,1037!==t,fi),yi(Ai)})),Un(((e={})=>{var t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;(1037===t||i&&"string"==typeof i||1===e.reLaunch||!0===e.reLaunch)&&(fi=[],gi=[]),"string"==typeof i&&bi(i,1037!==t,fi),yi(Ai)})),le.onReady(Nn()((function*(){yield new Promise((e=>setTimeout(e,0)));var e=yield z3();if(e&&e.appId){var t="initial";try{if(e.shouldCheck)try{if(!(yield Y3(e)))return(e=>{it("private_openUrl",{url:`https://mp.weixin.qq.com/mp/waerrpage?appid=${e}&type=offshelf&offshelf_type=0#wechat_redirect`,isNativeStyle:!0}),Un((()=>{$m()}))})(le.accountInfo.appId),void(t="rejected");t="passed"}catch(e){t="failed",wxNativeConsole.error("[mop verify error]",e)}else t="skipped";Z3(e,H3).catch((e=>{wxNativeConsole.error("[mop report error]",e)}))}catch(e){wxNativeConsole.error("[init financial app error]",e)}finally{wxNativeConsole.info("[financial check status]",t)}}}))),le.onReady((()=>{l.g.__isAppServiceRemoteDebugMode__&&l.g.__remoteDebug__.setAppserviceHandlers({getCurrentPages:a.getCurrentPagesByDomain,invokeWebviewMethod:ii})})),f("onSinglePageTap",(e=>{if(zr()){var t=e.toast||Tr;Tr=!1,Sr(t?3:2,e.ts)}}));var n6=NB.connectSocket,i6=NB.closeSocket,a6=NB.sendSocketMessage,o6=NB.onSocketOpen,s6=NB.onSocketClose,l6=NB.onSocketMessage,c6=NB.onSocketError,u6=UD,d6=VD,p6=jD,h6=HD,f6=QD,g6=aW,v6=oW,m6=QB,_6=$B,y6=zB,A6=YB,b6=ZB,w6=qB,E6=JB,C6=e=>{Y("onVoicePlayEnd",__errorTracer__.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},I6=Hd,S6=gW,T6=vW,x6=mW,P6=_W,k6=yW,D6=bW,R6=wW,O6=EW,M6=HZ,L6=QZ,N6=$Z,B6=YZ,W6=qZ,F6=eq,U6=ZZ,V6=JZ,j6=tq,G6=rq,H6=iq,Q6=aq,$6=sq,z6=lq,Y6=c2,Z6=l2,q6=BM,J6=Lw,X6=Nw,K6=cf,e5=FM,t5=WM,r5=(e={})=>{Ie&&(e.visualEffect=e.visualEffect||"none",it("setVisualEffectOnCapture",e,{}))},n5=UM,i5=VM,a5=e=>{it("chooseContact",e)},o5=(e={})=>{it("chooseWeChatContact",e)},s5=jM,l5=(e={})=>{((e,t={},r={})=>{T(t)||(t={});var n=et(t=Object.assign({},t),e);ii(e,t,void 0,(t=>{tt(t,e,n,r)}))})("quicklyAddBrandContact",e,{})},c5=GM,u5=HM,d5=lo,p5=co,h5=po,f5=ho,g5=no,v5=fo,m5=(e={})=>{it("showShareActionSheet",e)},_5=Zm,y5=qm,A5=Jm,b5=t_,w5=r_,E5=n_,C5=i_,I5=(e={})=>{if(Ie&&le.clientVersion<654313216||Se&&le.clientVersion<385877760){var t={errMsg:"hideHomeButton:ok"};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}else it("hideHomeButton",e,{})},S5=TD,T5=PD,x5=kD,P5=MD,k5=(e={})=>{if(ct("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=LD(a.convertComponentAliasToRoute(e.path));else{var r=Object.keys(we.query).map((e=>`${e}=${we.query[e]}`)).join("&"),n=`${we.lastRoute}?${r}`;t.path=LD(a.convertComponentAliasToRoute(n))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=pn(e.imageUrl,!1)),"wx60422b707e49ff2e"!==le.accountInfo.appId&&(delete t.bizSourceName,delete t.bizSourceIconUrl),it("shareAppMessageForFakeNative",t)}},D5=function(e={}){var{success:t,fail:r,failWithMsg:n}=ht(e,FD),i=tr.get(e.shareTicket);i&&i.shareKey?sr("authShareRelationship")?Kr({sdkApiName:FD,apiName:"webapi_authmgr",reqData:{share_key:i.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:i}=e.data;t({iv:r,encryptedData:n,valid:1===i})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})},R5=tR,O5=BD,M5=WD,L5=PF.clearStorage,N5=PF.clearStorageSync,B5=PF.getStorage,W5=PF.getStorageInfo,F5=PF.getStorageInfoSync,U5=PF.getStorageSync,V5=PF.removeStorage,j5=PF.removeStorageSync,G5=PF.setStorage,H5=PF.setStorageSync,Q5=e=>{if(ct("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{it("getBackgroundFetchData",{fetchType:e.fetchType,success(t){pt({name:"getBackgroundFetchData",args:e,res:t})},fail(t){pt({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else dt("getBackgroundFetchData",e,"invalid fetchType")},$5=e=>{try{Y("onBackgroundFetchData",(t=>{t.errMsg="onBackgroundFetchData:ok","function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&__errorTracer__.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}},z5=(e={})=>{ct("setBackgroundFetchToken",e,{token:""})&&it("setBackgroundFetchToken",e)},Y5=(e={})=>{it("getBackgroundFetchToken",e)},Z5={},q5={drawCanvas:Ul,createContext:ql,createCanvasContext:Xl,canvasToTempFilePath:zl,canvasGetImageData:Ol,canvasPutImageData:Nl,createOffscreenCanvas:Kp,getAccountInfoSync:WG,getShareInfo:S5,authPrivateMessage:D5,pageScrollTo:p_,chooseInvoiceTitle:ER,chooseInvoice:DR,openCustomerServiceChat:(e={})=>{it("openCustomerServiceChat",Object.assign({},e,{scene:+le.appLaunchInfo.scene}),{beforeSuccess(){try{lc({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}}})},arrayBufferToBase64:__errorTracer__.surroundThirdByTryCatch(Ht),base64ToArrayBuffer:__errorTracer__.surroundThirdByTryCatch(Qt),openSetting:wR,getExtConfig:(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:_O()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},chooseMedia:NW,previewMedia:BW,chooseMultiMedia:(e={})=>{it("chooseMultiMedia",e)},chooseMessageFile:LW,chooseWeChatContact:o5,uploadEncryptedFileToCDN:(e={})=>{it("uploadEncryptedFileToCDN",e,{})},onUploadEncryptedFileToCDNProgress:e=>{Y("onUploadEncryptedFileToCDNProgress",e)},uploadToCommonCDN:(e={})=>{if(sr("uploadToCommonCDN"))it("uploadToCommonCDN",e,{});else{var t="uploadToCommonCDN:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},getExtConfigSync:_O,showShareMenu:T5,hideShareMenu:x5,updateShareMenu:P5,shareAppMessageForFakeNative:k5,openUrl:$i,setNavigationBarColor:b5,setNavigationBarAlpha:w5,showShareImageMenu:R5,shareFileMessage:O5,shareVideoMessage:M5,vibrateShort:n5,vibrateLong:i5,getSetting:bR,checkIsSupportFacialRecognition:(e={})=>{it("checkIsSupportFacialRecognition",e,{})},startFacialRecognitionVerify:(e={})=>{var t=cR(e);it("startFacialRecognitionVerify",Mt(e,{requestVerifyPreInfo:t}),{})},startFacialRecognitionVerifyAndUploadVideo:(e={})=>{var t=cR(e);it("startFacialRecognitionVerifyAndUploadVideo",Mt(e,{requestVerifyPreInfo:t}),{})},startCustomFacialRecognitionVerify:(e={})=>{var t=cR(e);it("startCustomFacialRecognitionVerify",Mt(e,{requestVerifyPreInfo:t}),{})},startCustomFacialRecognitionVerifyAndUploadVideo:(e={})=>{var t=cR(e);it("startCustomFacialRecognitionVerifyAndUploadVideo",Mt(e,{requestVerifyPreInfo:t}),{})},sendBizRedPacket:(e={})=>{if(sr("sendBizRedPacketForOpen")){var t=Cr().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}it("sendBizRedPacket",e,{})},sendGoldenRedPacket:(e={})=>{it("sendGoldenRedPacket",e,{})},openGoldenRedPacketDetail:(e={})=>{it("openGoldenRedPacketDetail",e,{})},showRedPackage:(e={})=>{var{url:t}=e;if(ct("showRedPackage",e,{url:""}))if(0===t.indexOf("https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket"))if(sr("showRedPackage")){var r=Object.assign({},e,{url:t,isNativeStyle:!0});it("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}})}else dt("showRedPackage",e,"no permission");else dt("showRedPackage",e,"url is invalid")},addPhoneContact:s5,quicklyAddBrandContact:l5,searchContacts:c5,privateSearchContacts:u5,setScreenBrightness:e5,getScreenBrightness:t5,setVisualEffectOnCapture:r5,shareToWeRun:(e={})=>{ct("shareToWeRun",e,{recordList:[]})&&(sr("shareDataToWeRun")?SR({recordList:e.recordList}).then((t=>{var r=((e,t=[])=>{var r={};return t.forEach((t=>{e.hasOwnProperty(t)&&(r[t]=e[t])})),r})(t.wording||{},["title","sport_name","note_title","note_detail"]);r.theme=aa().theme||"light",((e="",t)=>{var r=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&PR&&(PR.handleCancel(),PR=null)}));__sclEngine__.initScl((n=>{var i=n.mainRoot.append("werun",{input:e});PR=i,i.addListener("confirm",(e=>{var n=e.detail.clickMoreCount;xR({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:n}),Hi(r),TR({recordList:t.recordList}).then((()=>pt({name:"shareToWeRun",args:t}))).catch((e=>dt("shareToWeRun",t,e.errMsg,+e.err_code)))})),i.addListener("cancel",(e=>{var n=e.detail.clickMoreCount;xR({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:n}),dt("shareToWeRun",t,"cancel"),Hi(r)}))}))})(JSON.stringify(r),e)}),(t=>{xR({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),dt("shareToWeRun",e,t.errMsg,+t.err_code)})):dt("shareToWeRun",e,"has no permission",-100004))},getWeRunData:(e={})=>{it("openWeRunSetting",{checkSupport:!0,success(){var{success:t,fail:r}=ht(e);Kr({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success:t,fail:r})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},uploadWeRunData:(e={})=>{"number"!=typeof e.step||e.step<0?dt("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):it("openWeRunSetting",{checkSupport:!1,success(){it("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},addWeRunData:(e={})=>{"number"!=typeof e.step||e.step<0?dt("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):it("openWeRunSetting",{checkSupport:!1,success(){it("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},canIUse:function(e=""){if("string"!=typeof e)throw new Wt("canIUse: schema should be a string");var t=e.split(".");return!!function(e,t,r){var n=kF[e];return!(!n||t&&!(t in n)||r&&(!Array.isArray(n[t])||n[t].indexOf(r)<0))}(...t)||(!!function(e,t){var r=DF.class[e]||DF.class[`wx.${e}`];return!(!r||t&&r.indexOf(t)<0)}(...t)||!!function(e,t,r,n){var i=DF.method[e];if(!i)return!1;if(t&&!i[t])return!1;if(r&&!i[t][r])return!1;if(n){var a=i[t][r];if(!Array.isArray(a)||a.indexOf(n)<0)return!1}return!0}(...t))},setPageStyle:m_,triggerGettingWidgetData:(e={})=>{ct("triggerGettingWidgetData",e,{cacheKey:""})&&it("triggerGettingWidgetData",e,{})},navigateToMiniProgram:ks,navigateToMiniProgramDirectly:Ds,navigateToDevMiniProgram:e=>{Qm(e,"/")},navigateBackMiniProgram:(e={})=>{Hm?it("navigateBackMiniProgram",e,{}):dt("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},launchMiniProgram:(e={})=>{var t=Object.assign({},e);t.path&&(t.path=Nt(t.path)),it("launchMiniProgram",t)},launchDevMiniProgram:(e={})=>{if(ct("launchDevMiniProgram",e,{appId:""})){var t=Object.assign({},e);t.path=Nt(t.path),"string"==typeof t.path&&void 0===t.relativeURL&&(t.relativeURL=t.path),it("launchDevMiniProgram",t,{})}},exitMiniProgram:$m,openEmbeddedMiniProgram:H_,launchApplicationDirectly:(e={})=>{sr("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,Se?sr("launchApplicationDirectly")?it("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>dt("launchApplicationDirectly",e,"no permission"))):it("launchApplicationDirectly",e,{})},launchApplicationForNative:(e={})=>{delete e.operateDirectly,it("launchApplicationForNative",e,{})},setNavigationBarRightButton:E5,onTapNavigationBarRightButton:C5,setTopBarText:(e={})=>{e.text?Date.now()-a_<5e3?dt("setTopBarText",e,"invoke too frequently"):it("setTopBarText",e,{beforeSuccess(){a_=Date.now()}}):dt("setTopBarText",e,"invalid text")},setTabBarBadge:(e={})=>{if(ct("setTabBarBadge",e,{index:0,text:""})){var t=Object.assign({},e);t.badgeValue=t.text,t.type="text",function(e){if(null==e)return 0;"string"!=typeof e&&(e+="");return e.replace(/[^\x00-\xff]/g,"01").length}(t.badgeValue)>4&&(t.badgeValue="..."),it("setTabBarBadge",t)}},removeTabBarBadge:(e={})=>{if(ct("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",it("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},showTabBarRedDot:(e={})=>{if(ct("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="redDot",it("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},hideTabBarRedDot:(e={})=>{if(ct("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",it("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},showTabBar:(e={})=>{void 0===e.animation&&(e.animation=!1),ct("showTabBar",e,{animation:!0})&&it("showTabBar",e,{beforeSuccess:()=>!0})},hideTabBar:(e={})=>{void 0===e.animation&&(e.animation=!1),ct("hideTabBar",e,{animation:!0})&&it("hideTabBar",e,{beforeSuccess:()=>!1})},setTabBarStyle:(e={})=>{it("setTabBarStyle",e)},setTabBarItem:(e={})=>{if(ct("setTabBarItem",e,{index:0}))if(0!==(e.iconPath||"").indexOf("."))if(0!==(e.selectedIconPath||"").indexOf(".")){try{Et(e,"text")||(e.text=c_[e.index].text||""),c_[e.index].text=e.text}catch(e){e.message}it("setTabBarItem",e)}else dt("setTabBarItem",e,"selectedIconPath invalid, require absolute path");else dt("setTabBarItem",e,"iconPath invalid, require absolute path")},setBackgroundColor:D_,setBackgroundTextStyle:R_,setEnableDebug:HF,captureScreen:q6,onUserCaptureScreen:J6,offUserCaptureScreen:X6,setKeepScreenOn:K6,checkIsSupportSoterAuthentication:(e={})=>{it("checkIsSupportSoterAuthentication",e,{})},startSoterAuthentication:(e={})=>{if(ct("startSoterAuthentication",e,{challenge:""})){var t=e.success;it("startSoterAuthentication",Object.assign({},e,{success(r){0!==r.errCode?"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(r):"function"==typeof t&&__errorTracer__.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(r)}}),{beforeSuccess(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},checkIsSoterEnrolledInDevice:(e={})=>{ct("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&it("checkIsSoterEnrolledInDevice",e,{})},openDeliveryList:(e={})=>{it("openDeliveryList",e,{})},navigateBackH5:e=>{u2?it("navigateBackH5",e):dt("navigateBackH5",e,"not HTML5 page can navigate back.")},openBusinessView:e=>{if(ct("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,it("openBusinessView",t)}},navigateBackApplication:(e={})=>{if(7===le.appType){var t="";T(e.extraData)&&(t=JSON.stringify(e.extraData));var r=d2("navigateBackApplication",Object.assign({},e,{extraData:t}));it("navigateBackApplication",r)}else dt(e,"permission denied",1)},navigateBackNative:(e={})=>{var t="";T(e.extraData)&&(t=JSON.stringify(e.extraData)),Se&&le.clientVersion<=385877035||Ie&&le.clientVersion<=654312491?dt("navigateBackNative",e,"does not exist."):it("navigateBackNative",Object.assign({},e,{extraData:t}))},reportIDKey:()=>{},reportKeyValue:()=>{},setWindowSize:(e={})=>{dt("setWindowSize",e,"deprecated")},setNavigationBarTitle:_5,showNavigationBarLoading:y5,hideNavigationBarLoading:A5,hideHomeButton:I5,startPullDownRefresh:h_,stopPullDownRefresh:f_,operateWXData:Pw,getOpenDeviceId:CR,getMenuButtonBoundingClientRect:M_,getSelectedTextRange:(e={})=>{var t=y_();if(Ie&&L_&&t===we.currentWebviewId)return h("xWebGetSelectedTextRange",{taskId:N_}),void(B_[N_++]=e);ii("getSelectedTextRange",{},[we.currentWebviewId],(t=>{0===t.errMsg.indexOf("getSelectedTextRange:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},enableAlertBeforeUnload:function(e={}){var t="enableAlertBeforeUnload",r=Reporter.surroundThirdByTryCatch(e.success||O_,`at api ${t} success callback function`),n=Reporter.surroundThirdByTryCatch(e.fail||O_,`at api ${t} fail callback function`),i=Reporter.surroundThirdByTryCatch(e.complete||O_,`at api ${t} complete callback function`),a="string"==typeof e.message?e.message:void 0;it("setNavigateBackConfirmDialog",{enable:!0,content:a,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})},disableAlertBeforeUnload:function(e={}){var t="disableAlertBeforeUnload",r=Reporter.surroundThirdByTryCatch(e.success||O_,`at api ${t} success callback function`),n=Reporter.surroundThirdByTryCatch(e.fail||O_,`at api ${t} fail callback function`),i=Reporter.surroundThirdByTryCatch(e.complete||O_,`at api ${t} complete callback function`);it("setNavigateBackConfirmDialog",{enable:!1,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})},setNavigateBackInterception:Gi,stopNavigateBackInterception:Hi,makeBluetoothPair:LL,isBluetoothDevicePaired:NL,openBluetoothAdapter:QM,closeBluetoothAdapter:$M,getBluetoothAdapterState:zM,onBluetoothAdapterStateChange:fm,offBluetoothAdapterStateChange:gm,startBluetoothDevicesDiscovery:YM,stopBluetoothDevicesDiscovery:ZM,getBluetoothDevices:qM,getConnectedBluetoothDevices:XM,createBLEConnection:KM,setBLEMTU:hL,getBLEMTU:yL,onBLEMTUChange:vL,offBLEMTUChange:mL,closeBLEConnection:eL,getBLEDeviceServices:tL,getBLEDeviceRSSI:JM,getBLEDeviceCharacteristics:rL,createBLEPeripheralServer:(e={})=>{it("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new DL(t);delete e.serverId,e.server=r}})},onBLEPeripheralConnectionStateChanged:OL,offBLEPeripheralConnectionStateChanged:ML,notifyBLECharacteristicValueChanged:nL,notifyBLECharacteristicValueChange:iL,readBLECharacteristicValue:aL,writeBLECharacteristicValue:oL,onBluetoothDeviceFound:dL,offBluetoothDeviceFound:pL,onBLEConnectionStateChanged:sL,onBLEConnectionStateChange:dm,onBLECharacteristicValueChange:cL,offBLEConnectionStateChanged:lL,offBLEConnectionStateChange:pm,offBLECharacteristicValueChange:uL,startBeaconDiscovery:kM,stopBeaconDiscovery:DM,getBeacons:RM,onBeaconUpdate:OM,offBeaconUpdate:MM,onBeaconServiceChange:LM,offBeaconServiceChange:NM,startWifi:BL,stopWifi:WL,getWifiList:FL,getConnectedWifi:UL,connectWifi:VL,presetWifiList:jL,setWifiList:GL,onGetWifiList:HL,onWifiConnected:$L,offGetWifiList:QL,offWifiConnected:zL,onEvaluateWifi:qL,getHCEState:JL,startHCE:XL,stopHCE:KL,sendHCEMessage:eN,onHCEMessage:tN,offHCEMessage:rN,getNFCAdapter:CN,startLocalServiceDiscovery:PN,stopLocalServiceDiscovery:kN,onLocalServiceFound:DN,offLocalServiceFound:RN,onLocalServiceLost:ON,offLocalServiceLost:MN,onLocalServiceDiscoveryStop:LN,offLocalServiceDiscoveryStop:NN,onLocalServiceResolveFail:BN,offLocalServiceResolveFail:WN,getLocalIPAddress:e=>{Se||Ie?it("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):it("getLocalIPAddress",e)},redirectTo:Im,reLaunch:Sm,navigateTo:Tm,switchTab:Pm,navigateBack:km,onAppShow:ui,offAppShow:di,onAppHide:Eo,offAppHide:Co,onError:Po,offError:ko,onUnhandledRejection:Do,offUnhandledRejection:Ro,getLaunchOptionsSync:si,getEnterOptionsSync:Cr,onWindowResize:$o,offWindowResize:e=>{No.splice(No.indexOf(e),1)},setPageOrientation:P_,getStorage:B5,getStorageSync:U5,setStorage:G5,setStorageSync:H5,removeStorage:V5,removeStorageSync:j5,clearStorage:L5,clearStorageSync:N5,getStorageInfo:W5,getStorageInfoSync:F5,getBackgroundFetchData:Q5,onBackgroundFetchData:$5,setBackgroundFetchToken:z5,getBackgroundFetchToken:Y5,request:Dg,connectSocket:n6,closeSocket:i6,sendSocketMessage:a6,onSocketOpen:o6,onSocketClose:s6,onSocketMessage:l6,onSocketError:c6,uploadFile:sB,downloadFile:Md,addNativeDownloadTask:(e={})=>{Se?dt("addNativeDownloadTask",e,"iOS not supported"):it("addNativeDownloadTask",e,{})},downloadApp:(e={})=>{if(Se)dt("downloadApp",e,"iOS not supported");else{if(!ct("downloadApp",e,{taskName:"",taskUrl:"",fileMd5:""}))return null;e.fileType=e.fileType||1;try{return new HB(e)}catch(t){return dt("downloadApp",e,t.message),null}}},installDownloadApp:(e={})=>{Se?dt("installDownloadApp",e,"iOS not supported"):ct("installDownloadApp",e,{downloadId:""})&&it("installDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("installDownloadTaskForNative","installDownloadApp")}})},getAppInstallState:(e={})=>{Se?dt("getAppInstallState",e,"iOS not supported"):e.packageName||e.packageNameArray?it("getInstallStateForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getInstallStateForNative","getAppInstallState")}}):dt("getAppInstallState",e,"parameter error: require packageName or packageNameArray")},queryDownloadAppTask:(e={})=>{Se?dt("queryDownloadAppTask",e,"iOS not supported"):e.downloadId||e.downloadIdArray||e.appIdArray?it("queryDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("queryDownloadTaskForNative","queryDownloadAppTask"),"download_succ"===e.state&&(e.progress=100),(e.result||[]).forEach((e=>{"download_succ"===e.state&&(e.progress=100)}))}}):dt("queryDownloadAppTask",e,"parameter error: require downloadId or downloadIdArray or appIdArray")},cancelDownloadAppTask:(e={})=>{Se?dt("cancelDownloadAppTask",e,"iOS not supported"):ct("cancelDownloadAppTask",e,{downloadIdArray:[]})&&it("cancelDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cancelDownloadTaskForNative","cancelDownloadAppTask")}})},resumeDownloadAppTask:(e={})=>{Se?dt("resumeDownloadAppTask",e,"iOS not supported"):ct("resumeDownloadAppTask",e,{downloadId:""})&&it("resumeDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("resumeDownloadTaskForNative","resumeDownloadAppTask")}})},pauseDownloadAppTask:(e={})=>{Se?dt("pauseDownloadAppTask",e,"iOS not supported"):ct("pauseDownloadAppTask",e,{downloadId:""})&&it("pauseDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("pauseDownloadTaskForNative","pauseDownloadAppTask")}})},onDownloadAppStateChange:e=>{Y("onDownloadAppStateChangeForNative",((t={})=>{__errorTracer__.surroundThirdByTryCatch(e,"at onDownloadAppStateChange callback function")(t)}))},downloadAppForIOS:(e={})=>{if(!Ie)return ct("downloadAppForIOS",e,{appUrl:""})?(it("downloadAppInternalForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("downloadAppInternalForNative","downloadAppForIOS")}}),null):null;dt("downloadAppForIOS",e,"android not supported")},calRqt:(e={})=>{ct("calRqt",e,{rqt:""})&&it("calRqt",e)},secureTunnel:e=>{it("secureTunnel",e)},chooseImage:u6,previewImage:d6,getImageInfo:p6,saveImageToPhotosAlbum:h6,compressImage:f6,startRecord:g6,stopRecord:v6,playVoice:b6,pauseVoice:w6,stopVoice:E6,onVoicePlayEnd:C6,chooseVideo:m6,saveVideoToPhotosAlbum:_6,getVideoInfo:y6,compressVideo:A6,loadFontFace:I6,createMediaContainer:QW,createMediaRecorder:_F,createVideoDecoder:rF,openVideoEditor:AF,createMediaAudioPlayer:RW,createWebAudioContext:()=>{var{system:e}=oa();Ie&&-1===Jt(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=new ag;Bs.Z&&Bs.Z.WXAUDIO&&t&&"function"==typeof t.create&&t.create();var r=[];return["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return n.call(t),new Promise((e=>{r.push(e);var i=t.onstatechange;t.onstatechange=()=>{"function"==typeof i&&i();var e=r.pop();e&&e(),t.onstatechange=i},n.call(t)}))}.bind(t)})})),t},getLocation:oO,openLocation:cO,chooseLocation:sO,choosePoi:lO,onLocationChange:dO,offLocationChange:pO,onLocationChangeError:fO,offLocationChangeError:gO,startLocationUpdateBackground:function(e){var t={subKey:"",enableIndoor:!1};Object.assign(t,e),it("enableLocationUpdateBackground",t,{beforeAll(e){e.errMsg=e.errMsg.replace("enableLocationUpdateBackground","startLocationUpdateBackground")}})},startLocationUpdate:vO,stopLocationUpdate:mO,getNetworkType:qi,onNetworkStatusChange:Ji,offNetworkStatusChange:Xi,getSystemInfo:ia,getSystemInfoSync:aa,getSystemInfoAsync:e=>{le.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),na());var t=le.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";it(t,e,{beforeSuccess:ra})},openSystemBluetoothSetting:e=>{it("openSystemSetting",O()(O()({},e),{},{type:"systemBluetooth"}))},openAppAuthorizeSetting:e=>{it("openSystemSetting",O()(O()({},e),{},{type:"appAuthorize"}))},getSystemSetting:()=>{var e={};return ba(e,"bluetoothEnabled"),ba(e,"deviceOrientation"),ba(e,"locationEnabled"),ba(e,"wifiEnabled"),e},getAppAuthorizeSetting:()=>{var e={};return ba(e,"albumAuthorized"),ba(e,"bluetoothAuthorized"),ba(e,"cameraAuthorized"),ba(e,"locationAuthorized"),ba(e,"locationReducedAccuracy"),ba(e,"microphoneAuthorized"),ba(e,"notificationAlertAuthorized"),ba(e,"notificationAuthorized"),ba(e,"notificationBadgeAuthorized"),ba(e,"notificationSoundAuthorized"),ba(e,"phoneCalendarAuthorized"),e},getDeviceInfo:()=>{var e;it("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t=Ee;return Se&&(e.brand="iPhone"),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e},getWindowInfo:()=>{var e;return it("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e},getAppBaseInfo:()=>{var e;return it("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=ea,e.enableDebug=Boolean(le.debug),le.theme&&(e.theme=le.theme),le.host&&(e.host=le.host),le.appLaunchInfo&&le.appLaunchInfo.mode&&(e.mode=le.appLaunchInfo.mode),Ie&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),zr()&&4!==le.appType&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Le&&(e.renderer="h5"),e},getBatteryInfo:aM,getBatteryInfoSync:oM,startAccelerometer:cM,stopAccelerometer:uM,onAccelerometerChange:hM,offAccelerometerChange:pM,startCompass:vM,stopCompass:mM,onCompassChange:AM,offCompassChange:yM,startDeviceMotionListening:QN,stopDeviceMotionListening:$N,onDeviceMotionChange:zN,offDeviceMotionChange:YN,startGyroscope:UN,stopGyroscope:VN,onGyroscopeChange:jN,offGyroscopeChange:GN,checkIsOpenAccessibility:e=>{it("checkIsOpenAccessibility",e)},addPhoneCalendar:JN,addPhoneRepeatCalendar:XN,getRandomValues:Tq,getWebviewDebugInfo:function(e){var t=KN++;eB[t]=e,h("getWebviewDebugInfo",{callbackId:t},[we.currentWebviewId])},reportAction:e=>{it("reportAction",e)},getBackgroundAudioManager:fW,getRecorderManager:iW,getBackgroundAudioPlayerState:S6,playBackgroundAudio:T6,pauseBackgroundAudio:x6,seekBackgroundAudio:P6,stopBackgroundAudio:k6,onBackgroundAudioPlay:D6,onBackgroundAudioPause:R6,onBackgroundAudioStop:O6,joinVoIPChat:M6,exitVoIPChat:L6,updateVoIPChatMuteConfig:N6,onVoIPChatMembersChanged:B6,onVoIPChatSpeakersChanged:W6,onVoIPChatInterrupted:F6,offVoIPChatMembersChanged:U6,offVoIPChatSpeakersChanged:V6,offVoIPChatInterrupted:j6,subscribeVoIPVideoMembers:G6,onVoIPVideoMembersChanged:H6,offVoIPVideoMembersChanged:Q6,onVoIPChatStateChanged:$6,offVoIPChatStateChanged:z6,join1v1Chat:Y6,setEnable1v1Chat:Z6,requestSubscribeMessage:e=>{if(OR)dt("requestSubscribeMessage",e,"last call has not ended");else{if(!ct("requestSubscribeMessage",e,{tmplIds:[]}))return;OR=!0,Se&&le.clientVersion<385877504||Ie&&le.clientVersion<654313216||Ce?LR(e):MR(e)}},requestSubscribeDeviceMessage:e=>{if(ct("requestSubscribeDeviceMessage",e,{deviceId:"",deviceTicket:"",tmplIds:[]})){var t,r,n=e.tmplIds||[];0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t?dt("requestSubscribeDeviceMessage",e,t,r):VR||(VR=!0,Kr({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:1,device_id:e.deviceId,device_ticket:e.deviceTicket,ItemList:e.tmplIds.map((e=>({TemplateId:e})))},success(t){var r=t.data.InfoList||[],n=null;if(r.length){var i=[],a=[];if(r.forEach((e=>{e.OperType&&e.OperType!==WR?a.push(e):i.push(e)})),!i.length){var o={},s=a.some((e=>e.OperType===BR));return a.forEach((e=>{o[e.TemplateId]=UR[e.OperType]})),pt({name:"requestSubscribeDeviceMessage",success:s,args:e,res:o}),void(VR=!1)}var l=le.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",c=le.accountInfo.nickname,u=JSON.stringify({appIcon:l,appName:c,items:i.map((e=>({name:e.Title,checked:!1,id:e.TemplateId,noticeList:e.KeyWordList})))}),d=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&n&&n.handleCancel()})),p=(t,r)=>{Kr({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:2,device_id:e.deviceId,device_ticket:e.deviceTicket,UIData:{OpType:t,UIItem:r.map((e=>({TemplateId:e.id,ChooseStatus:e.checked?1:0})))}},success(){if(t===WR||t===FR)dt("requestSubscribeDeviceMessage",e,`${UR[t]} operation`);else{var n={};r.forEach((e=>{n[e.id]=e.checked?"accept":"reject"})),pt({name:"requestSubscribeDeviceMessage",args:e,res:n})}VR=!1},fail(t){pt({name:"requestSubscribeDeviceMessage",args:e,res:t,success:!1}),VR=!1}})};__sclEngine__.initScl((e=>{(n=e.mainRoot.append("device-message",{input:u})).addListener("confirm",(e=>{p(BR,e.detail.items),Hi(d),n=null})),n.addListener("cancel",(e=>{p(WR,e.detail.items),Hi(d),n=null})),n.addListener("reject",(e=>{p(FR,e.detail.items),Hi(d),n=null}))}))}},fail(t){pt({name:"requestSubscribeDeviceMessage",args:e,res:t,success:!1}),VR=!1}}))}},getUserCryptoManager:()=>L3,login:e=>{it("login",Mt(e,{requestInQueue:!1}))},logout:()=>{it("logout",{})},checkSession:e=>{aR&&clearTimeout(aR),it("refreshSession",e,{beforeSuccess:e=>{aR=setTimeout((()=>{it("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},authorize:zh,getUserInfo:(e={})=>{var t=r&&r.version&&r.version.version||"",n=!0===Vr("getUserInfo")||"unknown"===Vr("getUserInfo"),{success:i,fail:a}=ht(e,"getUserInfo");Kr({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:n,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:o}=e;i({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:o,rawData:JSON.stringify(e.data)})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)}})},getUserProfile:(e={})=>{if(ct("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)dt("getUserProfile",e,"desc length does not meet the requirements");else{var r=le.accountInfo.nickname,n=le.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ";((e={})=>{nn("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)})({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,a=t.avatar_info.is_ban_modify_avatar,o=t.avatar_info.default_headimg_url,s=t.avatar_info.default_headimg_fileid,l=t.avatar_info.default_avatar_id,c=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),u=t.avatar_info.avatar_limit;if(0!==i){if(1===i){u+=1;var d={id:-100,avatar:o,nickname:"微信用户",desc:"临时头像昵称"};c.splice(1,0,d)}var p=JSON.stringify({appName:r,appIcon:n,infoList:c,showType:i,selected:l,limit:u,isBanModifyAvatar:a}),h=Gi((e=>{[Ri.BottomBackButton,Ri.NavigationBackInterceptionType,Ri.NavigateBackCall].includes(e.type)&&vR&&vR.handleCancel()}));__sclEngine__.initScl((t=>{(vR=t.mainRoot.append("user-profile",{input:p})).addListener("confirm",(t=>{Hi(h),gR({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(t){pt({name:"getUserProfile",args:e,res:t})},fail(){dt("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),vR=null})),vR.addListener("cancel",(()=>{Hi(h),dt("getUserProfile",e,"cancel"),gR({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),vR=null})),vR.addListener("create",(()=>{((e={})=>{it("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})})({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:o,defaultAvatarFileId:s,complete(e){e.userInfo&&(c.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,c),vR.setData({infoList:c})),vR.setData({hide:!1})}})}))}))}else((e={})=>{if(ct("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)dt("getUserProfile",e,"desc length does not meet the requirements");else{var r=!0===Vr("getUserProfile")||"unknown"===Vr("getUserProfile"),{success:n,fail:i}=ht(e,"getUserProfile");Kr({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,reqData:{lang:e.lang||"en",desc:e.desc},success:e=>{var{cloudID:t,encryptedData:r,iv:i,signature:a,data:o}=e;n({cloudID:t,encryptedData:r,iv:i,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),setTimeout((()=>fR("")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),i(e)}})}}})(e)}else dt("getUserProfile",e,"getUserAvatarInfo fail")},fail(){dt("getUserProfile",e,"getUserAvatarInfo fail")}})}}},requestPayment:tD,verifyPaymentPassword:e=>{it("verifyPaymentPassword",e)},bindPaymentCard:e=>{it("bindPaymentCard",e)},requestPaymentToBank:e=>{it("requestPaymentToBank",e)},requestVirtualPayment:e=>{it("requestVirtualPayment",e)},openOfflinePayView:e=>{it("openOfflinePayView",e)},openWCPayCardList:e=>{it("openWCPayCardList",e)},requestMallPayment:e=>{it("requestMallPayment",e)},setCurrentPaySpeech:e=>{it("setCurrentPaySpeech",e)},loadPaySpeechDialectConfig:e=>{it("loadPaySpeechDialectConfig",e)},requestJointPayment:e=>{it("requestJointPayment",e)},getWCPayOverseaPrepayRequest:e=>{it("getWCPayOverseaPrepayRequest",e)},requestH5Transaction:e=>{it("requestH5Transaction",e)},openWCPayOverseaPaymentReceive:e=>{it("openWCPayOverseaPaymentReceive",e)},handleWCPayOverseaWalletBuffer:e=>{it("handleWCPayOverseaWalletBuffer",e)},requestVerifyUserIdentity:e=>{it("requestVerifyUserIdentity",e)},requestPersonalPay:ID,phoneBindCardVerifySms:(e={})=>{Ie&&qr(le.clientVersion,"7.0.15")>=0||Se&&qr(le.clientVersion,"7.0.13")>=0?it("phoneBindCardVerifySms",e):dt("phoneBindCardVerifySms",e,"not yet supported")},faceVerifyForPay:(e={})=>{it("faceVerifyForPay",e)},openOfficialAccountProfile:(e={})=>{var t=Object.assign({},e,{scene:151});delete t.profileReportInfo,it("openBizProfile",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},openUserProfile:(e={})=>{var t=Object.assign({},e);delete t.profileReportInfo,it("openUserProfile",t)},requestBizSplitBillPayment:(e={})=>{ct("requestBizSplitBillPayment",e,{orderNo:""})&&it("requestBizSplitBillPayment",e)},openSelectPayment:(e={})=>{it("openSelectPayment",e)},requestEntrustAuthorization:(e={})=>{it("requestEntrustAuthorization",e)},requestFacetoFacePayment:CD,requestQueryCashier:(e={})=>{ct("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&it("requestQueryCashier",e)},requestOrderPayment:ED,openMiniProgramProfile:(e={})=>{it("openWeAppProfile",e)},openMiniProgramSearch:(e={})=>{it("openWeAppSearch",e)},openMiniProgramHistoryList:(e={})=>{it("openWeAppHistoryList",e)},openMiniProgramStarList:(e={})=>{it("openWeAppStarList",e)},batchGetContactDirectly:(e={})=>{if(sr("batchGetContactDirectly"))it("batchGetContact",e,{beforeAll(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},preloadMiniProgramEnvDirectly:(e={})=>{if(sr("preloadMiniProgramEnvDirectly"))it("preloadMiniProgramEnv",e,{beforeAll(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},predownloadMiniProgramPackageDirectly:(e={})=>{if(sr("predownloadMiniProgramPackageDirectly"))it("predownloadMiniProgramPackage",e,{beforeAll(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},preventApplePayUI:(e={})=>{it("preventApplePayUI",e)},getWxSecData:RR,addCard:sR,openCard:lR,checkTrafficCardConditions:(e={})=>{Ie&&qr(le.clientVersion,"7.0.18")>=0?it("checkTrafficCardConditions",e):dt("checkTrafficCardConditions",e,"not yet supported")},queryTrafficCardInfo:(e={})=>{Ie&&qr(le.clientVersion,"7.0.18")>=0?it("queryTrafficCardInfo",e):dt("queryTrafficCardInfo",e,"not yet supported")},issueTrafficCard:(e={})=>{Ie&&qr(le.clientVersion,"7.0.18")>=0?it("issueTrafficCard",e):dt("issueTrafficCard",e,"not yet supported")},rechargeTrafficCard:(e={})=>{Ie&&qr(le.clientVersion,"7.0.18")>=0?it("rechargeTrafficCard",e):dt("rechargeTrafficCard",e,"not yet supported")},setDefaultTrafficCard:(e={})=>{Ie&&qr(le.clientVersion,"7.0.18")>=0?it("setDefaultTrafficCard",e):dt("setDefaultTrafficCard",e,"not yet supported")},addFileToFavorites:(e={})=>{if(ct("addFileToFavorites",e,{filePath:""})){var t=ND(e.filePath);it("addFileToFavorites",O()(O()({},e),{},{filePath:t}))}},addVideoToFavorites:(e={})=>{if(ct("addVideoToFavorites",e,{videoPath:""})){var t=ND(e.videoPath),r=ND(e.thumbPath);it("addVideoToFavorites",O()(O()({},e),{},{videoPath:t,thumbPath:r}))}},openChannelsCreateContact:(e={})=>{it("openChannelsCreateContact",e)},scanCode:EM,openQRCode:(e={})=>{ct("openQRCode",e,{})&&it("openQRCode",e)},scanItem:SM,privateScanItem:(e={})=>{ct("scanItem",e,{})&&it("scanItem",O()(O()({},e),{},{data:JSON.stringify({appId:le.accountInfo.appId,path:we.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?IM({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):dt("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}}))},chooseAddress:mR,saveFile:du,openDocument:_c,getSavedFileList:hu,getSavedFileInfo:fu,getFileInfo:vu,removeSavedFile:gu,getFileSystemManager:()=>cu.app,saveFileToDisk:uq,getABTestConfig:(e={})=>{if(7===le.appType){if("[object Object]"===Object.prototype.toString.call(le.expt)){var t=le.expt[e.experimentId];if(void 0!==t&&"function"==typeof e.success)return void e.success({testConfig:t})}it("getABTestConfig",e)}else dt("getABTestConfig",e,"permission denied",1)},chooseContact:a5,removeUserCloudStorage:e=>{var t=Rm(e.keyList);t?dt("removeUserCloudStorage",e,t):RF(e)},setUserCloudStorage:(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?dt("setUserCloudStorage",e,"invalid KVData item"):OF(e):dt("setUserCloudStorage",e,"KVDataList.length must greater than 0"):dt("setUserCloudStorage",e,"KVDataList must be an Array")},makePhoneCall:bM,makeVoIPCall:wM,onAppRoute:Kn,onAppRouteDone:Mo,onAppEnterBackground:Pi,onAppEnterForeground:Un,onAppUnhang:bo,onPageReload:e=>{o_.call(q5,e)},onPageNotFound:qo,offPageNotFound:Jo,onThemeChange:es,offThemeChange:rs,onCopyUrl:e=>{q3=e},offCopyUrl:()=>{q3=null},createAnimation:T_,createInnerAudioContext:$v,getAvailableAudioSources:CW,onAudioInterruptionBegin:Kf,offAudioInterruptionBegin:eg,onAudioInterruptionEnd:rg,offAudioInterruptionEnd:ng,setInnerAudioOption:IW,createAudioContext:(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"";return Jv.call(q5,e,we.currentWebviewId,r)},createVideoContext:(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"";return wp.call(q5,e,we.currentWebviewId,r)},createMapContext:(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"";return On.call(q5,e,we.currentWebviewId,r)},createCameraContext:()=>sf.call(q5,null,we.currentWebviewId),createLivePlayerContext:(e,t)=>{var r=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==i.getRootNodeId(we.currentWebviewId)?t.__wxExparserNodeId__:"";return Tf.call(q5,e,we.currentWebviewId,r)},createLivePusherContext:()=>Qf.call(q5,null,we.currentWebviewId),onWebviewEvent:to,onNativeEvent:e=>{["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((t=>{Y(t,((r,n)=>{e({data:r,eventName:t,webviewId:n})}))}))},hideKeyboard:e=>{if(Ce||Te||Pe)h("hideKeyboard",{});else{var t=y_();Ie&&A_&&t===we.currentWebviewId?(h("hideXWebKeyboard",{},[t]),e&&"function"==typeof e.success&&e.success({errMsg:"hideKeyboard:ok"}),e&&"function"==typeof e.complete&&e.complete({errMsg:"hideKeyboard:ok"})):it("hideKeyboard",e)}},onKeyboardHeightChange:e=>{b_&&w_(),oe("onKeyboardHeightChange",b_=(t={})=>{__errorTracer__.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)})},offKeyboardHeightChange:w_,getPublicLibVersion:GF,showModal:g5,showToast:d5,hideToast:p5,showLoading:h5,hideLoading:f5,showActionSheet:v5,showShareActionSheet:m5,reportAnalytics:(e,t)=>{var n=void 0!==a&&void 0!==a.getCurrentPagesByDomain&&a.getCurrentPagesByDomain(""),i=n&&n.pop&&n.pop(),o={business:"mmbizwxaanalytics",eventID:e,data:t||{},page:i&&i.__route__,uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:r&&r.version&&r.version.version||0};Ce||(console.info("[自定义分析] 上报成功"),console.info(o)),it("reportRealtimeAction",{actionData:JSON.stringify(o)})},reportMonitor:(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});it("reportRealtimeAction",{actionData:r})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},getClipboardData:xM,setClipboardData:PM,createSelectorQuery:function(e){return LO(e,"")},createIntersectionObserver:function(e,t){return FO(e,t,"")},createMediaQueryObserver:function(e,t){return GO(e,t,"")},nextTick:zO,updatePerfData:e=>{it("updatePerfData",e)},traceEvent:e=>{it("traceEvent",e)},onMemoryWarning:(e,t=!1)=>{t?XU=e:tV(e)},offMemoryWarning:(e,t=!1)=>{t?XU=null:rV(e)},reportPerformance:function(e,t,r){PV(e,t,r)},getPerformance:function(){return oj},getUpdateManager:()=>Aj,updateWeChatApp:bj,createWorker:dX,voiceSplitJoint:(e={})=>{it("voiceSplitJoint",e)},uploadSilkVoice:(e={})=>{it("uploadSilkVoice",e)},downloadSilkVoice:(e={})=>{it("downloadSilkVoice",e)},getResPath:(e={})=>{it("getResPath",e)},setResPath:(e={})=>{it("setResPath",e)},setCookies:e=>{var t="setCookies:ok";if(_i("setCookies")){var r=Si(e);r?(t=r,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},getCookies:e=>{var t="getCookies:ok";if(_i("getCookies")){var r=Ti(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:r})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},faceDetect:function(e={}){it("faceDetect",e)},initFaceDetect:function(e={}){it("faceProcessInit",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})},stopFaceDetect:function(e={}){it("faceProcessStop",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})},createBufferURL:e=>{var t=Bs.Z.createBufferURL(e)||(()=>"");return Wn.add(t,e),t},revokeBufferURL:e=>(Wn.off(e),Bs.Z.revokeBufferURL(e)||(()=>!1)),createSignal:P4,bindGroup:(e={})=>{it("bindGroup",e)},joinGroup:(e={})=>{Ie&&le.clientVersion<654316032||Se?Kr({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;it("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){lo({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){pt({name:"joinGroup",args:e})}}):it("joinGroup",e)},getLabInfo:(e={})=>{ct("getLabInfo",e,{labId:""})&&it("getLabInfo",e)},setLabInfo:(e={})=>{ct("setLabInfo",e,{labId:"",enabled:Boolean()})&&it("setLabInfo",e)},createUDPSocket:yq,createTCPSocket:()=>Ce?new Mj:new $j,env:DK,error:iF,isSystemError:e=>e.toString().endsWith(1),isSDKError:e=>e.toString().endsWith(2),isThirdError:e=>e.toString().endsWith(3),createRewardedVideoAd:e=>{var t=O()({},e);return delete t.pluginId,WZ(t)},createInterstitialAd:e=>{var t=O()({},e);return delete t.pluginId,new AZ(t)},createCustomAd:e=>{var t=O()({},e);return delete t.pluginId,new kZ(t)},preloadVideoAd:e=>{if(console.warn("注意：wx.preloadVideoAd接口即将下线，请使用wx.preloadAd替换。"),Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t];-1===Pk.indexOf(n)?Pk.length>=kk?console.warn(`preloadVideoAd最多预加载${kk}个广告单元,${n}将不被预加载`):(Pk.push(n),xk(n)):console.warn(`preloadVideoAd已预加载过${n}这个广告单元,请勿重复调用`)}else console.warn("preloadVideoAd参数应为数组")},preloadAd:e=>{if(Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t],{unitId:i,type:a}=n;-1!==["banner","custom","videoPatch","video"].indexOf(a)?-1===Rk.indexOf(i)?(Rk.push(i),Ok[i]=n,Uk(n)):console.warn(`preloadAd已预加载过${i}这个广告单元,请勿重复调用`):console.warn("wx.preloadAd参数有误，请检查type类型")}else console.warn("preloadAd参数应为数组")},getLogManager:fU,getRealtimeLogManager:e=>{e=e||{};var t="develop"===le.envVersion||"trial"===le.envVersion;return e.isClientReport=!t,qU(e)},getExptInfo:W4,getExptInfoSync:function(e){var t={},{exptInfo:r,jsDataType:n}=N4();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,function(e,t,r){Reporter.reportKeyValue({key:"ExptHit",value:[O4,M4,e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}(r.expt_group_id,r,n))}))),t},reportEvent:function(e,t={}){setTimeout((()=>function(e,t){var r=2,{accountInfo:n,envVersion:i}=le||{},a=n?n.appId:"";"release"===i?r=1:"trial"===i&&(r=3);var o=ya(!0),s=D4.sessionid||D4.sessionId,l=D4.usedstate||D4.usedState;CU(1005,JSON.stringify({appid:a,app_state:r,appversion:WG().miniProgram.version,enter_scene:D4.scene,scene_note:D4.scene_note||D4.sceneNote,prescene:D4.prescene,prescene_note:D4.prescene_note||D4.presceneNote,sessionid:s,add_state:l,page_path:B4()||D4.path,page_query:JSON.stringify(D4.query||{}),referpagepath:D4.referpagepath,isentrance:x4||x4===s?0:1,event_time:Date.now(),sdk_version:ea,devicemodel:o.model,devicebrand:o.brand,os_name:o.platform,os_version:o.system,language_version:o.language,networktype:Ki(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:le.screenWidth,screen_height:le.screenHeight,open_source:le.host&&le.host.appId?2:1,host_appid:le.host?le.host.appId:""}),"immediate")}(e,t))),Reporter.reportIDKey({key:"reportEventInvoke"})},getChannelsLiveInfo:sI,getChannelsLiveState:cS,getChannelsLiveReservation:uS,getChannelsLiveNoticeInfo:dS,openChannelsLive:function(e={}){7!==le.appType?oI(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){ro({title:`即将打开${t?`“${t}”`:""}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var i=2;"release"===le.envVersion&&(i=1),"trial"===le.envVersion&&(i=3),it("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:le.accountInfo.appId,version_type:i}}),{beforeAll({errMsg:t}){hS(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else hS(e.finderUserName,1,0,"cancel",5,e.feedId),dt("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){hS(e.finderUserName,1,0,t,4,e.feedId),dt("openChannelsLive",e,t,r)},complete:null})):function(e={}){it("openChannelsLive",e)}(e)},openChannelsActivity:function(e={}){7!==le.appType?oI(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){ro({title:`即将打开${t?`“${t}”`:""}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?it("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){hS(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(hS(e.finderUserName,3,0,"cancel"),dt("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){hS(e.finderUserName,3,0,t,4,e.feedId),dt("openChannelsActivity",e,t,r)},complete:null})):function(e={}){it("openChannelsActivity",e)}(e)},openChannelsUserProfile:function(e={}){7!==le.appType?oI(Object.assign({},e,{jsapi:"openChannelsUserProfile",success({nickname:t}){ro({title:`即将打开${t?`“${t}”`:""}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?it("openChannelsUserProfile",e,{beforeAll({errMsg:t}){hS(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(hS(e.finderUserName,2,0,"cancel",5),dt("openChannelsUserProfile",e,"cancel"))}})},fail({errMsg:t,errCode:r}){hS(e.finderUserName,2,0,t,4),dt("openChannelsUserProfile",e,t,r)},complete:null})):function(e={}){it("openChannelsUserProfile",e)}(e)},openChannelsLiveCollection:function(e={}){var t=2;"release"===le.envVersion&&(t=1),"trial"===le.envVersion&&(t=3),it("openChannelsLiveCollection",Object.assign({},e,{entryScene:15,requestScene:4===le.appType?5:4,pageTitle:4===le.appType?"小游戏直播":void 0,byPass:JSON.stringify({appId:le.accountInfo.appId,appType:le.appType,versionType:t,openIds:e.openIds})}),{beforeAll({errMsg:e}){hS("",5,/^\w+:ok/.test(e)?1:0,e,4)}})},reserveChannelsLive:function(e={}){it("reserveChannelsLive",Object.assign({},e,{wxData:{appid:le.accountInfo.appId,apptype:le.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){hS("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})},openPublicServicePayment:function(e={}){var{jumpToken:t,destUrl:r,openId:n}=e;if(t&&r&&n){var i=`?appid=${le.accountInfo.appId}`;i+=`&jump_token=${encodeURIComponent(t)}`,i+=`&dest_url=${encodeURIComponent(r)}`,i+=`&openid=${encodeURIComponent(n)}`,function(e={},t){__sclEngine__.initScl((r=>{var n=r.mainRoot.append("toast",e);"function"==typeof t&&t(n)}))}({loading:!0,title:"政务民生缴费"},(t=>{setTimeout((()=>{t.close(),it("private_openUrl",Object.assign({},e,{url:"https://mp.weixin.qq.com/intp/jump"+i,isNativeStyle:!0}),{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPublicServicePayment")}})}),1e3)}))}else dt("openPublicServicePayment",e,"missing arguments")},cloud:e.getCloudAPI(),serviceMarket:e.getServiceMarketAPI(),version:"undefined"==typeof __libVersionInfo__?{version:"9.9.9"}:JSON.parse(JSON.stringify(__libVersionInfo__)),chooseShareGroup:KU,enterContact:(e={})=>{le.onReady((()=>{if(2!==le.appType&&7!==le.appType){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,ii("appServiceEnterContact",e,[we.currentWebviewId],(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact")),0===t.errMsg.indexOf("enterContact:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},getGroupEnterInfo:(e={})=>{var{success:t,fail:r,failWithMsg:n}=ht(e,GR);jR?sr("getGroupToolbarInfo")?Kr({sdkApiName:GR,apiName:"webapi_swapopengid",reqData:{chatroom_name:jR},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},preloadWebview:bG,publishWeChatState:QR,lanDebug:D3,createVKSession:DJ,createVKReference:RJ,getDebuggerMessager:()=>l.g.__debuggerMessager__?l.g.__debuggerMessager__:{},chooseLicensePlate:(e={})=>{it("chooseLicensePlate",e,{beforeSuccess:e=>{e.plate&&(e.plateNumber=e.plate,delete e.plate)}})}};for(var J5 of C4)if("function"==typeof q5[J5]){var X5=q5[J5];q5[J5]=G(X5)}function K5(e){Z5.__defineGetter__(e,(function(){sc.indexOf(e)>=0&&lc({name:e});var t=q5[e],r=this;if("function"==typeof t)return St((function(n){if(Rr(e,""))return r8(e,Wr(e,t)).apply(r,arguments);if("Sync"===e.slice(-4))throw new Wt(e+":fail rejected due to no permission currently");n&&(n.fail||n.complete)&&setTimeout((()=>{dt(e,n,"rejected due to no permission currently")}),0)}),` at wx.${e}`);if(!Rr(e,""))throw new Wt(e+":fail rejected due to no permission currently");return t}))}le.onReady((()=>{7===le.appType&&(Z5.openWCPayLQTDetail=A4,Z5.openWCPayLQTSave=b4,Z5.openWCPayLQTDepositPlan=w4,Z5.openWCPayLQTDepositPlanAdd=E4,Object.defineProperty(Z5,"reportIDKey",{get:()=>function(e={}){it("reportIDKey",e)},configurable:!0}))})),["login","getUserInfo","getUserProfile","getShareInfo","getWeRunData"].forEach((e=>{var t=q5[e];q5[e]=G((function(e={}){((e,t)=>{var r=t.timeout;if("number"==typeof r){var n=!1,i=setTimeout((function(){var e={errMsg:"request timeout"};n=!0,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}),r),a=["success","fail","complete"].reduce(((e,r)=>(e[r]=e=>{n||(clearTimeout(i),"function"==typeof t[r]&&t[r](e))},e)),{});e(Object.assign({},t,a))}else e(t)})(t,e)}))})),function(e,t=0){Fc("",e,!0,.05,t),Fc("",e,!0,1,t,!0),Fc("cloud.",e.cloud,!0,.05,t),function(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{Uc||(Uc=!0,Nc("WebGLRenderingContext.compressedTexImage2D",Dc(),{},1,Date.now(),Ki(),0,void 0)),i.call(t,...e)}}return t}}return r}}}(e)}(q5),f("INVOKE_METHOD",(({name:e,args:t})=>{q5[e](t,!0)})),f("WEBVIEW_ERROR_MSG",(({msg:e})=>{Reporter.triggerErrorMessage(e)}));var e8=fU(),t8=new WeakMap;function r8(e,t){var r=Pr(e,"log");if(!r)return t;var n=0,i="request"===e;return function(...a){oV("API",`wx.${e}`);var o=i?` with seq ${n}`:"";n++;var s=a[0];if(1===r&&s&&"object"==typeof s){if(["success","fail"].forEach((function(t){var r=s[t];"function"==typeof r&&(s[t]=function(n){oV("API",`wx.${e} ${t} callback`),"function"==typeof r&&r(...arguments),e8&&e8.logApiInvoke&&e8.log(`wx.${e} ${t} callback`+(n&&n.errMsg?" with msg "+n.errMsg:" ")+o),sV()})})),"function"==typeof s.complete){var l=s.complete;s.complete=function(...t){oV("API",`wx.${e} complete callback`),l.apply(null,t),sV()}}}else 3===r&&"function"==typeof s&&(/^off/.test(e)&&t8.has(s)?a[0]=t8.get(s):a[0]=function(...t){oV("API",`wx.${e} callback`),s.apply(null,t),sV()},/^on/.test(e)&&t8.set(s,a[0]));e8&&e8.logApiInvoke&&e8.log(`wx.${e} api invoke${o}`);var c=t.apply(q5,a);return 2===r&&e8&&e8.logApiInvoke&&e8.log(`wx.${e} return`),sV(),c}}for(var n8 in q5)K5(n8);(e=>{var t={};I4.forEach((r=>{var n=r.name,i=r.permissionByte,a=e[n];t[n]=function(...t){return sr(i)?a.call(e,...t):dt(n,t[0],"no permission")}.bind(e),r.deprecate?e[n]=S4(n,t[n],e):delete e[n]})),(e=>{var t=__wxLibrary,r=t.onEnd||function(){};t.onEnd=function(){r&&r(),y("__wx__/private-api",(function(t,r){r.exports=e}))}})(t)})(Z5),function(e){m4||(m4=!0,e.__defineGetter__("getBaseMethods",(function(){if(_4)return y4})))}(Z5);var i8={wx:Z5,createPluginWX:SK,buildPluginPrivateApi:e=>{var t={};return Iq.forEach((r=>{var n=r.factory(e);t[r.name]=function(t){Sq(e,r.permissionBytes,(e=>{e?n(t):dt(r.name,t,"no permission")}))}})),t},createPluginConsole:TK,createPluginWXWebAssembly:xK,onAppRouteResized:Yo,showShareMenu:T5,setWxInterfaceDisabled:Dr,setWxInterfaceIsInvokeInTap:Mr,unsetWxInterfaceIsInvokeInTap:Lr,_setWxIsInvokeInTapForNavToMiniProgram:Ps,_createSelectorQuery:LO,_createIntersectionObserver:FO,_createMediaQueryObserver:GO,_getOpenerEventChannel:function(){var e=ym;return ym={},e},pluginInfos:PK,_virtualDOMTunnel:((e,t)=>({vdSync(t,r){e("vdSync",t,r)},vdSyncBatch(t,r){e("vdSyncBatch",t,r)},onVdSync(e){t("vdSync",e)},onVdSyncBatch(e){t("vdSyncBatch",e)}}))(h,f),traceBeginEvent:oV,traceEndEvent:sV,saveExitState:function(e,t,r){var n=le.global&&le.global.window&&le.global.window.restartStrategy,i=le.page&&le.page[e+".html"]&&le.page[e+".html"].window&&le.page[e+".html"].window.restartStrategy,a=String(i||n||"");if(a){var o={type:a,path:t,extraData:r?r.data:void 0,expireTimeStamp:(r?r.expireTimeStamp:0)||Date.now()+864e5};le.accountInfo.appId,ii("saveExitState",{appId:le.accountInfo.appId,data:o},[we.currentWebviewId],(e=>{}))}},loadExitState:function(e){ii("loadExitState",{appId:le.accountInfo.appId},[we.currentWebviewId],(t=>t&&t.expireTimeStamp>Date.now()?e(t.type,t.path,t.extraData):e()))},createRouter:Dm,setEnableDebug:HF,_apiData:DF,loadSubpackage:iM};RK(i8,u,q5),RK(i8,d,q5),RK(i8,p,q5);var a8=i8})(),t=c.default})();var r=t.wx;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.wx=r);var n=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var i=r(1),a=r(3),o=r(5),s=r(6),l=r(7),c=r(8),u=r(9),d=r(15),p=r(12),h=r(17),f=r(18),g=r(19),v=r(16),m=r(10),_=r(20),y=r(14),A=r(4),b=r(13),w=r(21);t.FreeTmpl=w,t.precompileTemplate=w.precompiler?w.precompiler.compile:null,t.precompiler=w.precompiler?w.precompiler:null,t.HtmlLLParser=w.htmlParser?w.htmlParser:null,t.LLParser=i,t.dataPath=l,t.dataUtils=o,t.Event=s,t.Element=u,t.TextNode=p,t.NativeNode=h,t.VirtualNode=f,t.ShadowRoot=g,t.Behavior=c,t.Component=d,t.Observer=m,t.DataGroup=v,t.ElementIterator=_,t.FakeDomElement=y,t.registerBehavior=c.create,t.registerElement=d.register,t.createElement=d.create,t.createTextNode=p.create,t.createVirtualNode=f.create,t.appendChild=u.appendChild,t.insertBefore=u.insertBefore,t.removeChild=u.removeChild,t.replaceChild=u.replaceChild,t.addListenerToElement=s.addListenerToElement,t.removeListenerFromElement=s.removeListenerFromElement,t.triggerEvent=s.triggerEvent,t.safeCallback=a.safeCallback,t.addGlobalErrorListener=a.addGlobalErrorListener,t.removeGlobalErrorListener=a.removeGlobalErrorListener,t.addGlobalWarningListener=a.addGlobalWarningListener,t.removeGlobalWarningListener=a.removeGlobalWarningListener,t.globalOptions=A,t.globalState=b,d._setDefaultTemplateEngine(w),(t.updateDefaultComponent=function(){delete d._list[""],d.register({is:"",options:{writeOnly:!0,allowInWriteOnly:!0,lazyRegistration:!1,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1}})})();var E=function(e){var t="";if(e instanceof n.Element&&(e.id&&(t+=' id="'+e.id+'"'),e.slot&&(t+=' slot="'+e.slot+'"'),e.__slotName&&(t+=' name="'+e.__slotName+'"'),e.classList&&(t+=' class="'+e.class+'"'),e.$$&&e.$$.getAttribute("style")&&(t+=' style="'+e.$$.getAttribute("style")+'"')),e instanceof n.VirtualNode)return t;if(e instanceof n.Component)return d.listPublicProperties(e).forEach((function(r){t+=" "+r+"="+JSON.stringify(e[r])})),t;for(var r=e.attributes,i=0;i<r.length;i++)t+=" "+r[i].name+'="'+r[i].value+'"';return t},C=t.dumpElementToString=function(e,t,r){var i=null;A.hasDOMBackend&&(i=window);var a=0,o="";for(a=r=r||0;a;a--)o+="  ";var s="";if(e instanceof n.Element)s+=o+"<"+(e.$$?e.$$.tagName.toLowerCase()+":":"")+e.is+E(e)+">",s+=e instanceof n.VirtualNode?" [Exp-Virtual]":e instanceof n.NativeNode?" [Exp-Native]":" [Exp-Component]",s+="\n"+C(t?e.__wxSlotChildren:e.childNodes,t,r+1);else if(e instanceof n.TextNode)s+=o+e.textContent+" [Exp-Text]\n";else if(i&&i.HTMLElement&&e instanceof i.HTMLElement)s+=o+"<"+e.tagName.toLowerCase()+E(e)+"> [DOM-Element]",s+="\n"+C(t&&e.__wxSlotChildren||e.childNodes,t,r+1);else if(i&&i.Text&&e instanceof i.Text)s+=o+e.textContent+" [DOM-Text]\n";else if(void 0!==e.length)for(a=0;a<e.length;a++)s+=C(e[a],t,r);else s=o+"[unknown node]\n";return s};t.dumpElement=function(e,t){console.log(C(e,t))}},function(e,t,r){var n=null,i=function(){},a=i.stats={all:0,copyIn:0,parse:0,constructOut:0},o=function(e){return n.llparser_create_descriptor(e,1)},s=function(e,t){var r=n.llparser_create_descriptor(e,0),i=!1;"^"===t[0]&&(i=!0);for(var a=i?1:0;a<t.length;a++){var o=t.charCodeAt(a);if("-"===t[a+1]){var s=t.charCodeAt(a+2);o<=s?(n.llparser_descriptor_add_range(r,o,s),a+=2):n.llparser_descriptor_add_char(r,o)}else n.llparser_descriptor_add_char(r,o)}return i&&n.llparser_descriptor_revert(r),r};i.create=function(e,t,a){n||(n=r(2));var l=new i;a=a||16384;var c=l._llp=n.llparser_create(a,128,128),u={},d={},p="";for(p in u.ALL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_all(u.ALL),u.NULL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_nil(u.NULL),e)u[p]=o(c);for(p in e)for(var h=e[p],f=u[p],g=0;g<h.length;g++){for(var v=h[g].id,m=h[g].states,_=[],y=0;y<m.length;y++){var A=m[y];u[A]||(u[A]=s(c,A)),_.push(u[A])}var b=0;"_raw"===v?b=1:"_jump"===v?b=65536:"_blank"===v&&(b=65537);var w=n.llparser_add_rule(c,b,f,_.length,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]);0===b&&(d[w]=t[v])}return n.llparser_prepare(c),l._inputPtr=n.llparser_get_input_buffer(c),l._resultPtr=n.llparser_get_result(c),l._stateIdMap=u,l._ruleCbMap=d,l._charCountLimit=a,l};i.prototype.parse=function(e,t){var r=Date.now();(function(e,t,r,n){for(var i=n>e.length?e.length:n,a=0;a<i;a++)t[r+a]=e.charCodeAt(a);t[r+i]=0})(t,new Uint16Array(n.memory.buffer),this._inputPtr>>1,this._charCountLimit),a.copyIn=a.copyIn+Date.now()-r,r=Date.now();var i=n.llparser_parse(this._llp,this._stateIdMap[e]);if(a.parse=a.parse+Date.now()-r,r=Date.now(),i)throw new Error("Parsing failed at character position "+(i-1)+' near "'+t.slice(i-20,i)+'"');var o=function(e,t,r,n,i){for(var a=[],o={i:0,r:0,n:!1,cc:-1,c:[]},s=o,l=i.pos,c=!1,u=!1,d=!1;;){var p=t[l],h=t[l+1];if(h<0?(u=!0,h=-h-1):u=!1,p>=0){d=!0;var f=r.slice(p,h);s.c.push(f),c=u}else{if(-1===p&&0===h)break;d=!1;var g=-p,v=h,m={i:s.c.length-(c?1:0),r:g,n:u,cc:v,c:[]};if(c){var _=s.c.length-1,y=s.c[_];m.c.push(y),s.c[_]=m}else s.c.push(m);a.push(s),s=m,c=!1}if(!d||!c)for(;s.c.length===s.cc;){c=s.n;var A=a.pop();if(A.c[s.i]=n[s.r].call(e,s.c),s=A,c)break}l+=2}return o.c[0]}(this,new Int32Array(n.memory.buffer),t,this._ruleCbMap,{pos:this._resultPtr>>2});return a.constructOut=a.constructOut+Date.now()-r,o},i.prototype.destroy=function(){n.llparser_destroy(this._llp)},e.exports=i},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e,t,r){return m.llparser_create(e,t,r)}function i(e){m.llparser_destroy(e)}function a(e,t){return m.llparser_create_descriptor(e,t)}function o(e){m.llparser_descriptor_set_all(e)}function s(e){m.llparser_descriptor_set_nil(e)}function l(e,t){m.llparser_descriptor_add_char(e,t)}function c(e,t,r){m.llparser_descriptor_add_range(e,t,r)}function u(e){m.llparser_descriptor_revert(e)}function d(e,t,r,n,i,a,o,s,l,c,u,d){return m.llparser_add_rule(e,t,r,n,i,a,o,s,l,c,u,d)}function p(e){m.llparser_prepare(e)}function h(e,t){return m.llparser_parse(e,t)}function f(e){return m.llparser_get_input_buffer(e)}function g(e){return m.llparser_get_result(e)}function v(){m.wasm_main()}r.r(t),r.d(t,"llparser_create",(function(){return n})),r.d(t,"llparser_destroy",(function(){return i})),r.d(t,"llparser_create_descriptor",(function(){return a})),r.d(t,"llparser_descriptor_set_all",(function(){return o})),r.d(t,"llparser_descriptor_set_nil",(function(){return s})),r.d(t,"llparser_descriptor_add_char",(function(){return l})),r.d(t,"llparser_descriptor_add_range",(function(){return c})),r.d(t,"llparser_descriptor_revert",(function(){return u})),r.d(t,"llparser_add_rule",(function(){return d})),r.d(t,"llparser_prepare",(function(){return p})),r.d(t,"llparser_parse",(function(){return h})),r.d(t,"llparser_get_input_buffer",(function(){return f})),r.d(t,"llparser_get_result",(function(){return g})),r.d(t,"wasm_main",(function(){return v})),r.d(t,"memory",(function(){return _}));var m=r(1),_=m.memory;m.__wbindgen_start()},function(e,t,r){"use strict";r.r(t),r.d(t,"memory",(function(){return a})),r.d(t,"rust_calloc",(function(){return o})),r.d(t,"rust_free",(function(){return s})),r.d(t,"llparser_create",(function(){return l})),r.d(t,"llparser_destroy",(function(){return c})),r.d(t,"llparser_create_descriptor",(function(){return u})),r.d(t,"llparser_descriptor_set_all",(function(){return d})),r.d(t,"llparser_descriptor_set_nil",(function(){return p})),r.d(t,"llparser_descriptor_add_char",(function(){return h})),r.d(t,"llparser_descriptor_add_range",(function(){return f})),r.d(t,"llparser_descriptor_revert",(function(){return g})),r.d(t,"llparser_add_rule",(function(){return v})),r.d(t,"llparser_prepare",(function(){return m})),r.d(t,"llparser_parse",(function(){return _})),r.d(t,"llparser_get_input_buffer",(function(){return y})),r.d(t,"llparser_get_result",(function(){return A})),r.d(t,"wasm_main",(function(){return b})),r.d(t,"__wbindgen_start",(function(){return w}));var n=new ArrayBuffer(1114112),i=function(e,t,r){function n(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0;r=(t=e+-8|0)+(e=-8&(i=f[e+-4>>2]))|0;e:{t:{r:{n:{i:if(!(1&i)){if(!(3&i))break n;if(e=(i=f[t>>2])+e|0,(0|(t=t-i|0))==f[262246]){if(3!=(3&f[r+4>>2]))break i;return f[262244]=e,f[r+4>>2]=-2&f[r+4>>2],f[t+4>>2]=1|e,void(f[e+t>>2]=e)}i>>>0>=256?s(t):(0|(n=f[t+8>>2]))==(0|(a=f[t+12>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[n+12>>2]=a,f[a+8>>2]=n)}if(2&(i=f[r+4>>2]))f[r+4>>2]=-2&i,f[t+4>>2]=1|e,f[e+t>>2]=e;else{i:{if(f[262247]!=(0|r)){if((0|r)!=f[262246])break i;return f[262246]=t,e=f[262244]+e|0,f[262244]=e,f[t+4>>2]=1|e,void(f[e+t>>2]=e)}if(f[262247]=t,e=f[262245]+e|0,f[262245]=e,f[t+4>>2]=1|e,(0|t)==f[262246]&&(f[262244]=0,f[262246]=0),(r=f[262254])>>>0>=e>>>0)break n;if(!(e=f[262247]))break n;a:if(!((i=f[262245])>>>0<41))for(t=1049e3;;){if((n=f[t>>2])+f[t+4>>2]>>>0>e>>>0&&n>>>0<=e>>>0)break a;if(!(t=f[t+8>>2]))break}if(n=4095,e=f[262252]){for(t=0;t=t+1|0,e=f[e+8>>2];);n=t>>>0>4095?t:4095}if(f[262256]=n,i>>>0<=r>>>0)break n;return void(f[262254]=-1)}if(e=(n=-8&i)+e|0,n>>>0>=256?s(r):(0|(n=f[r+12>>2]))==(0|(r=f[r+8>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[r+12>>2]=n,f[n+8>>2]=r),f[t+4>>2]=1|e,f[e+t>>2]=e,f[262246]==(0|t)){f[262244]=e;break n}}if(e>>>0<256)break r;if(o(t,e),e=f[262256]+-1|0,f[262256]=e,!e){if(e=f[262252])break t;e=4095;break e}}return}return e=1048584+((r=e>>>3)<<3)|0,i=f[262144],r=1<<(31&r),n=f[e+8>>2],i&r||(f[262144]=r|i,n=e),r=n,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,void(f[t+8>>2]=r)}for(t=0;t=t+1|0,e=f[e+8>>2];);e=t>>>0>4095?t:4095}f[262256]=e}function i(e,t,r,n,a){var o;if(A=o=A-48|0,f[o+44>>2]=e,f[o+40>>2]=t,f[o+36>>2]=r,f[o+32>>2]=n,f[o+28>>2]=a,f[f[o+40>>2]>>2]!=f[o+36>>2])for(f[f[o+40>>2]>>2]=f[o+36>>2],f[o+24>>2]=f[f[o+40>>2]+136>>2],f[o+20>>2]=1&(0!=f[o+28>>2]^-1^-1);f[o+24>>2];){for(f[o+20>>2]||(f[o+28>>2]=f[o+24>>2]),f[o+16>>2]=f[f[f[o+24>>2]>>2]+8>>2],1==f[f[o+16>>2]+4>>2]&&i(f[o+44>>2],f[o+16>>2],f[o+36>>2],f[o+32>>2],f[o+28>>2]),f[o+12>>2]=0;!(f[o+12>>2]>=128);)g[f[o+12>>2]+(f[o+16>>2]+8|0)|0]&&(m[f[o+28>>2]>>2]>=m[f[o+32>>2]+(f[o+12>>2]<<2)>>2]&&f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]||(f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]=f[f[o+28>>2]>>2])),f[o+12>>2]=f[o+12>>2]+1;f[o+24>>2]=f[f[o+24>>2]+4>>2]}A=o+48|0}function a(e,t,r,n){var i;for(f[44+(i=A-48|0)>>2]=e,f[i+40>>2]=t,f[i+36>>2]=r,f[i+32>>2]=n,f[i+28>>2]=f[f[i+40>>2]+136>>2];f[i+28>>2];){if(f[i+24>>2]=f[f[f[i+28>>2]>>2]+8>>2],f[i+24>>2]==f[i+40>>2])for(f[i+20>>2]=f[f[f[i+28>>2]>>2]+12>>2],f[i+16>>2]=0;!(f[i+16>>2]>=128);){e:{if(1!=f[f[i+20>>2]+4>>2]){if(!g[f[i+16>>2]+(f[i+20>>2]+8|0)|0])break e}else if(f[i+12>>2]=f[f[i+44>>2]+32>>2]+((f[i+20>>2]-f[f[i+44>>2]+24>>2]|0)/140<<9),!f[f[i+12>>2]+(f[i+16>>2]<<2)>>2])break e;m[f[i+28>>2]>>2]>=m[f[i+32>>2]+(f[i+16>>2]<<2)>>2]&&f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]||(f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]=f[f[i+28>>2]>>2])}f[i+16>>2]=f[i+16>>2]+1}f[i+28>>2]=f[f[i+28>>2]+4>>2]}}function o(e,t){var r=0,n=0,i=0,a=0;f[e+16>>2]=0,f[e+20>>2]=0,i=e,r=0,(n=t>>>8)&&(r=31,t>>>0>16777215||(r=62+((t>>>(6-(n=y(n))&31)&1)-(n<<1)|0)|0)),f[i+28>>2]=r,i=1048848+(r<<2)|0;e:{t:{r:{n:{if((a=f[262145])&(n=1<<(31&r))){if(n=f[i>>2],(-8&f[n+4>>2])!=(0|t))break n;r=n;break r}f[262145]=n|a,f[i>>2]=e,f[e+24>>2]=i;break e}for(i=t<<(31==(0|r)?0:25-(r>>>1)&31);;){if(!(r=f[(a=16+((i>>>29&4)+n|0)|0)>>2]))break t;if(i<<=1,n=r,(-8&f[r+4>>2])==(0|t))break}}return t=f[r+8>>2],f[t+12>>2]=e,f[r+8>>2]=e,f[e+24>>2]=0,f[e+12>>2]=r,void(f[e+8>>2]=t)}f[a>>2]=e,f[e+24>>2]=n}f[e+12>>2]=e,f[e+8>>2]=e}function s(e){var t,r=0,n=0,i=0,a=0,o=0,s=0;t=f[e+24>>2];e:{t:{if((0|e)==(0|(r=f[e+12>>2]))){if(i=f[(r=e+20|0)>>2],n=f[(i?20:16)+e>>2])break t;r=0;break e}n=f[e+8>>2],f[n+12>>2]=r,f[r+8>>2]=n;break e}for(i=i?r:e+16|0;a=i,(n=f[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=f[r+16>>2]),n;);f[a>>2]=0}e:if(t){n=1048848+(f[e+28>>2]<<2)|0;t:{if((0|e)==f[n>>2]){if(f[n>>2]=r,r)break t;return o=1048580,s=f[262145]&d(f[e+28>>2]),void(f[o>>2]=s)}if(f[(f[t+16>>2]==(0|e)?16:20)+t>>2]=r,!r)break e}f[r+24>>2]=t,(n=f[e+16>>2])&&(f[r+16>>2]=n,f[n+24>>2]=r),(e=f[e+20>>2])&&(f[r+20>>2]=e,f[e+24>>2]=r)}}function l(e,t){return 0|function(e){var t;return!(t=function(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0,h=0,g=0,v=0,_=0;e:{t:{r:{if(e>>>0>=245){if(e>>>0>=4294901709)break t;if(i=-8&(e=e+11|0),!(h=f[262145]))break r;r=0-i|0,c=0,(e>>>=8)&&(c=31,i>>>0>16777215||(c=62+((i>>>(6-(e=y(e))&31)&1)-(e<<1)|0)|0));n:{i:{if(e=f[1048848+(c<<2)>>2]){for(a=i<<(31==(0|c)?0:25-(c>>>1)&31);;){if(!((l=-8&f[e+4>>2])>>>0<i>>>0||(l=l-i|0)>>>0>=r>>>0||(n=e,r=l))){r=0;break i}if(l=f[e+20>>2],e=f[16+((a>>>29&4)+e|0)>>2],t=l&&(0|l)!=(0|e)?l:t,a<<=1,!e)break}if(t){e=t;break i}if(n)break n}if(n=0,!(e=(0-(e=2<<(31&c))|e)&h))break r;if(!(e=f[1048848+(u(e&0-e)<<2)>>2]))break r}for(;n=(l=(a=(t=-8&f[e+4>>2])-i|0)>>>0<r>>>0&t>>>0>=i>>>0)?e:n,r=l?a:r,e=(t=f[e+16>>2])||f[e+20>>2];);if(!n)break r}if(r>>>0>=(e=f[262244])-i>>>0&&e>>>0>=i>>>0)break r;s(n);n:if(r>>>0>=16){if(f[n+4>>2]=3|i,f[4+(t=n+i|0)>>2]=1|r,f[t+r>>2]=r,r>>>0>=256){o(t,r);break n}e=1048584+((r>>>=3)<<3)|0,a=f[262144],r=1<<(31&r),c=f[e+8>>2],a&r||(f[262144]=r|a,c=e),r=c,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=r}else e=r+i|0,f[n+4>>2]=3|e,f[4+(e=e+n|0)>>2]=1|f[e+4>>2];return n+8|0}n:{i:{if(!(3&(e=(t=f[262144])>>>(n=31&(r=(i=e>>>0<11?16:e+11&-8)>>>3))))){if(i>>>0<=m[262244])break r;if(e)break i;if(!(e=f[262145]))break r;for(t=f[1048848+(u(e&0-e)<<2)>>2],r=(-8&f[t+4>>2])-i|0,a=t;;){if(!(e=f[t+16>>2])&&!(e=f[t+20>>2]))break n;r=(t=(n=(-8&f[e+4>>2])-i|0)>>>0<r>>>0)?n:r,a=t?e:a,t=e}}r=(e=f[1048592+(l=(n=r+(1&(-1^e))|0)<<3)>>2])+8|0,(0|(a=f[e+8>>2]))==(0|(l=l+1048584|0))?(v=1048576,_=d(n)&t,f[v>>2]=_):(f[a+12>>2]=l,f[l+8>>2]=a),t=n<<3,f[e+4>>2]=3|t,f[4+(e=e+t|0)>>2]=1|f[e+4>>2];break t}return n=u(0-(e=(r=e<<n)&(0-(e=2<<n)|e))&e),e=f[1048592+(a=n<<3)>>2],(0|(r=f[e+8>>2]))==(0|(a=a+1048584|0))?(v=1048576,_=d(n)&t,f[v>>2]=_):(f[r+12>>2]=a,f[a+8>>2]=r),a=e+8|0,f[e+4>>2]=3|i,r=(t=n<<3)-i|0,f[4+(l=e+i|0)>>2]=1|r,f[e+t>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r,a}return s(a),r>>>0>=16?(f[a+4>>2]=3|i,f[4+(l=i+a|0)>>2]=1|r,f[r+l>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r):(e=r+i|0,f[a+4>>2]=3|e,f[4+(e=e+a|0)>>2]=1|f[e+4>>2]),a+8|0}r:{n:{i:{a:{if((t=f[262244])>>>0<i>>>0){if((e=f[262245])>>>0>i>>>0)break e;if(r=0,-1==(0|(t=p((e=i+65583|0)>>>16))))break t;if(!(n=t<<16))break t;if(e=(a=-65536&e)+f[262248]|0,f[262248]=e,t=f[262249],f[262249]=t>>>0>e>>>0?t:e,!(r=f[262247]))break a;for(e=1049e3;;){if((0|n)==((t=f[e>>2])+(l=f[e+4>>2])|0))break i;if(!(e=f[e+8>>2]))break}break n}return e=f[262246],(n=t-i|0)>>>0<=15?(f[262246]=0,f[262244]=0,f[e+4>>2]=3|t,i=4+(t=e+t|0)|0,r=1|f[t+4>>2]):(f[262244]=n,r=e+i|0,f[262246]=r,f[r+4>>2]=1|n,f[e+t>>2]=n,r=3|i,i=e+4|0),f[i>>2]=r,e+8|0}for((e=f[262255])>>>0<=n>>>0&&e||(f[262255]=n),e=0,f[262256]=4095,f[262251]=a,f[262250]=n,f[262253]=0;t=e+1048584|0,f[e+1048592>>2]=t,f[e+1048596>>2]=t,256!=(0|(e=e+8|0)););f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}if(!(f[e+12>>2]|n>>>0<=r>>>0|t>>>0>r>>>0)){f[e+4>>2]=a+l,t=(e=f[262247])+15&-8,f[262247]=t+-8,r=8+((n=a+f[262245]|0)+(e-t|0)|0)|0,f[262245]=r,f[t+-4>>2]=1|r,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}}e=f[262255],f[262255]=e>>>0<n>>>0?e:n,t=n+a|0,e=1049e3;n:{for(;;){if((0|t)!=f[e>>2]){if(e=f[e+8>>2])continue;break n}break}if(!f[e+12>>2]){f[e>>2]=n,f[e+4>>2]=a+f[e+4>>2],f[n+4>>2]=3|i,a=n+i|0,i=(t-n|0)-i|0;i:{a:{if((0|t)!=f[262247]){if(f[262246]==(0|t))break a;if(1==(3&(e=f[t+4>>2]))&&((r=-8&e)>>>0>=256?s(t):(0|(l=f[t+12>>2]))==(0|(c=f[t+8>>2]))?(v=1048576,_=f[262144]&d(e>>>3),f[v>>2]=_):(f[c+12>>2]=l,f[l+8>>2]=c),i=r+i|0,t=t+r|0),f[t+4>>2]=-2&f[t+4>>2],f[a+4>>2]=1|i,f[i+a>>2]=i,i>>>0>=256){o(a,i);break i}e=1048584+((t=i>>>3)<<3)|0,r=f[262144],t=1<<(31&t),c=f[e+8>>2],r&t||(f[262144]=t|r,c=e),r=c,f[e+8>>2]=a,f[r+12>>2]=a,f[a+12>>2]=e,f[a+8>>2]=r;break i}f[262247]=a,e=f[262245]+i|0,f[262245]=e,f[a+4>>2]=1|e;break i}f[262246]=a,e=f[262244]+i|0,f[262244]=e,f[a+4>>2]=1|e,f[e+a>>2]=e}return n+8|0}}for(e=1049e3;!((t=f[e>>2])>>>0<=r>>>0&&(l=t+f[e+4>>2]|0)>>>0>r>>>0);)e=f[e+8>>2];for(f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152,f[(t=(e=(l+-32&-8)-8|0)>>>0<r+16>>>0?r:e)+4>>2]=27,e=f[262250],c=f[262251],g=f[262253],f[(h=t+16|0)>>2]=f[262252],f[h+4>>2]=g,f[t+8>>2]=e,f[t+12>>2]=c,f[262251]=a,f[262250]=n,f[262252]=t+8,f[262253]=0,e=t+28|0;f[e>>2]=7,l>>>0>(e=e+4|0)>>>0;);(0|t)!=(0|r)&&(f[t+4>>2]=-2&f[t+4>>2],e=t-r|0,f[r+4>>2]=1|e,f[t>>2]=e,e>>>0>=256?o(r,e):(e=1048584+((t=e>>>3)<<3)|0,n=f[262144],t=1<<(31&t),c=f[e+8>>2],n&t||(f[262144]=t|n,c=e),t=c,f[e+8>>2]=r,f[t+12>>2]=r,f[r+12>>2]=e,f[r+8>>2]=t))}if(r=0,!((e=f[262245])>>>0<=i>>>0))break e}return r}return t=e-i|0,f[262245]=t,n=(e=f[262247])+i|0,f[262247]=n,f[n+4>>2]=1|t,f[e+4>>2]=3|i,e+8|0}(e))|!(3&g[t+-4|0])||function(e,t){if(t)for(;h[0|e]=0,e=e+1|0,t=t+-1|0;);}(t,e),t}(_(e|=0,t|=0))}function c(){}function u(e){return e?31-y(e+-1^e)|0:32}function d(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}function p(t){t|=0;var n=0|r.byteLength/65536,i=n+t|0;if(n<i&&i<65536){var a=new ArrayBuffer(_(i,65536)),o=new e.Int8Array(a);o.set(h),h=o,h=new e.Int8Array(a),new e.Int16Array(a),f=new e.Int32Array(a),g=new e.Uint8Array(a),v=new e.Uint16Array(a),m=new e.Uint32Array(a),new e.Float32Array(a),new e.Float64Array(a),r=a}return n}var h=new e.Int8Array(r),f=(new e.Int16Array(r),new e.Int32Array(r)),g=new e.Uint8Array(r),v=new e.Uint16Array(r),m=new e.Uint32Array(r),_=(new e.Float32Array(r),new e.Float64Array(r),e.Math.imul),y=(e.Math.fround,e.Math.abs,e.Math.clz32),A=(e.Math.min,e.Math.max,e.Math.floor,e.Math.ceil,e.Math.sqrt,e.NaN,e.Infinity,1048576);return{memory:Object.create(Object.prototype,{grow:{value:p},buffer:{get:function(){return r}}}),rust_calloc:l,rust_free:function(e){n(e|=0)},llparser_create:function(e,t,r){return 0|function(e,t,r){var n,i,a;return A=n=A-32|0,f[n+28>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,e=n,t=f[n+28>>2]?f[n+28>>2]:256,f[e+28>>2]=t,e=n,t=f[n+24>>2]?f[n+24>>2]:256,f[e+24>>2]=t,e=n,t=f[n+20>>2]?f[n+20>>2]:256,f[e+20>>2]=t,i=n,a=l(((((((_(f[n+24>>2],140)+52|0)+_(f[n+20>>2],44)|0)+(f[n+24>>2]<<9)|0)+(f[n+24>>2]<<9)|0)+_(f[n+20>>2],f[n+24>>2]<<3)|0)+(f[n+28>>2]<<1)|0)+(f[n+28>>2]<<3)|0,1),f[i+16>>2]=a,f[f[n+16>>2]+12>>2]=f[n+28>>2],f[f[n+16>>2]+16>>2]=f[n+24>>2],f[f[n+16>>2]+20>>2]=f[n+20>>2],f[f[n+16>>2]+4>>2]=0,f[f[n+16>>2]>>2]=0,f[f[n+16>>2]+8>>2]=0,f[n+12>>2]=f[n+16>>2]+52,f[f[n+16>>2]+24>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+24>>2],140),f[f[n+16>>2]+28>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+20>>2],44),f[f[n+16>>2]+32>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+36>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+40>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+_(f[n+20>>2],f[n+24>>2]<<3),f[f[n+16>>2]+44>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+28>>2]<<1),f[f[n+16>>2]+48>>2]=f[n+12>>2],A=n+32|0,f[n+16>>2]}(e|=0,t|=0,r|=0)},llparser_destroy:function(e){!function(e){var t;A=t=A-16|0,f[t+12>>2]=e,n(f[t+12>>2]),A=t+16|0}(e|=0)},llparser_create_descriptor:function(e,t){return 0|function(e,t){var r,n;return f[12+(r=A-16|0)>>2]=e,f[r+8>>2]=t,t=f[f[r+12>>2]+24>>2],n=f[r+12>>2],e=f[n+4>>2],f[n+4>>2]=e+1,f[r+4>>2]=t+_(e,140),f[f[r+4>>2]+4>>2]=f[r+8>>2]?1:0,f[r+4>>2]}(e|=0,t|=0)},llparser_descriptor_set_all:function(e){var t;e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-1,h[f[t+12>>2]+135|0]=1},llparser_descriptor_set_nil:function(e){var t;e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-2,h[f[t+12>>2]+8|0]=1},llparser_descriptor_add_char:function(e,t){!function(e,t){var r;f[12+(r=A-16|0)>>2]=e,f[r+8>>2]=t,h[f[r+8>>2]+(f[r+12>>2]+8|0)|0]=1}(e|=0,t|=0)},llparser_descriptor_add_range:function(e,t,r){!function(e,t,r){var n;for(f[12+(n=A-16|0)>>2]=e,f[n+8>>2]=t,f[n+4>>2]=r,f[n>>2]=f[n+8>>2];!(f[n>>2]>f[n+4>>2]);)h[f[n>>2]+(f[n+12>>2]+8|0)|0]=1,f[n>>2]=f[n>>2]+1}(e|=0,t|=0,r|=0)},llparser_descriptor_revert:function(e){!function(e){var t;for(f[12+(t=A-16|0)>>2]=e,f[t+8>>2]=1;!(f[t+8>>2]>=127);)h[f[t+8>>2]+(f[t+12>>2]+8|0)|0]=1&(0!=g[f[t+8>>2]+(f[t+12>>2]+8|0)|0]^-1),f[t+8>>2]=f[t+8>>2]+1}(e|=0)},llparser_add_rule:function(e,t,r,n,i,a,o,s,l,c,u,d){return 0|function(e,t,r,n,i,a,o,s,l,c,u,d){var p;return A=p=A+-64|0,f[p+60>>2]=e,f[p+56>>2]=t,f[p+52>>2]=r,f[p+48>>2]=n,f[p+44>>2]=i,f[p+40>>2]=a,f[p+36>>2]=o,f[p+32>>2]=s,f[p+28>>2]=l,f[p+24>>2]=c,f[p+20>>2]=u,f[p+16>>2]=d,t=f[f[p+60>>2]+28>>2],r=f[p+60>>2],e=f[r>>2],f[r>>2]=e+1,f[p+12>>2]=t+_(e,44),f[f[p+12>>2]>>2]=f[p+52>>2],f[f[p+12>>2]+4>>2]=f[p+48>>2],f[p+48>>2]>0&&(f[f[p+12>>2]+8>>2]=f[p+44>>2]),f[p+48>>2]>1&&(f[f[p+12>>2]+12>>2]=f[p+40>>2]),f[p+48>>2]>2&&(f[f[p+12>>2]+16>>2]=f[p+36>>2]),f[p+48>>2]>3&&(f[f[p+12>>2]+20>>2]=f[p+32>>2]),f[p+48>>2]>4&&(f[f[p+12>>2]+24>>2]=f[p+28>>2]),f[p+48>>2]>5&&(f[f[p+12>>2]+28>>2]=f[p+24>>2]),f[p+48>>2]>6&&(f[f[p+12>>2]+32>>2]=f[p+20>>2]),f[p+48>>2]>7&&(f[f[p+12>>2]+36>>2]=f[p+16>>2]),f[f[p+12>>2]+40>>2]=f[p+56>>2],f[p+48>>2]>0&&function(e,t,r){var n;f[28+(n=A-32|0)>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,f[n+16>>2]=(f[n+20>>2]-f[f[n+28>>2]+24>>2]|0)/140,1==f[f[n+20>>2]+4>>2]&&(t=f[f[n+28>>2]+40>>2],r=f[n+28>>2],e=f[r+8>>2],f[r+8>>2]=e+1,f[n+12>>2]=t+(e<<3),f[f[n+12>>2]>>2]=f[n+24>>2],f[f[n+12>>2]+4>>2]=f[f[n+20>>2]+136>>2],f[f[n+20>>2]+136>>2]=f[n+12>>2])}(f[p+60>>2],f[p+12>>2],f[p+52>>2]),A=p- -64|0,f[p+12>>2]}(e|=0,t|=0,r|=0,n|=0,i|=0,a|=0,o|=0,s|=0,l|=0,c|=0,u|=0,d|=0)},llparser_prepare:function(e){!function(e){var t;for(A=t=A-32|0,f[t+28>>2]=e,f[t+24>>2]=0;!(f[t+24>>2]>=f[f[t+28>>2]+4>>2]);)f[t+20>>2]=f[f[t+28>>2]+24>>2]+_(f[t+24>>2],140),1==f[f[t+20>>2]+4>>2]&&i(f[t+28>>2],f[t+20>>2],f[t+20>>2],f[f[t+28>>2]+32>>2]+(f[t+24>>2]<<9)|0,0),f[t+24>>2]=f[t+24>>2]+1;for(f[t+16>>2]=0;!(f[t+16>>2]>=f[f[t+28>>2]+4>>2]);)f[t+12>>2]=f[f[t+28>>2]+24>>2]+_(f[t+16>>2],140),1==f[f[t+12>>2]+4>>2]&&(f[f[t+12>>2]>>2]=0,a(f[t+28>>2],f[t+12>>2],f[t+12>>2],f[f[t+28>>2]+36>>2]+(f[t+16>>2]<<9)|0)),f[t+16>>2]=f[t+16>>2]+1;A=t+32|0}(e|=0)},llparser_parse:function(e,t){return 0|function(e,t){var r,n,i;return A=r=A-32|0,f[r+24>>2]=e,f[r+20>>2]=t,f[r+16>>2]=0,f[r+12>>2]=0,n=r,i=function e(t,r,n,i,a,o,s){var l,c=0,u=0;A=l=A-96|0,f[l+88>>2]=t,f[l+84>>2]=r,f[l+80>>2]=n,f[l+76>>2]=i,f[l+72>>2]=a,f[l+68>>2]=o,f[l+64>>2]=s,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1);e:if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0))f[l+92>>2]=-1;else if(1==f[f[l+84>>2]+4>>2])if(f[l+56>>2]=f[f[l+76>>2]>>2],f[l+52>>2]=f[f[l+72>>2]>>2],f[l+48>>2]=0,f[l+44>>2]=0,f[l+40>>2]=f[f[l+88>>2]+32>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+36>>2]=0,!f[f[l+40>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+40>>2]+508>>2]?f[f[l+40>>2]>>2]&&(f[l+36>>2]=f[f[l+40>>2]>>2]):f[l+36>>2]=f[f[l+40>>2]+508>>2]:f[l+36>>2]=f[f[l+40>>2]+(f[l+60>>2]<<2)>>2],f[l+36>>2]){for(f[l+68>>2]||f[f[l+36>>2]+40>>2]||(f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2),f[l+32>>2]=0;f[l+32>>2]<f[f[l+36>>2]+4>>2];){if(f[l+28>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+36>>2]+40>>2]|f[f[l+36>>2]+40>>2]==(f[l+32>>2]+65536|0)||(f[l+28>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+36>>2]+8|0)+(f[l+32>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+28>>2],f[l+64>>2]),f[c+24>>2]=u,f[l+24>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+36>>2]+40>>2]!=(f[l+32>>2]+65536|0)||(f[l+44>>2]=f[l+24>>2]),f[l+32>>2]=f[l+32>>2]+1}for(f[l+68>>2]||(f[f[l+36>>2]+40>>2]?1==f[f[l+36>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+36>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+36>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1));;){if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0)){f[l+92>>2]=-1;break e}if(f[l+20>>2]=f[f[l+88>>2]+36>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+16>>2]=0,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1),!f[f[l+20>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+20>>2]+508>>2]||(f[l+16>>2]=f[f[l+20>>2]+508>>2]):f[l+16>>2]=f[f[l+20>>2]+(f[l+60>>2]<<2)>>2],!f[l+16>>2])break;for(f[l+68>>2]||(f[f[l+16>>2]+40>>2]?65536!=f[f[l+16>>2]+40>>2]&&(f[f[l+72>>2]>>2]=f[l+52>>2]):(f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]=(0-f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]|0)-1,f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2)),f[l+12>>2]=1;f[l+12>>2]<f[f[l+16>>2]+4>>2];){if(f[l+8>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+16>>2]+40>>2]|f[f[l+16>>2]+40>>2]==(f[l+12>>2]+65536|0)||(f[l+8>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+16>>2]+8|0)+(f[l+12>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+8>>2],f[l+64>>2]),f[c+4>>2]=u,f[l+4>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+16>>2]+40>>2]!=(f[l+12>>2]+65536|0)||(f[l+44>>2]=f[l+4>>2]),f[l+12>>2]=f[l+12>>2]+1}f[l+68>>2]||(f[f[l+16>>2]+40>>2]?1==f[f[l+16>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+16>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+16>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1))}f[l+92>>2]=f[l+44>>2]}else f[l+92>>2]=-1;else{if(f[l+60>>2]&&(-1==f[f[l+84>>2]+4>>2]&&(t=f[l+76>>2],f[t>>2]=f[t>>2]+1),!f[f[l+84>>2]+4>>2])){if(!g[f[l+60>>2]+(f[l+84>>2]+8|0)|0]){f[l+92>>2]=-1;break e}t=f[l+76>>2],f[t>>2]=f[t>>2]+1}f[l+68>>2]||(r=f[f[l+76>>2]>>2],n=f[f[l+84>>2]+4>>2],i=f[f[l+88>>2]+48>>2],a=f[l+72>>2],t=f[a>>2],f[a>>2]=t+1,f[i+(t<<2)>>2]=r-(-2==(0|n)?0:1),r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r),f[l+92>>2]=f[f[l+72>>2]>>2]-1}return A=l+96|0,f[l+92>>2]}(f[r+24>>2],f[r+20>>2],f[f[r+24>>2]+44>>2],r+12|0,r+16|0,0,f[f[r+24>>2]+12>>2]<<1),f[n+8>>2]=i,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=-1,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=0,v[f[f[r+24>>2]+44>>2]+(f[r+12>>2]<<1)>>1]|f[r+8>>2]<0?f[r+28>>2]=f[r+12>>2]+1:f[r+28>>2]=0,A=r+32|0,f[r+28>>2]}(e|=0,t|=0)},llparser_get_input_buffer:function(e){var t;return e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+44>>2]},llparser_get_result:function(e){var t;return e|=0,f[12+(t=A-16|0)>>2]=e,f[f[t+12>>2]+48>>2]},wasm_main:c,__wbindgen_start:c}}({Math:Math,Int8Array:Int8Array,Uint8Array:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},0,n),a=i.memory,o=i.rust_calloc,s=i.rust_free,l=i.llparser_create,c=i.llparser_destroy,u=i.llparser_create_descriptor,d=i.llparser_descriptor_set_all,p=i.llparser_descriptor_set_nil,h=i.llparser_descriptor_add_char,f=i.llparser_descriptor_add_range,g=i.llparser_descriptor_revert,v=i.llparser_add_rule,m=i.llparser_prepare,_=i.llparser_parse,y=i.llparser_get_input_buffer,A=i.llparser_get_result,b=i.wasm_main,w=i.__wbindgen_start}])},function(e,t,r){var n=r(4),i=function(e){this.empty=!0,this._type=e,this._arr=[],this._index=0};i.create=function(e){return new i(e)},i.prototype.add=function(e){var t=this._index++;return this._arr.push({id:t,func:e}),this.empty=!1,t},i.prototype.remove=function(e){var t=this._arr,r=0;if("function"==typeof e)for(r=0;r<t.length;r++){var n=t[r].func;if(n===e)return t.splice(r,1),this.empty=!t.length,n}else for(r=0;r<t.length;r++)if(t[r].id===e){var i=t[r].func;return t.splice(r,1),this.empty=!t.length,i}return null},i.prototype.call=function(e,t,r){for(var n=this._arr,i=!1,a=0;a<n.length;a++){!1===o(this._type,n[a].func,e,t,r)&&(i=!0)}if(i)return!1};var a=function(e,t){if(!t.type||!1!==s.call(null,[e,t])){if(n.throwGlobalError)throw e;console.error(e.stack)}},o=i.safeCallback=function(e,t,r,n,i){try{return t.apply(r,n)}catch(s){var o="[Exparser] [Error] [Component] "+(e||"Error Listener")+" Error @ ";r&&r.is&&(o+=r.is),o+="#"+(t.name||"(anonymous)"),i&&i.triggerLifeTime("error",[s]),a(s,{message:o,type:e,element:r,method:t,args:n})}},s=i.create();i.addGlobalErrorListener=function(e){return s.add(e)},i.removeGlobalErrorListener=function(e){return s.remove(e)};var l=null;i.addGlobalWarningListener=function(e){return(l=i.create()).add(e)},i.removeGlobalWarningListener=function(e){if(l){var t=l.remove(e);return l.empty&&(l=null),t}return null},i.hasGlobalWarningListeners=function(){return!!l},i.triggerWarning=function(e){var t="[Exparser] [Warning] [Component] "+e;l.call(null,[t],null)},e.exports=i},function(e,t){var r={lazyRegistration:!0,publicProperties:!1,availability:null,domain:"",writeOnly:!1,allowInWriteOnly:!1,classPrefix:null,addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,separateInnerData:!0,innerDataExclude:null,listenerChangeLifeTimes:!1,randomizeTagName:!1,virtualHost:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,documentBackend:"undefined"!=typeof window&&"undefined"!=typeof document?"dom":"none",hasDOMBackend:!("undefined"==typeof window||"undefined"==typeof document)};e.exports=r},function(e,t){var r=Object.prototype.hasOwnProperty,n=function(e,t){var i=typeof e;if("object"===i&&null!==e){var a=t?t.get(e):void 0;if(void 0!==a)return a;if(e instanceof Array){a=[],t&&t.set(e,a);for(var o=0;o<e.length;o++)a[o]=n(e[o],t)}else for(var s in a={},t&&t.set(e,a),e)r.call(e,s)&&(a[s]=n(e[s],t));return a}if("symbol"!==i)return e};t.deepCopy=function(e,t){var r=t&&"undefined"!=typeof WeakMap?new WeakMap:null;return n(e,r)}},function(e,t,r){var n=r(3),i=(Object.prototype.hasOwnProperty,function(){});i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}});var a=null;i._setElementSystem=function(e){a=e,i._setElementSystem=null};var o=null;i._setComponent=function(e){o=e,i._setComponent=null};var s=Date.now();i.setInitTimeStamp=function(e){return s=void 0===e?Date.now():e},i.getInitTimeStamp=function(e){return s},i.create=function(e,t,r){var n=(r=r||{}).originalEvent,a=r.extraFields||{},o=Date.now()-s,l=new i;for(var c in l.currentTarget=null,l.type=e,l.timeStamp=o,l.mark=null,l.detail=t,l.bubbles=!!r.bubbles,l.composed=!!r.composed,l.__originalEvent=n,l.__hasCapture=!!r.capturePhase,l.__stopped=!1,l.__dispatched=!1,a)l[c]=a[c];return l},i.prototype.preventDefault=function(){this.__originalEvent&&this.__originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.__stopped=!0},i.prototype.isStopped=function(){return!!this.__stopped},i.prototype.markMutated=function(){this.__mutatedMarked=!0},i.prototype.mutatedMarked=function(){return!!this.__mutatedMarked};var l=function(e,t,r,n){for(var i=e,o=e instanceof a?e.collectMarks():{},s=[],l=[],c=e;c;){if(i!==c&&(s.push(e),e=c,l.push(o),o=e instanceof a?e.collectMarks():{}),i=c.parentNode,!1===n(c,e,o))return;if(c.__wxHost){if(r)break;e=s.pop()||c.__wxHost,o=l.pop()||(e instanceof a?e.collectMarks():{}),i=c=c.__wxHost}else{var u=!0;c instanceof a&&(u=!1),c=u||r?c.parentNode:c.__wxSlotParent}}};i.dispatchEvent=function(e,t){if(!t.__dispatched){t.__dispatched=!0,e.__wxElement&&e.__wxHost!==e.__wxElement&&((e=e.__wxElement).shadowRoot instanceof a&&(e=e.shadowRoot)),t.target=e instanceof a?e.__methodCaller:e;var r=function(e,r,n){if(!(r&&r.length&&t.mutatedMarked())){var i=t.currentTarget=n instanceof a?n.__methodCaller:n,s=e.call(i,[t],n instanceof o?n:void 0);r&&r.length&&t.markMutated(),!1===s&&(t.__originalEvent&&t.__originalEvent.preventDefault(),t.__stopped=!0)}},n=t.type,i=!t.composed;if(t.__hasCapture){var s=[];l(e,0,i,(function(e,t,r){return e.__wxCaptureEvents&&e.__wxCaptureEvents[n]&&s.push([e,t,r]),!0}));for(var c=s.length-1;c>=0;c--){var u=s[c],d=u[0],p=u[1];t.target=p instanceof a?p.__methodCaller:p,t.mark=u[2];var h=d.__wxCaptureMutated&&d.__wxCaptureMutated[n];if(r(d.__wxCaptureEvents[n],h,d),t.__stopped)break}}if(t.target=e instanceof a?e.__methodCaller:e,!t.__stopped){var f=!t.bubbles;l(e,0,i,(function(e,i,o){t.target=i instanceof a?i.__methodCaller:i,t.mark=o;var s=e.__wxMutated&&e.__wxMutated[n];return e.__wxEvents&&e.__wxEvents[n]&&r(e.__wxEvents[n],s,e),!f&&!t.__stopped}))}}},i.triggerEvent=function(e,t,r,n){var a=i.create(t,r,n);i.dispatchEvent(e,a)},i.addListenerToElement=function(e,t,r,i){var a=i&&i.mutated;if(a){var s=r;r=function(e){if(!e.mutatedMarked()){var t=Array.prototype.slice.call(arguments);return s.apply(this,t)}}}var l=void 0;return i&&(i.useCapture||i.capture)?(e.__wxCaptureEvents||(e.__wxCaptureEvents=Object.create(null)),e.__wxCaptureEvents[t]||(e.__wxCaptureEvents[t]=n.create("Event Listener")),l=e.__wxCaptureEvents[t].add(r),a&&(e.__wxCaptureMutated||(e.__wxCaptureMutated=Object.create(null)),e.__wxCaptureMutated[t]||(e.__wxCaptureMutated[t]=[]),e.__wxCaptureMutated[t].push(l))):(e.__wxEvents||(e.__wxEvents=Object.create(null)),e.__wxEvents[t]||(e.__wxEvents[t]=n.create("Event Listener")),l=e.__wxEvents[t].add(r),a&&(e.__wxMutated||(e.__wxMutated=Object.create(null)),e.__wxMutated[t]||(e.__wxMutated[t]=[]),e.__wxMutated[t].push(l))),e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!0,t,r,i]),l},i.removeListenerFromElement=function(e,t,r,n){var i=null;if(n&&(n.useCapture||n.capture))e.__wxCaptureEvents&&e.__wxCaptureEvents[t]&&(i=e.__wxCaptureEvents[t].remove(r)),e.__wxCaptureMutated&&e.__wxCaptureMutated[t]&&-1!==(a=e.__wxCaptureMutated[t].indexOf(r))&&e.__wxCaptureMutated[t].splice(a,1);else if(e.__wxEvents&&e.__wxEvents[t]&&(i=e.__wxEvents[t].remove(r)),e.__wxMutated&&e.__wxMutated[t]){var a;-1!==(a=e.__wxMutated[t].indexOf(r))&&e.__wxMutated[t].splice(a,1)}i&&e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!1,t,i,n])},e.exports=i},function(e,t,r){var n=r(1),i=" \n\r\t\f",a=null;t.parseMultiPaths=function(e){return a||(a=n.create({MULTIPLE_PATHS:[{id:"arrayConcat",states:["MULTIPLE_PATHS",",","SINGLE_PATH"]},{id:"array",states:["SINGLE_PATH"]}],SINGLE_PATH:[{id:"arrayConcat",states:["SINGLE_PATH",".","VAR_NAME"]},{id:"arrayConcat",states:["SINGLE_PATH","[","INT","]"]},{id:"array",states:["VAR_NAME"]},{id:"_jump",states:["SINGLE_PATH",i]}],VAR_NAME:[{id:"_blank",states:[i,"VAR_NAME"]},{id:"_jump",states:["VAR_NAME",i]},{id:"_raw",states:["*","*"]},{id:"_raw",states:["_a-zA-Z$","VAR_NAME_AFTER"]}],VAR_NAME_AFTER:[{id:"_raw",states:["_a-zA-Z0-9$","VAR_NAME_AFTER"]},{id:"_raw",states:["NULL"]}],INT:[{id:"_blank",states:[i,"INT"]},{id:"_jump",states:["INT",i]},{id:"toNumber",states:["0-9","INT_AFTER"]}],INT_AFTER:[{id:"_raw",states:["0-9","INT_AFTER"]},{id:"_raw",states:["NULL"]}]},{arrayConcat:function(e){return e[0].push(e[2]),e[0]},array:function(e){return e},toNumber:function(e){return parseInt(e[0]+e[1],10)}})),a.parse("MULTIPLE_PATHS",e)},t.parseSinglePath=function(e){for(var t=e.length,r=[],n="",i=0,a=!1,o=!1,s=0;s<t;s++){var l=e[s];if("\\"===l)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1]||"\\"===e[s+1])?(n+=e[s+1],s++):n+="\\";else if("."===l)n&&(r.push(n),n="");else if("["===l){if(n&&(r.push(n),n=""),0===r.length)throw new Error("The path string should not start with []: "+e);o=!0,a=!1}else if("]"===l){if(!a)throw new Error("There should be digits inside [] in the path string: "+e);o=!1,r.push(i),i=0}else if(o){if(l<"0"||l>"9")throw new Error("Only digits (0-9) can be put inside [] in the path string: "+e);a=!0,i=10*i+l.charCodeAt(0)-48}else n+=l}if(n&&r.push(n),0===t)throw new Error("The path string should not be empty");return r}},function(e,t,r){var n=r(3),i=r(4),a=r(7),o=["created","ready","cacheAttached","attached","moved","detached","saved","restored","error","listenerChanged","performanceData"],s=[String,Number,Boolean,Object,Array,null],l=function(){},c=a.parseMultiPaths,u=function(){};u.matchTypeWithValue=function(e,t){if(e===String){if("string"!=typeof t)return!1}else if(e===Number){if(!Number.isFinite(t))return!1}else if(e===Boolean){if("boolean"!=typeof t)return!1}else if(e===Object){if(null===t||t.constructor!==Object)return!1}else if(e===Array){if(null===t||t.constructor!==Array)return!1}else if(void 0===t)return!1;return!0};var d=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t},p=function(e){var t={};for(var r in e)t[r]=e[r];return t},h=function(e,t){for(var r in t)hasOwnProperty.call(e,r)?(n.hasGlobalWarningListeners()&&"_"===r.charAt(0)&&n.triggerWarning('data field "'+r+'" from different behaviors is overriding or merging.'),"object"!=typeof e[r]||"object"!=typeof t[r]||null===t[r]||t[r]instanceof Array?e[r]=t[r]:(e[r]instanceof Array?e[r]=d(e[r]):e[r]=p(e[r]),h(e[r],t[r]))):e[r]=t[r]};u.create=function(e){var t=new u;return t.is=e.is||"",t.using=e.using||{},t.generics=e.generics||{},t.placeholder=e.placeholder||{},t.template=e.template,t.externalClasses=e.externalClasses||[],t.data="object"==typeof e.data?{}:null,t.properties=Object.create(null),t.methods=Object.create(null),t.listeners=Object.create(null),t.relations=Object.create(null),t.ancestors=[],t.initiator=e.initiator,t.lifetimes=Object.create(null),t.pageLifetimes=Object.create(null),t.observers=[],t.options={publicProperties:!!(e.options&&void 0!==e.options.publicProperties?e.options.publicProperties:i.publicProperties)},t.definitionFilter=e.definitionFilter,t._unprepared=e,(e.options&&void 0!==e.options.lazyRegistration?e.options.lazyRegistration:i.lazyRegistration)||u.prepare(t),e.is&&(u._list[e.is]=t),t},u.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.ancestors,i="",a=0;for(a=0;a<(t.behaviors||[]).length;a++){var d=t.behaviors[a],p=d;for(i in"string"==typeof p&&(p=u._list[d],n.hasGlobalWarningListeners()&&(p instanceof u||n.triggerWarning('behavior "'+d+'" is not found (when preparing behavior "'+e.is+'").'))),p._unprepared&&u.prepare(p),"object"==typeof p.data&&(null===e.data?e.data=p.data:h(e.data,p.data)),p.generics){var f=p.generics[i];"object"!=typeof f&&(f={}),e.generics[i]={default:f.default}}for(i in p.properties)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.properties[i]=p.properties[i];for(i in p.relations)e.relations[i]=p.relations[i];for(i in p.methods)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.methods[i]=p.methods[i];for(var g=0;g<p.ancestors.length;g++)r.indexOf(p.ancestors[g])<0&&r.push(p.ancestors[g])}for(i in"object"==typeof t.data&&(null===e.data?e.data=t.data:h(e.data,t.data)),t.properties){n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").');var v=t.properties[i];s.indexOf(v)>=0?v={type:v}:s.indexOf(v.type)<0&&v.optionalTypes&&v.optionalTypes.length>0&&(v.type=v.optionalTypes[0]),n.hasGlobalWarningListeners()&&s.indexOf(v.type)<0&&n.triggerWarning('the type of property "'+i+'" is illegal (when preparing behavior "'+e.is+'").'),void 0===v.value&&(v.type===String?v.value="":v.type===Number?v.value=0:v.type===Boolean?v.value=!1:v.type===Array?v.value=[]:v.value=null),e.properties[i]={type:v.type,optionalTypes:v.optionalTypes,value:v.value,filter:v.filter,observer:v.observer,public:!!(void 0===v.public?e.options.publicProperties:v.public),availability:v.availability,observeAssignments:!!v.observeAssignments}}if(t.lifetimes&&"object"==typeof t.lifetimes)for(i in t.lifetimes)e.lifetimes[i]=t.lifetimes[i];for(a=0;a<o.length;a++)void 0===e.lifetimes[o[a]]&&(e.lifetimes[o[a]]=t[o[a]]);for(i in t.listeners)e.listeners[i]=t.listeners[i];var m=t.observers;if(m instanceof Array)for(a=0;a<m.length;a++){var _=m[a];e.observers.push({paths:c(_.fields||"**"),observer:_.observer})}else for(i in m)e.observers.push({paths:c(i),observer:m[i]});if(t.pageLifetimes&&"object"==typeof t.pageLifetimes)for(i in t.pageLifetimes)e.pageLifetimes[i]=t.pageLifetimes[i];for(i in t.relations){var y=t.relations[i];e.relations[i]={target:y.target||i,type:y.type,linked:y.linked||l,linkChanged:y.linkChanged||l,unlinked:y.unlinked||l,linkFailed:y.linkFailed||l}}for(i in t.methods)"function"==typeof t.methods[i]&&(n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing behavior "'+e.is+'").'),e.methods[i]=t.methods[i]);r.push(e)}},u._list=Object.create(null),u.prototype.hasBehavior=function(e){this._unprepared&&u.prepare(this);for(var t=0;t<this.ancestors.length;t++)if(e instanceof u){if(this.ancestors[t]===e)return!0}else if(this.ancestors[t]===u._list[e])return!0;return!1},u.prototype._getAllListeners=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var n=this.ancestors[r];for(var i in n.listeners)Object.prototype.hasOwnProperty.call(e,i)?e[i].push(n.listeners[i]):e[i]=[n.listeners[i]]}return e},u.prototype._addObserversToDataProxy=function(e){for(var t=this.ancestors,r=0;r<t.length;r++)for(var n=this.ancestors[r].observers,i=0;i<n.length;i++){var a=n[i];e.addObserver(a.observer,a.paths)}},u.prototype._getAllLifeTimeFuncs=function(){var e={},t=this.ancestors;o.forEach((function(t){e[t]=n.create("Lifetime Method")}));for(var r=0;r<t.length;r++){var i=t[r];for(var a in i.lifetimes)i.lifetimes[a]&&(e[a]||(e[a]=n.create("Lifetime Method")),e[a].add(i.lifetimes[a]))}return e},u.prototype._getAllPageLifeTimeFuncs=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var i=t[r];for(var a in i.pageLifetimes)i.pageLifetimes[a]&&(e[a]||(e[a]=n.create("Page Lifetime Method")),e[a].add(i.pageLifetimes[a]))}return e},u.callDefinitionFilter=function(e){var t=e.definitionFilter,r=[];return e.behaviors instanceof Array&&e.behaviors.forEach((function(t){(t="string"==typeof t?u._list[t]:t)&&t.definitionFilter&&(r.push(t.definitionFilter),t.definitionFilter.call(null,e))})),"function"==typeof t?function(e){t(e,r)}:null},e.exports=u},function(e,t,r){var n=r(3),i=r(6),a=r(10),o=r(11),s=r(12),l=r(14),c=r(4),u=r(13),d=function(e){p(this,e||null)};d.prototype=Object.create(Object.prototype,{constructor:{value:d,writable:!0,configurable:!0},id:{get:function(){return this.__id},set:function(e){var t=String(e);if(this.__id!==t){if(this.__id=t,this.ownerShadowRoot){var r=this.ownerShadowRoot.__wxHost;r.__idCacheDirty=!0,this.__domElement&&r.__componentOptions.writeIdToDOM&&(this.__domElement.id=t)}c.writeExtraInfoToAttr&&this.__domElement&&this.__domElement.setAttribute("exparser:info-attr-id",t),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"id"})}},configurable:!0},slot:{get:function(){return this.__slot},set:function(e){if(e=String(e),this.__slot!==e){if(this.__inheritSlots)return void(n.hasGlobalWarningListeners()&&n.triggerWarning('slots-inherited nodes do not support "slot" attribute.'));this.__slot=e,b(this),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"slot"})}},configurable:!0},attributes:{get:function(){var e=[];if(!this.__attributes)return e;for(var t in this.__attributes)e.push({name:t,value:this.__attributes[t]});return e},set:function(){},configurable:!0},class:{get:function(){return this.classList.getClassNames()},set:function(e){this.classList&&this.classList.setClassNames(e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"class"})},configurable:!0},style:{get:function(){return this.__domElement?this.__domElement.style:null},set:function(e){return P.call(this,e)},configurable:!0}}),i._setElementSystem(d),o._setElementSystem(d);var p=d.initialize=function(e,t,r){e.__id="",e.__slot="",e.__virtual=!1,e.__inheritSlots=!1,e.__attributes=null,e.__marks=null,e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=r,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=t,e.$$=t,t&&(t.__wxElement=e)};d._clone=function(e,t,r,n){if(e.__id=t.__id,e.__slot=t.__slot,e.__virtual=t.__virtual,e.__inheritSlots=t.__inheritSlots,e.__marks=t.__marks?{}:null,t.__marks)for(var i in t.__marks)e.__marks[i]=t.__marks[i];for(var a in e.__attributes=Object.create(null),t.__attributes)e.__attributes[a]=t.__attributes[a];e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=n,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=r,e.$$=r,r&&(r.__wxElement=e)};var h=function(e){if(!e.parentNode||e.parentNode.__attached){var t=function(e){if(e instanceof d){e.__attached=!0,e.__lifeTimeFuncs&&e.__lifeTimeFuncs.attached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("attached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"attached"}),e.shadowRoot instanceof d&&t(e.shadowRoot);for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n])}};t(e)}},f=function(e){if(e.__attached){var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__attached=!1,e.__lifeTimeFuncs&&e.__lifeTimeFuncs.detached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("detached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"detached"})}};t(e)}},g=function(e){if(!e.__attached)return h(e);var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__lifeTimeFuncs&&e.__lifeTimeFuncs.moved.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("moved")}};t(e)},v=function(e,t,r){if(e.__childObservers&&!e.__childObservers.empty||e.__subtreeObserversCount){var n,i=[r];n="add"===t?{type:"childList",target:e,addedNodes:i}:"remove"===t?{type:"childList",target:e,removedNodes:i}:{type:"childList",target:e,addedNodes:i,removedNodes:i},a._callObservers(e,"__childObservers",n)}},m=function(e,t){if(e instanceof d&&(!t.__wxHost.__idCacheDirty||!t.__slotCacheDirty)){var r=function(e){e.__id&&(t.__wxHost.__idCacheDirty=!0),void 0!==e.__slotName&&(t.__slotCacheDirty=!0);for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof d&&r(a)}};r(e)}};d._updateIdMap=function(e){var t=e.shadowRoot;if(e.__idCacheDirty){e.__idCacheDirty=!1;var r=e.__idCache=Object.create(null),n=function(e){e.__id&&(r[e.__id]||(r[e.__id]=e));for(var t=e.childNodes,i=0;i<t.length;i++)t[i]instanceof d&&n(t[i])};n(t)}};var _=function(e){if(e.__hostAssociated&&e.__slotCacheDirty){e.__slotCacheDirty=!1;var t,r=e.__wxHost,i=Object.create(null);t=void 0!==r.__singleSlot?{"":r.__singleSlot}:r.__slots;var a=function(e){void 0!==e.__slotName&&(i[e.__slotName]?n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+e.__slotName+'" duplication is found under a single shadow root. The first one was accepted.'):i[e.__slotName]=e);for(var t=e.childNodes,r=0;r<t.length;r++)t[r]instanceof d&&a(t[r])};a(e),void 0!==r.__singleSlot?r.__singleSlot!==i[""]&&(i[""]&&(i[""].__wxSlotChildren=r.childNodes),y(r,i,t,!0),r.__singleSlot&&(r.__singleSlot.__wxSlotChildren=[]),r.__singleSlot=i[""]||null):(y(r,i,t,!1),r.__slots=i)}},y=function(e,t,r,n){var i=e.childNodes,a=0;if(n){var o=t[""];if(o)for(;a<i.length;a++)w(o,i[a],null,!1,!1,!1,-1);else if(o=r[""])for(;a<i.length;a++)w(o,null,i[a],!0,!1,!1,a)}else{var s=function(e){for(var n=0;n<e.length;n++){var i=e[n],a=i.__slot||"",o=t[a];o?w(o,i,null,!1,!0,!0):(o=r[a])&&w(o,null,i,!0,!0,!0),i.__inheritSlots&&s(i.childNodes)}};s(i)}},A=function(e,t,r,n){for(var i=function(e,t,n){var a=e.childNodes,o=0;for(t&&(o=a.indexOf(t)+(n?0:1));o<a.length;o++){var s=a[o];if(s.__slot===r)return s;if(s.__inheritSlots){var l=i(s,null,!1);if(l)return l}}return null};t!==e;t=t.parentNode){var a=i(t.parentNode,t,n);if(a)return a;n=!1}return null},b=function(e){for(var t=e.parentNode;t&&t.__inheritSlots;)t=t.parentNode;if(t&&void 0===t.__singleSlot){var r=e.__slot||"",i=t.__slots[r];if(i){var a=A(t,e,r,!1);w(i,e,a,!1,!0,!0)}else n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+r+'" is not found.'),(i=e.__wxSlotParent)&&w(i,null,e,!0,!0,!0)}},w=function(e,t,r,n,i,a,o){if(n&&(r.__wxSlotParent=null),i&&(o=e.__wxSlotChildren.indexOf(r)),t){var s=t.__wxSlotParent;if(t.__wxSlotParent=e,s&&a){var l=s.__wxSlotChildren.indexOf(t);s.__wxSlotChildren.splice(l,1),s===e&&l<o&&o--}}var u=!1;(t&&t.__backendExtracted||r&&r.__backendExtracted)&&(u=!0),u||function(e,t,r,n,i){var a=e;if(a instanceof d){for(;a.__virtual;){var o=a.__wxSlotParent;if(!o){a=null;break}if(t&&!r){var s=o.__wxSlotChildren.indexOf(a);r=o.__wxSlotChildren[s+1]}a=o}a instanceof d&&(a=a.__domElement)}if(a){var l=n,c=null,u=null;if(t)if(t.__virtual){var p=document.createDocumentFragment(),h=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?h(r):p.appendChild(r.__domElement)}};h(t),c=p}else c=t.__domElement;if(r)if(r.__virtual){var f=e,g=0;if(n){var v=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?v(r):a.removeChild(r.__domElement)}};v(r),l=!1,g=i+1}else f=r.__wxSlotParent,g=r===t?i:f.__wxSlotChildren.indexOf(r);if(t){var m=function(e,t){for(;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];if(!r.__virtual)return r;var n=m(r,0);if(n)return n}};r=null;for(var _=f;!(r=m(_,g))&&_.__virtual;_=_.__wxSlotParent)g=_.__wxSlotParent.__wxSlotChildren.indexOf(_)+1;r&&(u=r.__domElement)}}else u=r.__domElement;l?c?a.replaceChild(c,u):a.removeChild(u):c&&(u?a.insertBefore(c,u):a.appendChild(c))}else if(t&&t.__wxSlotParent){var y=function(e){if(e.__virtual)for(var t=0;t<e.__wxSlotChildren.length;t++)y(e.__wxSlotChildren[t]);else{var r=e.__domElement;r&&r.parentNode&&r.parentNode.removeChild(r)}};y(t)}}(e,t,r,n,o),c.writeExtraInfoToAttr&&(n&&r instanceof d&&r.__domElement&&r.__domElement.removeAttribute("exparser:info-in-slot-of"),t instanceof d&&t.__domElement&&(void 0!==e.__slotName&&e.ownerShadowRoot?t.__domElement.setAttribute("exparser:info-in-slot-of",e.ownerShadowRoot.__wxHost.__componentInstanceId):t.__domElement.removeAttribute("exparser:info-in-slot-of"))),i&&(-1===o&&(o=e.__wxSlotChildren.length),t?e.__wxSlotChildren.splice(o,n?1:0,t):e.__wxSlotChildren.splice(o,n?1:0))},E=function(e,t){for(var r=e.childNodes,n=0;n<r.length;n++){var i=r[n];t(e,i),i.__inheritSlots&&E(i,t)}},C=d.insertChildToElement=function(e,t,r,i){if(void 0!==e.__slotName)return!1;var o=r>=0?e.childNodes[r]:null;i&&t===o&&(i=!1);var s=null,l=e,c=e;if(t){s=t.parentNode,t.parentNode=e;var u=e.__subtreeObserversCount;if(s){var d=s.childNodes.indexOf(t);s.childNodes.splice(d,1),s===e&&d<r&&r--,u-=s.__subtreeObserversCount}u&&a._updateSubtreeCaches(t,u)}for(var p=e;p&&p.__inheritSlots;)p=p.parentNode;for(var y=!p||!p.__slots,b=!y||e.__inheritSlots,C=s;C&&C.__inheritSlots;)C=C.parentNode;var I=!C||!C.__slots,S=!I||s&&s.__inheritSlots;if(y)void 0!==e.__singleSlot&&(l=c=e.__singleSlot,n.hasGlobalWarningListeners()&&(l||n.triggerWarning("slot is not found."))),l?w(l,t,o,i,b,S,r):t.__wxSlotParent&&w(t.__wxSlotParent,null,t,!0,S,!1),t&&!I&&t.__inheritSlots&&E(t,(function(e,t){w(e,t,null,!1,!0,!0,-1)}));else{var T="";if(t&&(T=t.__slot||"",l=p.__slots[T]||null,n.hasGlobalWarningListeners()&&(l||n.triggerWarning('slot "'+T+'" is not found.'))),o&&(c=p.__slots[o.__slot||""]||null),o&&c&&i&&w(c,null,o,i,!0,!1),t)if(l){var x=o?A(p,o,T,!i):A(p,e,T,!1);w(l,t,x,!1,!0,S)}else t.__wxSlotParent&&w(t.__wxSlotParent,null,t,!0,S,!1);o&&i&&o.__inheritSlots&&E(o,(function(e,t){w(e,t,null,!1,!0,!0,-1)})),t&&t.__inheritSlots&&E(t,(function(t,r){var a=r.__slot||"",s=p.__slots[a]||null;if(s){var l=o?A(p,o,a,!i):A(p,e,a,!1);w(s,r,l,!1,!0,!0)}else n.hasGlobalWarningListeners()&&n.triggerWarning('slot "'+a+'" is not found.'),r.__wxSlotParent&&w(r.__wxSlotParent,null,r,!0,!0,!1)}))}return i&&(e.__subtreeObserversCount&&a._updateSubtreeCaches(o,-e.__subtreeObserversCount),o.parentNode=null),-1===r&&(r=e.childNodes.length),t?e.childNodes.splice(r,i?1:0,t):e.childNodes.splice(r,i?1:0),e.ownerShadowRoot&&(i&&m(o,e.ownerShadowRoot),t&&m(t,e.ownerShadowRoot),_(e.ownerShadowRoot)),i&&(f(o),v(e,"remove",o)),t&&(s?g(t):h(t),s===e?v(e,"move",t):(s&&v(s,"remove",t),v(e,"add",t))),!0},I=function(e,t,r,n){if(t&&e.ownerShadowRoot!==t.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");var i=n?r:t,a=-1;return r&&(a=e.childNodes.indexOf(r))<0?null:C(e,t,a,n)?i:null};d._attachShadowRoot=function(e){var t=e.__wxHost;t.__wxSlotChildren=[e],w(t,e,null,!1,!1,0),e.__hostAssociated=!0,_(e)},d.appendChild=function(e,t){return I(e,t,null,!1)},d.insertBefore=function(e,t,r){return I(e,t,r,!1)},d.removeChild=function(e,t){return I(e,null,t,!0)},d.replaceChild=function(e,t,r){return I(e,t,r,!0)},d.prototype.appendChild=function(e){return I(this,e,null,!1)},d.prototype.insertBefore=function(e,t){return I(this,e,t,!1)},d.prototype.removeChild=function(e){return I(this,null,e,!0)},d.prototype.replaceChild=function(e,t){return I(this,e,t,!0)};var S=function(e){var t=!0,r=!0;if(e instanceof d?(e.__backendExtracted=!0,e.$$=e.__domElement=null,r=!1):e instanceof s&&(e.__backendExtracted=!0,e.$$=e.__domElement=null,t=!1,r=!1),t&&e.__wxSlotChildren)for(var n=0;n<e.__wxSlotChildren.length;n++){var i=e.__wxSlotChildren[n];S(i)}else if(r&&e.childNodes)for(var a=0;a<e.childNodes.length;a++)S(e.childNodes[a])};d.extractBackend=function(e){if(e.__backendExtracted)return null;var t=e.__domElement;return S(e),t};var T=function(e,t){if(!t){var r=l.toElement(e.__domElement);return e.$$=e.__domElement=r,r}if(e.__domElement.tagName.toUpperCase()===t.tagName)e.$$=e.__domElement=t;else{var n=l.toElement(e.__domElement);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null},x=function(e,t,r){var n=e instanceof d&&e.__virtual,i=t?t.childNodes[r]:void 0,a=!0,o=!0,l=null;if(e instanceof d)e.__backendExtracted=!1,n||(l=T(e,i)),o=!1;else if(e instanceof s)e.__backendExtracted=!1,l=function(e,t){if(!t){var r=document.createTextNode(e.textContent);return e.$$=e.__domElement=r,r}if(void 0!==t.textContent)t.textContent=e.textContent,e.$$=e.__domElement=t;else{var n=document.createTextNode(e.textContent);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null}(e,i),a=!1,o=!1;else{var c=document.createDocumentFragment();if(c.__wxSlotChildren=e.__wxSlotChildren,i&&i.childNodes)for(;i.childNodes.length;)c.appendChild(i.childNodes[0]);l=function(e,t){if(!t)return e;for(;e.childNodes&&t.childNodes&&t.childNodes.length;)e.appendChild(t.childNodes[0]);return t.parentNode.replaceChild(e,t),null}(e,i),e=c}l?(t.appendChild(l),i=l):i=t?t.childNodes[r]:void 0;var u=0;if(a&&e.__wxSlotChildren)for(var p=0;p<e.__wxSlotChildren.length;p++){var h=e.__wxSlotChildren[p];if(n)r=x(h,t,r);else if(h.asShadowRoot){for(var f=0;f<h.asShadowRoot.childNodes.length;f++)u=x(h.asShadowRoot.childNodes[f],i,u);e.shadowRoot=i,i.__wxHost=e,e.__wxSlotChildren[0]=i,i.__wxSlotParent=e,e.__singleSlot===h&&(e.__singleSlot=i)}else u=x(h,i,u)}else if(o&&e.childNodes)for(var g=0;g<e.childNodes.length;g++)u=x(e.childNodes[g],i,u);if(n)return r;for(;i.childNodes.length>u;)i.removeChild(i.childNodes[u]);return r+1};d.injectBackend=function(e,t){if(e.__backendExtracted){var r=document.createDocumentFragment();r.appendChild(t),x(e,r,0)}},d.prototype.triggerEvent=function(e,t,r){i.triggerEvent(this,e,t,r)},d.prototype.dispatchEvent=function(e){i.dispatchEvent(this,e)},d.prototype.addListener=function(e,t,r){i.addListenerToElement(this,e,t,r)},d.prototype.removeListener=function(e,t,r){i.removeListenerFromElement(this,e,t,r)},d.setMethodCaller=function(e,t){e.__methodCaller=t},d.getMethodCaller=function(e){return e.__methodCaller},d.prototype.getAttribute=function(e){if(!this.__attributes)return null;var t=this.__attributes[e];return void 0===t?null:t},d.prototype.setAttribute=function(e,t){this.__attributes||(this.__attributes=Object.create(null)),t=String(t),this.__attributes[e]=t,this.__domElement&&this.__domElement.setAttribute(e,t)},d.prototype.removeAttribute=function(e){this.__attributes&&(delete this.__attributes[e],this.__domElement&&this.__domElement.removeAttribute(e))},d.prototype.setMark=function(e,t){this.__marks||(this.__marks={}),this.__marks[e]=t},d.prototype.collectMarks=function(){for(var e={},t=this;t;t=t.parentNode)if(t.__marks)for(var r in t.__marks)hasOwnProperty.call(e,r)||(e[r]=t.__marks[r]);return e};var P=d.prototype.setNodeStyle=function(e,t){this.__styleSegments[t||0]=e;var r=this.__styleSegments.join(";");if(this.__domElement&&this.ownerShadowRoot&&this.ownerShadowRoot.__childrenPropsFilter){var n=this.ownerShadowRoot.__childrenPropsFilter.style;if("function"==typeof n)return void this.__domElement.setAttribute("style",n.call(this,r))}this.__domElement&&this.__domElement.setAttribute("style",r),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"style"})};d.replaceDocumentElement=function(e,t){e.__attached||(t.parentNode.replaceChild(e.__domElement,t),h(e))},d.pretendAttached=function(e){e.__attached||h(e)},d.pretendDetached=function(e){e.__attached&&f(e)},d.isAttached=function(e){return e.__attached},d.setSlotName=function(e,t){if(t=null==t?"":String(t),void 0===e.__slotName){if(0!==e.childNodes.length||0!==e.__wxSlotChildren.length)return;e.__wxSlotChildren=[]}e.__slotName=t,e.ownerShadowRoot&&(e.ownerShadowRoot.__slotCacheDirty=!0,_(e.ownerShadowRoot))},d.setInheritSlots=function(e){e.__singleSlot||e.__slots||e.__wxSlotChildren.length||(e.__wxSlotChildren=[],e.__inheritSlots=!0)},d.getInheritSlots=function(e){return e.__inheritSlots};var k=function(e,t){var r=e.match(/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!r)return null;var n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t||""}:null},D=d.parseSelector=function(e){for(var t=String(e||"").split(","),r=[],n=!1,i=0;i<t.length;i++){for(var a=t[i].split(/( |\t|>+)/g),o=[],s="",l=0;l<a.length;l++){var c=a[l];if(c&&" "!==c&&"\t"!==c)if(">"!==c[0]){var u=k(c,s);if(s="",!u)break;o.push(u)}else{if(""!==s)break;s=c,">>>"===c&&(n=!0)}}l===a.length&&o.length&&r.push(o)}return r.length?{crossShadow:n,union:r}:null},R=function(e,t,r,n,i){if(t===e)return!1;var a=r[n],o=!0;a.id&&a.id!==t.__id&&(o=!1);for(var s=a.classes,l=0;o&&l<s.length;l++)t.classList.contains(s[l])||(o=!1);if(!o&&">"===i)return!1;var c=t;if(o&&0===n){if(null===e)return!0;for(c=c.parentNode;c;c=c.parentNode)if(c===e)return!0;if(">>>"!==i)return!1;c=t,o=!1}var u=o?a.relation:i;do{c.parentNode?c=c.parentNode:">>>"===u?c=c.__wxHost:">>>"===i?(o=!1,c=c.__wxHost):c=null,c===e&&(c=null)}while(c&&!d.isSelectable(c));if(!c)return!1;if(o){if(R(e,c,r,n-1,u))return!0;if(">>>"!==i)return!1}return R(e,c,r,n,i)},O=function(e,t,r){if(!d.isSelectable(r))return!1;for(var n=e.union,i=0;i<n.length;i++){var a=n[i];if(R(t,r,a,a.length-1,">"))return!0}return!1},M=function(e,t,r,n,i){if(O(t,r,n)&&(e.push(n),i))return!0;if(n.shadowRoot&&t.crossShadow&&((n.ownerShadowRoot?n.ownerShadowRoot.__wxHost.__componentOptions.domain:c.domain)===n.__componentOptions.domain&&M(e,t,r,n.shadowRoot,i)&&i))return!0;for(var a=n.childNodes,o=0;o<a.length;o++)if(a[o]instanceof d&&M(e,t,r,a[o],i)&&i)return!0;return!1};d.prototype.querySelector=function(e){var t="object"==typeof e?e:D(e);if(!t)return null;var r=[];return M(r,t,this,this,!0),r[0]||null},d.prototype.querySelectorAll=function(e){var t="object"==typeof e?e:D(e),r=[];return t?(M(r,t,this,this,!1),r):[]},d.matchSelector=function(e,t){var r="object"==typeof e?e:D(e);return!!r&&O(r,null,t)},d.prototype.matchSelector=function(e,t){var r="object"==typeof e?e:D(e);return!!r&&O(r,this,t)},d.isSelectable=function(e){return!!e.classList},e.exports=d},function(e,t,r){var n=r(3),i=function(){};i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),i.create=function(e){var t=new i;return t._cb=e,t._noSubtreeCb=function(t){t.target===this&&e.call(this,t)},t._binded=[],t},i.prototype.observe=function(e,t){var r=0,i=(t=t||{}).subtree?this._cb:this._noSubtreeCb;t.properties&&(e.__propObservers||(e.__propObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__propObservers,id:e.__propObservers.add(i),subtree:t.subtree?e:null}),r++),t.childList&&(e.__childObservers||(e.__childObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__childObservers,id:e.__childObservers.add(i),subtree:t.subtree?e:null}),r++),t.characterData&&(e.__textObservers||(e.__textObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__textObservers,id:e.__textObservers.add(i),subtree:t.subtree?e:null}),r++),t.subtree&&a(e,r),t.attachStatus&&(e.__attachedObservers||(e.__attachedObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__attachedObservers,id:e.__attachedObservers.add(i),subtree:null}))},i.prototype.disconnect=function(){for(var e=this._binded,t=0;t<e.length;t++){var r=e[t];r.funcArr.remove(r.id),r.subtree&&a(r.subtree,-1)}this._binded=[]};var a=i._updateSubtreeCaches=function(e,t){e.__subtreeObserversCount+=t;var r=e.childNodes;if(r)for(var n=0;n<r.length;n++)a(r[n],t)};i._callObservers=function(e,t,r){do{e[t]&&e[t].call(e,[r]),e=e.parentNode}while(e&&e.__subtreeObserversCount)},i._callSingleObserver=function(e,t,r){e[t]&&e[t].call(e,[r])},e.exports=i},function(e,t){var r=function(){},n=/(~|\^+)?-?[_0-9a-z][-_0-9a-z]*/gi,i=null;r._setElementSystem=function(e){i=e,r._setElementSystem=null};var a=Object.prototype.hasOwnProperty;r.create=function(e,t){var n=new r;for(var i in n._prefix="",n._addOriginalClass=!1,n._alias=t,n._resolvedAlias={},t)n._resolvedAlias[i]="";return n._rawNames=[],n._elem=e,n._owner=null,n};var o=function(e){var t="",r=e._rawNames,n=e._prefix,i=e._owner?e._owner._resolvedAlias:null,o=e._addOriginalClass;n&&(n+="--");for(var s=0;s<r.length;s++){var l=r[s];if(s&&(t+=" "),i&&a.call(i,l))t+=i[l];else if("~"===l[0])t+=l.slice(1);else if("^"===l[0]){l=l.slice(1);for(var c=e._owner||null;"^"===l[0];)l=l.slice(1),c=c?c._owner:null;var u=c?c._prefix:"";u&&(u+="--"),t+=u+l}else o&&(t+=l+" "),t+=n+l}return t},s=function(e){var t=e._elem.__domElement;if(t){var r=o(e);r?t.setAttribute("class",r):t.removeAttribute("class")}},l=function(e){var t=e.classList;t instanceof r&&(t._alias&&c(t),s(t));for(var n=e.childNodes,a=0;a<n.length;a++)n[a]instanceof i&&l(n[a])},c=function(e){var t=e._owner;if(!t)return!1;var r=!1;for(var n in e._alias){var o=e._alias[n],s=[];if(o)for(var c=0;c<o.length;c++){var u=o[c];if(a.call(t._alias,u)){var d=t._resolvedAlias[u];s.push(d)}else{var p=e._prefix&&u?e._prefix+"--"+u:u;s.push(p)}}var h=s.join(" ");e._resolvedAlias[n]!==h&&(r=!0,e._resolvedAlias[n]=h)}r&&e._elem.shadowRoot instanceof i&&l(e._elem.shadowRoot)};r.prototype.toggle=function(e,t){var r=this._rawNames.indexOf(e);void 0===t&&(t=r<0),t?r<0&&(this._rawNames.push(e),s(this)):r>=0&&(this._rawNames.splice(r,1),s(this))},r.prototype.contains=function(e){for(var t=this._rawNames,r=0;r<t.length;r++){var n=t[r];if("~"===n[0]){if(n.slice(1)===e)return!0}else if("^"===n[0]){for(var i=1;"^"===n[i];)i++;if(n.slice(i)===e)return!0}else if(n===e)return!0}return!1},r.prototype._setOwnerOptions=function(e,t,r){var n=this._prefix;this._prefix=t,n!==t&&(this._addOriginalClass=r,this._owner=e,this._alias&&c(this),s(this))},r.prototype._setAlias=function(e,t){var r=this._owner,i=String(t).match(n);this._alias[e]=i;var o=[];if(i)for(var s=0;s<i.length;s++){var c=i[s];r&&a.call(r._alias,c)?o.push(r._resolvedAlias[c]):o.push(this._prefix?this._prefix+"--"+c:c)}this._resolvedAlias[e]=o.join(" "),l(this._elem.shadowRoot)},r.prototype.setClassNames=function(e){e=null==e?"":String(e),this._rawNames=e.match(n)||[],s(this)},r.prototype.getClassNames=function(){return o(this)},r.prototype.getPrefix=function(){return this._prefix},r.prototype.getAddOriginalClass=function(){return this._addOriginalClass},r.prototype.getRawNames=function(){return this._rawNames},e.exports=r},function(e,t,r){var n=r(10),i=r(4),a=r(13),o=function(){};o.prototype=Object.create(Object.prototype,{constructor:{value:o,writable:!0,configurable:!0}});var s=o._advancedCreate=function(e,t){var r=new o;r.__slot="";var n=null;return a.backendExtractedDefault||"dom"!==i.documentBackend?r.__textContent=e:(n=document.createTextNode(e||"")).__wxElement=r,r.$$=r.__domElement=n,r.__backendExtracted=a.backendExtractedDefault,r.__subtreeObserversCount=0,r.parentNode=null,r.ownerShadowRoot=t,r};o.create=function(e){return s(e,null)},Object.defineProperty(o.prototype,"textContent",{get:function(){return this.__domElement?this.__domElement.textContent:this.__textContent},set:function(e){this.__domElement?this.__domElement.textContent=e:this.__textContent=String(e),(this.__textObservers&&!this.__textObservers.empty||this.__subtreeObserversCount)&&n._callObservers(this,"__textObservers",{type:"characterData",target:this})}}),e.exports=o},function(e,t){t.backendExtractedDefault=!1,t.enableBackendExtractedDefault=function(){t.backendExtractedDefault=!0},t.disableBackendExtractedDefault=function(){t.backendExtractedDefault=!1}},function(e,t){var r=function(e){this.tagName=e,this.id="",this.attrs={}};r.toElement=function(e){var t=document.createElement(e.tagName);for(var r in e.id&&(t.id=e.id),e.attrs)t.setAttribute(r,e.attrs[r]);return t},r.fromElement=function(e){var t=new r(e.tagName);t.id=e.id;for(var n=e.attributes,i=0;i<n.length;i++)t.attrs[n[i].name]=n[i].value;return t},r.prototype.cloneNode=function(){var e=new r;for(var t in e.id=this.id,this.attrs)e.attrs[t]=this.attrs[t];return e},r.prototype.removeAttribute=function(e,t){delete this.attrs[e]},r.prototype.setAttribute=function(e,t){this.attrs[e]=t},r.prototype.getAttribute=function(e){return this.attrs[e]},e.exports=r},function(e,t,r){var n=r(3),i=r(5),a=r(16),o=r(6),s=r(8),l=r(9),c=r(17),u=r(10),d=r(11),p=r(14),h=r(4),f=r(13),g=r(7),v=o.addListenerToElement,m=g.parseSinglePath,_=i.deepCopy,y=function(){};y.prototype=Object.create(l.prototype,{constructor:{value:y,writable:!0,configurable:!0},data:{get:function(){return this.__dataProxy._data},set:function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace([r],e[r]);t.doUpdates()},configurable:!0},$:{get:function(){return l._updateIdMap(this),this.__idCache},set:function(){}}});var A=function(){};A.prototype=Object.create(Object.prototype),o._setComponent(y);var b=null;y._setDefaultTemplateEngine=function(e){b=e,y._setDefaultTemplateEngine=null};var w=function(e,t,r){if(r)for(var i=0;i<r.length;i++)if(s.matchTypeWithValue(r[i],e))return e;return t===String?null==e?(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <String> but get null value. Used empty string instead."),""):(n.hasGlobalWarningListeners()&&"object"==typeof e&&n.triggerWarning("property received type-uncompatible value: expected <String> but got object-typed value. Forcely converted."),String(e)):t===Number?isFinite(e)?Number(e):(n.hasGlobalWarningListeners()&&("number"==typeof e?n.triggerWarning("property received type-uncompatible value: expected <Number> but got NaN or Infinity. Used 0 instead."):n.triggerWarning("property received type-uncompatible value: expected <Number> but got non-number value. Used 0 instead.")),0):t===Boolean?!!e:t===Array?e instanceof Array?e:(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."),[]):t===Object?"object"==typeof e?e:(n.hasGlobalWarningListeners()&&n.triggerWarning("property received type-uncompatible value: expected <Object> but got non-object value. Used null instead."),null):void 0===e?null:e};a.setPropUpdater((function(e,t,r,i){var a=e[0],o=this.__propData[a];if(r=w(r,t.type,t.optionalTypes),!(!t.availability||function(e,t,r,i){var a=[e.ownerShadowRoot?e.ownerShadowRoot.__wxHost.__componentOptions.domain:void 0,i?void 0:r];return!!n.safeCallback("Availablity Controller",t,e.__methodCaller,a,e)}(this,t.availability,r,i)))return n.hasGlobalWarningListeners()&&n.triggerWarning('the new value for property "'+a+'" in component "'+(this.is||"")+'" is currently not available. The value is not changed.'),o;if(t.filter){var s=n.safeCallback("Property Filter",t.filter,this.__methodCaller,i?[]:[r,o,e],this);void 0!==s&&(r=s)}return this.__domElement&&this.__componentOptions.reflectToAttributes&&this.__propPublic[a]&&function(e,t,r){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),i=typeof r;"boolean"===i?r?e.__domElement.setAttribute(n,""):e.__domElement.removeAttribute(n):"object"===i?e.__domElement.setAttribute(n,JSON.stringify(r)):e.__domElement.setAttribute(n,r)}(this,a,r),r})),a.setPropObserver((function(e,t,r,i,a,o){if(i.observeAssignments||e!==t){var s=r[0];this.__propertyChangeListeners&&this.__propertyChangeListeners[s]&&!o&&n.safeCallback("Property Observer",this.__propertyChangeListeners[s],this.__methodCaller,[e],this),i.observer&&n.safeCallback("Property Observer",i.observer,this.__methodCaller,a?[]:[e,t,r],this),i.public&&(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&u._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:s})}}));var E=function(e,t,r){t.__relationLinks||(t.__relationLinks={});for(var n=t.__relationLinks[r]=[],i=0;i<e.length;i++)n.push(null)},C=function(e,t,r,i,a){for(var o=y.prototype.hasBehavior,c="parent"===i,u="shadowHost"===i,d=0;d<e.length;d++){var p,h=e[d];if(p="object"!=typeof h.target?s._list[h.target]:h.target){var f=t[d],g=null;if(!a)for(var v=u?r.ownerShadowRoot&&r.ownerShadowRoot.__wxHost:r.parentNode;v;v=u?v.ownerShadowRoot&&v.ownerShadowRoot.__wxHost:v.parentNode)if(l.isSelectable(v)){if(o.call(v,p)){var m;m=c?v.__relationMap.child:u?v.__relationMap.shadowContent:v.__relationMap.descendant;for(var _=0;_<m.length;_++){var A,b=m[_];if((A="object"!=typeof b.target?s._list[b.target]:b.target)&&o.call(r,A)){g={parent:v,relation:b};break}}}if(c||g)break}t[d]=g,!f||g&&f.parent===g.parent||(n.safeCallback("Relation Unlinked Callback",f.relation.unlinked,f.parent.__methodCaller,[r.__methodCaller],f.parent),n.safeCallback("Relation Unlinked Callback",h.unlinked,r.__methodCaller,[f.parent.__methodCaller],r)),!g||f&&f.parent===g.parent||(n.safeCallback("Relation Linked Callback",g.relation.linked,g.parent.__methodCaller,[r.__methodCaller],g.parent),n.safeCallback("Relation Linked Callback",h.linked,r.__methodCaller,[g.parent.__methodCaller],r)),f&&g&&f.parent===g.parent&&(n.safeCallback("Relation Link Changed Callback",g.relation.linkChanged,g.parent.__methodCaller,[r.__methodCaller],g.parent),n.safeCallback("Relation Link Changed Callback",h.linkChanged,r.__methodCaller,[g.parent.__methodCaller],r)),a||g||n.safeCallback("Relation Link Failed Callback",h.linkFailed,r.__methodCaller,[],r)}}},I=function(e,t,r){if(e instanceof l){var n=0,i=null;if(e instanceof y){for(e.__pageLifeTimeFuncs[t]&&e.__pageLifeTimeFuncs[t].call(e.__methodCaller,r||[]),i=e.childNodes,n=0;n<i.length;n++)I(i[n],t,r);e=e.shadowRoot}for(i=e.childNodes,n=0;n<i.length;n++)I(i[n],t,r)}};y._list={},y.register=function(e){var t=e.options||{},r=s.create(e),n=void 0!==t.classPrefix?t.classPrefix:h.classPrefix;null!=n||(n=r.is||"");var i=new A;return i._unprepared=r,i.is=e.is||"",i.behavior=r,i.protoFunc=null,i.props=null,i.template=null,i.innerEvents=null,i.generics=r.generics,i.placeholder=r.placeholder,i.initiator=r.initiator||null,i.options={availability:t.availability||h.availability,domain:t.domain||h.domain,writeOnly:!!(void 0!==t.writeOnly?t.writeOnly:h.writeOnly),allowInWriteOnly:!!(void 0!==t.allowInWriteOnly?t.allowInWriteOnly:h.allowInWriteOnly),classPrefix:n,addGlobalClass:!!(void 0!==t.addGlobalClass?t.addGlobalClass:h.addGlobalClass),templateEngine:t.templateEngine||h.templateEngine||b,renderingMode:t.renderingMode||h.renderingMode,multipleSlots:!!(void 0!==t.multipleSlots?t.multipleSlots:h.multipleSlots),reflectToAttributes:!!(void 0!==t.reflectToAttributes?t.reflectToAttributes:h.reflectToAttributes),writeFieldsToNode:!!(void 0!==t.writeFieldsToNode?t.writeFieldsToNode:h.writeFieldsToNode),writeIdToDOM:!!(void 0!==t.writeIdToDOM?t.writeIdToDOM:h.writeIdToDOM),separateInnerData:!!(void 0!==t.separateInnerData?t.separateInnerData:h.separateInnerData),innerDataExclude:t.innerDataExclude||h.innerDataExclude,listenerChangeLifeTimes:!!(void 0!==t.listenerChangeLifeTimes?t.listenerChangeLifeTimes:h.listenerChangeLifeTimes),randomizeTagName:!!(void 0!==t.randomizeTagName?t.randomizeTagName:h.randomizeTagName),virtualHost:!!(void 0!==t.virtualHost?t.virtualHost:h.virtualHost)},r._unprepared||y.prepare(i),void 0!==e.is&&(y._list[r.is]=i),i},y.isPrepared=function(e){return!e._unprepared},y.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.options,i={};t._unprepared&&s.prepare(t),r.writeOnly&&(i.data={value:null});var o=e.props={};Object.keys(t.properties).forEach((function(e){var n=t.properties[e];o[e]={type:n.type,optionalTypes:n.optionalTypes,value:n.value,filter:"function"==typeof n.filter?n.filter:null==n.filter?null:t.methods[n.filter],observer:"function"==typeof n.observer?n.observer:null==n.observer?null:t.methods[n.observer],public:n.public,availability:n.availability,observeAssignments:n.observeAssignments},r.writeFieldsToNode&&(i[e]={enumerable:!0,get:function(){return this.__propData[e]},set:function(t){var r=this.__dataProxy;r.scheduleReplace([e],t),r.doUpdates()}})}));var l=function(){};e.protoFunc=l;var c=l.prototype=Object.create(y.prototype,i);if(c.is=e.is,c.__componentOptions=r,c.__using=t.using,e.dataGroupObserverTree=a._createObserverTree(o),t._addObserversToDataProxy(e.dataGroupObserverTree),c.__behavior=t,r.writeFieldsToNode)for(var u in t.methods)c[u]=t.methods[u];c.__lifeTimeFuncs=t._getAllLifeTimeFuncs(),c.__pageLifeTimeFuncs=t._getAllPageLifeTimeFuncs();var d=t.relations,p=c.__relationMap={};for(var h in d){var f=d[h],g=f.type;p[g]?p[g].push(f):p[g]=[f]}var v=[];p.parent&&v.push((function(e){C(this.__relationMap.parent,this.__relationLinks.parent,this,"parent","detached"===e)})),p.ancestor&&v.push((function(e){C(this.__relationMap.ancestor,this.__relationLinks.ancestor,this,"ancestor","detached"===e)})),p.shadowHost&&v.push((function(e){C(this.__relationMap.shadowHost,this.__relationLinks.shadowHost,this,"shadowHost","detached"===e)})),e.relationHandler=function(e){for(var t=0;t<v.length;t++)v[t].call(this,e)};var m={},_={},A=t.data,b="";for(b in A)_[b]=A[b];for(b in o){var w=o[b];n.hasGlobalWarningListeners()&&void 0!==_[b]&&n.triggerWarning('data field "'+b+'" is overwritten by property with the same name.'),_[b]=w.value,m[b]=w.public}var E=_,I=r.separateInnerData,S=r.innerDataExclude;if(S){for(var T in E={},_)S.test(T)||(E[T]=_[T]);I||(_=E)}var x=r.templateEngine;e.template=x.create(t,_,E,r),c.__propPublic=m;var P=t._getAllListeners(),k=e.innerEvents=[];for(var D in P){for(var R=P[D],O=D.indexOf("."),M=D.slice(O+1),L=O<1?"":D.slice(0,O),N=[],B=0;B<R.length;B++){var W=R[B];"function"!=typeof W&&(W=null==W?null:t.methods[W]),N.push(W)}k.push({id:L,name:M,funcs:N})}}};var S=1,T=Object.prototype.hasOwnProperty,x=function(e,t){return function(r){return e.call(t.__methodCaller,r,t)}},P=function(e,t,r){var i={};for(var a in e){var o=e[a],s=t[a];"object"!=typeof s&&T.call(y._list,s)&&(s=y._list[s]),"object"!=typeof s&&null!=o.default&&(s=y._list[o.default]),n.hasGlobalWarningListeners()&&(s||n.triggerWarning('generic "'+a+'" is not instantiated. The default component is used instead.')),s&&(i[a]=s)}if(n.hasGlobalWarningListeners())for(var l in t)void 0===e[l]&&n.triggerWarning('generic "'+l+'" is not defined. It will be ignored.');return i},k=y._advancedCreate=function(e,t,r,i,o,s){var c=t;c._unprepared&&y.prepare(c);var u=c.options;!u.availability||function(e,t,r){var i=[t?t.__wxHost.__componentOptions.domain:void 0];return!!n.safeCallback("Availablity Controller",r,e,i)}(c,r,u.availability)||(n.hasGlobalWarningListeners()&&n.triggerWarning('the component "'+(c.is||"")+'" is currently not available. The default component is used instead.'),c=y._list[""]);var g=new(0,c.protoFunc);g.__placeholder=function(e,t){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}(o,c.placeholder);var m=c.generics;g.__generics=m?P(m,i||{}):{};var A=null,b=h.documentBackend;if(u.virtualHost){A=null;"dom"===h.documentBackend&&(A=void 0),l.initialize(g,A,r),g.__virtual=!0}else"dom"===b?(A=f.backendExtractedDefault?new p(e):document.createElement(e),l.initialize(g,A,r)):l.initialize(g,null,r);var w=0,C=g.__externalClassAlias={};if(c.behavior.externalClasses){var I=c.behavior.externalClasses;for(w=0;w<I.length;w++)C[I[w]]=null}if(g.classList=d.create(g,C),r){var T=r.__wxHost;g.classList._setOwnerOptions(T.classList,T.__componentOptions.classPrefix,T.__componentOptions.addGlobalClass),h.writeExtraInfoToAttr&&A&&A.setAttribute("exparser:info-class-prefix",T.__componentOptions.classPrefix&&T.__componentOptions.classPrefix+"--")}h.writeExtraInfoToAttr&&A&&(g.__componentInstanceId=S++,A.setAttribute("exparser:info-component-id",g.__componentInstanceId));var k=g.__templateInstance=c.template.createInstance(g,s);g.__propData=k.data;var D=u.separateInnerData;g.__innerData=D?_(g.__propData):null;var R=u.innerDataExclude;if(D&&R){var O={};for(var M in g.__innerData)R.test(M)||(O[M]=g.__innerData[M]);g.__innerData=O}g.__dataProxy=a._advancedCreate(g,g.__propData,g.__innerData,R,c.dataGroupObserverTree,(function(e,t,r,n){g.__templateInstance.updateValues(g,D?g.__innerData:g.__propData,e,t,r,n)})),k.beforeMergeValues&&g.__dataProxy.setBeforeMergeCb((function(e,t,r){g.__templateInstance.beforeMergeValues(e,t,r)})),k.beforeUpdateValues&&g.__dataProxy.setBeforeUpdateCb((function(e){g.__templateInstance.beforeUpdateValues(g,D?g.__innerData:g.__propData,e)})),u.writeOnly&&g.__dataProxy.setHidingValue(!0),g.__idCacheDirty=!1,g.__idCache=k.idMap,null===k.slots[""]&&(k.slots[""]=A),c.options.multipleSlots?g.__slots=k.slots:(g.__singleSlot=k.slots[""]||null,g.__singleSlot&&(g.__singleSlot.__wxSlotChildren=g.childNodes)),k.shadowRoot instanceof l?(g.shadowRoot=k.shadowRoot,l._attachShadowRoot(k.shadowRoot)):A instanceof p?(g.shadowRoot=A,A.__wxHost=g,g.__domElement.asShadowRoot=k.shadowRoot,g.__wxSlotChildren=[A],A.__wxSlotParent=g):(g.shadowRoot=A,A.__wxHost=g,g.__domElement.appendChild(k.shadowRoot),g.__wxSlotChildren=[A],A.__wxSlotParent=g);for(var L=k.listeners,N=0;N<L.length;N++){var B=L[N];v(B.target,B.name,x(B.func,g))}var W=c.innerEvents;for(w=0;w<W.length;w++){var F=W[w],U=F.id?"this"===F.id?g:g.__idCache[F.id]:g.shadowRoot;if(U)for(var V=F.name,j=F.funcs,G=0;G<j.length;G++)v(U,V,x(j[G],g))}var H=g.__relationMap;return H.parent&&(E(H.parent,g,"parent"),g.__relationHandler=c.relationHandler),H.ancestor&&(E(H.ancestor,g,"ancestor"),g.__relationHandler=c.relationHandler),H.shadowHost&&(E(H.shadowHost,g,"shadowHost"),g.__relationHandler=c.relationHandler),g.__propertyChangeListeners=null,c.initiator&&n.safeCallback("Component Initiator",c.initiator,g.__methodCaller,[],g),g.__lifeTimeFuncs.created.call(g.__methodCaller,[],g),g};y.createWithGenerics=function(e,t,r,i){return"object"==typeof e?k(e.is,e,null,r,null,i):e?e.indexOf("-")<0&&!t?c.create(e):(n.hasGlobalWarningListeners()&&(t||T.call(y._list,e)||"virtual"===e||n.triggerWarning('component "'+e+'" is not found. The default component is used instead.')),k(e.toLowerCase(),t||T.call(y._list,e)&&y._list[e]||y._list[""],null,r,null,i)):k("virtual",y._list[""],null,r,null,i)},y.create=function(e,t,r){return y.createWithGenerics(e,t,null,r)},y.listProperties=function(e){var t=[];for(var r in e.__propPublic)void 0!==e.__propPublic[r]&&t.push(r);return t},y.listPublicProperties=function(e){var t=[];for(var r in e.__propPublic)!0===e.__propPublic[r]&&t.push(r);return t},y.hasProperty=function(e,t){return void 0!==e.__propPublic[t]},y.hasPublicProperty=function(e,t){return!0===e.__propPublic[t]},y.getMethodsFromDef=function(e){return e.behavior._unprepared&&s.prepare(e.behavior),e.behavior.methods},y.getMethod=function(e,t){return e.__behavior.methods[t]},y.getComponentOptions=function(e){return e.__componentOptions},y.prototype.triggerLifeTime=function(e,t){this.__lifeTimeFuncs[e].call(this.__methodCaller,t||[])},y.prototype.triggerPageLifeTime=function(e,t){I(this,e,t)},y.prototype.hasBehavior=function(e){return"object"!=typeof e&&Object.prototype.hasOwnProperty.call(this.__using,e)&&(e=this.__using[e]),!!this.__behavior&&this.__behavior.hasBehavior(e)},y.prototype.getRootBehavior=function(){return this.__behavior},y.prototype.getPlaceholder=function(e){return this.__placeholder[e]},y.prototype.getRelationNodes=function(e){var t=this.__behavior.relations[e];if(!t)return null;if("parent"===t.type||"ancestor"===t.type||"shadowHost"===t.type){for(var r=this.__relationMap[t.type],n=0;n<r.length&&r[n]!==t;n++);return this.__relationLinks[t.type][n]?[this.__relationLinks[t.type][n].parent]:[]}return function(e,t){var r=[],n=t.type,i="child"===n,a="shadowContent"===n,o=function(n){for(var s=n.childNodes,c=0;c<s.length;c++){var u=s[c];if(u instanceof l)if(l.isSelectable(u)){var d;if(u.__relationLinks)if(d=i?u.__relationLinks.parent:a?u.__relationLinks.shadowHost:u.__relationLinks.ancestor)for(var p=0;p<d.length;p++){var h=d[p];if(h&&h.parent===e&&h.relation===t){r.push(u);break}}a&&u instanceof y&&o(u.shadowRoot),i||o(u)}else o(u)}};return o(a?e.shadowRoot:e),r}(this,t)},y.prototype.hasExternalClass=function(e){return T.call(this.__externalClassAlias,e)},y.prototype.setExternalClass=function(e,t){this.classList._setAlias(e,t)},y.prototype.setPropertyChangeListener=function(e,t){this.__propertyChangeListeners||(this.__propertyChangeListeners={}),this.__propertyChangeListeners[e]=t},y.prototype.replaceDataOnPath=function(e,t){this.__dataProxy.scheduleReplace(e,t)},y.prototype.isInnerDataExcluded=function(e){var t=this.__componentOptions.innerDataExclude;return!!t&&t.test(e)},y.getInnerData=function(e){return e.__innerData},y.getDataProxy=function(e){return e.__dataProxy},y.replaceWholeData=function(e,t,r){e.__propData=t,e.__dataProxy.replaceWholeData(t,r)},y.prototype.applyDataUpdates=function(){this.__dataProxy.doUpdates()},y.prototype.setData=function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace(m(r),e[r]);t.doUpdates()},e.exports=y},function(e,t,r){var n=r(3),i=r(5),a=null,o=null,s=Object.prototype.hasOwnProperty,l=i.deepCopy,c=function(e,t,r,n,i,a){this._data=t,this._innerData=r,this._innerDataExclude=n,this._comp=e,this._updateCb=a,this._beforeMergeCb=null,this._beforeUpdateCb=null,this._hidingValue=!1,this._changes=[],this._doingUpdates=null,this._propFields=i._propFields,this._observers=i._observers,this._observerTree=i._observerTree,this._relatedObserverTreeObj=i,this._observerStatus=[]};c._advancedCreate=function(e,t,r,n,i,a){return new c(e,t,r,n,i,a)};var u=function(e){this._propFields=e,this._observerIdInc=0,this._observers=[],this._observerTree={}};c._createObserverTree=function(e){return new u(e)},c.create=function(e,t,r){var n=new u({});return new c({__methodCaller:e},t,null,null,n,r)},c.setPropUpdater=function(e){a=e},c.setPropObserver=function(e){o=e},c.prototype.replaceWholeData=function(e,t){this._data=e},c.prototype.setHidingValue=function(e){this._hidingValue=!!e},c.prototype.setBeforeMergeCb=function(e){this._beforeMergeCb=e},c.prototype.setBeforeUpdateCb=function(e){this._beforeUpdateCb=e};var d=function(e,t,r){for(var i=e,a=0;a<t.length;a++){var o=t[a];if("**"===o)return n.hasGlobalWarningListeners()&&a!==t.length-1&&n.triggerWarning('"**" can only be used at the end of a path descriptor.'),i["**"]||(i["**"]=[]),void i["**"].push(r);i[o]||(i[o]={}),i=i[o]}i["~"]||(i["~"]=[]),i["~"].push(r)},p=function(e,t,r){for(var n=0;n<t.length;n++)d(e,t[n],r)},h=function(e,t,r){for(var n=e,i=0,a="";i<t.length&&"**"!==(a=t[i]);i++){if(!n)return;n=n[a]}var o="**"===a?n["**"]:n["~"];if(o)for(i=0;i<o.length;i++)if(o[i]===r){o.splice(i,1);break}},f=function(e,t,r){for(var n=0;n<t.length;n++)h(e,t[n],r)};u.prototype.addObserver=function(e,t){var r=this._observerIdInc++;return this._observers[r]={pathObj:t,func:e},p(this._observerTree,t,r),r},u.prototype.removeObserver=function(e){var t=this._observers[e];f(this._observerTree,t.pathObj,e),this._observers[e]=null},u.prototype.moveObserver=function(e,t){var r=this._observers[e];f(this._observerTree,r.pathObj,e),r.pathObj=t,p(this._observerTree,t,e)},c.prototype.getObserverTree=function(){return this._relatedObserverTreeObj};var g=function(e,t,r){for(var i=[],a=r.pathObj,o=0;o<a.length;o++){for(var s=a[o],l=t,c=0;c<s.length;c++){var u=s[c];if("**"===u)break;if("object"!=typeof l){l=void 0;break}l=l[u]}i[o]=l}n.safeCallback("Data Observer",r.func,e.__methodCaller,i,e)},v=function(e,t){var r=null,n=0;for(var i in e)if("~"!==i)if("**"!==i)v(e[i],t);else for(r=e["**"],n=0;n<r.length;n++)t[r[n]]=!0;else for(r=e["~"],n=0;n<r.length;n++)t[r[n]]=!0},m=function(e,t,r){for(var n=e,i=0;i<r.length;i++){if(n["**"])for(var a=n["**"],o=0;o<a.length;o++){t[a[o]]=!0}var l=r[i];if("number"==typeof l){if(!s.call(n,l)){n=null;break}}else if(!/^[_a-zA-Z]/.test(l)||!s.call(n,l)){n=null;break}n=n[l]}n&&v(n,t)},_=function(e,t,r,n,i){for(var a=0;a<e.length;a++){var o=e[a],s=t[a];s&&s&&(t[a]=!1,g(r,i?void 0:n,o))}};c.prototype.scheduleReplace=function(e,t,r){this._changes.push([e,t,r])},c.prototype.setChanges=function(e){this._changes=e},c.prototype.getChanges=function(){return this._changes},c.prototype.doUpdates=function(e,t){var r=this._propFields,n=this._comp,i=this._hidingValue,c=this._innerDataExclude,u=!!this._doingUpdates,d=this._relatedObserverTreeObj._observerIdInc,p=null,h=null,f=null;d?(u||(this._doingUpdates={changedPaths:[],changedValues:[],combinedChanges:[],changesTotal:0}),p=this._doingUpdates.changedPaths,h=this._doingUpdates.changedValues,f=this._doingUpdates.combinedChanges):(p=[],h=[],f=[]);var g=this._changes;this._changes=[];var v=[];this._beforeMergeCb&&this._beforeMergeCb(g,v,e);for(var y=0;y<g.length;y++){var A=g[y],b=A[0],w=A[1],E=w,C=void 0,I=b[0],S=!!c&&c.test(I),T=r[I];if(T&&1===b.length)C=this._data[I],w=a.call(this._comp,b,T,w,this._hidingValue),S||(this._innerData?(E=l(w),v[y]||(this._innerData[I]=E)):E=w,A[1]=E),S&&!this._innerData||(this._data[I]=w);else{var x=this._data,P=I,k=null,D=1;if(!S||this._innerData){for(;D<b.length;D++)"number"==typeof(k=b[D])&&isFinite(k)?s.call(x,P)&&x[P]instanceof Array||(x[P]=[]):(!s.call(x,P)||null===x[P]||"object"!=typeof x[P]||x[P]instanceof Array)&&(x[P]={}),x=x[P],P=k;x[P]=w}if(this._innerData&&(x=this._innerData,P=I,!S)){for(D=1;D<b.length;D++)"number"==typeof(k=b[D])&&isFinite(k)?s.call(x,P)&&x[P]instanceof Array||(x[P]=[]):(!s.call(x,P)||null===x[P]||"object"!=typeof x[P]||x[P]instanceof Array)&&(x[P]={}),x=x[P],P=k;E=l(w),v[y]||(x[P]=E),A[1]=E}}m(this._observerTree,this._observerStatus,b),S||(p.push(b),h.push([E,C,w]),f.push(A)),d&&(this._doingUpdates.changesTotal+=1)}if(!u){if(this._beforeUpdateCb&&this._beforeUpdateCb(e),d){var R=0;do{R=this._doingUpdates.changesTotal,_(this._observers,this._observerStatus,n,this._data,i)}while(R!==this._doingUpdates.changesTotal);this._doingUpdates=null}this._updateCb(p,h,f,e);for(var O=0;O<h.length;O++){var M=h[O];if(M){var L=p[O],N=r[L[0]];N&&o.call(n,M[2],M[1],L,N,i,t)}}}},e.exports=c},function(e,t,r){var n=r(9),i=r(11),a=r(14),o=r(4),s=r(13),l=function(){};l.prototype=Object.create(n.prototype,{constructor:{value:l,writable:!0,configurable:!0}});var c=l._advancedCreate=function(e,t){var r=new l;r.is=e.toLowerCase();var c=null;if("dom"===o.documentBackend&&(c=s.backendExtractedDefault?new a(e):document.createElement(e)),n.initialize(r,c,t),r.classList=i.create(r,null),t){var u=t.__wxHost;r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.create=function(e){return c(e,null)};var u=l._advancedClone=function(e,t){var r=new l;r.is=e.is;var c=null;if(e.__domElement&&(c=e.__domElement instanceof a?s.backendExtractedDefault?e.__domElement.cloneNode():a.toElement(e.__domElement):s.backendExtractedDefault?a.fromElement(e.__domElement):document.importNode?document.importNode(e.__domElement,!1):e.__domElement.cloneNode(!1)),n._clone(r,e,c,t),r.classList=i.create(r,null),t){var u=t.__wxHost;r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.cloneNode=function(e){return u(e,null)},e.exports=l},function(e,t,r){var n=r(9),i=r(4),a=function(e,t){o(this,e,t)};a.prototype=Object.create(n.prototype);var o=a.initialize=function(e,t,r){e.is=t||"";var a=null;"dom"===i.documentBackend&&(a=void 0),n.initialize(e,a,r),e.__virtual=!0};a._advancedCreate=function(e,t){return new a(e,t)},a.create=function(e){return new a(e,null)},e.exports=a},function(e,t,r){var n=r(9),i=r(15),a=r(18),o=r(17),s=r(12),l=Object.prototype.hasOwnProperty,c=function(e){a.initialize(this,"shadow",this),this.__hostAssociated=!1,this.__wxHost=e,this.__childrenPropsFilter=null,this.__slotCacheDirty=!1};c.prototype=Object.create(a.prototype),c.create=function(e){var t=new c(e);if(e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(t.__childrenPropsFilter)for(var r in e.ownerShadowRoot.__childrenPropsFilter)t.__childrenPropsFilter[r]||(t.__childrenPropsFilter[r]=e.ownerShadowRoot.__childrenPropsFilter[r]);else t.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;return t};c.prototype.createTextNode=function(e){return s._advancedCreate(e,this)},c.prototype.createNativeNode=function(e){return o._advancedCreate(e,this)},c.prototype.cloneNativeNode=function(e){return o._advancedClone(e,this)},c.prototype.createVirtualNode=function(e){return a._advancedCreate(e,this)},c.prototype.getCompDefByTagName=function(e){var t=this.__wxHost;return l.call(t.__using,e)?t.__using[e]:l.call(t.__generics,e)?t.__generics[e]:e},c.prototype.createComponent=function(e,t,r,n){var a=null;a=void 0===t?e:t;var o=this.__wxHost;"object"!=typeof a&&("object"!=typeof(a=this.getCompDefByTagName(a))&&(a=i._list[a]||i._list[""]));var s=function(e,t){var r={};for(var n in e){var a=e[n];"object"!=typeof a&&l.call(t.__placeholder,a)&&(a=t.__placeholder[a],l.call(t.__using,a)?a=t.__using[a]:l.call(t.__generics,a)&&(a=t.__generics[a]||i._list[""]),r[n]=a)}return r}(r,o);return r&&(r=function(e,t){var r={};for(var n in e){var a=e[n];"object"!=typeof a&&(l.call(t.__using,a)?a=t.__using[a]:l.call(t.__generics,a)&&(a=t.__generics[a]||i._list[""]),r[n]=a)}return r}(r,o)),"object"==typeof e&&(e=a.is),o.__componentOptions.randomizeTagName&&(e=function(){for(var e=Date.now(),t="exparser-",r=0;r<8;r++){var n=(e+Math.floor(26*Math.random()))%26;e=Math.floor(e/26),t+="abcdefghijklmnopqrstuvwxyz"[n]}return t}()),o.__componentOptions.writeOnly&&!a.options.allowInWriteOnly&&(a=i._list[""]),i._advancedCreate(e,a,this,r,s,n)},c.prototype.tagNameUsed=function(e){var t=this.__wxHost;return!!(l.call(t.__using,e)||l.call(t.__placeholder,e)||l.call(t.__generics,e)||l.call(t.__placeholder,e))},c.prototype.getHostNode=function(){return this.__wxHost},c.prototype.getElementById=function(e){return n._updateIdMap(this.__wxHost),this.__wxHost.__idCache[e]},e.exports=c},function(e,t,r){var n=r(9),i=r(12),a=function(){};a.create=function(e,t,r){var o=new a;if(!(e instanceof n||e instanceof i))throw new Error("ElementIterator can only be used for exparser.Element or exparser.TextNode");o._elem=e,o._elemTypeLimit=r||n;var s=t.split("-");if("shadow"===s[0])o._composed=!1;else{if("composed"!==s[0])throw new Error("Unrecognized iterator type: "+t);o._composed=!0}if("ancestors"===s[1])o._relation="ancestors",o._order=0;else{if("descendants"!==s[1])throw new Error("Unrecognized iterator type: "+t);if(o._relation="descendants","root"!==s[2])throw new Error("Unrecognized iterator type: "+t);if("first"===s[3])o._order=-1;else{if("last"!==s[3])throw new Error("Unrecognized iterator type: "+t);o._order=1}}return o};var o=function(e,t,r,n,i){if(n<0&&e instanceof t&&!1===i(e))return!1;var a=r&&e.__wxSlotChildren||e.childNodes;if(a)for(var s=0;s<a.length;s++)if(!1===o(a[s],t,r,n,i))return!1;return!(n>0&&e instanceof t&&!1===i(e))};a.prototype.forEach=function(e){return"ancestors"===this._relation?function(e,t,r,n){for(;e;e=r&&(e.__wxSlotParent||e.__wxHost)||e.parentNode)if(e instanceof t&&!1===n(e))return!1;return!0}(this._elem,this._elemTypeLimit,this._composed,e):o(this._elem,this._elemTypeLimit,this._composed,this._order,e)},e.exports=a},function(e,t,r){(function(t){var n=r(4),i=r(3),a=r(9),o=r(17),s=r(12),l=r(19),c=r(15),u=r(23),d=r(24),p=function(){};p.prototype=Object.create(Object.prototype,{constructor:{value:p,writable:!0,configurable:!0}});var h=function(){};h.prototype=Object.create(Object.prototype,{constructor:{value:h,writable:!0,configurable:!0}});var f=null;p.precompiler=f,p.htmlParser=null;var g=function(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))},v=Object.prototype.hasOwnProperty,m=function(e,t){if(null!==e&&"object"==typeof e&&v.call(e,t))return e[t]},_=function(e,t,r,n){if(v.call(t,r)){var a=t[r];if("function"==typeof a)return i.safeCallback("Template Method",a,e,n)}},y=function(e,t){return[{t:1,n:"slot",a:[],c:[],p:null}]},A={t:1,n:'"slot"',v:!0,sn:"",a:[],c:[],p:null},b=function(e,t,r){e.classList.toggle(t,!!r)},w=function(e,t,r){e[t]=r},E=function(e,t,r){var n=e.__dataProxy;n.scheduleReplace([t],r),n.doUpdates()},C=function(e,t,r){e.class=r},I=function(e,t,r){e.setAttribute("style",r)},S=function(e,t,r){e.setAttribute("class",r)},T=function(e,t,r){e.textContent=r},x=function(e,t,r){e.dataset||(e.dataset={}),e.dataset[t]=r},P={$:function(e,t,r){!0===r?e.setAttribute(t,""):!1===r||null==r?e.removeAttribute(t):e.setAttribute(t,r)},":":w,c:b,s:function(e,t,r){var n=e.style;n&&(n[t]=r)},d:x},k=function(e,t,r){return[{t:1,n:"slot",v:!0,sn:"",a:[],c:[]}]};p.create=function(e,r,n,a){var o=void 0===e.template?k:e.template,s=o;"function"!=typeof o&&(void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node?s=p.precompileAndGetCreator(o):(i.hasGlobalWarningListeners()&&i.triggerWarning("Non-precompiled template is not usable in this environment. Empty template is used instead."),s=y));var l=Object.create(p.prototype);return l._initValuesJSON=JSON.stringify(n),l._dataJSON=r!==n?JSON.stringify(r):null,l._tagTreeRoot=D(s,n,e.methods,a),l._renderingMode=a.renderingMode,l};var D=function(e,t,r,i){var a="native"===i.renderingMode,s=a,l=!1,c=Object.create(null);a&&!n.hasDOMBackend&&(e=y);var u={},p=e(m,_,r),h=function(e){for(var r=0;r<e.length;r++){var n=e[r];if(3!==n.t){var i=n.n,c=!(a||"string"==typeof i&&i.indexOf("-")<0);"slot"===i&&""===n.sn&&(l=!0),n.n=i;var p=n.st;p&&p.e&&(p.o=I,s&&(p.v=p.e(t,u,null)));var f=n.cl;f&&f.e&&(f.o=a?S:C,s&&(f.v=f.e(t,u,null)));var v=null;c||(n.p=v=a?document.createElement(n.n):o.create(n.n),p&&void 0!==p.v&&v.setAttribute("style",p.v),a&&f&&void 0!==f.v&&v.setAttribute("class",f.v));for(var m=n.a,_=0;_<m.length;_++){var y=m[_];if(y.d)a||d[y.n].register(y.n,y,n);else{a||("bind"===y.n.slice(0,4)?(y.evCatch=!1,y.ev=g(y.n.slice(4)),":"===y.ev[0]&&(y.ev=y.ev.slice(1))):"catch"===y.n.slice(0,5)&&(y.evCatch=!0,y.ev=g(y.n.slice(5)),":"===y.ev[0]&&(y.ev=y.ev.slice(1))));var A=y.o;if(c)A?y.o="&"===A?P[":"]:P[A]:(y.o=P[":"],y.n=g(y.n)),y.o===w&&(y.o=E),s&&y.e&&(y.v=y.e(t,u,null));else if(!y.ev){var x=P;y.o=A?"&"===A?x[":"]:x[A]:x.$,s?(y.e&&(y.v=y.e(t,u,null)),(y.o!==b||a)&&y.o(v,y.n,y.v)):y.e||y.o(v,y.n,y.v)}}}h(n.c),a&&(1!==n.c.length||void 0===n.c[0].sn||n.c[0].compressed||(n.sn=n.c[0].sn,n.compressed=!0,n.c.pop()))}else n.e&&(n.o=T,n.c=s?n.e(t,u,null):"")}};return h(p,c,!0),a&&(l||p.push(A),1!==p.length||""!==p[0].sn||p[0].compressed||p.pop()),p},R=function(e,t){return function(r){if(this[e](r),t)return!1}},O=function(e,t,r,n,i,o,s,l){for(var p=null,h=0,f=null,g=0;g<e.length;g++){var v=s,m=e[g];if(3===m.t)p=m.e?t.createTextNode(m.e(n,i,null)):t.createTextNode(m.c),m.e&&u.addBindings(o,v,m.b,p,m),a.appendChild(r,p);else{var _=m.cl,y=m.st,A=m.a,C=!1;for(h=0;h<A.length;h++)if((f=A[h]).d){var I=d[f.n].create(f.n,f,m,n,i,o,v,l,t,O,r);if(d[f.n].requireBlock){p=I,a.appendChild(r,p),C=!0;break}}if(C)continue;if(m.v)p=t.createVirtualNode(m.n);else if(m.p){for(p=t.cloneNativeNode(m.p),h=0;h<A.length;h++)(f=A[h]).d||(f.ev?l(p,f.ev,f.v,f.evCatch):f.o===w?p.__domElement&&(f.o(p.__domElement,f.n,f.e(n,i,null)),u.addBindings(o,v,f.b,p.__domElement,f)):(f.e&&f.o(p,f.n,f.e(n,i,null)),(f.e||f.o===b||f.o===x)&&u.addBindings(o,v,f.b,p,f)));y&&y.e&&(p.setAttribute("style",y.e(n,i,null)),u.addBindings(o,v,y.b,p,y))}else{if(m.cpf){var S={},T=t.__wxHost;for(var P in m.cpf)!function(e){var t=m.cpf[e];S[e]=T.__behavior.methods[t]}(P);t.__childrenPropsFilter=S}for(p=t.createComponent(m.n,void 0,m.g,void 0),h=0;h<A.length;h++)if(!(f=A[h]).d){var k=f.v;f.o===E&&c.hasPublicProperty(p,f.n)?(f.e&&(k=f.e(n,i,null),u.addBindings(o,v,f.b,p,f)),f.e?E(p,f.n,k):p.__behavior.properties[f.n].type===Boolean?E(p,f.n,!0):E(p,f.n,k)):f.ev?l(p,f.ev,k,f.evCatch):f.o!==E&&(f.e&&(k=f.e(n,i,null),u.addBindings(o,v,f.b,p,f)),f.o(p,f.n,k))}y&&(y.e?(p.__domElement.setAttribute("style",y.e(n,i,null)),u.addBindings(o,v,y.b,p.__domElement,y)):p.__domElement.setAttribute("style",y.v))}m.id&&(p.id=m.id),_&&(_.e?p.class=_.e(n,i,null):p.class=_.v,_.o&&u.addBindings(o,v,_.b,p,_)),m.sl&&(p.slot=m.sl),void 0!==m.sn&&a.setSlotName(p,m.sn),a.appendChild(r,p),O(m.c,t,p,n,i,o,v,l)}}},M=function(e,t,r){for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof s||(a.__id&&(t[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),M(a,t,r))}},L=function(e,t,r,n,i,a){for(var o=null,s=0,l=null,c=0;c<e.length;c++){var d=e[c];if(void 0===d.n)o=document.createTextNode(d.c),d.e&&u.addBindings(i,a,d.b,o,d),t.appendChild(o);else{var p=d.cl,h=d.st,f=d.a;for(o=d.v?document.createElement("virtual"):document.importNode?document.importNode(d.p,!1):d.p.cloneNode(!1),s=0;s<f.length;s++)(l=f[s]).e&&u.addBindings(i,a,l.b,o,l);t.appendChild(o),d.id&&(r[d.id]=o),p&&p.e&&u.addBindings(i,a,p.b,o,p),h&&h.e&&u.addBindings(i,a,h.b,o,h),void 0!==d.sn&&(n[d.sn]=o),L(d.c,o,r,n,i,a)}}};p.prototype.createInstance=function(e){var t=Object.create(h.prototype),r=JSON.parse(this._initValuesJSON),i=null===this._dataJSON?r:JSON.parse(this._dataJSON),a=Object.create(null),o=Object.create(null),s=[],c=u.create("",null,null,null,null,[],(function(e,t){})),d=null;if("native"===this._renderingMode)"dom"===n.documentBackend&&(d=document.createDocumentFragment()),L(this._tagTreeRoot,d,a,o,c,{}),o[""]||(o[""]=null);else{if(d=l.create(e),e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(d.__childrenPropsFilter)for(var p in e.ownerShadowRoot.__childrenPropsFilter)d.__childrenPropsFilter[p]||(d.__childrenPropsFilter[p]=e.ownerShadowRoot.__childrenPropsFilter[p]);else d.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;O(this._tagTreeRoot,d,d,r,{},c,{},(function(e,t,r,n){d.__wxHost?e.addListener(t,R(r,n).bind(d.__wxHost)):s.push({target:e,name:t,func:R(r,n)})})),M(d,a,o)}return t.data=i,t.shadowRoot=d,t.idMap=a,t.slots=o,t.listeners=s,t._topScope=c,t},h.prototype.updateValues=function(e,t,r){for(var n=a.getMethodCaller(e),i=0;i<r.length;i++){var o=r[i];u.updateBinding(this._topScope,o,t,{},n)}},e.exports=p}).call(t,r(22))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(){f&&p&&(f=!1,p.length?h=p.concat(h):g=-1,h.length&&o())}function o(){if(!f){var e=i(a);f=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,f=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,h=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||f||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){var r={create:function(e,t,r,i,a,o,s){for(var l={inc:1,name:e,exp:i,lp:a,scopes:{},targets:{},children:null,lu:s,__scopeBinded:[]},c=0;c<o.length;c++){var u=o[c];null===u[0]?n(t,u,null,l):n(r[u[0]],u,null,l)}return l},proxyTopScope:function(e){var t={inc:1,linked:e,scopes:{},targets:{},children:null,__scopeBinded:[]};return n(e,[null],null,t),t},proxySubScopes:function(e){var t={};for(var r in e)t[r]={inc:1,linked:e[r],scopes:{},targets:{},children:null,__scopeBinded:[]},n(e[r],[null],null,t[r]);return t}},n=r.addBinding=function(e,t,r,n){for(var i=e,a=1;a<t.length;a++){var o=t[a];i.children||(i.children=Object.create(null));var s=i.children;s[o]||(s[o]={scopes:{},targets:{},children:null}),i=s[o]}var l=e.inc++;return r?i.targets[l]=[r,n]:(i.scopes[l]=n,n.__scopeBinded.push([i,l])),l};r.addBindings=function(e,t,r,i,a){for(var o=0;o<r.length;o++){var s=r[o];s[0]?n(t[s[0]],s,i,a):n(e,s,i,a)}},r.updateLvaluePath=function(e,t){e.lp=t},r.removeBindingsForScope=function(e){for(var t=e.__scopeBinded,r=0;r<t.length;r++){var n=t[r];delete n[0].scopes[n[1]]}};var i=function(e,t,r,n,i){if(e.linked)a(e,t,r,n,i);else{var o=n[e.name];n[e.name]=e.exp(r,n,i),a(e,t,r,n,i),n[e.name]=o}},a=r.updateBinding=function(e,t,r,n,a){for(var o=e,s=0,l=0;l<t.length;l++){for(s in o.scopes)i(o.scopes[s],t,r,n,a);var c=t[l];if(!o.children)return;var u=o.children;if(!u[c])return;o=u[c]}var d=function(e){for(s in e.targets){var t=e.targets[s],o=t[1];o.o(t[0],o.n,o.e(r,n,a))}for(s in e.scopes)i(e.scopes[s],[],r,n,a);for(s in e.children)d(e.children[s])};d(o)};e.exports=r},function(e,t,r){e.exports={if:r(25),elif:r(25),else:r(25),for:r(27),key:r(28),"for-index":r(29),"for-item":r(30),alias:r(31)}},function(e,t,r){var n=r(23),i=r(26).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u,d){var p=c.createVirtualNode("wx:"+e);p.__wxIfCondValue=!0,p.__wxIfNextNode=null,p.__wxIfHasTrueCond=!0;var h=null;"if"!==e&&("wx:if"!==(h=d.childNodes[d.childNodes.length-1]).is&&"wx:elif"!==h.is?h=null:h.__wxIfNextNode=p),r.id&&(p.id=r.id);var f=p.__wxIfUpdateNode=function(){var e=p.__wxIfCondValue;if(h&&h.__wxIfHasTrueCond&&(e=!1),e&&!p.childNodes.length){var t=n.proxyTopScope(o),d=n.proxySubScopes(s);p.__wxTopScope=t,p.__wxSubScopes=d,u(r.c,c,p,i,a,t,d,l)}else if(!e&&p.childNodes.length){for(var f in n.removeBindingsForScope(p.__wxTopScope),p.__wxSubScopes)n.removeBindingsForScope(p.__wxSubScopes[f]);for(;p.childNodes.length;)p.removeChild(p.childNodes[0])}p.__wxIfNextNode&&p.__wxIfNextNode.__wxIfUpdateNode()},g=function(e){p.__wxIfCondValue=!!e,p.__wxIfHasTrueCond=p.__wxIfCondValue||h&&h.__wxIfHasTrueCond,f()};return"else"===e?g(!0):(n.addBindings(o,s,t.b,p,{e:t.d,o:function(e,t,r){g(r)}}),g(t.d(i,a,null))),p}}},function(e,t){t.TAG_TYPES={TAG_START:1,TAG_END:-1,TEXT:3,COMMENT:8},t.RUNTIME_NAMES={MEMBER:"m",CALL:"f",METHODS:"e",CALLER:"c",TOP_SCOPE:"t",SUB_SCOPE:"s"};var r=t.STRING_UNESCAPE_MAP={n:"\n",r:"\r",b:"\b",f:"\f",t:"\t",v:"\v",'"':'"',"'":"'","\\":"\\","\r":"\r","\n":"\n"},n=t.STRING_ESCAPE_MAP={},i="";for(var a in r)n[r[a]]=a,i+=r[a];t.STRING_ESCAPE_REGEXP=new RegExp("["+i+"]","g")},function(e,t,r){var n=(r(18),r(23)),i=r(26).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,addDefaultAttrs:[{n:"wx:for-index",v:"index"},{n:"wx:for-item",v:"item"}],register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=r._wxForIndex||"index",p=r._wxForItem||"item",h=r._wxKey,f=c.createVirtualNode("wx:for:list");r.id&&(f.id=r.id),n.create("",o,s,(function(e,r,n){var i=t.d(e,r,null);return y(i,e,r,n),i}),t.l,t.b);var g=function(e,t,i,a,h){var g=c.createVirtualNode("wx:for:item"),v=n.proxyTopScope(o),m=n.proxySubScopes(s);g.__wxTopScope=v,g.__wxSubScopes=m,g.__wxForToRemove=!1,g.__wxForKeyStr="";var _=n.create(d,v,m,null,null,[]),y=n.create(p,v,m,null,[i],[]);return m[d]=_,m[p]=y,t[d]=i,t[p]=a,u(r.c,c,g,e,t,v,m,l),void 0===h?f.appendChild(g):f.insertBefore(g,h),g},v=function(e,t,r,a,o,s){var l=e.__wxSubScopes[p];n.updateLvaluePath(l,[a]),o&&(s?f.insertBefore(e,s):f.appendChild(e));var c=e.__wxSubScopes[d];r[d]=a,n.updateBinding(c,[],i,r,t)},m=function(e,t,r,i,a,o){i[p]=a,n.updateBinding(e.__wxSubScopes[p],t,r,i,o)},_=function(e){for(var t in n.removeBindingsForScope(e.__wxTopScope),f.__wxSubScopes)n.removeBindingsForScope(e.__wxSubScopes[t]);f.removeChild(e)},y=function(e,t,r,n){var i="",a=e;"object"==typeof e&&null!==e||(a=[]);var o={};for(i in r)o[i]=r[i];var s=0;if(h){var l=[],c=e instanceof Array,u=[];if(!c){var d=a;for(i in a=[],d)a.push(d[i]),u.push(i)}for(s=0;s<a.length;s++)l.push(String(a[s][h]));if(0===a.length)for(;f.childNodes.length;)_(f.childNodes[0]);else{var p=Object.create(null),y=Object.create(null),A=f.childNodes,b=null,w="";for(s=0;s<A.length;s++)p[w=(b=A[s]).__wxForKeyStr]>=0?(_(b),s--):(p[w]=s,y[w]=b,b.__wxForToRemove=!0);var E=-1,C=0,I=1,S=[];for((C=p[a[0][h]])>=0||(C=-1),A[C]&&(A[C].__wxForToRemove=!1),s=1;s<a.length;s++)(I=p[a[s][h]])>=0&&(E<C&&(C<I||E>I)&&(S.push(A[C]),E=C),A[C=I]&&(A[C].__wxForToRemove=!1));for(E<C&&S.push(A[C]),s=0;s<A.length;s++)(b=A[s]).__wxForToRemove&&(_(b),s--);var T=S.shift(),x=0;for(s=0;s<a.length;s++){var P=a[s],k=y[P[h]];if(y[P[h]]=null,k){var D=!0;if(k===T){for(;A[x]!==T;)x++;x++,T=S.shift(),D=!1}v(b=k,n,o,c?s:u[s],D,A[x]),D&&A[x]===b&&x++,m(b,[],t,o,a[s],n)}else b=g(t,o,c?s:u[s],a[s],A[x]),x++,b.__wxForKeyStr=String(P[h])}}}else{for(;f.childNodes.length;)_(f.childNodes[0]);if(e instanceof Array)for(s=0;s<a.length;s++)g(t,o,s,a[s]);else for(i in a)g(t,o,i,a[i])}};return y(t.d(i,a,null),i,a,null),f}}},function(e,t){e.exports={attachedToBlock:!0,register:function(e,t,r){r._wxKey=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForIndex=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForItem=t.d},create:function(){}}},function(e,t,r){var n=r(23),i=r(26).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=t.s[0],p=n.create(d,o,s,t.d,t.l,t.b),h={},f="";for(f in s)h[f]=s[f];h[d]=p;var g={};for(f in a)g[f]=a[f];g[d]=t.d(i,a,null);var v=c.createVirtualNode("wx:alias");return r.id&&(v.id=r.id),u(r.c,c,v,i,g,o,h,l),v}}}]),i,a;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};e.r(o),e.d(o,{Behavior:()=>Mi,Component:()=>Hi,CustomComponent:()=>Ui,Page:()=>Qi,addView:()=>va,attachView:()=>ma,beginTapMark:()=>Er,checkTapMark:()=>Ir,componentAliases:()=>Vn,componentPathToAlias:()=>jn,convertComponentAliasToRoute:()=>bn,convertRouteToComponentAlias:()=>An,doDataThreadReplacePlaceholder:()=>xi,enableUpdateWxAppCode:()=>ka,endTapMark:()=>wr,endViewInfoCallback:()=>ei,getDomainByPluginId:()=>Gn,getEntryFile:()=>Pn,getGenericsByPath:()=>Ai,getNodeById:()=>Ta,getNodeId:()=>xa,getOwnerPluginAppId:()=>Pi,getPlaceholderByPath:()=>bi,getPluginRoutePrefix:()=>En,getPluginSubPackagePrefix:()=>wn,getRootNodeId:()=>Pa,getUsingByPath:()=>_i,initBannedMap:()=>J,initViewThread:()=>qi,injectWxss:()=>Si,isLazyLoad:()=>Ei,isSubPackageIndependent:()=>Sn,matchSubPackageName:()=>In,mergeData:()=>Oa,onComponentDef:()=>Ki,onMainPageFrameReady:()=>ii,publishDomainComponents:()=>Qn,removeView:()=>_a,requestViewInfo:()=>Kn,restoreView:()=>Fn,runComponentDef:()=>ia,saveView:()=>Wn,sendTabBarCreationRequest:()=>ua,setModelValueData:()=>wi,triggerGenerateFuncReady:()=>Ii,updateWxAppCode:()=>Da,wrapTapMark:()=>Cr});var s=void 0!==n?n:{};"undefined"!=typeof __useSclExparser__&&__useSclExparser__&&void 0!==__sclEngine__&&(s=__sclEngine__.exparser||s||{});var l=()=>s,c=l(),u={},d=-1,p=null,h=!1,f=()=>h,g=null,v=[],m=null,_=null,y=!1,A=(e,t)=>{var r=e.shift();if(""===r)return d=t,void(p&&p(t));var n=null;u[t=t||0]&&(n=u[t][r]),!n&&u.$GLOBAL&&(n=u.$GLOBAL[r]),n&&n(e,r,t)},b=()=>{_&&(_=clearTimeout(_)),v.length&&g.vdSyncBatch(v,m&&[m]),m=null,v.length=0,y=!1},w=(e,t,r,n)=>{if(t=[e].concat(t),!y||n)return b(),y=!0,void g.vdSync(t,r&&[r]);m!==r&&b(),m=r,v.push(t),y=!0,_||(_=setTimeout((()=>{_=null,b()}),15))},E=()=>{(g=t._virtualDOMTunnel).onVdSync(((e,t)=>{A(e,t)})),g.onVdSyncBatch(((e,t)=>{for(var r=0;r<e.length;r++)A(e[r],t)}))};"undefined"!=typeof __clientsubcontext&&__clientsubcontext?__subContextEngine__.onInitReady(E):E();var C=(e,t,r)=>{if(""===e)return p=t,void(d>=0&&p(d));u[r=r||0]||(u[r]={}),u[r][e]=t},I=e=>{if(0===e.length)return 0;var t=Date.now();return __subContextEngine__.loadJsFiles(e),Date.now()-t},S=(new Set,(e,t)=>{wxNativeConsole.info("[VD] injectSubPackages: "+e.join(", ")),WeixinJSBridge.invoke("injectSubPackages",{subPackages:e},t)}),T=(e,t)=>{if(0===e.length)return t(0),0;var r=Date.now();return WeixinJSBridge.invoke("loadComponents",{comps:e},(()=>{})),Date.now()-r},x=l(),P=/^[-+a-z]+:\/\//i,k=function(e,t){if(P.test(t))return t;var r=e.match(P),n="";r&&(n=r[0],e=e.slice(n.length)),0===t.indexOf("/")&&(e="");var i=e.split("/");i.pop();for(var a=t.split("/");a.length;){var o=a.shift();""!==o&&"."!==o&&(".."!==o?i.push(o):i.pop())}return n+i.join("/")},D=t=>{var r=("undefined"==typeof window?e.g:window).__wcc_version_info__;if(r)return r[t]},R=()=>Math.floor(4294967296*(1+Math.random())).toString(16).slice(1),O=e=>Object.keys(e).map((t=>e[t])),M=(e,t,r)=>{e instanceof x.Component&&(t>0&&r(e),t&&e.shadowRoot instanceof x.Element&&M(e.shadowRoot,t,r),t<0&&r(e));for(var n=e.childNodes,i=0;i<n.length;i++)n[i]instanceof x.Element&&M(n[i],t,r)},L=e=>{var t={};return e.forEach((e=>{t[e]={ok:!1,callbacks:[]}})),{notify(e){t[e]&&(t[e].ok=!0,t[e].callbacks.forEach((e=>e())),t[e].callbacks=[])},on(e,r){t[e]&&(t[e].ok?r():t[e].callbacks.push(r))}}},N=l();var B=class{constructor(){this._idNodeMap={}}getAll(){return this._idNodeMap}getNodeById(e){return this._idNodeMap[e]}getNodeId(e){return e.__wxTmplId}allocNodeId(e,t){var r=t||R();return e.__wxTmplId=r,this._idNodeMap[e.__wxTmplId]=e,r}addNode(){}removeNode(e){if(e.__wxTmplId&&delete this._idNodeMap[e.__wxTmplId],e.childNodes)for(var t=0;t<e.childNodes.length;t++)this.removeNode(e.childNodes[t]);e.shadowRoot instanceof N.Element&&this.removeNode(e.shadowRoot)}},W={WX_EVENT:11,REQUEST_SAVE:12,COMPONENT_DEF:21,SAVE_STATE:22,RESTORE_STATE:23,FLOW_INITIAL_RENDERING_CACHE:24,FLOW_CLEAR_INITIAL_RENDERING_CACHE:25,FLOW_SET_SUBPACKAGE_LOADED:26,SET_DATA_CALLBACK:32,FLOW_SET_DATA:33,FLUSH_BLOCKED:43,FLOW_GROUP:41,FLOW_GROUP_END:42,FLOW_DEPTH:2,FLOW_INITIAL_CREATION:3,FLOW_UPDATE:6,FLOW_DATA_OBSERVER:8,FLOW_APPLY_PROPERTY:4,FLOW_MINIPULATE_CHILD:7,FLOW_CREATE_NODE:5,FLOW_REPEAT:9,FLOW_VIEW_INFO:63,REQUEST_TAB:51,COMPONENT_DEF_TAB:52,FLOW_CREATE_TAB:53,DESTROY_TAB:54,REQUEST_BROADCAST_VIEW_ID:61,RESPONSE_BROADCAST_VIEW_ID:62,BANNING_MAP:90,PERFORMANCE_DATA:91,CALL_METHOD_FROM_WXS:50,RESPONSE_VIEW_INFO:64,MODEL_VALUE_CHANGE:65,FLOW_SET_NODE_ANIMATION_INFO:100,ANIMATION_TRANSITION_END:101,FLOW_CLEAR_NODE_ANIMATION_INFO:102,CLEAR_ANIMATION_COMPLETE:103,FLOW_SET_NODE_NEXT_ANIMATION_INFO:104,LOAD_COMPONENT_DEF:110,FLOW_WAIT_COMPONENT:112,FLOW_REPLACE_PLACEHOLDER:113,FLOW_COMPONENT_DEF_ADD:120,FLOW_INJECT_SUBPACKAGE:121,FLOW_INJECT_COMPONENT:122,FLOW_HOT_UPDATE:900,FLOW_HOT_UPDATE_CHILD:901,FLOW_HOT_UPDATE_RESET:902,UPDATE_COMPONENT_DEF:903,UPDATE_PERFORMANCE_STAT:800,ENABLE_UPDATE_PERFORMANCE_STAT:801,DISABLE_UPDATE_PERFORMANCE_STAT:802},F={};Object.keys(W).forEach((e=>{F[W[e]]=e}));var U=e=>F[e]||`UNKNOWN_EVENT_${e}`,V=0,j=1,G=2,H=l(),Q={},$=1,z=(e,t,r)=>{void 0===e.__resizers?(e.__resizers=[],(e=>{var t=$++;Q[t]=e,H.Observer.create((function(e){"detached"===e.status&&delete Q[t]})).observe(e,{attachStatus:!0})})(e),e.__resizers[t]=r):e.__resizers[t]=r},Y=(e,t)=>{void 0!==e.__resizers&&(e.__resizers[t]=void 0)},Z=l(),q=null,J=e=>{0!==Object.keys(e).length&&(q=e,Sa.listViewId().forEach((t=>{w(W.BANNING_MAP,[e],t)})))},X=e=>{e.$$.style.display="none"},K=e=>{var t=e=>{e instanceof Z.Component?X(e):e instanceof Z.VirtualNode?e.childNodes.forEach((e=>{t(e)})):e instanceof Z.TextNode&&(e.textContent=""),e.__banned=!0};t(e)},ee={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},te={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},re=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],ne={CSS:{},springs:{}};function ie(e,t,r){return Math.min(Math.max(e,t),r)}function ae(e,t){return e.indexOf(t)>-1}function oe(e,t){return e.apply(null,t)}var se={arr:function(e){return Array.isArray(e)},obj:function(e){return ae(Object.prototype.toString.call(e),"Object")},pth:function(e){return se.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||se.svg(e)||e.$$},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return se.hex(e)||se.rgb(e)||se.hsl(e)},key:function(e){return!ee.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function le(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function ce(e,t){var r=le(e),n=ie(se.und(r[0])?1:r[0],.1,100),i=ie(se.und(r[1])?100:r[1],.1,100),a=ie(se.und(r[2])?10:r[2],.1,100),o=ie(se.und(r[3])?0:r[3],.1,100),s=Math.sqrt(i/n),l=a/(2*Math.sqrt(i*n)),c=l<1?s*Math.sqrt(1-l*l):0,u=l<1?(l*s-o)/c:-o+s;function d(e){var r=t?t*e/1e3:e;return r=l<1?Math.exp(-r*l*s)*(1*Math.cos(c*r)+u*Math.sin(c*r)):(1+u*r)*Math.exp(-r*s),0===e||1===e?e:1-r}return t?d:function(){var t=ne.springs[e];if(t)return t;for(var r=1/6,n=0,i=0;;)if(1===d(n+=r)){if(++i>=16)break}else i=0;var a=n*r*1e3;return ne.springs[e]=a,a}}function ue(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var de,pe,he=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function i(e,i,a){return((t(i,a)*e+r(i,a))*e+n(i))*e}function a(e,i,a){return 3*t(i,a)*e*e+2*r(i,a)*e+n(i)}return function(t,r,n,o){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==r||n!==o)for(var l=0;l<11;++l)s[l]=i(l*e,t,n);return function(e){return t===r&&n===o||0===e||1===e?e:i(c(e),r,o)}}function c(r){for(var o=0,l=1;10!==l&&s[l]<=r;++l)o+=e;--l;var c=o+(r-s[l])/(s[l+1]-s[l])*e,u=a(c,t,n);return u>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var s=a(t,r,n);if(0===s)return t;t-=(i(t,r,n)-e)/s}return t}(r,c,t,n):0===u?c:function(e,t,r,n,a){var o,s,l=0;do{(o=i(s=t+(r-t)/2,n,a)-e)>0?r=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(r,o,o+e,t,n)}}}(),fe=(de={linear:function(){return function(e){return e}}},pe={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=ie(e,1,10),n=ie(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){pe[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(pe).forEach((function(e){var t=pe[e];de["easeIn"+e]=t,de["easeOut"+e]=function(e,r){return function(n){return 1-t(e,r)(1-n)}},de["easeInOut"+e]=function(e,r){return function(n){return n<.5?t(e,r)(2*n)/2:1-t(e,r)(-2*n+2)/2}}})),de);function ge(e,t){if(se.fnc(e))return e;var r=e.split("(")[0],n=fe[r],i=le(e);switch(r){case"spring":return ce(e,t);case"cubicBezier":return oe(he,i);case"steps":return oe(ue,i);default:return oe(n,i)}}function ve(e){try{return document.querySelectorAll(e)}catch(e){return}}function me(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],a=0;a<r;a++)if(a in e){var o=e[a];t.call(n,o,a,e)&&i.push(o)}return i}function _e(e){return e.reduce((function(e,t){return e.concat(se.arr(t)?_e(t):t)}),[])}function ye(e){return se.arr(e)?e:(se.str(e)&&(e=ve(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Ae(e,t){return e.some((function(e){return e===t}))}function be(e){var t={};for(var r in e)t[r]=e[r];return t}function we(e,t){var r=be(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function Ee(e,t){var r=be(e);for(var n in t)r[n]=se.und(e[n])?t[n]:e[n];return r}function Ce(e){return se.rgb(e)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+r[1]+",1)":t:se.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):se.hsl(e)?function(e){var t,r,n,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==o)t=r=n=s;else{var u=s<.5?s*(1+o):s+o-s*o,d=2*s-u;t=c(d,u,a+1/3),r=c(d,u,a),n=c(d,u,a-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+l+")"}(e):void 0;var t,r}function Ie(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Se(e,t){return se.fnc(e)?e(t.target,t.id,t.total):e}function Te(e,t){return e.getAttribute(t)}function xe(e,t,r){if(e=e.$$||e,Ae([r,"deg","rad","turn"],Ie(t)))return t;var n=ne.CSS[t+r];if(!se.und(n))return n;var i=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+r;var o=100/i.offsetWidth;a.removeChild(i);var s=o*parseFloat(t);return ne.CSS[t+r]=s,s}function Pe(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e.$$||e).getPropertyValue(n)||"0";return r?xe(e,i,r):i}}function ke(e,t){return se.dom(e)&&!se.inp(e)&&(Te(e,t)||se.svg(e)&&e[t])?"attribute":se.dom(e)&&Ae(re,t)?"transform":se.dom(e)&&"transform"!==t&&Pe(e,t)?"css":null!=e[t]?"object":void 0}function De(e){if(se.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;t=n.exec(r);)i.set(t[1],t[2]);return i}}function Re(e,t,r,n){var i=ae(t,"scale")?1:0+function(e){return ae(e,"translate")||"perspective"===e?"px":ae(e,"rotate")||ae(e,"skew")?"deg":void 0}(t),a=De(e).get(t)||i;return r&&(r.transforms.list.set(t,a),r.transforms.last=t),n?xe(e,a,n):a}function Oe(e,t,r,n){switch(ke(e,t)){case"transform":return Re(e,t,n,r);case"css":return Pe(e,t,r);case"attribute":return Te(e,t);default:return e[t]||0}}function Me(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=Ie(e)||0,i=parseFloat(t),a=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+a+n;case"-":return i-a+n;case"*":return i*a+n}}function Le(e,t){if(se.col(e))return Ce(e);if(/\s/g.test(e))return e;var r=Ie(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function Ne(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Be(e){for(var t,r=e.points,n=0,i=0;i<r.numberOfItems;i++){var a=r.getItem(i);i>0&&(n+=Ne(t,a)),t=a}return n}function We(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*Te(e,"r")}(e);case"rect":return function(e){return 2*Te(e,"width")+2*Te(e,"height")}(e);case"line":return function(e){return Ne({x:Te(e,"x1"),y:Te(e,"y1")},{x:Te(e,"x2"),y:Te(e,"y2")})}(e);case"polyline":return Be(e);case"polygon":return function(e){var t=e.points;return Be(e)+Ne(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Fe(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;se.svg(t)&&se.svg(t.parentNode);)t=t.parentNode;return t}(e),i=n.getBoundingClientRect(),a=Te(n,"viewBox"),o=i.width,s=i.height,l=r.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function Ue(e,t){function r(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var n=Fe(e.el,e.svg),i=r(),a=r(-1),o=r(1);switch(e.property){case"x":return(i.x-n.x)*n.w;case"y":return(i.y-n.y)*n.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function Ve(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=Le(se.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:se.str(e)||t?n.split(r):[]}}function je(e){return me(e?_e(se.arr(e)?e.map(ye):ye(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function Ge(e){var t=je(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:De(e)}}}))}function He(e,t){var r=be(t);if(/^spring/.test(r.easing)&&(r.duration=ce(r.easing)),se.arr(e)){var n=e.length;2===n&&!se.obj(e[0])?e={value:e}:se.fnc(t.duration)||(r.duration=t.duration/n)}var i=se.arr(e)?e:[e];return i.map((function(e,r){var n=se.obj(e)&&!se.pth(e)?e:{value:e};return se.und(n.delay)&&(n.delay=r?0:t.delay),se.und(n.endDelay)&&(n.endDelay=r===i.length-1?t.endDelay:0),n})).map((function(e){return Ee(e,r)}))}function Qe(e,t){var r=[],n=t.keyframes;for(var i in n&&(t=Ee(function(e){for(var t=me(_e(e.map((function(e){return Object.keys(e)}))),(function(e){return se.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var i=t[n];r[i]=e.map((function(e){var t={};for(var r in e)se.key(r)?r==i&&(t.value=e[r]):t[r]=e[r];return t}))},i=0;i<t.length;i++)n(i);return r}(n),t)),t)se.key(i)&&r.push({name:i,tweens:He(t[i],e)});return r}function $e(e,t){var r;return e.tweens.map((function(n){var i=function(e,t){var r={};for(var n in e){var i=Se(e[n],t);se.arr(i)&&1===(i=i.map((function(e){return Se(e,t)}))).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),a=i.value,o=se.arr(a)?a[1]:a,s=Ie(o),l=Oe(t.target,e.name,s,t),c=r?r.to.original:l,u=se.arr(a)?a[0]:c,d=Ie(u)||Ie(l),p=s||d;return se.und(o)&&(o=c),i.from=Ve(u,p),i.to=Ve(Me(o,u),p),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=ge(i.easing,i.duration),i.isPath=se.pth(a),i.isColor=se.col(i.from.original),i.isColor&&(i.round=1),r=i,i}))}var ze={css:function(e,t,n){if(e.$$)return`${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${r.transformRpx(" "+n)};`;e.style[t]=n},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,n,i,a){if(i.list.set(t,n),t===i.last||a){var o="";if(i.list.forEach((function(e,t){o+=t+"("+e+") "})),e.$$)return`transform:${r.transformRpx(" "+o)};`;e.style.transform=o}return""}};function Ye(e,t){Ge(e).forEach((function(e){for(var r in t){var n=Se(t[r],e),i=e.target,a=Ie(n),o=Oe(i,r,a,e),s=Me(Le(n,a||Ie(o)),o),l=ke(i,r);ze[l](i,r,s,e.transforms,!0)}}))}function Ze(e,t){return me(_e(e.map((function(e){return t.map((function(t){return function(e,t){var r=ke(e.target,t.name);if(r){var n=$e(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!se.und(e)}))}function qe(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,i.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,i}var Je=0;var Xe,Ke=[],et=function(){function e(){Xe=requestAnimationFrame(t)}function t(t){var r=Ke.length;if(r){for(var n=0;n<r;){var i=Ke[n];if(i.paused){var a=Ke.indexOf(i);a>-1&&(Ke.splice(a,1),r=Ke.length)}else i.tick(t);n++}e()}else Xe=cancelAnimationFrame(Xe)}return e}();function tt(e){void 0===e&&(e={});var t,r=0,n=0,i=0,a=0,o=null;function s(e){var t=window.Promise&&new Promise((function(e){return o=e}));return e.finished=t,t}var l=function(e){var t=we(ee,e),r=we(te,e),n=Qe(r,e),i=Ge(e.targets),a=Ze(i,n),o=qe(a,r),s=Je;return Je++,Ee(t,{id:s,children:[],animatables:i,animations:a,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}(e);s(l);function c(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function u(e){return l.reversed?l.duration-e:e}function d(){r=0,n=u(l.currentTime)*(1/tt.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function h(e){for(var t=0,r=l.animations,n=r.length,i=[];t<n;){var a=r[t],o=a.animatable,s=a.tweens,c=s.length-1,u=s[c];c&&(u=me(s,(function(t){return e<t.end}))[0]||u);for(var d=ie(e-u.start-u.delay,0,u.duration)/u.duration,p=isNaN(d)?1:u.easing(d),h=u.to.strings,f=u.round,g=[],v=u.to.numbers.length,m=void 0,_=0;_<v;_++){var y=void 0,A=u.to.numbers[_],b=u.from.numbers[_]||0;y=u.isPath?Ue(u.value,p*A):b+p*(A-b),f&&(u.isColor&&_>2||(y=Math.round(y*f)/f)),g.push(y)}var w=h.length;if(w){m=h[0];for(var E=0;E<w;E++){h[E];var C=h[E+1],I=g[E];isNaN(I)||(m+=C?I+C:I+" ")}}else m=g[0];var S=ze[a.type](o.target,a.property,m,o.transforms);i.push(S),a.currentValue=m,t++}1===l.animatables.length&&l.animatables[0].target.$$&&l.animatables[0].target.setNodeStyle(i.join(" "),j)}function f(e){l[e]&&!l.passThrough&&l[e](l)}function g(e){var d=l.duration,g=l.delay,v=d-l.endDelay,m=u(e);l.progress=ie(m/d*100,0,100),l.reversePlayback=m<l.currentTime,t&&function(e){if(l.reversePlayback)for(var r=a;r--;)p(e,t[r]);else for(var n=0;n<a;n++)p(e,t[n])}(m),!l.began&&l.currentTime>0&&(l.began=!0,f("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,f("loopBegin")),m<=g&&0!==l.currentTime&&h(0),(m>=v&&l.currentTime!==d||!d)&&h(d),m>g&&m<v?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,f("changeBegin")),f("change"),h(m)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,f("changeComplete")),l.currentTime=ie(m,0,d),l.began&&f("update"),e>=d&&(n=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(r=i,f("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&c()):(l.paused=!0,l.completed||(l.completed=!0,f("loopComplete"),f("complete"),!l.passThrough&&"Promise"in window&&(o(),s(l)))))}return l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children;for(var r=a=t.length;r--;)l.children[r].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,h(l.reversed?l.duration:0)},l.set=function(e,t){return Ye(e,t),l},l.tick=function(e){i=e,r||(r=i),g((i+(n-r))*tt.speed)},l.seek=function(e){g(u(e))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Ke.push(l),d(),Xe||et())},l.reverse=function(){c(),d()},l.restart=function(){l.reset(),l.play()},l.reset(),l.autoplay&&l.play(),l}function rt(e,t){for(var r=t.length;r--;)Ae(e,t[r].animatable.target)&&t.splice(r,1)}tt.version="3.1.0",tt.speed=1,tt.running=Ke,tt.remove=function(e){for(var t=je(e),r=Ke.length;r--;){var n=Ke[r],i=n.animations,a=n.children;rt(t,i);for(var o=a.length;o--;){var s=a[o],l=s.animations;rt(t,l),l.length||s.children.length||a.splice(o,1)}i.length||a.length||n.pause()}},tt.get=Oe,tt.set=Ye,tt.convertPx=xe,tt.path=function(e,t){var r=se.str(e)?ve(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:Fe(r),totalLength:We(r)*(n/100)}}},tt.setDashoffset=function(e){var t=We(e);return e.setAttribute("stroke-dasharray",t),t},tt.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?ge(t.easing):null,i=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,c="last"===o,u=se.arr(e),d=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,h=Ie(u?e[1]:e)||0,f=t.start||0+(u?d:0),g=[],v=0;return function(e,t,m){if(s&&(o=0),l&&(o=(m-1)/2),c&&(o=m-1),!g.length){for(var _=0;_<m;_++){if(i){var y=l?(i[0]-1)/2:o%i[0],A=l?(i[1]-1)/2:Math.floor(o/i[0]),b=y-_%i[0],w=A-Math.floor(_/i[0]),E=Math.sqrt(b*b+w*w);"x"===a&&(E=-b),"y"===a&&(E=-w),g.push(E)}else g.push(Math.abs(o-_));v=Math.max.apply(Math,g)}n&&(g=g.map((function(e){return n(e/v)*v}))),"reverse"===r&&(g=g.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return f+(u?(p-d)/v:d)*(Math.round(100*g[t])/100)+h}},tt.timeline=function(e){void 0===e&&(e={});var t=tt(e);return t.duration=0,t.add=function(r,n){var i=Ke.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&Ke.splice(i,1);for(var s=0;s<a.length;s++)o(a[s]);var l=Ee(r,we(te,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=se.und(n)?c:Me(n,c),o(t),t.seek(l.timelineOffset);var u=tt(l);o(u),a.push(u);var d=qe(a,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},tt.easing=ge,tt.penner=fe,tt.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var nt=tt,it=["height","left","matrix","matrix3d","opacity","right","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","top","translate","translate3d","translateX","translateY","translateZ","width","backgroundColor","bottom","borderRadius"],at=["easeInElastic","easeOutElastic","easeInOutElastic","easeSpringElastic"],ot=Object.assign,st=Object.keys,lt=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","delay","duration","offset","easing"],ct=["linear","ease","ease-in","ease-out","ease-in-out","cubic-bezier","steps"],ut=(e,t)=>(e=__webViewSDK__.predefinedColor[e]||e,t?[e,e]:e),dt=(e,t)=>{var r=e.length,n=0;return e.map(((e,i)=>{var a,o={};a="offset"in e?e.offset:1===r?1:i/(r-1);var s=n===a;return st(e).forEach((t=>{lt.indexOf(t)>-1||("transform"!==t?o[t]=ut(e[t],s):ot(o,((e,t)=>{if("none"===(e=e.toLowerCase().trim()))return{};for(var r,n={},i=lt.map((e=>e.toLowerCase())),a={scale3d:"AAA",translate:"Aa",translate3d:"AAA",rotate3d:"AAAA",matrix3d:"AAAAAA",matrix:"AAAAAAAAAAAAAAAA"},o=["rotate3d","matrix","matrix3d"],s=/\s*(\w+)\(([^)]*)\)/g,l=0;r=s.exec(e);){if(r.index!==l)return{};l=r.index+r[0].length;var c=r[1],u=r[2].split(",");if(i.indexOf(c)>-1)n[c.replace(/(x|y|z)$/,(e=>e.toUpperCase()))]=ut(u.join(" "),t);else{if(!(st(a).indexOf(c)>-1))return{};var d=a[c];if(u.length>d.length)return{};for(var p=d.length-1;p>=0;p--){var h=d[p];if("a"!==h||u[p]){if("A"===h&&!u[p])return{};-1===o.indexOf(c)&&(n[c.replace("3d","")+String.fromCharCode(88+p)]=ut(u[p].trim(),t))}}}}return n})(e[t],s)))})),s?o.duration=0:(o.duration=(a-n)*t,n=a),o}))},pt=e=>{for(var t=0;t<ct.length&&0!==e.indexOf(ct[t]);t++);if(t===ct.length)return"linear";switch(e){case"ease":return"cubicBezier(0.25, 0.1, 0.25, 1)";case"ease-in":return"cubicBezier(0.42, 0, 1, 1)";case"ease-out":return"cubicBezier(0, 0, 0.58, 1)";case"ease-in-out":return"cubicBezier(0.42, 0, 0.58, 1)";default:return e.replace(/^cubic-bezier/,"cubicBezier")}};class ht{constructor(e,t){this._nativeSupported="function"==typeof HTMLElement.prototype.animate;var r=e.keyframeOptions,n=this.direction=r.direction;if(this.timeline=t,this._nativeSupported){var i=((e,t)=>{var r=t.easing;return delete t.easing,e.map((e=>(e.easing=r,e)))})(e.keyframeSet,r);this._inst=e.element.$$.animate(i,ot(r,{fill:"both"})),this._inst.pause()}else this._inst=nt({targets:e.element,keyframes:dt(e.keyframeSet,r.duration),autoplay:!1,loop:r.iterations===1/0||r.iterations,easing:pt(r.easing),direction:"normal",delay:"reverse"===n?r.endDelay:r.delay,endDelay:"reverse"===n?r.delay:r.endDelay});t._driven(this)}set currentTime(e){if(!isNaN(e)){var t=this._inst;this._nativeSupported?t.currentTime=e:"reverse"===this.direction?t.seek(t.duration-e):t.seek(e)}}cancel(){this._nativeSupported?this._inst.cancel():this._inst.reset(),this.timeline._destroy(),this._inst=null}}class ft{constructor(e,t){if(t.scrollSource){if(this._scrollNode=window.__DOMTree__.shadowRoot.querySelector(t.scrollSource),this._scrollNode||(this._scrollNode=e&&e.querySelector(t.scrollSource)),!this._scrollNode)throw new Error(`Cannot find scroll source by ${t.scrollSource} selector.`)}else this._scrollNode=window.__DOMTree__;this.orientation=t.orientation||"vertical",this.startScrollOffset=t.startScrollOffset,this.endScrollOffset=t.endScrollOffset,this.timeRange=t.timeRange,this.fill=t.fill||"both",this._scroll=this._scroll.bind(this)}_calcCurrentTime(e,t){var r=this.startScrollOffset,n=this.endScrollOffset,i=this.fill,a=this.timeRange,o=e.scrollTop,s=e.scrollHeight-t.$$.offsetHeight;return"horizontal"===this.orientation&&(o=e.scrollLeft,s=e.scrollWidth-t.$$.offsetWidth),o<r?"none"===i||"forwards"===i?NaN:0:o>=n?n<s&&("none"===i||"backwards"===i)?NaN:a:r>=n?NaN:(o-r)/(n-r)*a}_scroll(){var e=this._calcCurrentTime(this._scrollNode===window.__DOMTree__?window.__DOMTree__.$$:this._scrollNode.getScrollPosition(),this._scrollNode);this._animation.currentTime=e}_driven(e){this._animation=e,this._scrollNode===window.__DOMTree__?document.addEventListener("scroll",this._scroll,{capture:!0,passive:!0}):this._scrollNode.$$.addEventListener("scroll",this._scroll,{capture:!0,passive:!0}),this._scroll()}_destroy(){this._scrollNode===window.__DOMTree__?document.removeEventListener("scroll",this._scroll,{capture:!0,passive:!0}):this._scrollNode.$$.removeEventListener("scroll",this._scroll,{capture:!0,passive:!0})}}var gt=(e,t,r,n,i)=>{var a={element:t,keyframeSet:r,keyframeOptions:{delay:n.delay||0,direction:n.direction||"normal",duration:n.duration||0,easing:n.easing||"linear",endDelay:n.endDelay||0,iterations:1}},o=new ft(e,i);t.__scrollAnimations=t.__scrollAnimations||[],t.__scrollAnimations.push(new ht(a,o))},vt=({nodeId:e,selector:t,options:r,duration:n,timeline:i},a)=>{for(var o=a.nodeId.getNodeById(e),s=(o=o?o.shadowRoot:window.__DOMTree__?window.__DOMTree__.shadowRoot:null)?o.querySelectorAll(t):[],l=0;l<s.length;l++)gt(o,s[l],r,{duration:n},i)},mt=(e,t)=>{for(var r=[],n=0;n<e.length;++n)r.push(Object.assign({},e[n]));r[0].offset=0,r[r.length-1].offset=1;for(var i=function(e){r[e].offset=function(e,t){if("number"==typeof t[e].offset)return t[e].offset;for(var r=e+1;r<t.length;++r)if(t[r].offset)return(t[r].offset-t[e-1].offset)/(r-e+1)+t[e-1].offset;return 0}(e,r),r[e].duration=0===e?0:(r[e].offset-r[e-1].offset)*t,at.some((t=>r[e].ease&&r[e].ease.startsWith(t)))&&(r[e].type="animeJS")},a=0;a<r.length;++a)i(a);return r},_t=l(),yt=void 0!==r&&r.transformRpx,At={},bt={},wt=0,Et=1,Ct=2,It=function(e){return Object.keys(e).filter((t=>!(/transform|transition/i.test(t)&&""===e[t]||""===t.trim()||void 0===e[t]||""===e[t]||!isNaN(parseInt(t,10))))).map((t=>`${t.replace(/([A-Z]{1})/g,(e=>`-${e.toLowerCase()}`))}:${e[t]}`)).join(";")},St=(e,t)=>{var{nodeId:r,webviewId:n,options:i,selector:a,reqId:o,hasCallback:s,fromWxs:l}=e,c=Ta(r,n);if(c){var u=c.shadowRoot,d=t||u.querySelectorAll(a);if(t){var p=()=>{if(l){var e=Sa.instance,t=e.clearAnimationCbMap[o];"function"==typeof t&&(delete e.clearAnimationCbMap[o],_t.safeCallback("Clear Animation",t,null,[]))}else w(W.CLEAR_ANIMATION_COMPLETE,{reqId:o})};if((e=>{(e.__scrollAnimations||[]).forEach((e=>{e.cancel()})),e.__scrollAnimations=[]})(d),!i||"function"==typeof i||!d.__styleObj)return d.__animeOptions&&(d.__animeOptions.forEach((e=>"function"==typeof e.reset&&e.reset())),d.__animeOptions=[]),d.setNodeStyle("",j),Y(d,j),d.__styleObj=null,d.__animateStatus=wt,d.__animationPendingQueue=[],void p();var h=d.__styleObj.transform.split(" ");for(var f in i)if(i[f])if(d.__styleObj["backgroundColor"===f?"background-color":f])delete d.__styleObj["backgroundColor"===f?"background-color":f];else for(var g=0;g<h.length;++g)h[g].indexOf(f)>=0&&h.splice(g,1);d.__styleObj.transform=h.join(" "),d.__styleObj["-webkit-transform"]=h.join(" "),d.__styleObj.transition="unset",d.__styleObj.transitionProperty="unset",d.__styleObj["-webkit-transition"]="unset",d.__styleObj["-webkit-transition-property"]="unset";var v=e=>{d.setNodeStyle(yt(e,!0),j)};v(It(d.__styleObj)),z(d,j,v),d.__animateStatus=wt,--bt[o],0===bt[o]&&s&&p()}else{bt[o]=d.length;for(var m=0;m<d.length;++m)St(e,d[m])}}},Tt=(e,t)=>{var{nodeId:r,webviewId:n,selector:i}=e,a=Ta(r,n);if(a){var o=a.shadowRoot,s=t||o.querySelectorAll(i);if(t)s.__animationPendingQueue&&s.__animationPendingQueue.length>0&&setTimeout((function(){s.__animateStatus=Ct,xt(s.__animationPendingQueue.shift(),s,!0)}),32);else for(var l=0;l<s.length;++l)Tt(JSON.parse(JSON.stringify(e)),s[l])}},xt=(e,t,n)=>{r.nextTick((()=>{var{nodeId:i,webviewId:a,options:o,selector:s,reqId:l,hasCallback:c,type:u,isLastAnimation:d,fromWxs:p}=e,h=Ta(i,a);if(h){var f=h.shadowRoot,g=t||f.querySelectorAll(s);if(t){if(g.__animateStatus===Et||g.__animateStatus===Ct&&!n)return g.__animationPendingQueue||(g.__animationPendingQueue=[]),void g.__animationPendingQueue.push(JSON.parse(JSON.stringify(e)));g.__hasCallback=c,g.__reqId=l,g.__args=JSON.stringify(e);var v=["height","left","matrix","matrix3d","opacity","right","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","top","translate","translate3d","translateX","translateY","translateZ","width","backgroundColor","bottom"],m=["opacity","backgroundColor","width","height","left","top","bottom"],_=["rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY","translateX","translateY","translateZ"],y="animeJS"===u,A=(t,r=!0)=>{if(g.__animateStatus===Et){if(--At[g.__reqId],g.__animationPendingQueue&&g.__animationPendingQueue.length>0&&!g.__hasCallback?(g.__animateStatus=Ct,xt(g.__animationPendingQueue.shift(),g,!0)):g.__animateStatus=wt,"function"==typeof t)g.__styleObj.transition="unset",g.__styleObj.transitionProperty="unset",g.__styleObj["-webkit-transition"]="unset",g.__styleObj["-webkit-transition-property"]="unset",t(It(g.__styleObj));if(0===At[g.__reqId]&&g.__hasCallback&&r)if(p){var n=Sa.instance,i=n.applyAnimationCbMap[g.__reqId];"function"==typeof i&&(delete n.applyAnimationCbMap[g.__reqId],_t.safeCallback("Animation",i,null,[])),Tt(e)}else w(W.ANIMATION_TRANSITION_END,{reqId:g.__reqId,args:g.__args})}},b=[];for(var E in o)v.indexOf(E)>=0&&(m.indexOf(E)>=0?b.push({type:"style",args:["backgroundColor"===E?"background-color":E,o[E]]}):_.indexOf(E)>=0?b.push({type:E,args:[o[E]]}):b.push({type:E,args:o[E]}));var C={transition:{delay:o.delay||0,duration:o.duration||0,timingFunction:o.ease||"linear"},transformOrigin:o.transformOrigin||"50% 50% 0"},I={option:C,animates:b},{transition:S,transitionProperty:T,transform:x,transformOrigin:P,style:k}=r.animationToStyle(I),D=g.__styleObj?Object.assign({},g.__styleObj,{transition:S,transform:x,transitionProperty:T,transformOrigin:P}):{transition:S,transform:x,transitionProperty:T,transformOrigin:P};for(var R in D["-webkit-transition"]=D.transition,D["-webkit-transform"]=D.transform,D["-webkit-transition-property"]=D.transitionProperty,D["-webkit-transform-origin"]=D.transformOrigin,k)D[R]=k[R];if(g.__styleObj&&D.transform===g.__styleObj.transform){var O=!0;for(var M in D)m.indexOf(M)>=0&&g.__styleObj[M]!==D[M]&&(O=!1);if(O)return void setTimeout((function(){g.__animationPendingQueue&&g.__animationPendingQueue.length>0&&xt(g.__animationPendingQueue.shift(),g,!0)}),C.duration)}if(0===C.transition.duration?(D.transition="unset",D.transitionProperty="unset",D["-webkit-transition"]="unset",D["-webkit-transition-property"]="unset"):g.__animateStatus=Et,g.__styleObj=D,y){o.targets=g,o.ease&&(o.easing=o.ease,delete o.ease),(e=>{Object.keys(e).forEach((t=>{if(it.includes(t)){var n=e[t];"string"==typeof n?e[t]=r.transformRpx(e[t],!0):"object"==typeof n&&"string"==typeof n.value?e[t].value=r.transformRpx(e[t].value,!0):Array.isArray(n)&&n.map((e=>{if("string"==typeof e.value)e.value=r.transformRpx(e.value,!0);else if("string"==typeof e)return r.transformRpx(e,!0);return e}))}}))})(o),g.__animateStatus=Et,g.__banned&&X(g);var L=o.complete;o.complete=(...e)=>{A(void 0,d),"function"==typeof L&&L(...e)};var N=nt(o);g.__animeOptions||(g.__animeOptions=[]),g.__animeOptions.push(N)}else{var B=It(D),F=e=>{var t=()=>{g.setNodeStyle(yt(e,!0),j)};t(),z(g,j,t)};0===C.transition.duration?F(B):setTimeout((function(){F(B)}),32),g.__banned&&X(g),g.__animationListener||(g.addListener("transitionend",(()=>{A(F)})),g.__animationListener=!0),0===C.transition.duration&&(g.__animationPendingQueue&&g.__animationPendingQueue.length>0?(g.__animateStatus=Ct,xt(g.__animationPendingQueue.shift(),g,!0)):g.__animateStatus=wt)}}else{At[l]=g.length;for(var U=0;U<g.length;++U)xt(JSON.parse(JSON.stringify(e)),g[U])}}}))},Pt=(e,t)=>{var r=e.$$,n={};if(t.id&&(n.id=e.id||""),t.dataset&&(n.dataset=e.dataset||{}),t.mark&&(n.mark=e.collectMarks()||{}),t.rect||t.size){var i=r.getBoundingClientRect();t.rect&&(n.left=i.left,n.right=i.right,n.top=i.top,n.bottom=i.bottom),t.size&&(n.width=i.width,n.height=i.height)}if(t.properties&&t.properties.forEach((t=>{var r=t.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));_t.Component.hasPublicProperty(e,r)&&(n[r]=e[r])})),t.scrollOffset)if(e.hasBehavior("wx-positioning-container")){var a=e.getScrollPosition();n.scrollLeft=a.scrollLeft,n.scrollTop=a.scrollTop,n.scrollWidth=a.scrollWidth,n.scrollHeight=a.scrollHeight}else n.scrollLeft=0,n.scrollTop=0,n.scrollWidth=0,n.scrollHeight=0;if(t.computedStyle&&t.computedStyle.length)for(var o=window.getComputedStyle(r),s=0,l=t.computedStyle.length;s<l;s++){var c=t.computedStyle[s];c&&void 0!==o[c]&&(n[c]=o[c])}return t.context&&(n.contextIs=e.is,n.contextId="function"==typeof e.getContextId&&e.getContextId(),n.contextCanvasId=e.canvasId||""),t.node&&(n.nodeIs=e.is,n.nodeId="function"==typeof e.getContextId&&e.getContextId(),n.nodeCanvasId=e.canvasId||"",n.nodeCanvasType=e.type||"",n.nodeNodeId=e.getNodeId()),n},kt=(e,t)=>{var r=[],{pluginId:n,queue:i}=e;return i.forEach((e=>{var i=e.component,a=e.selector,o=e.single,s=e.fields,l=null;if(0===i)l=(e=>{var t={};return e.id&&(t.id=""),e.dataset&&(t.dataset={}),e.mark&&(t.mark={}),e.rect&&(t.left=0,t.right=0,t.top=0,t.bottom=0),e.size&&(t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight),e.scrollOffset&&(t.scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft||0,t.scrollTop=document.documentElement.scrollTop||document.body.scrollTop||0,t.scrollWidth=document.documentElement.scrollWidth||document.body.scrollWidth||0,t.scrollHeight=document.documentElement.scrollHeight||document.body.scrollHeight||0),t})(s);else{var c=t.nodeId.getNodeById(i),u=!1;if(c?(_t.Component.getComponentOptions(c).writeOnly&&(u=!0),c=c.shadowRoot):n||(c=window.__DOMTree__?window.__DOMTree__.shadowRoot:null),o){var d=c&&!u?c.querySelector(a):null;l=d?Pt(d,s):null}else{var p=c&&!u?c.querySelectorAll(a):[];l=[];for(var h=0;h<p.length;h++)l.push(Pt(p[h],s))}}r.push(l)})),r},Dt=l(),Rt={},Ot={},Mt={},Lt=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Nt=(e,t)=>{var r={left:e.left<t.left?t.left:e.left,top:e.top<t.top?t.top:e.top,right:e.right>t.right?t.right:e.right,bottom:e.bottom>t.bottom?t.bottom:e.bottom,width:0,height:0};return r.right>r.left?r.width=r.right-r.left:r.right=r.left=r.bottom=r.top=0,r.bottom>r.top?r.height=r.bottom-r.top:r.right=r.left=r.bottom=r.top=0,r},Bt=e=>{var{targetNode:t,relatives:r,thresholds:n,minWidthOrHeight:i,cb:a,currentRatio:o}=e,s=(e=>{for(var t=document.documentElement.clientWidth,r=document.documentElement.clientHeight,n=null,i=0;i<e.length;i++){var{node:a,margins:o}=e[i],s=a?a.$$.getBoundingClientRect():{left:0,top:0,right:t,bottom:r,width:t,height:r},l={left:s.left-o.left,top:s.top-o.top,right:s.right+o.right,bottom:s.bottom+o.bottom};n=n?Nt(n,l):l}return n})(r),l=Lt(t.$$.getBoundingClientRect());l.right-l.left<i&&(l.right=l.left+i,l.width=i),l.bottom-l.top<i&&(l.bottom=l.top+i,l.height=i);var c=Nt(s,l),u=l.width*l.height,d=u?c.width*c.height/u:0;e.currentRatio=d;var p=void 0===o;d!==o&&n.forEach((e=>{if(p)return!1;(d<=e&&o>=e||d>=e&&o<=e)&&(p=!0)})),p&&a.call(t,{id:t.id,dataset:t.dataset,time:Date.now(),boundingClientRect:l,intersectionRatio:d,intersectionRect:Lt(c),relativeRect:s})},Wt=e=>({left:(e=e||{}).left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}),Ft=(e,t,r,n,i)=>{var a=null;if((n=n||{}).observeAll)a=e.querySelectorAll(t);else{var o=e.querySelector(t);a=o?[o]:[]}a.length||console.warn('For developer:Node "'+t+'" is not found. Intersection observer will not trigger.');var s=[];return r.forEach((t=>{var{selector:r,margins:n}=t,i=null==r?null:e.querySelector(r);i||null==r?s.push({node:i,margins:Wt(n)}):console.warn('For developer:Node "'+r+'" is not found. The relative node for intersection observer will be ignored.')})),s.length||console.warn("For developer:Intersection observer will be ignored because no relative nodes are found."),((e,t,r,n,i,a)=>{var o=R();if(!e.length||!t.length)return o;var s=e.length;return Mt[o]=s,e.forEach(((e,l)=>{var c=o+"#"+l,u={targetNode:e,relatives:t,thresholds:r,currentRatio:n,minWidthOrHeight:i,cb:a},d=Dt.Observer.create((function(e){"attached"===e.status?(Rt[c]=u,requestAnimationFrame((()=>{Bt(u)}))):"detached"===e.status&&(delete Rt[c],d.disconnect(),delete Ot[c],--s||delete Mt[o])}));Ot[c]=d,d.observe(e,{attachStatus:!0}),Dt.Element.isAttached(e)&&(Rt[c]=u,requestAnimationFrame((()=>{Bt(u)})))})),o})(a,s,n.thresholds||[0],n.initialRatio||0,n.minWidthOrHeight||0,i)},Ut=!1,Vt=()=>{Ut||(Ut=!0,requestAnimationFrame((()=>{Ut=!1,(()=>{for(var e in Rt)Bt(Rt[e])})()})))};"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.addEventListener&&(document.addEventListener("pageReRender",(function(){Vt()})),window.addEventListener("scroll",(function(){Vt()}),{capture:!0,passive:!0}));var jt=(e,t,r)=>{if("addIntersectionObserver"===e.type){var n=null;if(e.nodeId){var i=t.nodeId.getNodeById(e.nodeId);if(!i)return;n=i.shadowRoot}else e.pluginId||(n=window.__DOMTree__.shadowRoot);if(!n)return;return{observerId:Ft(n,e.targetSelector,e.relativeInfo,e.options,(e=>{r({info:e})}))}}if("removeIntersectionObserver"===e.type)return(e=>{var t=Mt[e];delete Mt[e];for(var r=0;r<t;r++){var n=e+"#"+r,i=Ot[n];if(!i)break;delete Rt[n],i.disconnect(),delete Ot[n]}})(e.observerId),{reqEnd:!0}},Gt=1,Ht={},Qt=(e,t)=>{var r=(e=>{if("object"!=typeof e)return"";var t="";return["minWidth","maxWidth","width","minHeight","maxHeight","height"].forEach((r=>{if(void 0!==e[r]){var n=Number(e[r]);n>=0||(n="");var i=r.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));t&&(t+=" and "),t+=`(${i}: ${n}px)`}})),["orientation"].forEach((r=>{if(void 0!==e[r]){var n=/^[-_a-z0-9]+$/i.test(e[r])?e[r]:"",i=r.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));t&&(t+=" and "),t+=`(${i}: ${n})`}})),t})(e),n=window.matchMedia(r),i=Gt++,a=e=>{t({matches:e.matches})};return Ht[i]={observer:n,listener:a},n.addListener(a),t({matches:n.matches}),i},$t=(e,t)=>"addMediaQueryObserver"===e.type?{observerId:Qt(e.mediaQueryCond,(e=>{t({info:e})}))}:"removeMediaQueryObserver"===e.type?((e=>{var{observer:t,listener:r}=Ht[e];t.removeListener(r),delete Ht[e]})(e.observerId),{reqEnd:!0}):void 0,zt=l();class Yt{constructor(e,t,r){this._treeManager=e,this._arr=t,this._depth=0,this._startCb=r}_consumeHead(){return this._arr.shift()}nextStepType(){return this._arr[0][0]}nextStep(){for(;this._arr[0][0]===W.FLOW_DEPTH;)this._startCb(this._treeManager);if(this._arr[0][0]===W.FLOW_REPEAT){var e=this._arr[0][2];return--this._arr[0][1]||this._consumeHead(),[e]}return this._consumeHead()}nextStepIf(e){for(;this._arr[0][0]===W.FLOW_DEPTH;)this._startCb(this._treeManager);return this._arr[0][0]===e?this._consumeHead():null}expectStart(){var e=this._consumeHead();if(this._depth++,e[0]!==W.FLOW_DEPTH||e[1]!==this._depth)throw new Error(`Framework inner error (expect START descriptor with depth ${this._depth} but get ${U(e[0])})`);return e[2]}expectEnd(){for(;this._arr[0][0]===W.FLOW_DEPTH&&this._arr[0][1]!==this._depth-1;)this._startCb(this._treeManager);var e=this._consumeHead();if(this._depth--,e[0]!==W.FLOW_DEPTH||e[1]!==this._depth)throw new Error(`Framework inner error (expect END descriptor with depth ${this._depth} but get ${U(e[0])})`)}skipToEnd(){for(;this._arr[0];)if(this._arr[0][0]!==W.FLOW_DEPTH)this._consumeHead();else{if(this._arr[0][1]===this._depth-1)break;this._startCb(this._treeManager)}}getQueueLength(){return this._arr.length}getDepth(){return this._depth}}class Zt{constructor(e,t){var r=this;this._viewId=e,this._treeManager=t,this._depth=0,this._curWinSize=0,this._setDataCallbackInc=1,this._pendingSetDataCallbacks=[],this._setDataCallbackMap={},this._received=[],this._cache=[],this._blocked=[],this._isBlocked=!0,this._fetchingViewInfoCallbacks=[];var n=(e,t)=>{if(this._received.push([t].concat(e)),t===W.FLOW_DEPTH&&(this._depth=e[0],0===this._depth)){var r=this._received;this._received=[],this._isBlocked?this._blocked.push(r):(this.iterator=new Yt(this._treeManager,r,Zt._startCb),Zt._startCb(this._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{})),w(W.SET_DATA_CALLBACK,[this._pendingSetDataCallbacks],null,!0),this._pendingSetDataCallbacks=[],this.checkDelayFetchingViewInfo())}};for(var i in W)"FLOW_"===i.slice(0,5)&&("FLOW_SET_DATA"===i?C(W[i],(([e])=>{this._pendingSetDataCallbacks.push(e)}),e):"FLOW_VIEW_INFO"===i?function(){var t=([e,t,n])=>{var i=null;"selectorQuery"===e?i=kt(t,r._treeManager):"intersection"===e?i=jt(t,r._treeManager,(e=>{w(W.RESPONSE_VIEW_INFO,[e,n])})):"matchMedia"===e&&(i=$t(t,(e=>{w(W.RESPONSE_VIEW_INFO,[e,n])}))),i&&w(W.RESPONSE_VIEW_INFO,[i,n])};C(W[i],(e=>{r._received.length||r._isBlocked?r._fetchingViewInfoCallbacks.push(t.bind(r,e)):t(e)}),e)}():"FLOW_SET_NODE_ANIMATION_INFO"===i?C(W[i],(e=>{"scrollTimeline"===e[0].type?vt(e[0],this._treeManager):xt(e[0])})):"FLOW_CLEAR_NODE_ANIMATION_INFO"===i?C(W[i],(e=>{St(e[0])})):"FLOW_SET_NODE_NEXT_ANIMATION_INFO"===i?C(W[i],(e=>{Tt(e[0])})):C(W[i],n,e));C(W.SET_DATA_CALLBACK,(([e])=>{this.triggerSetDataCallbacks(e)}),e)}flushBlocked(){for(;this._blocked.length&&!this._isBlocked;)try{var e=this._blocked.shift();this.iterator=new Yt(this._treeManager,e,Zt._startCb),Zt._startCb(this._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{}))}catch(e){console.error(e.message),Reporter.errorReport({key:"webviewScriptError",error:e})}this._blocked.length||(w(W.SET_DATA_CALLBACK,[this._pendingSetDataCallbacks],null,!0),this._pendingSetDataCallbacks=[],this.checkDelayFetchingViewInfo())}unblock(){this._isBlocked=!1,this.flushBlocked()}block(){this._isBlocked||(this._isBlocked=!0)}sendInIndividualFlow(e){this.start(Date.now()),this.push(e),this.end()}start(){this.flush(),this._depth++,w(W.FLOW_DEPTH,[this._depth,Date.now()],this._viewId)}dedupe(){var e=this._cache;if(this._curWinSize){if(2===e.length){var t=e[1][2];if(e[0][0]!==t){var r=e.pop(),n=r.shift();w(n,r,this._viewId)}else e.shift(),e[0][1]++}}else{var i=0;if(e.length>2&&e[0][0]===e[1][0]&&e[0][0]===e[2][0]&&e[0][0]!==W.FLOW_SET_DATA&&e[0][0]!==W.FLOW_VIEW_INFO&&(i=1),i){var a=e[0][0];e.splice(0,3),this.flush(),this._curWinSize=1,e.unshift([W.FLOW_REPEAT,3,a])}else if(e.length>3){var o=e.pop(),s=o.shift();w(s,o,this._viewId)}}}push(e){this._cache.unshift(e),1!==e.length?this.flush():this.dedupe()}flush(){for(this._curWinSize=0;this._cache.length;){var e=this._cache.pop(),t=e.shift();w(t,e,this._viewId)}}end(){this.flush(),this._depth--,w(W.FLOW_DEPTH,this._depth,this._viewId),0===this._depth&&b()}checkDelayFetchingViewInfo(){if(this._fetchingViewInfoCallbacks.length){var e=this._fetchingViewInfoCallbacks;this._fetchingViewInfoCallbacks=[],e.forEach((e=>e()))}}registerSetDataCallback(e,t,r){var n=this._setDataCallbackInc++;this._setDataCallbackMap[n]=[e,t,r],this.push([W.FLOW_SET_DATA,n])}triggerSetDataCallbacks(e){for(var t=0;t<e.length;t++){var r=e[t],[n,i,a]=this._setDataCallbackMap[r];delete this._setDataCallbackMap[r],zt.safeCallback("SetData Callback",n,i,[],a)}}static setStartOperation(e){Zt._startCb=e}}var qt=Zt,Jt=l(),Xt=Object.prototype.hasOwnProperty,Kt=Jt.dataUtils.deepCopy,er=(e,t,r,n,i)=>{for(var a=i?Kt(e):e,o=0;o<t.length;o++){var s=t[o],l=s[0],c=s[1],u=s[2];if(void 0!==c){for(var d=a,p=l[0],h=1;h<l.length;h++)if(null!=(d=d[p])&&d.__wxspec__&&(d=d.__value__),p=l[h],null!=d&&!Xt.call(d,p)){d=null;break}null!=d&&Xt.call(d,p)&&(r?null!=u&&"object"==typeof c&&c instanceof Array==u instanceof Array?d[p]={__value__:u,__wxspec__:!0}:null!=d[p]&&d[p].__wxspec__||(d[p]={__value__:d[p],__wxspec__:!0}):d[p]=n?Kt(c,!1):c)}}return a},tr={restoring:null,idDataMap:null,compIdArr:null,compExtraDataMap:null,compIdArrIndex:0,onReady:()=>{}},rr=l(),nr={},ir=(e,r)=>{var n=rr.Component.getComponentOptions(e).domain;if("/"!==n&&"//"!==n&&n){var i=n.split("/",1)[0],a=r,o=a.viewId;if(nr[o]||(nr[o]={}),!nr[o][i]){nr[o][i]=!0;var s=[i,t.pluginInfos[i].version,a.rootCompName,t.getLaunchOptionsSync().sessionid||t.getLaunchOptionsSync().sessionId||"",0,""].map(encodeURIComponent).join(",");void 0!==Reporter&&(Reporter.reportKeyValue({key:"PluginDisplay",value:s,force:!0}),Reporter.reportIDKey({key:"pluginDisplayInPage",force:!0}))}}},ar=0,or=0,sr=0,lr=(e,t,r,n)=>{var i=r-t,a=r-e,o=Math.ceil(sr/(or||1)),s=[ar,1,i,or,o,1,a,n].map(encodeURIComponent).join(",");ar=0,or=0,sr=0,void 0!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:s,force:!0})},cr=0,ur=0,dr=0,pr=0,hr=0,fr=0,gr=()=>{var e=["libVersion","isFirstPage","isWebview","totalComps","loadedComps","lazyedComps","loadTime","lazyLoadTime"],t=new Set(e),n={},i=!1,a=(r,a)=>{i||(n[r]=a,t.has(r)&&t.delete(r),0===t.size&&((()=>{if(void 0!==Reporter){var t=e.map((e=>encodeURIComponent(n[e]))).join(",");Reporter.reportKeyValue({key:"LazyCodeLoading",value:t,immediately:!0})}})(),i=!0))};return a("libVersion",r.version.version),a("isWebview",!1),a("lazyedComps",0),a("lazyLoadTime",0),{set:a}},vr={},mr=/-[a-z]/g,_r=/([A-Z])/g,yr=e=>vr[e]||(vr[e]=e.replace(_r,"-$1").toLowerCase()),Ar=0,br=setTimeout,wr=function(e){Ar===e&&(Ar=0)},Er=function(){return Ar=Date.now()+Math.random()},Cr=function(e){var t,r=Er();try{t=e(r)}catch(e){throw br((()=>{wr(r)}),0),e}return br((()=>{wr(r)}),0),t},Ir=function(){return!!Ar},Sr=l(),Tr=(Object.prototype.hasOwnProperty,null),xr=(e,t)=>Tr?Tr(e,"nv_",t?2:void 0):e,Pr=(e,t=!1)=>Tr?Tr(e,void 0,t?2:void 0):e,kr=(e,t,r)=>t?r?t+e+r:t||"":r||"",Dr=([e,t,r,n,i])=>{if(n||(n={}),t){var o=Sa.get(e);if(!o)return;var s=o.nodeId.getNodeById(t);if(!s)return;var l=Sr.Element.getMethodCaller(s);l&&"function"==typeof l[r]&&(i?Cr((()=>{l[r](n)})):l[r](n))}else{var c=a.getCurrentPagesByDomain("");if(!c.length)return;var u=c[c.length-1];u&&"function"==typeof u[r]&&(i?Cr((()=>{u[r](n)})):u[r](n))}};t.onCallMethodFromWxs(Dr);var Rr=(e,t,r)=>{if(t.__wxsStyle||t.__wxsClass){var n={wxsStyle:t.__wxsStyle,wxsClass:t.__wxsClass,index:r,wxsState:Pr(t.__wxsState)};if(t.ownerShadowRoot&&Sa.instance){var i=Sa.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);e._custom=e._custom||{},(e=e._custom)[i]=e[i]||{},e=e[i]}e[t.is]=e[t.is]||[],e[t.is].push(n)}},Or=(e,t,r)=>{if(e){var n=null;if(t.ownerShadowRoot&&Sa.instance&&e._custom){var i=Sa.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);if(!(e=e._custom)[i])return;e=e[i]}e[t.is]&&e[t.is].length&&e[t.is][0]&&e[t.is][0].index===r&&(n=e[t.is].shift()),n&&((e,t)=>{if(e.__wxsStyle=t.wxsStyle,e.__wxsClass=t.wxsClass,e.__wxsState=xr(t.wxsState),t.wxsStyle){var r=()=>{var t=window.wx.transformRpx(e.__wxsStyle,!0);e.setNodeStyle(t,G)};r(),z(e,G,r)}t.wxsClass&&(e.class=kr(" ",e.class,t.wxsClass))})(t,n)}},Mr=l(),Lr=void 0!==r&&r.transformRpx,Nr=Mr.Component.getComponentOptions,Br=e=>e instanceof Mr.Component?Sa.get(e.__wxWebviewId__).nodeId.getNodeById(e.__wxExparserNodeId__):e,Wr=(e,t,r)=>{var n=Br(e);return r&&n instanceof Mr.VirtualNode&&(n.id||Object.getOwnPropertyNames(n.dataset).length||(n=Br(r))),{id:t?"":n.id,dataset:t?{}:n.dataset}},Fr=(e,t,r,n,i,a,o,s)=>{var l=a?"__wxEventCaptureHandleName":"__wxEventHandleName";t[l]||(t[l]=Object.create(null)),void 0===t[l][r]&&t.addListener(r,(function(e){var n=t[l][r],a=e.mutatedMarked();if((!s||!e.mutatedMarked())&&(s&&e.markMutated(),n)){e._hasListeners=!0;var c=t.ownerShadowRoot;if(c){var u=c.getHostNode(),d=Mr.Component.getComponentOptions(u).writeOnly;if(!d||e._allowWriteOnly){if(o&&"function"==typeof n)return void console.warn('Cannot use wxs function to handle custom event "'+e.type+'".');var p=Mr.Element.getMethodCaller(u);"function"!=typeof p[n]?console.warn('Component "'+u.is+'" does not have a method "'+n+'" to handle event "'+e.type+'".'):p[n]({type:e.type,timeStamp:e.timeStamp,target:Wr(e.target,d,this),currentTarget:Wr(this,d,null),mark:e.mark,detail:e.detail,touches:e.touches,changedTouches:e.changedTouches,mut:a,_requireActive:e._requireActive})}}return!i&&void 0}}),{capture:a}),o?t[l][r]=n:(t[l][r]=null==n?"":String(n),t.__eventHandlerChangeListener__&&t.__eventHandlerChangeListener__(r,t[l][r],a))},Ur=(e,t,n,i)=>{var a=e.__treeManager__;e.dataset=e.dataset||{};var o=0,s=!1,l=[],c=e instanceof Mr.Component,u=c&&"//"===Nr(e).domain,d=Mr.Component.getDataProxy(e),p=function(a){var p,h,g=t[a],v=null;if("slot"===e.is&&e instanceof Mr.VirtualNode&&"name"===a)return Mr.Element.setSlotName(e,g),"continue";if("id"===a)return e.id=null==g?"":g,"continue";if("slot"===a)return e.slot=null==g?"":g,"continue";if("class"===a){if(c)e.class=e.__wxsClass?kr(" ",null==g?"":g,e.__wxsClass):null==g?"":g,c&&e.hasExternalClass("class")&&e.setExternalClass("class",g);return"continue"}if("style"===a&&c&&e.$$){var m=Lr(g,!0);e.setNodeStyle(m,V),m!==g?z(e,V,(function(){var t=Lr(g,!0);e.setNodeStyle(t,V),e.__transformedPropValue=t})):Y(e,V),e.__banned&&X(e)}if(c&&Mr.Component.hasPublicProperty(e,a)){!u&&tr.restoring||(d.scheduleReplace([a],g,null!=n?n[a]:null),u?d.doUpdates(void 0,!0):(s=!0,e.isInnerDataExcluded(a)||o++));var _=i&&i["model:"+yr(a)];if(_){var y=_.match(/^\{\{(.*?)\}\}$/);if(y){var A=y[1].match(/^\s*([_a-zA-Z$][_a-zA-Z0-9$]+)\s*$/);if(A){var b=A[1];e.__modelValueName=Object.assign(e.__modelValueName||{},{[a]:b}),l.push(a)}else console.warn("For developer:Two-way binding does not support complex data paths currently. This two-way binding is ignored.")}else console.warn(`For developer:"${_}" is not an assignable expression. This two-way binding is ignored.`)}return"continue"}if("style"===a)return"continue";if(/^data-/.test(a)){var w=(p=a.slice(5).toLowerCase(),vr[p]?vr[p]:vr[p]=p.indexOf("-")<=0?p:p.replace(mr,(e=>e[1].toUpperCase())));return e.dataset[w]=g,e.setAttribute(a,g),"continue"}if("$gdc"===a)return"function"==typeof(h=g)&&(Tr=h),"continue";if((v=a.match(/^\$wxs:(capture-)?(mut-)?(bind|catch):?(.+)$/))&&("function"==typeof g||!g))return Fr(0,e,v[4],g,"catch"===v[3],v[1],!0,v[2]),f(),"continue";if(v=a.match(/^(capture-)?(mut-)?(bind|catch):?(.+)$/))return Fr(0,e,v[4],g,"catch"===v[3],v[1],!1,v[2]),f(),"continue";if("on"===a.slice(0,2))return Fr(0,e,a.slice(2),g,!1,!1,!1),"continue";if("animation"===a){if(c&&e.$$&&null!==g&&"object"==typeof g&&g.actions&&g.actions.length>0){var E=0,C=g.actions,I=g.actions.length;function S(){if(E<I){var{transition:t,transitionProperty:n,transform:i,transformOrigin:a,style:o}=r.animationToStyle(C[E]),s=e.__styleObj?Object.assign({},e.__styleObj,{transition:t,transform:i,transitionProperty:n,transformOrigin:a}):{transition:t,transform:i,transitionProperty:n,transformOrigin:a};for(var l in s["-webkit-transition"]=s.transition,s["-webkit-transform"]=s.transform,s["-webkit-transition-property"]=s.transitionProperty,s["-webkit-transform-origin"]=s.transformOrigin,o)s[l]=o[l];e.__styleObj=s,""!==s.transform&&(e.__transformNoneEnabled=!0);var c=Object.keys(s).filter((t=>!(/transition/i.test(t)&&""===s[t]||""===t.trim()||void 0===s[t]||!/transform/i.test(t)&&""===s[t]||!isNaN(parseInt(t,10)))&&(/transform/i.test(t)&&""===s[t]&&e.__transformNoneEnabled&&(s[t]="none"),!0))).map((e=>`${e.replace(/([A-Z]{1})/g,(e=>`-${e.toLowerCase()}`))}:${s[e]}`)).join(";"),u=()=>{e.setNodeStyle(Lr(c,!0),j)};u(),z(e,j,u),e.__banned&&X(e)}}e.addListener("transitionend",(()=>{E+=1,S()})),S()}return"continue"}if(v=a.match(/^\$wxs:change:(.+)$/))return e.wxsObserver=e.wxsObserver||{},e.wxsObserver[v[1]]=e.wxsObserver[v[1]]||{},e.wxsObserver[v[1]].observer=g,"continue";if(v=a.match(/^mark:(.+)$/))return e.setMark(v[1],g),"continue";var T=yr(a);return c&&e.hasExternalClass(T)?(e.setExternalClass(T,g),"continue"):void 0};for(var h in t)p(h);s&&d.doUpdates(o,!1);for(var g=function(t){var r=l[t];e.__wxPropertyListener__&&e.__wxPropertyListener__[r]||(e.setPropertyChangeListener(r,(t=>{var n=e.ownerShadowRoot.getHostNode();n.setData({[e.__modelValueName[r]]:t})})),e.__wxPropertyListener__=e.__wxPropertyListener__||{},e.__wxPropertyListener__[r]=!0)},v=0;v<l.length;v++)g(v);e.__component__&&!tr.restoring&&a.operationFlow.push([W.FLOW_APPLY_PROPERTY])},Vr=Object.create(null),jr=!1,Gr={},Hr=function(e,t){jr&&(Vr[e]=t)},Qr=function(){return jr},$r=l(),zr=$r.dataUtils.deepCopy,Yr={tag:"shadow",children:[]},Zr=(t,r)=>{var n,i=Date.now(),a=t?t(r,null,e.g):Yr;return n=Date.now()-i,or+=1,sr+=n,a.tag="shadow",a},qr=(e,t)=>{if(Qr()){t.operationFlow.start(Date.now()),t.operationFlow.push([W.FLOW_HOT_UPDATE_RESET,t.nodeId.getNodeId(e)]);var r="";e===t.root?r="body":e===t.tabRoot&&(r="tab-bar");var n=e.__vtObj,i=e.ownerShadowRoot?e.ownerShadowRoot.createComponent(n.tag,void 0,n.generics,t):$r.createElement(r,$r.Component._list[e.is],t);t.operationFlow.push([W.FLOW_HOT_UPDATE_RESET]);var a=t.nodeId.getNodeId(e);if(t.nodeId.removeNode(e),t.nodeId.allocNodeId(i,a),e===t.root){$r.Element.pretendDetached(e),t.root=i,$r.Element.pretendAttached(i);var o={},s=!1;Object.keys(t.initialRootData).forEach((e=>{$r.Component.hasProperty(i,e)&&(o[e]=t.initialRootData[e],s=!0)})),s&&t.root.setData(o)}else if(e===t.tabRoot)t.tabRoot=i;else{i.__vtObj=n;var l=n.attr;for(Ur(i,l,n.raw,n.rawAttr);e.childNodes.length;)i.appendChild(e.childNodes[0]);e.parentNode.replaceChild(i,e)}t.operationFlow.end()}},Jr=(e,t,r,n,i)=>{var a=null;if("shadow"===e.tag&&t)r=a=$r.ShadowRoot.create(t);else if("virtual"===e.tag||"shadow"===e.tag){var o="virtual";1===e.wxXCkey||3===e.wxXCkey?o="wx:if":2!==e.wxXCkey&&4!==e.wxXCkey||(o="wx:for"),a=r.createVirtualNode(o),$r.Element.setInheritSlots(a),a.__treeManager__=n}else if("wx-slot"===e.tag)a=r.createVirtualNode("slot"),$r.Element.setSlotName(a,"");else{var s=r.tagNameUsed(e.tag);if(s){var l=r.getHostNode(),c=r.getCompDefByTagName(e.tag);"string"==typeof c.is&&(c=c.is);var u=l.getPlaceholder(e.tag);n.compManager.shouldUsePlaceholder(c)&&!!u?((a=r.createComponent(e.tag,u,e.generics,n)).__placeholder__=!0,n.compManager.arrangePlaceholderReplace(c,(()=>{var e=a.__vtObj,t=r.createComponent(e.tag,void 0,e.generics,n);Xr(e,t,n,i),[...a.childNodes].forEach((e=>{a.removeChild(e),t.appendChild(e)})),a.parentNode&&a.parentNode.replaceChild(t,a),s&&ir(t,n)}))):(a=r.createComponent(e.tag,void 0,e.generics,n),s&&ir(a,n))}else(a=r.createVirtualNode(e.tag)).__treeManager__=n}Xr(e,a,n,i);var d=e.children;if(d)for(var p=0;p<d.length;p++){var h=d[p];if(null!=h)if("object"==typeof h){var f=Jr(h,null,r,n,i);a.appendChild(f)}else{var g=r.createTextNode(h);a.appendChild(g)}}return a},Xr=(e,t,r,n)=>{(Qr()||!0===t.__placeholder__)&&(t.__vtObj=e),3!==e.wxXCkey&&4!==e.wxXCkey||(t.__wxDynamicSync__=4===e.wxXCkey?"wx:for":"wx:if");var i=t.__component__,a=t.__placeholder__;(i||a)&&($r.Element.getMethodCaller(t).__wxExparserNodeId__=r.nodeId.allocNodeId(t,""),r.operationFlow.push([W.FLOW_CREATE_NODE,r.nodeId.getNodeId(t)]));var o=n?zr(e.attr):e.attr;Ur(t,o,e.raw,e.rawAttr)},Kr=e=>{e.operationFlow.push([W.FLOW_MINIPULATE_CHILD])},en=Object.prototype.hasOwnProperty,tn=e=>"number"==typeof e&&isNaN(e),rn=(e,t)=>{for(var r=(e=>{for(var t={},r=0;r<e.length;++r){var n=e[r],i=n&&n.wxKey;i?en.call(t,i)?n.wxKey=void 0:t[i]=r:tn(i)&&(n.wxKey=void 0)}return t})(e),[n,i]=(e=>{for(var t={},r=[],n=0;n<e.length;++n){var i=e[n],a=i&&i.wxKey;a?en.call(t,a)?(console.warn(`For developer:Do not set same key "${a}" in wx:key.`),i.wxKey=void 0,r.push(n)):t[a]=n:(tn(a)&&(i.wxKey=void 0),r.push(n))}return[t,r]})(t),a=[],o=[],s=[],l=0,c=0,u=0;u<e.length;++u){var d=e[u].wxKey;if(d)if(en.call(n,d)){var p=n[d];a.push(t[p])}else o.push(u-c),++c,a.push(null);else if(l<i.length){var h=i[l];a.push(t[h]),++l}else o.push(u-c),++c,a.push(null)}for(var f=a,g=0,v=[],m=0;m<t.length;){for(var _=t[m],y=_&&_.wxKey,A=f[g],b=A&&A.wxKey;null===A;)b=(A=f[++g])&&A.wxKey;g>=f.length?(s.push({oldIndex:r[y],index:m,pos:-1}),++g,++m):b===y?(v.push(g),++g,++m):y?(b?n[b]===m+1?s.push({oldIndex:r[y],index:m,pos:g}):(A=f[++g])&&A.wxKey===y?(v.push(g),++g):(--g,s.push({oldIndex:r[y],index:m,pos:g})):s.push({oldIndex:r[y],index:m,pos:g}),++m):++g}for(var w=0,E=0;E<s.length;E++){var C=s[E].pos;if(-1===C)break;for(;w<v.length&&C>v[w];)w++;w>=v.length?s[E].pos=-1:s[E].pos=v[w]}return{children:a,removes:o,inserts:s}},nn=(e,t,r)=>{if(e!==t&&(!e||r))if(null==t)r.parentNode.removeChild(r);else if("object"==typeof t)if("object"!=typeof e||null===e||e.tag!==t.tag||String(e.wxKey)!==String(t.wxKey)||"virtual"===e.tag&&e.wxVkey!==t.wxVkey){var n=r.__treeManager__,i=r.parentNode,a=Jr(t,null,i.ownerShadowRoot,n,!1);i&&("wx:for"===i.__wxDynamicSync__||"wx:if"===r.__wxDynamicSync__?(n.nodeId.addNode(a),i.replaceChild(a,r),Kr(n),n.nodeId.removeNode(r)):i.replaceChild(a,r),r.__banned&&K(a))}else{if(t.n&&t.n.length){for(var o=t.n,s=t.attr,l={},c=0;c<o.length;c++){var u=o[c];l[u]=s[u]}Ur(r,l,t.raw,t.rawAttr)}void 0!==t.wxScopeData&&(r.__wxScopeData__=t.wxScopeData),void 0!==r.__vtObj&&(r.__vtObj=t),an(e,t,r)}else if("string"==typeof e)t!==e&&(r.textContent=t);else{var d=r.ownerShadowRoot.createTextNode(t);r.parentNode.replaceChild(d,r)}},an=(e,t,r)=>{var n=!!D("customComponents"),i=e.children,a=t.children,o="virtual"===e.tag&&(2===e.wxXCkey||4===e.wxXCkey||void 0===e.wxXCkey)||!n&&i.length!==a.length,s=null,l=null;if(o){var c=rn(i,t.children);a=c.children,s=c.removes,l=c.inserts}for(var u=r.childNodes,d=0;d<i.length;d++){var p=i[d],h=a[d];!h&&o||nn(p,h,u[d])}o&&((e,t,r,n)=>{for(var i=r.__treeManager__,a=r.childNodes,o=[],s=0;s<t.length;s++){var l=t[s];o.push({node:void 0!==l.oldIndex?a[l.oldIndex]:null,before:l.pos>=0?a[l.pos]:void 0,index:l.index})}for(var c=0;c<e.length;c++){var u=a[e[c]];r.removeChild(u),"wx:for"===a.__wxDynamicSync__&&(Kr(i),i.nodeId.removeNode(u))}for(var d=0;d<o.length;d++){var{before:p,index:h}=o[d],f=o[d].node;null===f&&(f=Jr(n[h],null,r.ownerShadowRoot,i,!1)),"wx:for"===r.__wxDynamicSync__?(i.nodeId.addNode(f),r.insertBefore(f,p),Kr(i)):r.insertBefore(f,p)}r.__banned&&K(r)})(s,l,r,t.children)},on=l(),sn={},ln=1,cn=[],un=(e,t)=>{if(sn[e]){var r=sn[e],n=cn[cn.length-1],i=cn[cn.length-2],{isMergedUpdate:a,dataPaths:o,pendingStartTimestamp:s,updateStartTimestamp:l,updateEndTimestamp:c}=t(r);w(W.UPDATE_PERFORMANCE_STAT,[e,{isMergedUpdate:a,dataPaths:o,updateProcessId:n,parentUpdateProcessId:i,pendingStartTimestamp:s,updateStartTimestamp:l,updateEndTimestamp:c}])}};var dn=l(),pn=dn.dataUtils.deepCopy,hn=e=>{if("object"!=typeof e||!e)return e;var t=e.slice();return t.shift()(...t)},fn=function(e,t,r){for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof dn.TextNode||(a.__id&&(t[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),fn(a,t,r))}};class gn{createInstance(e,t){var r=new vn,n=t;if(r._template=this,r._generateFunc=this._generateFunc,r.data=pn(this._data),r.idMap=Object.create(null),r.slots=Object.create(null),tr.restoring){if(tr.compIdArrIndex>=tr.compIdArr.length)throw new Error("Component count unmatched while page recovering");n.nodeId.allocNodeId(e,tr.compIdArr[tr.compIdArrIndex++]);var i=tr.idDataMap[n.nodeId.getNodeId(e)];r._virtualTree=Zr(this._generateFunc,i)}else r._virtualTree=this._virtualTree;return r.shadowRoot=Jr(r._virtualTree,e,null,t,!0),fn(r.shadowRoot,r.idMap,r.slots),r.listeners=[],this._isSimpleComponent||(e.__component__=!0),e.__treeManager__=n,r.shadowRoot.__treeManager__=n,n.operationFlow.registerSetDataCallback((function(){e.triggerLifeTime("ready")})),r._delayedUpdateValues=null,r}updateGenerateFunc(e){this._generateFunc=hn(e),this._virtualTree=Zr(this._generateFunc,this._initValues),Sa.list().forEach((t=>{[t.root,t.tabRoot].forEach((r=>{r&&M(r,1,(r=>{r instanceof dn.Component&&r.__templateInstance._template===this&&(r.__templateInstance._generateFunc=e,r.__templateInstance._resetShadowChildren(r,r.data,t))}))}))}))}}gn.create=function(e,t,r,n){var i=new gn;i._initValues=r,i._data=t;var a=e.template;return i._generateFunc=hn(a.func),i._virtualTree=Zr(i._generateFunc,i._initValues),i._isSimpleComponent="simple://"===n.domain.slice(0,9),Hr(a.path,(e=>{a.func=e,i.updateGenerateFunc(e)})),i};class vn{beforeMergeValues(e,t,r){if("number"!=typeof r)e.forEach(((e,r)=>{void 0!==e[1]?t[r]=!1:(t[r]=!0,console.warn('Setting data field "'+e[0].join(".")+'" to undefined is invalid.'))}));else{for(var n=0;n<r;n++)t[n]=!1;for(var i=r;i<e.length;i++){var a=e[i];void 0!==a[1]?t[i]=!1:(t[i]=!0,console.warn('Setting data field "'+a[0].join(".")+'" to undefined is invalid.'))}}}beforeUpdateValues(e,t,r){}updateValues(e,t,r,n,i,a){if(!tr.restoring){var o=null,s="number"!=typeof a;if(o=e.__treeManager__,s){o.operationFlow.start(Date.now());var l=[];i.forEach((e=>{void 0!==e[1]&&l.push(e)})),o.operationFlow.push([W.FLOW_UPDATE,o.nodeId.getNodeId(e),pn(l)])}else{for(var c=[],u=a;u<i.length;u++){var d=i[u];void 0!==d[1]&&c.push(d)}o.operationFlow.push([W.FLOW_DATA_OBSERVER,pn(c)])}if(this._delayedUpdateValues)this._delayedUpdateValues.push([pn(t),r,n,i,a]);else{this._delayedUpdateValues=[];try{this._updateValues(e,t,r,n,i,a);var p=this._delayedUpdateValues;this._delayedUpdateValues=null;for(var h=0;h<p.length;h++){var f=p[h];this._updateValues(e,f[0],f[1],f[2],f[3],f[4])}}catch(e){throw this._delayedUpdateValues=null,e}}s&&o.operationFlow.end()}}_updateValues(e,t,r,n,i,a){var o="number"!=typeof a,s=!D("propValueDeepCopy"),l=er(t,i,!0,!1,s),c=Zr(this._generateFunc,l);er(t,i,!1,o,!1);var u=this._virtualTree;this._virtualTree=c,nn(u,c,this.shadowRoot)}_resetShadowChildren(e,t,r){var n=()=>{r.operationFlow.push([W.FLOW_HOT_UPDATE_CHILD])};r.operationFlow.start(Date.now()),r.operationFlow.push([W.FLOW_HOT_UPDATE,r.nodeId.getNodeId(e)]);for(var i=this.shadowRoot,a=(this._virtualTree.children||[]).length,o=0;o<a;o++)i.removeChild(i.childNodes[0]);n();var s=Zr(this._generateFunc,t);n(),this._virtualTree=s;for(var l=Jr(s,null,e.shadowRoot,r,!0).childNodes,c=l.length,u=0;u<c;u++)i.insertBefore(l[0],i.childNodes[u]);r.operationFlow.end()}}var mn=l(),_n=null,yn=()=>{_n={};var e=null;__wxConfig&&__wxConfig.plugins?e=__wxConfig.plugins:"undefined"!=typeof window&&window&&window.__wxConfigAppService__&&window.__wxConfigAppService__.plugins&&(e=window.__wxConfigAppService__.plugins);var t=!1;if(e)for(var r in e){var n=e[r].provider,i=e[r].subpackage;if(void 0!==i){t=!0;var a=i||"";"__APP__"===a&&(a=""),"/"===a[0]&&(a=a.slice(1)),a&&"/"!==a.slice(-1)&&(a+="/"),_n[n]=a}}if(!t){var o;if(__wxConfig&&__wxConfig.subPackages)o=__wxConfig.subPackages;else{if("undefined"==typeof window||!window||!window.__subPackages)return;o=window.__subPackages}o.length&&o.forEach((e=>{if(e){var t=e.root||"";if(t&&"/"!==t.slice(-1)&&(t+="/"),e.plugins)for(var r in e.plugins)if(Object.prototype.hasOwnProperty.call(e.plugins,r)){var n=e.plugins[r]&&e.plugins[r].provider;n&&(_n[n]=t)}}}))}},An=e=>{var t=e.match(/(?:^|\/)__(wx|plugin)__\/(.*)$/);return t?"wx"===t[1]?"wx://"+t[2]:"plugin-private://"+t[2]:e},bn=e=>(_n||yn(),(mn.Component._list[e]&&mn.Component._list[e].is||e).replace(/^plugin-private:\/\/([0-9a-zA-Z]+)\//,((e,t)=>(_n[t]||"")+"__plugin__/"+t+"/")).replace(/^wx:\/\//,"__wx__/")),wn=e=>_n[e]||"",En=e=>(_n||yn(),(_n[e]||"")+"__plugin__/"+e+"/"),Cn=e=>{_n||yn();var t,r,n,i=e.match(/^plugin:\/\/(.+?)\//);if(i)return Cn(_n[i[1]]||"");if(i=e.match(/^plugin-private:\/\/([0-9a-zA-Z]+)\//))return Cn(_n[i[1]]||"");t=null!==(r=null===(n=__wxConfig)||void 0===n?void 0:n.subPackages)&&void 0!==r?r:[];for(var a=0;a<t.length;++a){var o=t[a].root||"";if(o&&"/"!==o.slice(-1)&&(o+="/"),e.slice(0,o.length)===o)return t[a]}return null},In=e=>{var t=Cn(e);if(!t)return"__APP__";var r=t.root||"";return"/"===r.slice(-1)?r:r+"/"},Sn=e=>{var t=Cn(e);return!!t&&t.independent},Tn={main:"app-service.js",sub:"app-service.js",lazyCommon:"common.app.js",lazyApp:"appservice.app.js",plugin:"appservice.js"},xn=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],Pn=(e,t)=>{t(`isLazyLoad: ${Ei()}`),t(`moduleName: ${e}`);var r=Object.values(__wxConfig.plugins||{}).filter((t=>t.subpackage.includes(e))).map((e=>{var t=e.provider,r=`__plugin__/${t}`;return{plugin_id:t,prefix_path:xn.includes(t)?null:r}}));t(`separatedPlugins: ${JSON.stringify(r)}`);var n="__APP__"===e,i=n?"":e;if(Ei()){var a=[];return r.forEach((e=>{var t=(i+e.prefix_path+"/").replace(/\/\/$/,"/");e.prefix_path||(t+=`__extended__/${e.plugin_id}/`),a.push(t+Tn.plugin)})),a.push(i+Tn.lazyCommon,i+Tn.lazyApp),t(`all files to inject: ${JSON.stringify(a)}`),a}var o=r.map((e=>{var t=(i+e.prefix_path+"/").replace(/\/\/$/,"/");return e.prefix_path||(t+=`__extended__/${e.plugin_id}/`),t+Tn.plugin}));return n?o.push(i+Tn.main):o.push(i+Tn.sub),t(`all files to inject: ${JSON.stringify(o)}`),o},kn=l(),Dn=(e,t,r)=>{if(e instanceof kn.Component){e!==window.__DOMTree__&&(t.compCount++,e.hasBehavior("wx-base")?(r&&t.rootInternalCompCount++,e.hasBehavior("wx-native")&&t.nativeCompCount++):r&&t.rootCustomCompCount++);var n=e===window.__DOMTree__&&r;e.shadowRoot instanceof kn.Element&&Dn(e.shadowRoot,t,n)}for(var i=e.childNodes,a=0,o=i.length;a<o;a++){var s=(i[a]instanceof kn.VirtualNode||e===window.__DOMTree__||e===window.__DOMTree__.shadowRoot)&&r;i[a]instanceof kn.Element&&Dn(i[a],t,s)}},Rn={id:null,prev:null,data:[]};C(W.SAVE_STATE,(()=>{"function"==typeof r.webViewReadyToTerminate&&r.webViewReadyToTerminate({})})),C(W.RESTORE_STATE,(([e,t,r,n])=>{if(e&&e.isSplitData){var{id:i,index:a,total:o,data:s}=e.splitInfo;if(1!==a&&(a!==Rn.prev+1||i!==Rn.id))return Rn.id=null,Rn.prev=null,void(Rn.data=[]);if(a!==o)return Rn.id=i,Rn.prev=a,void Rn.data.push(s);Rn.data.push(s);var l=Rn.data.join("");try{l=JSON.parse(l)}catch(e){console.error("Expected parse completed data with split data but got error"),Reporter.errorReport({key:"webviewScriptError",error:new Error("Expected parse completed data with split data but got error")}),l=null}if(Rn.id=null,Rn.prev=null,Rn.data=[],!l)return;e=l[0],t=l[1],r=l[2],n=l[3]}tr.restoring=e||{},tr.idDataMap=t,tr.compIdArr=r,tr.compIdArrIndex=0;var c=Sa.instance.compManager;c.restore(n),tr.onReady=c.onRestoreInjectDone.bind(c)}));var On=e=>{(e=>{var t=document.body.scrollTop||document.documentElement.scrollTop;e.__page__={scrollTop:t}})(e),e.compExtraDataMap={};var t=0;window.__TAB_BAR__&&(M(window.__TAB_BAR__,1,(r=>{r.triggerLifeTime("saved",[e]),Rr(e.compExtraDataMap,r,t++)})),e.compExtraDataMap),M(window.__DOMTree__,1,(r=>{r.triggerLifeTime("saved",[e]),Rr(e.compExtraDataMap,r,t++)})),e.compExtraDataMap},Mn=e=>{(e=>{var t=e.__page__;if(t){var r=parseInt(t.scrollTop,10);requestAnimationFrame((()=>{document.body.scrollTop=document.documentElement.scrollTop=r}))}})(e);var t=0;window.__TAB_BAR__&&(M(window.__TAB_BAR__,1,(r=>{r.triggerLifeTime("restored",[e]),Or(e.compExtraDataMap,r,t++)})),e.compExtraDataMap),M(window.__DOMTree__,1,(r=>{r.triggerLifeTime("restored",[e]),Or(e.compExtraDataMap,r,t++)})),e.compExtraDataMap},Ln=()=>{__webViewSDK__.publish("recycleStatistics",(()=>{var e={compCount:0,customCompCount:0,nativeCompCount:0,rootCustomCompCount:0,rootInternalCompCount:0};try{Dn(window.__DOMTree__,e,!0)}catch(e){}var{compCount:t,customCompCount:r,nativeCompCount:n,rootCustomCompCount:i,rootInternalCompCount:a}=e,o=i+a;return{compCount:t,customCompCount:r,nativeCompCount:n,rootCompCount:o,rootCustomCompCount:i,rootCustomCompRatio:o?Math.floor(100*i/o):0,rootInternalCompCount:a}})());var e={};On(e),w(W.REQUEST_SAVE,e,void 0,!0)},Nn=262144,Bn=Date.now(),Wn=(e,t)=>{var r=Sa.get(e);r&&(r.statesData=t,r.tabRoot&&M(r.tabRoot,1,(e=>{e.triggerLifeTime("saved")})),M(r.root,1,(e=>{e.triggerLifeTime("saved")})),w(W.SAVE_STATE,[],e))},Fn=e=>{var t=Sa.get(e);if(t){var r=t.nodeId.getAll(),n={},i=[],a=e=>{var a=t.nodeId.getNodeId(e);i.push(a),n[a]=r[a].data};t.tabRoot&&!t.tabDestroyed&&M(t.tabRoot,1,a),M(t.root,1,a);var o=t.compManager.getRestoredData(),s=[t.statesData||{},n,i,o],l=JSON.stringify(s),c=l.length;if(c>Nn){for(var u=[],d=0;c>d;)u.push(l.substr(d,Nn)),d+=Nn;for(var p=++Bn,h=0,f=u.length;h<f;h++)w(W.RESTORE_STATE,[{isSplitData:!0,splitInfo:{id:p,index:h+1,total:f,data:u[h]}}],e)}else w(W.RESTORE_STATE,s,e);if(t.statesData=void 0,!t.tabDestroyed&&t.tabRoot){w(W.COMPONENT_DEF_TAB,t.tabUsedDef,e);var g=t.tabRoot;t.operationFlow.start(),t.operationFlow.push([W.FLOW_CREATE_TAB,g.is,t.nodeId.getNodeId(g)]),t.operationFlow.push([W.FLOW_CREATE_TAB]),t.operationFlow.end()}w(W.COMPONENT_DEF,t.usedDef,e);var v=t.root;t.operationFlow.start(),t.operationFlow.push([W.FLOW_INITIAL_CREATION,v.is,t.nodeId.getNodeId(v),{}]),t.operationFlow.push([W.FLOW_INITIAL_CREATION]),t.operationFlow.end(),t.tabRoot&&M(t.tabRoot,1,(e=>{e.triggerLifeTime("restored")})),M(t.root,1,(e=>{e.triggerLifeTime("restored")}))}},Un=l(),Vn={},jn={},Gn=function(e,t){return e+"/"+t},Hn=function(e,t,r){var n=t.match(/^plugin-private:\/\/(.*?)\//);if(!n)return!1;var i=n[1];if(Gn(i,"0")!==e)return!1;var a=r.match(/^plugin:\/\/(.*?)\//);if(!a)return!1;var o=a[1];return Gn(o,"0")===e&&(Un.Component._list[r]?(console.error('"'+r+'" has been used as another component or page. Please do not register multiple components or pages with the same alias.'),!1):(Un.Component._list[r]=Un.Component._list[t],Vn[r]=t,jn[t]=r,!0))},Qn=function(e,t){for(var r in t)Hn(e,t[r],r)},$n={};C(W.PERFORMANCE_DATA,(([e],t,r)=>{Sa.get(r).root.triggerLifeTime("performanceData",[e])}));var zn=l(),Yn=0;function Zn(e){e&&".html"!==e.slice(5)&&(e+=".html");var t="";return __wxConfigWindow__&&__wxConfigWindow__.initialRenderingCache&&(t=String(__wxConfigWindow__.initialRenderingCache)),t}function qn(e,t){var n=Date.now(),i={},a={},o=document.head.querySelectorAll("style")||[],s=[];zn.ElementIterator.create(e,"composed-descendants-root-first",zn.Component).forEach((e=>{e.hasBehavior("wx-base")||(i["./"+e.is+".wxss"]=!0)})),Object.keys(zn.Component._list).forEach((e=>{a["./"+e+".wxss"]=!0}));for(var l=0;l<o.length;l++){var c=o[l],u=c.getAttribute("wxss:path");null!=u&&(!a[u]||i[u]?s.push("<style>"+c.innerHTML+"</style>"):c.innerHTML.length+15)}var d=s.join(""),p=d+e.$$.innerHTML;r.saveInitialRenderingCache({content:p,appserviceData:t});Date.now();d.length}function Jn(e,t){return"dynamic"!==Zn(window.__route__)?(console.error('An initial rendering cache state is ignored, because initialRenderingCache mode is not "dynamic".'),!1):(e?qn(e,t):r.saveInitialRenderingCache({content:""}),!0)}var Xn=l(),Kn=(e,t,r,n)=>{var i=`${Math.random()}-${+new Date}`,a=Sa.get(r);if(a)return a.operationFlow.push([W.FLOW_VIEW_INFO,e,t,i]),"function"==typeof n&&(a.viewInfoCbMap[i]=n),i},ei=(e,t)=>{var r=Sa.get(e);r&&delete r.viewInfoCbMap[t]},ti=l(),ri=!1,ni=[],ii=e=>{ri?e():ni.push(e)},ai=ti.dataUtils.deepCopy,oi={lazyRegistration:!0,publicProperties:!0},si={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",templateEngine:gn,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!0,innerDataExclude:null,randomizeTagName:!1,virtualHost:!1},li={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",renderingMode:"full",templateEngine:gn,multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!1,innerDataExclude:null,randomizeTagName:!1,virtualHost:!1},ci="undefined"!=typeof WeakMap?new WeakMap:{},ui={},di={},pi={},hi={},fi={},gi={},vi=1,mi=Object.prototype.hasOwnProperty,_i=(e,t)=>{var r={},n=(t[e+".json"]||{}).usingComponents;for(var i in n)r["wx-"+i]=k(e,String(n[i]));return r},yi=(e,t)=>{for(var r in t){var n=t[r];n.target=null!=n.target?String(n.target):k(e,String(r))}return t},Ai=(e,t)=>{var r={},n=(t[e+".json"]||{}).componentGenerics;for(var i in n){var a=n[i];"object"==typeof a?r["wx-"+i]={default:k(e,String(a.default||""))}:null!=a&&(r["wx-"+i]={})}return r},bi=(e,t)=>{var r=t[e+".json"]||{},n={},i=r.componentPlaceholder||{};return Object.keys(i).forEach((e=>{n["wx-"+e]="wx-"+String(i[e])})),n},wi=(e,t,r,n)=>{var i=Sa.get(r).nodeId.getNodeById(n,r);i&&t&&ti.Element.getMethodCaller(i).setData({[t]:e})},Ei=()=>__wxConfig.isLazyLoad,Ci=e=>{var t="__plugin__/",r=e.indexOf(t);return-1===r?e:"plugin-private://"+e.slice(r+t.length)},Ii=e=>{var t=Ci(e),r=("undefined"!=typeof __wxAppCode__?__wxAppCode__:{})["./"+t+".wxml"];Array.isArray(r)&&(r=r[0][r[1]]),window.__wxAppCodeReadyCallback__?window.__wxAppCodeReadyCallback__(r):document.dispatchEvent(new CustomEvent("generateFuncReady",{detail:{generateFunc:r}}))},Si=e=>{var t=Ci(e),r=("undefined"!=typeof __wxAppCode__?__wxAppCode__:{})[t+".wxss"];void 0!==r&&"function"==typeof r||(r=()=>{}),window.__setCssStartTime__=Date.now(),r(),window.__setCssEndTime__=Date.now()},Ti="custom-tab-bar/index";var xi=e=>{var t=e.compManager.getPlaceholderReplaceData();e.compManager.finishPlaceholderReplacement();var r=Array.from(t.compNames),n=e.rootCompName;e.compManager.ensureComponents(r,(i=>{var a=[[],[],n,Vn];r.forEach((t=>{Di(a,t,na,n,e)})),e.usedDef[0].push(...a[0]),e.usedDef[1].push(...a[1]),e.operationFlow.sendInIndividualFlow([W.FLOW_COMPONENT_DEF_ADD,i,a]),e.operationFlow.sendInIndividualFlow([W.FLOW_WAIT_COMPONENT,i]),e.operationFlow.start(Date.now()),e.operationFlow.push([W.FLOW_REPLACE_PLACEHOLDER]),t.replacers.forEach((e=>{e()})),e.operationFlow.end()}))},Pi=e=>{var t=Ni(e);return t?Li(t):""},ki=(e,t,r)=>{if("wx://"!==t.slice(0,5)){var n=di[t];if(!n)throw new Error('"'+t+'" is not a behavior registered by Behavior()');e[0].unshift(n),r[t]=!0;var i=fi[n.is];if(i)for(var a=0;a<i.length;a++){var o=i[a];r[o]||ki(e,o,r)}}},Di=(e,t,r,n,i,a=!1)=>{mi.call(Vn,t)&&(t=Vn[t]);var o=ui[t];if(!i.compManager.shouldUsePlaceholder(t)||!a)if(o){var s=gi[t];"wx://"!==t.slice(0,5)&&e[1].unshift(o),r[t]=!0;var l=pi[o.is],c=hi[o.is];for(var u in l)if(mi.call(l,u)){var d=l[u];r[d]||Di(e,d,r,t,i,!!s[u])}for(var p in c)if(mi.call(c,p)){var h=c[p].default;h&&(r[h]||Di(e,h,r,t,i,!!s[p]))}var f=fi[o.is];if(f)for(var g=0;g<f.length;g++){var v=f[g];r[v]||ki(e,v,r)}}else console.error(`Component is not found in path "${t}"${n?` (using by "${n}")`:""}`)},Ri=(e,t)=>{var r={};for(var n in e.properties){var i=e.properties[n];if(null===i)r[n]={type:null};else if(i===Number||i===String||i===Boolean||i===Object||i===Array)r[n]={type:i.name};else if(void 0===i.public||i.public){var a=i.type,o=null;a!==Number&&a!==String&&a!==Boolean&&a!==Object&&a!==Array||(o=a.name),r[n]={type:o,value:i.value}}}var s=e.options.innerDataExclude;return{is:e.is,using:e.using,generics:e.generics,placeholder:e.placeholder,behaviors:e.behaviors,data:e.data,properties:r,externalClasses:e.externalClasses,template:t,options:{domain:e.options.domain,writeOnly:e.options.writeOnly||void 0,multipleSlots:e.options.multipleSlots||void 0,writeIdToDOM:e.options.writeIdToDOM||void 0,styleIsolation:e.options.styleIsolation||void 0,addGlobalClass:e.options.addGlobalClass||void 0,hasObservers:!!e.observers,innerDataExcludeString:s?s.toString():null,virtualHost:e.options.virtualHost||void 0}}},Oi=function(e){if(e.behaviors){for(var t=[],r=0;r<e.behaviors.length;r++){var n=String(e.behaviors[r]);if("/"!==n[0]&&"wx://"!==n.slice(0,5))throw new Error("Behaviors should be constructed with Behavior()");t.push(n)}e.behaviors=t,fi[e.is]=t}else e.behaviors=null},Mi=function(e){var t="/"+vi+++"/"+R(),r={};for(var n in e)r[n]="data"===n?ai(e[n]):e[n];return r.is=t,Oi(r),r.options=oi,di[t]=Ri(r),r.definitionFilter=ti.Behavior.callDefinitionFilter(r),ti.registerBehavior(r),r.is},Li=e=>ti.Component.getComponentOptions(e).domain.split("/",1)[0],Ni=e=>ci.get(e),Bi=(e,t,r)=>{var n=ti.Component.getComponentOptions(t).domain,i=ti.Component.getMethod(t,"__export__"),a=n===e?ti.Element.getMethodCaller(t):null;if(i){var o=n===e?r:null,s=i.call(ti.Element.getMethodCaller(t),o);return void 0===s?a:s}return a},Wi=(e,t,r)=>{var n=Ni(e),i=ti.Component.getComponentOptions(n).domain,a=n.shadowRoot;if(r)return a.querySelectorAll(t).map((t=>Bi(i,t,e)));var o=a.querySelector(t);return o?Bi(i,o,e):null},Fi=(e,t,r)=>{e!==Vi&&Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})};function Ui(){}var Vi=Ui.prototype=Object.create(Object.prototype,{is:{get(){return Ni(this).is},set(e){Fi(this,"is",e)}},id:{get(){var e=Ni(this);return ti.Component.getComponentOptions(e).writeOnly?"":e.id},set(e){Fi(this,"id",e)}},getPageId:{get:()=>function(){return"pageId:"+Ni(this).__treeManager__.viewId},set(e){Fi(this,"getPageId",e)}},router:{get(){return Ni(this).__pageRouter__},set(e){Fi(this,"router",e)}},pageRouter:{get(){return(e=>{for(var t=Ni(e),r=ti.Component.getComponentOptions(t).domain;;){var n=t.ownerShadowRoot;if(!n)break;if(!(n instanceof ti.ShadowRoot))return null;var i=n.getHostNode();if(!i)return null;if(ti.Component.getComponentOptions(i).domain!==r)return null;t=i}return t})(this).__pageRouter__},set(e){Fi(this,"pageRouter",e)}},dataset:{get(){var e=Ni(this);return ti.Component.getComponentOptions(e).writeOnly?null:e.dataset},set(e){Fi(this,"dataset",e)}},properties:{get(){return this.__data__},set(e){Fi(this,"properties",e)}},data:{get(){return this.__data__},set(e){Fi(this,"data",e)}},setData:{get:()=>function(e,t){var r=Ni(this),n=r.__treeManager__;return"function"==typeof t&&n.operationFlow.registerSetDataCallback(t,this,r),r.setData(e)},set(e){Fi(this,"setData",e)}},groupSetData:{get:()=>function(e){var t=Ni(this).__treeManager__;t.operationFlow.start(Date.now()),t.operationFlow.push([W.FLOW_GROUP]);var r=null;try{e.call(this)}catch(e){r=e}if(t.operationFlow.push([W.FLOW_GROUP_END]),t.operationFlow.end(),r)throw r},set(e){Fi(this,"setData",e)}},replaceDataOnPath:{get(){return(e,t)=>Ni(this).replaceDataOnPath(e,t)},set(e){Fi(this,"replaceDataOnPath",e)}},mergeDataOnPath:{get(){return(e,t)=>Ni(this).mergeDataOnPath(e,t)},set(e){Fi(this,"mergeDataOnPath",e)}},applyDataUpdates:{get(){return()=>Ni(this).applyDataUpdates()},set(e){Fi(this,"applyDataUpdates",e)}},hasBehavior:{get(){return e=>Ni(this).hasBehavior(e)},set(e){Fi(this,"hasBehavior",e)}},triggerEvent:{get(){return(e,t,r)=>Ni(this).triggerEvent(e,t,r)},set(e){Fi(this,"triggerEvent",e)}},createSelectorQuery:{get(){return()=>t._createSelectorQuery({},Li(Ni(this))).in(this)},set(e){Fi(this,"createSelectorQuery",e)}},createIntersectionObserver:{get(){return e=>t._createIntersectionObserver(this,e,Li(Ni(this)))},set(e){Fi(this,"createIntersectionObserver",e)}},createMediaQueryObserver:{get(){return e=>t._createMediaQueryObserver(this,e,Li(Ni(this)))},set(e){Fi(this,"createMediaQueryObserver",e)}},getOpenerEventChannel:{get(){return()=>this.__eventChannel},set(e){Fi(this,"getOpenerEventChannel",e)}},applyAnimation:{get(){return(e,t,r,n,i)=>{var a=Ni(this);!function(e,t,r,n,i,a,o,s){var l=`${Math.random()}-${+new Date}`;"function"==typeof o&&(t.applyAnimationCbMap[l]=o),t.operationFlow.push([W.FLOW_SET_NODE_ANIMATION_INFO,{hasCallback:"function"==typeof o,reqId:l,nodeId:t.nodeId.getNodeId(e),webviewId:r,selector:n,options:i,type:a?"animeJS":void 0,isLastAnimation:s}])}(a,a.__treeManager__,this.__wxWebviewId__,e,t,r,n,i)}},set(e){Fi(this,"applyAnimation",e)}},clearAnimation:{get(){return(e,t,r)=>{var n=Ni(this);!function(e,t,r,n,i,a){var o=`${Math.random()}-${+new Date}`;"function"==typeof a?t.clearAnimationCbMap[o]=a:"function"==typeof i&&(t.clearAnimationCbMap[o]=i),t.operationFlow.push([W.FLOW_CLEAR_NODE_ANIMATION_INFO,{hasCallback:"function"==typeof t.clearAnimationCbMap[o],reqId:o,nodeId:t.nodeId.getNodeId(e),webviewId:r,selector:n,options:i}])}(n,n.__treeManager__,this.__wxWebviewId__,e,t,r)}},set(e){Fi(this,"clearAnimation",e)}},animate:{get(){return(e,t,r,n,i)=>{if("function"==typeof n)i=n;else if(void 0!==n){var a=Ni(this),o=a.__treeManager__;return void o.operationFlow.push([W.FLOW_SET_NODE_ANIMATION_INFO,{type:"scrollTimeline",nodeId:o.nodeId.getNodeId(a),selector:e,options:t,duration:r,timeline:n}])}for(var s=mt(t,r),l=0;l<s.length;++l){var c="animeJS"===s[l].type;delete s[l].type,l===s.length-1?this.applyAnimation(e,s[l],c,i,!0):this.applyAnimation(e,s[l],c)}}},set(e){Fi(this,"animate",e)}},selectOwnerComponent:{get(){return e=>{var t=Ni(this);return ti.Component.getComponentOptions(t).writeOnly?null:(e=>{var t=Ni(e),r=ti.Component.getComponentOptions(t).domain,n=t.ownerShadowRoot;if(!(n instanceof ti.ShadowRoot))return null;var i=n.getHostNode();return i?Bi(r,i,e):null})(this)}},set(e){Fi(this,"selectOwnerComponent",e)}},selectComponent:{get(){return e=>{var t=Ni(this);return ti.Component.getComponentOptions(t).writeOnly?null:Wi(this,e,!1)}},set(e){Fi(this,"selectComponent",e)}},selectAllComponents:{get(){return e=>{var t=Ni(this);return ti.Component.getComponentOptions(t).writeOnly?[]:Wi(this,e,!0)}},set(e){Fi(this,"selectAllComponents",e)}},getRelationNodes:{get(){return e=>((e,t)=>{var r=Ni(e).getRelationNodes(t);return null===r?null:r.map((e=>ti.Element.getMethodCaller(e)))})(this,e)},set(e){Fi(this,"getRelationNodes",e)}},getTabBar:{get:()=>function(){var e=Ni(this).__treeManager__;return e.tabDestroyed||!e.tabRoot?null:ti.Element.getMethodCaller(e.tabRoot)},set(e){Fi(this,"getTabBar",e)}},exitState:{get(){return this.__exitState__},set(e){Fi(this,"exitState",e)}},setInitialRenderingCache:{get:()=>function(e){var t=Ni(this).__treeManager__;null===e?la(t):sa(t,e)},set(e){Fi(this,"exitState",e)}},setUpdatePerformanceListener:{get:()=>function(e,t){var r=Ni(this),n=r.__treeManager__,i=n.nodeId.getNodeId(r);"function"==typeof t?(r.__updatePerformanceListener__=t,n.operationFlow.push([W.ENABLE_UPDATE_PERFORMANCE_STAT,i,e])):(r.__updatePerformanceListener__=null,n.operationFlow.push([W.DISABLE_UPDATE_PERFORMANCE_STAT,i]))},set(e){Fi(this,"exitState",e)}}}),ji=function(e,t,r){var n=t[r+".json"]||{};void 0!==n.styleIsolation&&(e.options||(e.options={}),e.options.styleIsolation=n.styleIsolation),void 0!==n.pureDataPattern&&(e.options||(e.options={}),e.options.pureDataPattern=new RegExp(n.pureDataPattern))},Gi=function(e,t){e.using=pi[e.is]=_i(e.is,t),e.generics=hi[e.is]=Ai(e.is,t),e.placeholder=gi[e.is]=bi(e.is,t),Oi(e);var r=e.is+".wxml",n={path:r,func:Gr[r]||t[r]||null};e.template=n,ui[e.is]=Ri(e,r);var i=ti.registerElement(e),a=Object.create(Vi,{constructor:{value:Ui,writable:!0,configurable:!0}});ti.Behavior.prepare(i.behavior);var o=i.behavior.methods;for(var s in o)a[s]=o[s];return Hr(e.is+".js",(t=>{t(),(e=>{var t=ui[e];Sa.list().forEach((r=>{w(W.UPDATE_COMPONENT_DEF,[t],r.viewId),[r.root,r.tabRoot].forEach((t=>{t&&M(t,1,(t=>{if(t instanceof ti.Component&&t.is===e){var n=t===r.root;n&&r.lifetimeListener&&r.lifetimeListener.call(r.root,"onUnload"),qr(t,r),n&&r.lifetimeListener&&(r.lifetimeListener.call(r.root,"onLoad"),r.lifetimeListener.call(r.root,"onShow"))}}))}))}))})(e.is)})),a},Hi=function(e,r,n,i){var a=i||__wxAppCurrentFile__,o=n||__wxAppCode__,s=o[a+"on"];if(!a||!s)return console.error("Component constructors should be called while initialization. A constructor call has been ignored."),"";var l=a.slice(0,-3);if(s.component&&"simple"===s.component.type)return function(e,t,r,n,i){ji(e,i,t);var a={is:t,using:_i(t,i),properties:e.properties,externalClasses:e.externalClasses,options:si},o=e.options||{};a.options=si,a.options.multipleSlots=o.multipleSlots||!1,a.options.writeOnly=!0,a.options.writeIdToDOM=!1,a.options.domain="simple://"+(n||"/"),a.options.styleIsolation=o.styleIsolation||"",a.options.addGlobalClass=o.addGlobalClass||!1,a.options.innerDataExclude=null,a.options.virtualHost=!1,ui[t]=Ri(a,t+".wxml"),a.is}(e,l,0,r,o),l;ji(e,o,l);var c=ti.Behavior.callDefinitionFilter(e),u={is:l,properties:e.properties,data:ai(e.data),methods:e.methods,behaviors:e.behaviors,lifetimes:e.lifetimes,pageLifetimes:e.pageLifetimes,created:e.created,attached:e.attached,ready:e.ready,moved:e.moved,detached:e.detached,saved:e.saved,restored:e.restored,relations:e.relations?yi(a,e.relations):void 0,externalClasses:e.externalClasses,observers:e.observers,definitionFilter:c,options:si,initiator(){this.__customConstructor__=Hi,this.__pageRouter__=t.createRouter(l,this.__treeManager__.viewId);var e=Object.create(p);ci.set(e,this),ti.Element.setMethodCaller(this,e),Object.defineProperties(e,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},d=e.options||{};u.options=si,u.options.multipleSlots=d.multipleSlots||!1,u.options.writeOnly=d.writeOnly||!1,u.options.writeIdToDOM=!1,u.options.domain=(d.writeOnly?"wo://":"")+(r||"/"),u.options.styleIsolation=d.styleIsolation||"",u.options.addGlobalClass=d.addGlobalClass||!1,u.options.innerDataExclude=d.pureDataPattern||null,u.options.virtualHost=d.virtualHost||!1;var p=Gi(u,o);return u.is},Qi=function(e,r,n,i){var a=i||__wxAppCurrentFile__;if(!a)return console.error("Page constructors should be called while initialization. A constructor call has been ignored."),"";var o=n||"undefined"!=typeof __wxAppCode__&&__wxAppCode__||{},s=Object.create(null),l={methods:{}};for(var c in e)"data"===c?l.data=e.data:"function"==typeof e[c]?l.methods[c]=e[c]:"methods"===c?s.methods=e.methods:l[c]=e[c];var u=(e=>{if(!e)return!1;if(e instanceof Array){for(var t=0;t<e.length;t++){var r=String(e[t]);if("wx://"!==r.slice(0,5)&&!di[r])return console.warn('"behaviors" list contains non-behavior items. The whole list is ignored.'),!1}return!0}return!1})(l.behaviors),d=a.slice(0,-3);for(var p in ji(l,o,d),u&&ti.Behavior.callDefinitionFilter(l),l)"data"!==p&&"methods"!==p&&(s[p]=l[p]);var h={is:d,behaviors:u?l.behaviors:void 0,data:ai(l.data),methods:l.methods,properties:void 0===e.properties?l.properties:void 0,lifetimes:void 0===e.lifetimes?l.lifetimes:void 0,pageLifetimes:void 0===e.pageLifetimes?l.pageLifetimes:void 0,created:void 0===e.created?l.created:void 0,attached:void 0===e.attached?l.attached:void 0,ready:void 0===e.ready?l.ready:void 0,moved:void 0===e.moved?l.moved:void 0,detached:void 0===e.detached?l.detached:void 0,saved:void 0===e.saved?l.saved:void 0,restored:void 0===e.restored?l.restored:void 0,relations:void 0===e.relations&&l.relations?yi(a,l.relations):void 0,externalClasses:void 0===e.externalClasses?l.externalClasses:void 0,observers:void 0===e.observers?l.observers:void 0,options:si,initiator(){this.__customConstructor__=Qi,this.__pageRouter__=t.createRouter(d,this.__treeManager__.viewId);var e=Object.create(g);ci.set(e,this),ti.Element.setMethodCaller(this,e),Object.defineProperties(e,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},f=l.options||{};h.options.multipleSlots=!1,h.options.writeOnly=!1,h.options.writeIdToDOM=!0,h.options.domain=r||"/",h.options.styleIsolation=f.styleIsolation||"shared",h.options.addGlobalClass=!1,h.options.innerDataExclude=f.pureDataPattern||null,h.options.virtualHost=f.virtualHost||!1;var g=Gi(h,o);return g.__freeData__=s,h.is},$i=!0,zi=e=>{(e=>{var t=ln++;cn.push(t);try{e(t)}catch(e){throw cn.pop(),e}cn.pop()})((()=>{Yi(e)}))},Yi=e=>{ar+=1;var t,r,n,i,a,o=Date.now(),s=e.operationFlow.iterator,l=s.expectStart(),c=s.nextStepType();if(c===W.FLOW_INITIAL_CREATION)Zi(e,W.FLOW_INITIAL_CREATION),lr(l,o,Date.now(),2);else if(c===W.FLOW_INITIAL_RENDERING_CACHE)Zi(e,W.FLOW_INITIAL_RENDERING_CACHE);else if(c===W.FLOW_CREATE_TAB)Zi(e,W.FLOW_CREATE_TAB),lr(l,o,Date.now(),3);else if(mi.call(Ea,s.nextStepType())){var u=Ea[s.nextStepType()],d=s.nextStep().slice(1);u(e.compManager,d)}else{var p=Date.now(),h=s.nextStep();if(h[0]===W.FLOW_UPDATE){var f=h[1],g=e.nodeId.getNodeById(f),v=h[2];if(g){if(v.length){var m=ti.Component.getDataProxy(g);m.setChanges(v),m.doUpdates(void 0,!1),un(f,(e=>({isMergedUpdate:!1,dataPaths:e.withDataPaths?v.map((e=>e[0])):void 0,pendingStartTimestamp:l,updateStartTimestamp:o,updateEndTimestamp:Date.now()})))}}else h[1],s.skipToEnd()}else if(h[0]===W.FLOW_GROUP){var _=s.nextStep();if(_[0]!==W.FLOW_GROUP_END)throw new Error(`Framework inner error (expect FLOW_GROUP_END but get ${U(_[0])})`)}else if(h[0]===W.FLOW_REPLACE_PLACEHOLDER){var y=e.compManager.getPlaceholderReplaceData();e.compManager.finishPlaceholderReplacement(),y.replacers.forEach((e=>{e()}))}else if(h[0]===W.FLOW_HOT_UPDATE){var A=e.nodeId.getNodeById(h[1]);A?A.__templateInstance._resetShadowChildren(A,A.data,e):s.skipToEnd()}else{if(h[0]!==W.FLOW_HOT_UPDATE_RESET)throw new Error(`Framework inner error (expect an update event but get ${U(h[0])})`);var b=e.nodeId.getNodeById(h[1]);qr(b,e)}((e,t,r,n)=>{Reporter.speedReport({key:e,timeMark:{startTime:t,endTime:r},force:"reRenderTime"!==e,data:n})})("reRenderTime",p,Date.now()),$i&&5===((e,t,r)=>(cr+=ar,dr+=r-t,pr+=or,hr+=sr,fr+=r-e,ar=0,or=0,sr=0,ur+=1))(l,o,Date.now())&&($i=!1,t=1,r=Math.ceil(dr/(ur||1)),n=Math.ceil(hr/(pr||1)),i=Math.ceil(fr/(ur||1)),a=[cr,ur,r,pr,n,1,i,t].map(encodeURIComponent).join(","),void 0!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:a,force:!0}))}s.expectEnd()},Zi=(e,t)=>{var r,n,i=t===W.FLOW_CREATE_TAB,a=t===W.FLOW_INITIAL_RENDERING_CACHE,o=e.operationFlow.iterator,s=o.nextStep(),l=s[1],c=s[2],u=null;if(i)e.tabNodeId=c,e.tabRoot=u=window.__TAB_BAR__=ti.createElement("tab-bar",ti.Component._list[l]);else if(a){if(!l)return void Jn(null);u=ti.createElement("initial-rendering-cache",ti.Component._list[l])}else{var d=s[3]||{};e.rootNodeId=c,e.root=u=window.__DOMTree__=ti.Component.createWithGenerics("body",ti.Component._list[l],d,e)}if(e.nodeId.allocNodeId(u,c),u.setAttribute("is",l),tr.restoring&&!i){var p=tr.idDataMap[e.nodeId.getNodeId(u)];ti.Component.replaceWholeData(u,p,null),Mn(tr.restoring),tr.restoring=null,tr.idDataMap=null}if((s=o.nextStep())[0]!==t)throw new Error(`Framework inner error (expect ${U(t)} end but get ${U(s[0])})`);if(e.nodeId.addNode(u),i){var h=ti.createElement("wx-tab-bar-wrapper",ti.Component._list["wx://tab-bar-wrapper"]);h.appendChild(u),document.documentElement.insertBefore(h.$$,document.body),ti.Element.pretendAttached(h),e.tabDestroyed&&h.removeChild(u)}else if(a){var f=document.createElement("wx-initial-rendering-cache-wrapper");if(f.setAttribute("style","height: 0; overflow: hidden"),f.appendChild(u.$$),document.documentElement.insertBefore(f,document.body),(s=o.nextStep())[0]!==W.FLOW_INITIAL_RENDERING_CACHE)throw new Error("Framework inner error (expect initial rendering end but get another)");M(u,1,(e=>{e.triggerLifeTime("cacheAttached")})),Jn(u,s[1]),e.nodeId.removeNode(u),document.documentElement.removeChild(f)}else document.body=u.$$,M(u,1,(e=>{e.triggerLifeTime("cacheAttached")})),function(e){Yn&&Date.now(),"static"===Zn(window.__route__)&&qn(e)}(u),ti.Element.pretendAttached(u),r="initialRenderingDone",n=Date.now(),$n[r]=n,setTimeout((()=>{w(W.PERFORMANCE_DATA,[$n],void 0,!0)}),0)},qi=()=>{qt.setStartOperation(zi),Sa.instance=Sa.create(0)},Ji={String:String,Number:Number,Boolean:Boolean,Object:Object,Array:Array,null:null},Xi=(e,t,r)=>{for(var n in e.properties)e.properties[n].type=Ji[e.properties[n].type];var i="";t||(i=r.compManager.getComponentClassPrefix(e.is));var a=e.options,o=!(!a.writeIdToDOM&&!t);e.options=li,e.options.multipleSlots=a.multipleSlots||!1,e.options.writeOnly=a.writeOnly||!1,e.options.writeIdToDOM=o,e.options.domain=a.domain,e.options.randomizeTagName=!1,e.options.innerDataExclude=(e=>{if(!e)return null;var t=e.lastIndexOf("/"),r=e.slice(1,t),n=e.slice(t+1);return new RegExp(r,n)})(a.innerDataExcludeString),e.options.virtualHost=a.virtualHost;var s=!1;if(a.styleIsolation){var l=a.styleIsolation;"page-"===l.slice(0,5)&&(s=!0,l=l.slice(5)),"isolated"===l?(i=r.compManager.getComponentClassPrefix(e.is),e.options.addGlobalClass=!1):"strong-isolated"===l?(i=r.compManager.getComponentClassPrefix(e.is),e.options.addGlobalClass=!1,e.options.randomizeTagName=!0):"apply-shared"===l?(i=r.compManager.getComponentClassPrefix(e.is),e.options.addGlobalClass=!0):"shared"===l&&"/"===a.domain?(i="",e.options.addGlobalClass=!1):s=!1}else e.options.addGlobalClass=a.addGlobalClass||!1;e.options.classPrefix=i,a.hasObservers&&(e.observers={"**":function(){}}),window.__customComponentMode__="undefined"!=typeof __wxAppCode__&&__wxAppCode__[e.template];var c=window.__generateFunc__;return"undefined"!=typeof __wxAppCode__&&__wxAppCode__[e.template]?c=__wxAppCode__[e.template]:e.template,e.template={path:e.is+".wxml",func:c},ti.registerElement(e),{disableAppWxss:s,classPrefix:i}},Ki=(e,t)=>{t||(window.__forceSaveStates__=Ln,"function"==typeof r.onWebViewWillManuallyTerminate&&r.onWebViewWillManuallyTerminate(Ln));var[n,i,a,o]=e,s=Sa.instance;t||(s.rootCompName=a);for(var l=0;l<n.length;l++){var c=n[l];c.options.hasObservers&&(c.observers={"**":function(){}}),c.options=oi,ti.registerBehavior(c)}for(var u=function(e){var r=i[e],n=r.is===a&&!t,{disableAppWxss:o,classPrefix:l}=Xi(r,n,s);o&&r.is===a&&!t&&__webviewEngine__.disableStyleElement("app.wxss");var c=r.is+".wxss",u="undefined"==typeof __wxAppCode__?null:__wxAppCode__[c];u&&((r.is!==a||t)&&u(l&&l+"--",{allowIllegalSelector:!0}),Hr(c,(e=>{e?e(l&&l+"--",{allowIllegalSelector:!0}):window.__styleSheetManager__.setCss("./"+c,""),document.dispatchEvent(new CustomEvent("pageReRender",{}))})))},d=0;d<i.length;d++)u(d);for(var p in Hr("app.wxss",(e=>{e?e("",{allowIllegalSelector:!0}):window.__styleSheetManager__.setCss("./app.wxss",""),document.dispatchEvent(new CustomEvent("pageReRender",{}))})),o)mi.call(ti.Component._list,o[p])&&(ti.Component._list[p]=ti.Component._list[o[p]])};C(W.LOAD_COMPONENT_DEF,(function(e){if(!__wxConfig.isFirstPage&&Ei()){var t=e[0],r=Sa.instance.compManager;r.setInitialSubPackage(t),r.injectComponentsRecursively([t],(()=>{da.on("inject",(()=>{Si(t),Ii(t)}))}),!0)}}),0);var ea=!1,ta=[],ra=[];C(W.COMPONENT_DEF,(function(e){ea?Ki(e,!1):ta.push(e),Sa.instance.compManager.setInitialSubPackage(e[2])}),0),C(W.COMPONENT_DEF_TAB,(function(e){ea||ri?da.on("inject",(()=>{Ki(e,!0)})):ra.push(e)}),0);var na,ia=()=>{ea=!0,ua(),ta.forEach((e=>{Ki(e,!1)})),ta=[],ra.forEach((e=>{da.on("inject",(()=>{Ki(e,!0)}))})),ra=[]},aa=(e,t,r)=>{var n=[[],[],r=An(r),Vn];na=Object.create(null),Di(n,r,na,"",t);var i=(e=>{var t=jn[e];if(!t)return{};var r=t.match(/^plugin:\/\/(wx[0-9a-f]{16})\/(.+)$/);if(!r)return{};var n=r[1],i=r[2],a=O(__wxConfig.plugins).find((e=>e.provider===n));if(!a)return{};if(!a.genericsImplementation)return{};var o=a.genericsImplementation[i]||{},s={},l=wn(n);return Object.keys(o).forEach((e=>{s["wx-"+e]=k(l,String(o[e]))})),s})(r);O(i).forEach((e=>{Di(n,e,na,"",t)})),w(W.COMPONENT_DEF,n,e),(e=>{q&&w(W.BANNING_MAP,[q],e)})(e),t.rootCompName=r,t.rootNodeId=R(),t.operationFlow.start(),t.operationFlow.push([W.FLOW_INITIAL_CREATION,r,t.rootNodeId,i]);var a=ti.Component.createWithGenerics("body",ti.Component._list[r],i,t);return ir(a,t),t.root=a,t.usedDef=n,ti.Element.getMethodCaller(a).__wxExparserNodeId__=t.nodeId.allocNodeId(a,t.rootNodeId),t.operationFlow.push([W.FLOW_INITIAL_CREATION]),t.nodeId.addNode(a),a};C(W.UPDATE_COMPONENT_DEF,(function(e){var[t]=e,r=Sa.instance;ti.Component._list[t.is]&&Xi(t,r.rootCompName===t.is,r)}));var oa=(e,r)=>{r.listenerInited||(r.listenerInited=!0,((e,r)=>{C(W.WX_EVENT,(function(n){var i=n[2],o=n[1],s=r.nodeId.getNodeById(n[0]);if(s){var l=ti.Element.getMethodCaller(s),c=i._userTap;if(i._requireActive&&!a.isFramesetMode()){var u=a.getCurrentPagesByDomain("");if(u[u.length-1].__wxWebviewId__!==e)return;delete i._requireActive}i._relatedInfo&&(a.DisplayReporter.setEventRelatedInfo(i._relatedInfo),delete i._relatedInfo),"function"!=typeof l[o]?console.warn('Component "'+s.is+'" does not have a method "'+o+'" to handle event "'+i.type+'".'):c?Cr((()=>{t.setWxInterfaceIsInvokeInTap(i.type),ti.safeCallback("Event Handler",l[o],l,[i],s),t.unsetWxInterfaceIsInvokeInTap()})):ti.safeCallback("Event Handler",l[o],l,[i],s)}}),e),C(W.MODEL_VALUE_CHANGE,((e,t,r)=>{var{data:n,modelValueName:i,nodeId:a}=e[0];wi(n,i,r,a)}),e)})(e,r),C(W.REQUEST_SAVE,(([t])=>{Wn(e,t)}),e),C(W.CALL_METHOD_FROM_WXS,(e=>{Dr(e)}),e),function(e,t){C(W.ANIMATION_TRANSITION_END,(e=>{if(e&&e[0]&&e[0].reqId){var r=t.applyAnimationCbMap[e[0].reqId];"function"==typeof r&&(delete t.applyAnimationCbMap[e[0].reqId],Xn.safeCallback("Animation",r,null,[]));var n=JSON.parse(e[0].args);t.operationFlow.push([W.FLOW_SET_NODE_NEXT_ANIMATION_INFO,n])}}),e),C(W.CLEAR_ANIMATION_COMPLETE,(e=>{if(e&&e[0]&&e[0].reqId){var r=t.clearAnimationCbMap[e[0].reqId];"function"==typeof r&&(delete t.clearAnimationCbMap[e[0].reqId],Xn.safeCallback("Clear Animation",r,null,[]))}}),e)}(e,r),function(e,t){C(W.RESPONSE_VIEW_INFO,(([e,r])=>{if(r){var n=t.viewInfoCbMap[r];n&&n(e)}}),e)}(e,r),((e,t)=>{C(W.UPDATE_PERFORMANCE_STAT,(function(e){var[r,n]=e,i=t.nodeId.getNodeById(r);if(i&&i.__updatePerformanceListener__){var a=on.Element.getMethodCaller(i);on.safeCallback("Update Performance Listener",i.__updatePerformanceListener__,a,[n],i)}}),e)})(e,r))},sa=(e,t)=>{var r=An(e.rootCompName),n=R();e.operationFlow.start(),e.operationFlow.push([W.FLOW_INITIAL_RENDERING_CACHE,r,n]);var i=ti.createElement("initial-rendering-cache",ti.Component._list[r],e);return ti.Element.getMethodCaller(i).__wxExparserNodeId__=e.nodeId.allocNodeId(i,n),e.operationFlow.push([W.FLOW_INITIAL_RENDERING_CACHE]),e.nodeId.addNode(i),i.setData(t),e.operationFlow.push([W.FLOW_INITIAL_RENDERING_CACHE,t]),e.operationFlow.end(),e.nodeId.removeNode(i),i},la=e=>{e.operationFlow.start(),e.operationFlow.push([W.FLOW_INITIAL_RENDERING_CACHE,"",null]),e.operationFlow.end()},ca=!1,ua=()=>{ca||(ca=!0,w(W.REQUEST_TAB,[]),Sa.instance.compManager.setInitialSubPackage(Ti))},da=L(["inject"]);var pa=(e,t,r)=>{var n=!0,i=__wxConfig.tabBar&&__wxConfig.tabBar.list;i instanceof Array&&(i.map((e=>e&&e.pagePath)).indexOf(t+".html")>=0&&(n=!1));n&&(e.tabDestroyed=!0,w(W.DESTROY_TAB,[],r))};var ha=(e,t)=>{if(r=!1,__wxConfig.tabBar&&!0===__wxConfig.tabBar.custom&&(r=!0),ga(Ti)||(r=!1),__wxConfig.appLaunchInfo&&"singlePage"===__wxConfig.appLaunchInfo.mode&&(r=!1),r){var r,n=Sa.get(e)||Sa.create(e);oa(e,n),n.tabRoot||n.tabDestroyed||(n.compManager.injectComponentsRecursively([Ti]),((e,t,r)=>{var n=[[],[],r=An(r),{}];Di(n,r,Object.create(null),"",t),w(W.COMPONENT_DEF_TAB,n,e),t.tabCompName=r,t.tabNodeId=R(),t.operationFlow.start(),t.operationFlow.push([W.FLOW_CREATE_TAB,r,t.tabNodeId]);var i=ti.createElement("tab-bar",ti.Component._list[r],t);t.tabRoot=i,t.tabUsedDef=n,ti.Element.getMethodCaller(i).__wxExparserNodeId__=t.nodeId.allocNodeId(i,t.tabNodeId),t.operationFlow.push([W.FLOW_CREATE_TAB]),t.nodeId.addNode(i)})(e,n,Ti),ti.Element.pretendAttached(n.tabRoot),n.operationFlow.end(),t&&w(W.FLUSH_BLOCKED,[],e),n.rootCompName&&pa(n,n.rootCompName,e))}},fa=[];__wxConfig.onReady((()=>{fa.forEach((e=>{ha(e,!0)})),fa=null})),C(W.REQUEST_TAB,((e,t,r)=>{null!==fa?fa.push(r):ha(r,!0)}),"$GLOBAL");var ga=e=>(e=An(e),mi.call(Vn,e)&&(e=Vn[e]),ui[e]),va=(e,t,r)=>{var n=Sa.get(e)||Sa.create(e);n.lifetimeListener=r,n.operationFlow.unblock();try{ha(e,!1)}catch(e){Reporter.thirdErrorReport({error:e})}n.compManager.setInitialSubPackage(t),pa(n,t,e),oa(e,n),t=An(t);var i=(__wxConfig.subPackages||[]).filter((e=>!!e.allExtendedComponents));return w(W.LOAD_COMPONENT_DEF,[t,i],e),n.compManager.injectComponentsRecursively([t],null,!0),ga(t)||(t="wx://not-found"),aa(e,n,t)},ma=(e,t)=>{var r=Sa.get(e);if(r){var n=r.root,i=!1,a={};Object.keys(t).forEach((e=>{ti.Component.hasProperty(n,e)&&(a[e]=t[e],i=!0)})),i&&r.root.setData(a),Qr()&&(r.initialRootData=t),ti.Element.pretendAttached(n),r.root.__treeManager__.operationFlow.end()}},_a=e=>{var t=Sa.get(e);t&&(ti.Element.pretendDetached(t.root),Sa.destroy(e),(e=>{delete u[e]})(e))},ya=Object.prototype.hasOwnProperty,Aa=()=>"devtools"===__wxConfig.platform||"devtool"===__wxConfig.serviceRuntime,ba=!0;class wa{constructor(e,t){this.__viewId=e,this.__treeManager=t,this.__loadedSubPackage=new Set,this.__injectedSubPackage=new Set,this.__log=e=>{wxNativeConsole.info(`[CompMgr] [data] [${this.__viewId}] ${e}`)},this.__ensureComponentNotifier={},this.__placeholderReplacement=null,this.__injectedComponents=new Set([]),this.__classPrefixMap=new Map,this.__usedClassPrefix=new Set,this.__restoreInjectNotifier=null}getRestoredData(){return[Array.from(this.__loadedSubPackage),Array.from(this.__injectedSubPackage),Object.fromEntries(this.__classPrefixMap),Array.from(this.__injectedComponents),this.__treeManager.rootCompName]}getRestoreInjectNotifier(){return this.__restoreInjectNotifier||(this.__restoreInjectNotifier=L(["inject"])),this.__restoreInjectNotifier}restore(e){var[t,r,n,i,a]=e,o=()=>{Si(a),Ii(a),this.getRestoreInjectNotifier().notify("inject")};this.setSubPackageLoaded(t),this.batchInjectSubPackages(r,(()=>{Ei()?this.batchInjectComponents(i,o):o()})),this.__usedClassPrefix=new Set(Object.values(n)),this.__classPrefixMap=new Map(Object.entries(n))}onRestoreInjectDone(e){this.getRestoreInjectNotifier().on("inject",e)}recurseUsingComponents(e){if(!Ei())return e;var t=__wxAppCode__,r="undefined"!=typeof __WXML_DEP__&&__WXML_DEP__||{},n=new Set,i=e=>{if(!n.has(e)){n.add(e);var a=_i(e,t),o=Ai(e,t),s=bi(e,t);for(var l in a)ya.call(s,l)?ya.call(a,s[l])&&i(a[s[l]]):i(a[l]);for(var c in o){var u=o[c];"string"==typeof u.default&&i(u.default)}(r["./"+e+".wxml"]||[]).forEach((e=>{var r=e.substr(2,e.length-7);ya.call(t,r+".json")&&i(r)}))}};e.forEach((e=>i(e)));var a=Array.from(n);return this.__log(`recurseUsingComponents(${JSON.stringify(e)}) => ${JSON.stringify(a)}`),a}batchLoadSubPackages(e,r){this.__log("loadSubPackages: "+e.join(", ")),Promise.all(e.map((e=>new Promise((r=>{((e,r)=>{var n=Date.now();t.loadSubpackage({name:e,success(){var e=Date.now();r(e-n)},complete(t){wxNativeConsole.info("[VD] loadSubpackage "+e+": ",t)}})})(e,r)}))))).then((()=>{this.setSubPackageLoaded(e),this.__treeManager.operationFlow.sendInIndividualFlow([W.FLOW_SET_SUBPACKAGE_LOADED,e]),r()}))}setSubPackageLoaded(e){this.__log("setSubPackageLoaded: "+e.join(", ")),e.forEach((e=>{this.__loadedSubPackage.add(e)}))}batchInjectSubPackages(e,t){this.__log("injectSubPackages: "+e.join(", "));var r=e.filter((e=>!this.__injectedSubPackage.has(e))).map((e=>"__APP__"===e||"/"===e.slice(-1)?e:e+"/"));if(Aa())S(r),this.setSubPackageInjected(r);else{var n=[];r.forEach((e=>{n.push(...Pn(e,(t=>{this.__log(`getEntryFile ${e}: ${t}`)})))})),I(n),this.setSubPackageInjected(r)}}batchInjectComponents(e,t){if(!Ei())return-1;var r=e.map((e=>bn(e))).filter((e=>!this.__injectedComponents.has(e)));this.__log("injectComponents: "+r.join(", "));var n=Aa()?T(r):I(r.map((e=>`${e}.appservice.js`)));return r.forEach((e=>{this.__injectedComponents.add(e)})),n}setSubPackageInjected(e){this.__log("setSubPackageInjected: "+e.join(", ")),e.forEach((e=>{this.__injectedSubPackage.add(e)}))}setInitialSubPackage(e){var t=[In(e)];Sn(e)||t.push("__APP__"),this.setSubPackageLoaded(t),this.setSubPackageInjected(t)}shouldUsePlaceholder(e){var t=In(e),r=this.__loadedSubPackage.has(t);return Ei()&&(r=r&&this.__injectedComponents.has(e)),!r}doLazyLoadReport(e,t){var r=gr(),n=ba;ba=!1;var i=Object.keys(__wxAppCode__).filter((e=>e.endsWith(".json"))).length;r.set("isFirstPage",n),r.set("totalComps",i),r.set("loadedComps",e),r.set("loadTime",t)}injectComponentsRecursively(e,t,r=!1){if(Ei()){var n=this.recurseUsingComponents(e),i=this.batchInjectComponents(n,(e=>{0}));r&&this.doLazyLoadReport(n.length,i)}}ensureComponents(e,t){var r,n=R(),i=e.map((e=>In(e)));return r=i,(i=Array.from(new Set(r))).some((e=>!Sn(e)))&&i.unshift("__APP__"),i=i.filter((e=>!this.__loadedSubPackage.has(e))),this.batchLoadSubPackages(i,(()=>{this.__treeManager.operationFlow.sendInIndividualFlow([W.FLOW_INJECT_SUBPACKAGE,n,i]),Ei()&&this.__treeManager.operationFlow.sendInIndividualFlow([W.FLOW_INJECT_COMPONENT,n,e]),this.batchInjectSubPackages(i),this.injectComponentsRecursively(e),t(n)})),n}getEnsureComponentsNotifier(e){if(!this.__ensureComponentNotifier[e]){var t=["inject","def"];Ei()&&t.push("inject-common"),this.__ensureComponentNotifier[e]=L(t)}return this.__ensureComponentNotifier[e]}destructEnsureComponentsNotifier(e){this.__ensureComponentNotifier[e]&&delete this.__ensureComponentNotifier[e]}injectSubPackageOnReady(e,t){this.batchInjectSubPackages(t,(()=>{var t=Ei()?"inject-common":"inject";this.getEnsureComponentsNotifier(e).notify(t)}))}injectComponentsOnReady(e,t){Ei()&&this.getEnsureComponentsNotifier(e).on("inject-common",(()=>{this.injectComponentsRecursively(t,(()=>{this.getEnsureComponentsNotifier(e).notify("inject")}))}))}appendComponentDef(e,t){this.getEnsureComponentsNotifier(e).on("inject",(()=>{Ki(t,!1),this.getEnsureComponentsNotifier(e).notify("def")}))}waitComponentEnsuring(e,t){this.getEnsureComponentsNotifier(e).on("def",(()=>{t((()=>{this.destructEnsureComponentsNotifier(e)}))}))}arrangePlaceholderReplace(e,t){null===this.__placeholderReplacement?this.__placeholderReplacement={compNames:new Set,replacers:[]}:clearTimeout(this.__placeholderReplacement.timer),this.__placeholderReplacement.compNames.add(e),this.__placeholderReplacement.replacers.push(t),this.__placeholderReplacement.timer=setTimeout((()=>{xi(this.__treeManager)}),50)}getPlaceholderReplaceData(){return this.__placeholderReplacement}finishPlaceholderReplacement(){this.__placeholderReplacement=null}getComponentClassPrefix(e){if(this.__classPrefixMap.has(e))return this.__classPrefixMap.get(e);var t=e.split(/[^a-z0-9]+/i),r="",n=0,i=0;do{n<t.length?n+=1:i+=1,r=t.slice(-n).join("-"),i>0&&(r+="-"+i),Number(r[0])>=0&&(r="x-"+r)}while(this.__usedClassPrefix.has(r));return this.__classPrefixMap.set(e,r),this.__usedClassPrefix.add(r),r}}var Ea={[W.FLOW_COMPONENT_DEF_ADD](e,t){var r=t[0],n=t[1];e.appendComponentDef(r,n)},[W.FLOW_INJECT_SUBPACKAGE](e,t){var r=t[0],n=t[1];e.injectSubPackageOnReady(r,n)},[W.FLOW_INJECT_COMPONENT](e,t){var r=t[0],n=t[1];e.injectComponentsOnReady(r,n)},[W.FLOW_SET_SUBPACKAGE_LOADED](e,t){var r=t[0];e.setSubPackageLoaded(r)},[W.FLOW_WAIT_COMPONENT](e,t){var r=t[0];e.__treeManager.operationFlow.block(),e.waitComponentEnsuring(r,(t=>{e.__treeManager.operationFlow.unblock(),t()}))}},Ca={};class Ia{constructor(e){this.listenerInited=!1,this.root=null,this.tabRoot=null,this.tabDestroyed=!1,this.usedDef=null,this.tabUsedDef=null,this.statesData=null,this.operationFlow=new qt(e,this),this.nodeId=new B,this.compManager=new wa(e,this),this.rootNodeId="",this.tabNodeId="",this.rootCompName="",this.tabCompName="",this.applyAnimationCbMap={},this.clearAnimationCbMap={},this.viewInfoCbMap={},this.initialRootData=null,this.lifetimeListener=null}static create(e){var t=new Ia(e);return t.viewId=e,Ca[e]=t,t}static destroy(e){delete Ca[e]}static get(e){return Ca[e]}static listViewId(){var e=[];for(var t in Ca)e.push(Ca[t].viewId);return e}static list(){var e=[];for(var t in Ca)e.push(Ca[t]);return e}}var Sa=Ia,Ta=function(e,t){var r=Sa.get(t);return r?r.nodeId.getNodeById(e):null},xa=function(e,t){return Sa.get(t).nodeId.getNodeId(e)},Pa=function(e){var t=Sa.get(e);return t?t.rootNodeId:""},ka=function(){jr=!0},Da=function(e,t){var r=Vr[e];if(r)return Gr[e]=t,r(t)},Ra=l(),Oa=e=>e;Ra.addGlobalErrorListener(((e,t)=>{var r=t.element&&t.element instanceof Ui?t.element:null,n=r?Pi(r):"";return Reporter.thirdErrorReport({source:n,error:e,extend:t.message.replace(/^\[exparser\] \[(error|warning)\] /i,"")}),!1})),Ra.addGlobalWarningListener((e=>{console.warn(e.replace(/^\[exparser\] \[(error|warning)\] /i,""))})),Ra.globalOptions.createFakeDomElement=!1,Ra.globalOptions.inDocument=!1,Ra.globalOptions.documentBackend="none",Ra.updateDefaultComponent(),c.registerBehavior({is:"wx://form-field",properties:{name:{type:String,public:!0},value:{type:null,public:!0}}}),c.registerBehavior({is:"wx://form-field-group"}),c.registerBehavior({is:"wx://form-field-button"}),c.registerBehavior({is:"wx://style-filter"}),c.registerBehavior({is:"wx://request-filter"}),c.registerBehavior({is:"wx://request-sender"}),c.registerBehavior({is:"wx://component-export",definitionFilter(e){"function"==typeof e.export&&("object"==typeof e.methods?e.methods.__export__=e.export:e.methods={__export__:e.export})}}),(()=>{var e={domain:"//",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1};["not-found","functional-page","open-api-redirecting-page"].forEach((t=>{Hi({options:e,properties:{}},"//",{[`wx://${t}.json`]:{usingComponents:{}}},`wx://${t}.js`)}))})(),i=o})(),(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};e.r(o),e.d(o,{App:()=>Ze,Behavior:()=>xr,Component:()=>Tr,DisplayReporter:()=>K,Page:()=>Sr,__createPluginGlobal:()=>Ir,convertComponentAliasToRoute:()=>kt,forcePageReload:()=>fr,getApp:()=>qe,getCurrentPageWithAdditionalInfo:()=>zt,getCurrentPages:()=>Jt,getCurrentPagesByDomain:()=>qt,getCurrentRoute:()=>Vt,getPageByWebviewId:()=>Yt,getPageMetaByWebviewId:()=>Zt,hasPageRoute:()=>tr,isFramesetMode:()=>Ut,setPrivateExtraData:()=>Xe,showShareTimelineMenuIfNeeded:()=>_r});var s=BabelRuntimeHelpers.objectSpread2,l=e.n(s),c=!1,u=function(e){c=e},d=function(){return c},p=Object.prototype.toString;function h(e,t){var r=g(e);return null!==r?r:f(e,t)}function f(e,t){if("function"!=typeof t)throw new TypeError("customizer is must be a Function");if("function"==typeof e)return u(!0),e;var r=p.call(e);if("[object Array]"===r)return[];if("[object Object]"===r&&e.constructor===Object)return{};if("[object Date]"===r)return new Date(e.getTime());if("[object RegExp]"===r){u(!0);var n=String(e),i=n.lastIndexOf("/");return new RegExp(n.slice(1,i),n.slice(i+1))}var a=t(e);return void 0!==a?a:(u(!0),null)}function g(e){var t=typeof e;return null!==e&&"object"!==t&&"function"!==t?e:null}var v=Object.prototype.toString,m="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=typeof e;if(null===e||"function"!==t&&"object"!==t)throw new TypeError("obj must be an Object");var r,n=[];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);return n},_="function"==typeof Symbol?function(e){return Object.getOwnPropertySymbols(e)}:function(){return[]};function y(e,t){if("[object Array]"!==v.call(e))throw new TypeError("array must be an Array");var r,n,i;for(r=0,n=e.length;r<n;++r)if((i=e[r])===t||i!=i&&t!=t)return r;return-1}function b(e){}function w(e,t,r,n,i){if(null===e)return null;var a=g(e);if(null!==a)return a;var o,s,l,c,u,d,p,f,v=m(e).concat(_(e));for(o=0,s=v.length;o<s;++o)d=void 0,p=void 0,f=void 0,-1===(u=y(n,c=e[l=v[o]]))?(p=null!==(d=h(c,t))?d:c,null!==c&&/^(?:function|object)$/.test(typeof c)&&(n.push(c),i.push(p))):f=i[u],r[l]=f||w(c,t,p,n,i);return r}var E=function(e,t=b){if(u(!1),null===e)return null;var r=g(e);if(null!==r)return r;var n=f(e,t),i=null!==n?n:e;return w(e,t,i,[e],[i])},C=(e,t)=>{for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e},I=()=>{},S=e=>Object.prototype.toString.call(e).split(" ")[1].split("]")[0],T=e=>"Promise"===S(e),x=(Object.prototype.hasOwnProperty,Object.prototype.toString),P=e=>"[object Object]"===x.call(e),k=(e,t)=>{console.group(`${new Date} ${e}`),console.error(t),console.groupEnd()},D=(e,t)=>{console.group(`${new Date} ${e}`),console.warn(t),console.groupEnd()},R=e=>{__wxConfig&&__wxConfig.debug&&console.info(e)},O=(e,t)=>{if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type)throw e;Reporter.errorReport({key:"jsEnginScriptError",error:e,extend:t})}},M=(e,t)=>function(...r){try{return e.apply(e,r)}catch(e){return O(e,t),()=>{}}};class L extends Error{constructor(e){super(`APP-SERVICE-Engine:${e}`),this.type="AppServiceEngineKnownError"}}function N(...e){var t,r=e[0];Reporter.__route__=this.__route__,Reporter.__method__=r,e=e.slice(1);try{var n=Date.now();t=this[r](...e);var a=Date.now()-n;a>1e3&&Reporter.slowReport({key:"pageInvoke",cost:a,extend:`at ${this.__route__} page ${r} function`})}catch(e){var o=i.getOwnerPluginAppId(this);Reporter.thirdErrorReport({source:o,error:e,extend:`at ${this.__route__} page ${r} function`})}return Reporter.__route__=Reporter.__method__="",t}var B,W=Object.assign,F=()=>!!("undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("appservice")>-1),U=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},V=null,j=()=>(V||(V=t.getSystemInfoSync()),V),G={},H=!0,Q=null,$={},z={},Y=null,Z=null,q=null,J="";function X(e={}){var t=e.clickTimestamp;t&&((t=(t=parseInt(t,10))<1e12?1e3*t:t)&&t>0&&(Q=t),H=e.isLaunch)}class K{constructor(e,t){this.showOptions={},this.hideOptions={},this.route=e,this.pageType=t||0,this.query={},this.deferred=[],this.showTimeStamp=null,this.pageReadyTime=null,this.showReferpagepath="",this.isentrance=0,this.isInitialLoading=!0,this.orientationChangeCount=0,this.startCostTime=null,this.startType=null}static setOnLaunch(e={}){X(e),$=Object.assign($,e),B=j(),$.publicLibVersion=B.SDKVersion,$.hostAppId=__wxConfig.host&&__wxConfig.host.appId||"",K._assignForClientOnShow($,e)}static setOnAppShow(e={}){X(e),$=Object.assign($,e),K._assignForClientOnShow($,e)}static setOnAppHide(e={}){z=Object.assign(z,e)}static setEventRelatedInfo(e){Y=e}static _assignForClientOnShow(e,t){e.shortLink=t.shortLink||"",e.scene_note=t.scene_note||t.sceneNote||"",e.referpagepath=t.referpagepath||"",e.usedstate=t.usedstate||t.usedState,e.prescene=t.prescene,e.prescene_note=t.prescene_note||t.presceneNote||"",e.clickTimestamp=Date.now()}checkShowOptions(){var e=$,t=this.showOptions;t.scene=e.scene||0,t.scene_note=e.scene_note,t.sessionid=e.sessionid||e.sessionId,t.usedstate=e.usedstate,t.referpagepath=e.referpagepath,t.clickTimestamp=e.clickTimestamp,t.prescene=e.prescene,t.prescene_note=e.prescene_note,t.apptype=Reporter.getAppType(),t.publicLibVersion=e.publicLibVersion,t.hostAppId=e.hostAppId||"",t.shortLink=e.shortLink||"";var r=this.query,n=[];r&&"object"==typeof r&&Object.keys(r).forEach((e=>{n.push(`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)})),t.query=n.join("&")}checkHideOptions(){var e=z,t=this.hideOptions;t.targetAction=e.targetAction||0,t.targetPagePath=e.targetPagePath||"",void 0!==e.usedstate&&(t.usedstate=e.usedstate),void 0!==e.usedState&&(t.usedstate=e.usedState)}static _getNetworkType(e){t.getNetworkType({success:t=>{var r=t.networkType;"none"===r&&(r="offline"),e(r)},fail:()=>{e("")}})}_checkDeferred(){for(var e=this.deferred;e.length;){e.pop()()}}_reportShowPage(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0),e.reportTime=Date.now();var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText,0,e.startCostTime,e.startType,e.reportTime,0,e.hostAppId,e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportRealtime(e)}_reportHidePage(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0),e.reportTime=Date.now();var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText,e.orientationChangeCount,e.startCostTime,e.startType,e.reportTime,0,e.hostAppId,e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportRealtime(e)}_submit(){Reporter.submit(),setTimeout((()=>{Reporter.submit()}),100)}_reportRealtime(e){if(!F()){var n="",i=2;if(__wxConfig){var a=__wxConfig.accountInfo,o=__wxConfig.envVersion;a&&(n=a.appId||""),"release"===o?i=1:"trial"===o&&(i=3)}if(J||(J=r&&r.version&&r.version.version||""),null==B)try{B=j()||{}}catch(e){B={}}var s={DeviceModel:B.model||"",DeviceBrand:B.brand||"",OsName:B.platform||"",OsVersion:B.system||"",LanguageVersion:B.language||"",appid:n,appversion:J,appstate:i,event_id:e.event_id,scene:e.scene,scene_note:(e.scene_note||"").substr(0,1024),sessionid:e.sessionid,usedstate:e.usedstate,pagepath:e.pagepath,networktype:e.networktype,costtime:e.costtime,staytime:e.staytime,referpagepath:(e.referpagepath||"").substr(0,1024),targetAction:e.targetAction,targetPagePath:(e.targetPagePath||"").substr(0,1024),clickTimestamp:0,publicLibVersion:e.publicLibVersion,prescene:e.prescene,prescene_note:e.prescene_note,isentrance:e.isentrance,query:(e.query||"").substr(0,1024),apptype:e.apptype,pagetype:e.pagetype,anchorTargetText:e.anchorTargetText,clickTime:e.clickTimestamp,anchorTargetRelatedText:e.anchorRelatedText,orientationChangeCount:e.orientationChangeCount,startCostTime:e.startCostTime,startType:e.startType,reportTime:e.reportTime};try{t.operateRealtimeData(1e3,JSON.stringify(s),!0)}catch(e){}}}setReadyTime(e){this.pageReadyTime=e,this._checkDeferred()}setQuery(e){this.query=e}addOrientationChangeCount(){this.orientationChangeCount+=1}reportShowPage(){this._checkDeferred(),this.checkShowOptions();var e=Date.now(),t=this.route,r=this.pageType,n=this.showOptions,i=n.referpagepath||"",a=n.clickTimestamp,o=0,s=0,l=0;Z&&Z!==t&&(i=Z+".html",a=e);var c=Y;Y=null;var u={anchorTargetText:"",anchorRelatedText:""};this.isInitialLoading&&c&&c.anchorTapTime&&a-c.anchorTapTime<1e3&&(u.anchorTargetText=c.anchorTargetText,u.anchorRelatedText=c.anchorRelatedText),Z=t,this.showTimeStamp=e,this.showReferpagepath=i,this.orientationChangeCount=0,q!==n.sessionid&&(q=n.sessionid,o=1),1===o&&(s=e-Q,l=H?1:2,this.startCostTime=s,this.startType=l),this.isInitialLoading=!1,this.isentrance=o,K._getNetworkType((e=>{var c=Object.assign({},n,u,{event_id:1,pagepath:t+".html",networktype:e,staytime:0,referpagepath:i,targetAction:0,targetPagePath:"",isentrance:o,pagetype:r,clickTimestamp:a,startCostTime:s,startType:l});this.pageReadyTime?this._reportShowPage(c):this.deferred.push((()=>{this._reportShowPage(c)}))}))}reportHidePage(e,t){this._checkDeferred(),this.checkShowOptions(),this.checkHideOptions();var r=Date.now(),n=this.route,i=this.pageType,a=this.showOptions,o=this.hideOptions,s=this.showReferpagepath||"",l=this.showTimeStamp?r-this.showTimeStamp:0,c=void 0!==o.usedstate?o.usedstate:a.usedstate,u=o.targetAction,d=o.targetPagePath,p=0,h=0;e&&(u=t?1:2,d=e+".html"),1===this.isentrance&&(p=null!==this.startCostTime?this.startCostTime:p,h=null!==this.startType?this.startType:h,this.startCostTime=null,this.startType=null),this.showTimeStamp=null,K._getNetworkType((e=>{var t=Object.assign({},a,{event_id:2,pagepath:n+".html",usedstate:c,networktype:e,staytime:l,referpagepath:s,targetAction:u,targetPagePath:d,isentrance:this.isentrance||0,pagetype:i,anchorTargetText:"",anchorRelatedText:"",orientationChangeCount:this.orientationChangeCount||0,startCostTime:p,startType:h});this._reportHidePage(t)}))}}var ee={kbone:0},te=!0;t.onAppShow((r=>{if(te){te=!1,K.setOnLaunch(t.getLaunchOptionsSync());try{(t=>{var r=n.Component._list,i=t.pages||[],a=t.page||{},o=i.length,s=0,l=0,c=0,u=0,d=9999,p=0;Object.keys(n.Component._list).forEach((e=>{e&&"wx://functional-page"!==e&&!a[e+".html"]&&(l++,/(^|\/)miniprogram_npm\//g.test(e)&&c++)})),i.forEach((e=>{if(((a[e+".html"]||{}).window||{}).usingComponents){s++;var t=r[e];if(!t)return;var n=t.behavior,i=n.using||{},o=n.generics||{},l=Object.keys(i).length+Object.keys(o).length;l>u&&(u=l),l<d&&(d=l),p+=l}})),p=s?p/s:0,d=9999===d?0:d;var h=[];try{Object.keys(e.g.__modules__||{}).forEach((e=>{if(e.indexOf("miniprogram-render/")>=0&&(ee.kbone=1),0===e.indexOf("miniprogram_npm/")){var t=e.indexOf("/",16),r=e.substring(16,t);"@"===r[0]&&(t=e.indexOf("/",t+1),r=e.substring(16,t)),h.push(r)}}));for(var f=h.length;f>=0;f--)for(var g=0;g<f;g++)h[g]===h[f]&&h.splice(f,1)}catch(e){}var v=[o,s,l,c,u,d,p,JSON.stringify(ee),h.join(";")].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"CustomComponent",value:v,force:!0})})(__wxConfig),i=n.Component._list,a=Object.keys(i),o=["miniprogram-recycle-view","miniprogram-barrage","wxml-to-canvas","weui-miniprogram","miniprogram-navigation-bar"],s=/^miniprogram_npm\/(.+$)/,l={},a.forEach((e=>{var t=i[e].is,r=s.exec(t);if(r){var n=r[1],a=n.indexOf("/"),c=n.substring(0,a),u=n.substring(a+1);"@"===c[0]&&(a=n.indexOf("/",a+1),c=n.substring(0,a),u=n.substring(a+1)),(o.indexOf(c)>-1||/^@miniprogram-component-plus\//.test(c))&&(l[c]=l[c]||[],l[c].push(u))}})),Object.keys(l).forEach((e=>{Reporter.reportKeyValue({key:"NpmExtendedLib",value:[e,l[e].join(";")].map(encodeURIComponent).join(","),force:!0})})),Reporter.submit()}catch(e){}}else K.setOnAppShow(r);var i,a,o,s,l})),t.onAppHide((e=>{K.setOnAppHide(e)}));var re=e=>{if("String"!==S(e))throw k("数据路径错误","Path must be a string"),new L("Path must be a string");for(var t=e.length,r=[],n="",i=0,a=!1,o=!1,s=0;s<t;s++){var l=e[s];if("\\"===l)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1])?(n+=e[s+1],s++):n+="\\";else if("."===l)n&&(r.push(n),n="");else if("["===l){if(n&&(r.push(n),n=""),0===r.length)throw k("数据路径错误","Path can not start with []: "+e),new L("Path can not start with []: "+e);o=!0,a=!1}else if("]"===l){if(!a)throw k("数据路径错误","Must have number in []: "+e),new L("Must have number in []: "+e);o=!1,r.push(i),i=0}else if(o){if(l<"0"||l>"9")throw k("数据路径错误","Only number 0-9 could inside []: "+e),new L("Only number 0-9 could inside []: "+e);a=!0,i=10*i+l.charCodeAt(0)-48}else n+=l}if(n&&r.push(n),0===r.length)throw k("数据路径错误","Path can not be empty"),new L("Path can not be empty");return r},ne=(e,t)=>{for(var r,n={},i=e,a=0;a<t.length;a++)Number(t[a])===t[a]&&t[a]%1==0?Array.isArray(i)||(n[r]=[],i=n[r]):P(i)||(n[r]={},i=n[r]),r=t[a],n=i,i=i[t[a]];return{obj:n,key:r}},ie=(e,t)=>{for(var r,n,i=re(t),a=e,o=0;o<i.length;o++)Number(i[o])===i[o]&&i[o]%1==0?Array.isArray(a)||(a=[]):P(a)||(a={}),n=i[o],r=a,a=a[i[o]];return{obj:r,key:n}},ae=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload","onResize"],oe=["__wxWebviewId__","__route__"],se=["route"],le=t.getLogManager();class ce{static create(e,t){var r=new ce(e,t),n=r.__wxExparserNode__;return delete r.__wxExparserNode__,{page:r,node:n}}static destroy(e){i.removeView(e.__wxWebviewId__)}constructor(e,r){var a=this,o={__wxWebviewId__:e,__route__:r};oe.forEach((e=>{Object.defineProperty(this,e,{set(){D("关键字保护",`should not change the protected attribute ${e}`)},get:()=>o[e]})}));var s=i.addView(e,r,(function(e,...t){var r=n.Element.getMethodCaller(this),i=r[e]||I;return"onShow"===e?this.triggerPageLifeTime("show",t):"onHide"===e?this.triggerPageLifeTime("hide",t):"onResize"===e&&this.triggerPageLifeTime("resize",t),i.apply(r,t)})),l=n.Element.getMethodCaller(s),c=i.getOwnerPluginAppId(l);this.__wxExparserNode__=s,this.__wxComponentInst__=l,n.Element.setMethodCaller(s,this);var u=br(),p={};hasOwnProperty.call(u,r)?p=u[r]:console.info(`Page "${r}" has not been registered yet.`),p.data=p.data||{},P(p.data)||k("Page data error","Page.data must be an object");var h=JSON.stringify(p.data);this.data=JSON.parse(h),this.__viewData__=JSON.parse(h),this.__displayReporter=new K(r,1);var f=t.getSystemInfoSync().deviceOrientation;this.__callPageLifeTime__=function(e,...r){var n=(this[e]||I).bind(this);if(Reporter.__route__=this.__route__,Reporter.__method__=e,"onLoad"===e&&this.__displayReporter.setQuery(...r),"onShow"===e)this.__displayReporter.reportShowPage();else if("onReady"===e)this.__displayReporter.setReadyTime(Date.now());else if("onHide"===e||"onUnload"===e){var i=this.__toRoute__,a=this.__isBack__,o=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,o||this.__displayReporter.reportHidePage(i,a)}else if("onResize"===e){var s=r[0]||{};f!==s.deviceOrientation&&(f=s.deviceOrientation,this.__displayReporter.addOrientationChangeCount())}R(`${this.__route__}: ${e} have been invoked`),t.traceBeginEvent("LifeCycle",`Page.${e}`);var l=n.apply(this,r);return t.traceEndEvent(),Reporter.__route__=Reporter.__method__="",l},ae.forEach((e=>{this[e]=function(...t){var r,n=(p[e]||I).bind(this);try{var i=Date.now();r=n.apply(this,t);var a=Date.now()-i;a>1e3&&Reporter.slowReport({key:"pageInvoke",cost:a,extend:`at ${this.__route__} page lifeCycleMethod ${e} function`}),le&&le.logApiInvoke&&le.log(`page ${this.__route__} ${e} have been invoked`),wxNativeConsole.info(`page ${this.__route__} ${e} have been invoked`)}catch(t){Reporter.thirdErrorReport({source:c,error:t,extend:`at ${this.__route__} page lifeCycleMethod ${e} function`})}return r}.bind(this)}));var g=function(e){(e=>-1!==oe.indexOf(e))(e)?D("关键字保护",`Page's ${e} is write-protected`):(e=>{for(var t=0;t<ae.length;++t)if(ae[t]===e)return!0;return"data"===e})(e)||("Function"===S(p[e])?a[e]=function(...r){var n;Reporter.__route__=this.__route__,Reporter.__method__=e,t.traceBeginEvent("User Script",`Page.${e}`);try{var i=Date.now();n=p[e].apply(this,r);var a=Date.now()-i;a>1e3&&Reporter.slowReport({key:"pageInvoke",cost:a,extend:`at ${this.__route__} page ${e} function`})}catch(t){Reporter.thirdErrorReport({source:c,error:t,extend:`at ${this.__route__} page ${e} function`})}return t.traceEndEvent(),Reporter.__route__=Reporter.__method__="",n}.bind(a):(a[e]=E(p[e]),d()&&D("Free data",`Free data with key "${e}" of page "${s.is}" seems not a simple value. Result of deep cloning this value in page instantiation may be unexpected. Consider assigning this value at the beginning of onLoad method.`)))};for(var v in p)g(v);var m={route:r};se.forEach((e=>{Object.prototype.hasOwnProperty.call(this,e)||(this[e]=m[e])}));var _="function"==typeof p.onShareAppMessage;_&&t.showShareMenu();var y="function"==typeof p.onShareTimeline;_&&y&&t.showShareTimelineMenu()}setData(e,r){try{var n=S(e);if("Object"!==n)return void k("类型错误",`setData accepts an Object rather than some ${n}`);Object.keys(e).forEach((t=>{void 0===e[t]&&k("Page setData warning",'Setting data field "'+t+'" to undefined is invalid.');var r=re(t),{obj:n,key:i}=ne(this.data,r);if(n&&(n[i]=E(e[t])),void 0!==e[t]){var{obj:a,key:o}=ne(this.__viewData__,r);a&&(a[o]=E(e[t]))}})),t.traceBeginEvent("Framework","DataEmitter::emit"),this.__wxComponentInst__.setData(JSON.parse(JSON.stringify(e)),r),t.traceEndEvent()}catch(e){O(e)}}pageScrollTo(e){t.publishPageScrollTo(e,[this.__wxWebviewId__])}}var ue=ce,de=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload","onResize"],pe=t.getLogManager();var he=class{static create(e,r){var a=i.addView(e,r,(function(e,...t){var r=n.Element.getMethodCaller(this),i=r[e]||I;return"onShow"===e?this.triggerPageLifeTime("show",t):"onHide"===e?this.triggerPageLifeTime("hide",t):"onResize"===e&&this.triggerPageLifeTime("resize",t),i.apply(r,t)})),o=n.Element.getMethodCaller(a),s=i.getOwnerPluginAppId(o);if(o.__wxWebviewId__=e,o.__route__=r,o.route=r,o.__displayReporter=new K(r,2),a.__customConstructor__===i.Page){var l=a.getRootBehavior().methods,c=o.__freeData__;for(var u in l)o[u]=l[u].bind(o);for(var p in c)o[p]=E(c[p]),d()&&D("Free data",`Free data with key "${p}" of page "${o.is}" seems not a simple value. Result of deep cloning this value in page instantiation may be unexpected. Consider assigning this value at the beginning of onLoad method.`)}var h=t.getSystemInfoSync().deviceOrientation;o.__callPageLifeTime__=function(e,...r){var n=this[e]||I;if(Reporter.__route__=this.__route__,Reporter.__method__=e,"onLoad"===e&&o.__displayReporter.setQuery(...r),"onShow"===e)o.__displayReporter.reportShowPage();else if("onReady"===e)o.__displayReporter.setReadyTime(Date.now());else if("onHide"===e||"onUnload"===e){var i=this.__toRoute__,s=this.__isBack__,l=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,l||o.__displayReporter.reportHidePage(i,s)}else if("onResize"===e){var c=r[0]||{};h!==c.deviceOrientation&&(h=c.deviceOrientation,o.__displayReporter.addOrientationChangeCount())}"onShow"===e?a.triggerPageLifeTime("show",r):"onHide"===e?a.triggerPageLifeTime("hide",r):"onResize"===e&&a.triggerPageLifeTime("resize",r),R(`${this.__route__}: ${e} have been invoked`),t.traceBeginEvent("LifeCycle",`Page.${e}`);var u=n.apply(this,r);return t.traceEndEvent(),Reporter.__route__=Reporter.__method__="",u},de.forEach((e=>{var t=o[e];o[e]=function(...r){var n,i=t||I;try{var a=Date.now();n=i.apply(this,r);var o=Date.now()-a;o>1e3&&Reporter.slowReport({key:"pageInvoke",cost:o,extend:`at "${this.__route__}" page lifeCycleMethod ${e} function`}),pe&&pe.logApiInvoke&&pe.log(`page ${this.__route__} ${e} have been invoked`),wxNativeConsole.info(`component page ${this.__route__} ${e} have been invoked`)}catch(t){Reporter.thirdErrorReport({source:s,error:t,extend:`at "${this.__route__}" page lifeCycleMethod ${e} function`})}return n}.bind(o)}));var f="function"==typeof o.onShareAppMessage;f&&t.showShareMenu();var g="function"==typeof o.onShareTimeline;return f&&g&&t.showShareTimelineMenu(),{page:o,node:a}}static destroy(e){i.removeView(e.__wxWebviewId__)}},fe=null,ge=Object.create(null),ve=(e,t,r)=>{fe&&fe.triggerLifeTime("route",[{method:e,url:t,args:r}])},me=(e,t,r,n,i,a)=>{if("appLaunch"===a)s=()=>{ve("appLaunch",t,{tabBarConfig:__wxConfig.tabBar,entryPagePath:__wxConfig.entryPagePath})},__sclEngine__.initScl((e=>{(fe=e.mainRoot.append("frameset",{placeholderImage:"frameset/placeholder.png"})).setPageLifeTimeCallback(((e,t,...r)=>{var n=ge[e],i=Yt(n);i&&__errorTracer__.surroundThirdByTryCatch((()=>{i.__callPageLifeTime__("on"+t,...r)}),`at ${t} callback function`)()})),s()}));else if("navigateTo"===a)ve("navigateTo",t);else if("redirectTo"===a)ve("redirectTo",t);else if("switchTab"===a)ve("switchTab",t);else if("reLaunch"===a||"autoReLaunch"===a)ve("reLaunch",t);else if("navigateBack"===a){var o=__sclEngine__.getExparserElementByViewId(i);o&&o.triggerEvent("navigateBack")}else"frameLoad"===a?(ge[i]=r,sr(e,t,r,n,{framesetViewId:i})):"frameUnload"===a&&(delete ge[i],cr(Zt(r),""));var s},_e=0,ye=1,Ae=2,be=3,we=4,Ee=5,Ce=6,Ie=7,Se=8,Te=9,xe=10,Pe=11,ke=12,De=[],Re=!0;function Oe(e,t){De[e]=t||Date.now()}function Me(e,t){void 0===De[e]&&Oe(e,t)}var Le=!1;function Ne(e){var r=t.isIsolatedSubpackage(e);!Le&&r?Ve():Le&&!r&&Ue(),Le=r}var Be=[],We=!0,Fe={};function Ue(e){e=e||Fe,t.emitIsloatedAppShow(e),Be.forEach((t=>{t.preventOnShow||t.app.onShow(e),t.preventOnShow=!1})),Fe=e}function Ve(e){t.emitIsloatedAppHide(),Be.forEach((t=>{7===__wxConfig.appType?t.app.onHide(e):t.app.onHide()}))}t.onAppUnhang((()=>{!1})),t.onAppShow(((e={})=>{var r;if(e.isLaunch&&vt("launch"),jt(e.path),r=e.path,(Le=t.isIsolatedSubpackage(r))||Ue(e.__public||e),vt("foreground"),We||e.reLaunch)We=!1;else{var n=qt("");n.length&&(Ut()?fe&&fe.setGlobalShowStatus(!0):"function"==typeof n[n.length-1].__callPageLifeTime__&&n[n.length-1].__callPageLifeTime__("onShow"),vt("enterPage",n[n.length-1],!0))}})),t.onAppHide(((e={})=>{"hang"===e.mode&&!0;var r=qt("");if(r.length){Ut()?fe&&fe.setGlobalShowStatus(!1):"function"==typeof r[r.length-1].__callPageLifeTime__&&r[r.length-1].__callPageLifeTime__("onHide");var n=$t(),i=n.page;vt("leavePage",i,!0);var a="function"==typeof i.onSaveExitState?N.call(i,"onSaveExitState"):void 0;t.saveExitState(n.route,n.rawPath,a)}Le||Ve(e),vt("background")}));var je,Ge,He,Qe=["onLaunch","onShow","onHide","onUnlaunch"],$e=t.getLogManager();class ze{constructor(e={}){var r=this;Qe.forEach((r=>{this[r]=function(...n){var i=e[r]||I;Reporter.__route__="App",Reporter.__method__=r,R(`App: ${r} have been invoked`),t.traceBeginEvent("LifeCycle",`App.${r}`);try{i.apply(this,n),$e&&$e.logApiInvoke&&$e.log(`App ${r} have been invoked`),wxNativeConsole.info(`App ${r} have been invoked`)}catch(e){Reporter.thirdErrorReport({error:e,extend:`at App lifeCycleMethod ${r} function`})}t.traceEndEvent(),Reporter.__route__=Reporter.__method__=""}.bind(this)}));var n,i,a=function(n){(e=>"getCurrentPage"===e)(n)?D("关键字保护",`App's ${n} is write-protected`):(e=>{for(var t=0;t<Qe.length;++t)if(Qe[t]===e)return!0;return!1})(n)||("function"==typeof e[n]?r[n]=function(...r){var i;Reporter.__route__="App",Reporter.__method__=n,t.traceBeginEvent("User Script",`App.${n}`);try{i=e[n].apply(this,r)}catch(e){Reporter.thirdErrorReport({error:e,extend:`at App ${n} function`})}return t.traceEndEvent(),i}.bind(r):r[n]=e[n])};for(var o in e)a(o);"function"==typeof this.onError&&t.onError(this.onError),"function"==typeof this.onUnhandledRejection&&t.onUnhandledRejection(this.onUnhandledRejection),"function"==typeof this.onPageNotFound&&t.onPageNotFound(this.onPageNotFound),"function"==typeof this.onThemeChange&&t.onThemeChange(this.onThemeChange),n=this,i=t.getLaunchOptionsSync(),Me(Ae),n.onLaunch(i.__public),n.onShow(i.__public),Be.push({app:n,preventOnShow:!0})}}var Ye={},Ze=M(((e={})=>{Object.assign(e,Ye),Ye={},je=new ze(e)}),"create app instance"),qe=M(((e={})=>e.allowDefault?je||Ye:je),"get app instance"),Je=()=>Ge,Xe=e=>{Ge=e};t.onAppShow((e=>{var r=e.referrerInfo&&e.referrerInfo.privateExtraData;if(r){Xe(r);var n=Xt();r.functionalPage&&n&&t.publishFunctionalPage(r.functionalPage,[n])}e.referrerInfo&&e.referrerInfo.openapiInvokeData&&(He=e.referrerInfo.openapiInvokeData)}));var Ke={},et={},tt=[],rt=!1,nt=[],it=!1,at=!1,ot=0,st=0,lt=0,ct=0,ut=0,dt=0,pt=null,ht=null,ft=(e,t)=>{Object.keys(e.data||{}).forEach((r=>{var a,o,s=e.data[r],l=t&&t.data||{},c=!1;if("$"!==s.charAt(0)||void 0===(a=(e=>{var t=0;switch(e){case"PAGE_TIME":return(t=lt?Date.now()-lt-ct:0)>=0?t:null;case"APP_TIME":return(t=ot?Date.now()-ot-st:0)>=0?t:null;case"CURRENT_PAGE":return ht||null;case"LAST_PAGE":return pt||null;default:return}})(s.substr(1))))if(0!==s.indexOf("$APP")){if(t&&(e.page===t.__route__||"ANY_PAGE"===e.page)){if(0===s.indexOf("$DATASET")){var u=s.replace("$DATASET.","");o=e.dataset||{},(a=ne(o,re(u))).obj&&void 0!==a.obj[a.key]&&(et[e.eventID].data[r]=a.obj[a.key],c=!0)}if(0===s.indexOf("$COMP")&&"number"==typeof e.nodeId){var d=i.getNodeById(e.nodeId,e.webviewId);if(!d)return void console.warn(`[自定义分析] 找不到自定义组件里的 "${e.element}" 节点`);var p=n.Element.getMethodCaller(d);p&&(s=s.replace("$COMP.",""),l=p.data)}if(s.indexOf("[]")>-1){if((e.index||[]).forEach((e=>{s=s.replace("[]","["+e+"]")})),s.indexOf("[-1]")>-1||s.indexOf("[]")>-1)return void console.warn(`[自定义分析] 取不到下标，请检查配置（${s}）`);var h=s.match(/\[(\d+)\]\.\$INDEX$/);h&&(et[e.eventID].data[r]=Number(h[1]),c=!0)}if(void 0===(a=ie(l,s)).obj||void 0===a.key||void 0===a.obj[a.key])return void(c||console.warn(`[自定义分析] 取不到该字段，请检查配置（${s}）`));et[e.eventID].data[r]=a.obj[a.key]}}else((e,t)=>{var r=e.data[t],n=qe()||{},i=r.replace("$APP.",""),a=ie(n,i);if(a.obj&&void 0!==a.obj[a.key]){var o=a.obj[a.key];"number"!=typeof o&&"string"!=typeof o&&"boolean"!=typeof o||(et[e.eventID].data[t]=o)}})(e,r);else null!==a&&(et[e.eventID].data[r]=a)}))},gt=(e,r)=>{if("start"!==e.action&&"start_and_report"!==e.action||(et[e.eventID]={eventID:e.eventID,data:{},extra:e.extra}),et[e.eventID]){var n,i,a,o=r||$t()&&$t().page;ft(e,o),"report"!==e.action&&"start_and_report"!==e.action||(n=e.eventID,i=o&&o.__route__,a=[],Object.keys(et[n].data).forEach((e=>{a.push({id:e,value:et[n].data[e]})})),et[n].data=a,et[n].page=i,et[n].version=("undefined"!=typeof __libVersionInfo__?__libVersionInfo__.version:0)||0,et[n].uid=Date.now().toString(16)+Math.random().toString(16).substr(2),et[n].type=0,F()||(console.info("[自定义分析] 上报成功"),console.info(et[n])),t.reportRealtimeAction({actionData:JSON.stringify(et[n])}),et[n]=null)}},vt=(e,r,n)=>{if("pageReady"===e&&r)(e=>{if(e){var r=e.__route__,n=Ke.click,i=[];n&&(n.forEach((e=>{e.page!==r&&"ANY_PAGE"!==e.page||!e.element||i.push({eventID:e.eventID,page:e.page,element:e.element,action:e.action})})),0!==i.length&&t.publishAnalyticsConfig(i,[e.__wxWebviewId__]))}})(r);else if(at)tt.push(e);else{if("launch"===e&&!it)return ot=Date.now(),it=!0,at=!0,tt.push(e),void t.getAppConfig({type:1,complete:M((e=>{at=!1,e.data&&(console.info("[自定义分析] 配置拉取成功"),mt(e))}))});if(rt){n||("enterPage"===e?(lt=Date.now(),ct=0,ht=r&&r.__route__):"leavePage"===e?pt=r&&r.__route__:"background"===e?ut=Date.now():"foreground"===e&&(dt=Date.now(),ut&&dt>ut&&(ct+=dt-ut,st+=dt-ut)));var i=Ke[e];if(i){if("enterPage"===e&&r&&"page/component/index"===r.__route__&&__wxConfig.accountInfo&&"wxe5f52902cf4de896"===__wxConfig.accountInfo.appId){var a=0;i.map((e=>e.eventID)).forEach((e=>{1007===e&&a++})),a>1&&Reporter.reportIDKey({key:"demoConfigRepeat"}),Reporter.reportIDKey({key:"demoEnterHomePage"})}var o=["enterPage","leavePage","pageLoad","pageUnload","pullDownRefresh","switchTab"];i.forEach((t=>{t&&(o.indexOf(e)>-1?(r&&t.page===(r&&r.__route__)||"ANY_PAGE"===t.page)&&gt(t,r):gt(t))}))}}else nt.push([e,r,n])}},mt=(e,t)=>{var r={};try{r=JSON.parse(e.data)}catch(e){r={}}var n=$t();Ke=(e=>{var t={};return"[object Array]"!==Object.prototype.toString.call(e)||e.forEach((e=>{var r=e.eventTarget;"[object Object]"===Object.prototype.toString.call(r)&&(r=[r]),r.forEach((r=>{var n=r.trigger||"click";t[n]||(t[n]=[]),("click"!==n||/^([.#][a-zA-Z_][^.#]* ?)+$/.test(r.element&&r.element.trim()))&&t[n].push({eventID:e.eventID,page:r.page,element:r.element&&r.element.trim(),data:r.data,action:r.action,extra:e.extra})}))})),t})(r),et={},t||(tt.forEach((e=>{vt(e,n&&n.page,!0)})),tt=[]),vt("pageReady",n&&n.page)};t.subscribeAnalyticsReport(((e,t)=>{var r,n,i=e,a=Ke.click;if(a&&("start"===i.action||"start_and_report"===i.action||et[i.eventID])){for(var o=qt(""),s=0;s<o.length;s++){var l=o[s];if(l.__wxWebviewId__===t){n=l;break}}if(n){for(var c=0;c<a.length;c++){var u=a[c];if(i.eventID===u.eventID&&(i.page===u.page||"ANY_PAGE"===u.page)&&i.element===u.element){u.dataset=i.dataset||{},r=C({},u);break}}r&&(r.index=i.index,r.nodeId=i.nodeId,r.webviewId=t,gt(r,n))}}})),t.onAppConfig(M((e=>{console.info("[自定义分析] 收到最新配置"),1===Number(e.type)&&mt(e,!0)}))),t.onAppRouteDone((()=>{rt=!0,nt.forEach((e=>{vt(...e)})),nt=[]}));var _t=class{static emit(e,r,n){t.invokeWebviewMethod("appDataChange",e,[r],n)}},yt=Object.prototype.hasOwnProperty,At=262144,bt=Date.now(),wt=t.ShareInfoStorage,Et=t._getRealRoute,Ct=t._triggerBeforeUnloadPage,It=t._triggerBeforeShareAppMessage,St=t.userShareMenuState;delete t.ShareInfoStorage;var Tt,xt,Pt,kt=i.convertComponentAliasToRoute,Dt=i.convertRouteToComponentAlias,Rt={},Ot={},Mt={},Lt=[],Nt=[],Bt="",Wt=null,Ft=!1,Ut=()=>Ft,Vt=()=>Bt,jt=e=>{Bt=e},Gt=(e,t,r)=>{var n;return r._userTap?i.wrapTapMark((()=>{n=N.call(e,t,r)})):n=N.call(e,t,r),n};__wxConfig.onReady((()=>{var e=__wxConfig.page||{},t=__wxConfig.global?__wxConfig.global.window:{};Object.keys(e).forEach((r=>{e[r].window=Object.assign({},t,e[r].window)})),__wxConfig.tabBar&&__wxConfig.tabBar.list&&"object"==typeof __wxConfig.tabBar.list&&"function"==typeof __wxConfig.tabBar.list.forEach&&__wxConfig.tabBar.list.forEach((e=>{Nt.push(e.pagePath)})),__wxConfig.appLaunchInfo&&"string"==typeof __wxConfig.appLaunchInfo.path&&jt(__wxConfig.appLaunchInfo.path),xt=(__wxConfig.appLaunchInfo||{}).scene||0}));var Ht={appLaunchTime:0,appFgTime:0,appRouteTime:0,newPageTime:0,pageReadyTime:0},Qt=(e,t,r)=>{Reporter.speedReport({key:e,timeMark:{startTime:t,endTime:r}})},$t=()=>Tt,zt=()=>Tt,Yt=e=>yt.call(Rt,e)?Rt[e].page:null,Zt=e=>yt.call(Rt,e)?Rt[e]:null,qt=e=>{var t=[];return Lt.forEach((r=>{e&&(e=>{if(/^__wx__\//.test(e=e||""))return"//";var t=e.match(/(?:^|\/)__plugin__\/(.*?)\//);return t?t[1]:"/"})(r.route)!==e?t.push(null):t.push(r.page)})),t},Jt=()=>qt("/"),Xt=()=>{if(0!==Lt.length)return Lt[Lt.length-1].webviewId},Kt=(e,t)=>e.__wxExparserNodeId__&&yt.call(Object.getPrototypeOf(e),t)||yt.call(e,t),er=e=>!!/(?:^|\/)__(wx|plugin)__\//.test(e)||!!("undefined"!=typeof __wxAppCode__&&__wxAppCode__[e+".json"]||{}).usingComponents,tr=e=>!!(e=>{for(var t=0;t<__wxConfig.pages.length;t++)if(__wxConfig.pages[t]===e)return!0;return!1})(e)||void 0!==Mt[e],rr=(e,r,a,o,s={})=>{t.traceBeginEvent("User Script","Component constructor");var l=!1;(s.__wxRouteBegin||__wxRouteBegin)&&(l=!0),s.__wxRouteBegin?s.__wxRouteBegin=!1:__wxRouteBegin=!1;var c=i.Component(e,r,a,o),u=kt(c);return c&&(Ot[u]=n.Component._list[c]),Mt[u]=l,t.traceEndEvent(),String(c)},nr=(r,a,o,s,l={})=>{t.traceBeginEvent("User Script","Page constructor");var c=l.__wxRoute||e.g.__wxRoute||s.replace(/\.js$/,"")||"";if(!l.__wxRouteBegin&&!__wxRouteBegin){if(!c)throw k("Page 注册错误",'Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json'),t.traceEndEvent(),new L('Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json');throw k("Page 注册错误",`Please do not register multiple Pages in ${c}.js`),t.traceEndEvent(),new L(`Please do not register multiple Pages in ${c}.js`)}l.__wxRouteBegin?l.__wxRouteBegin=!1:__wxRouteBegin=!1;var u=Dt(c),d=kt(u),p=er(d);if("Object"!==S(r))throw k("Page 注册错误",`Options is not object: ${JSON.stringify(r)} in ${c}.js`),t.traceEndEvent(),new L(`Options is not object: ${JSON.stringify(r)} in ${c}.js`);R(`Register: ${u}`);var h=i.Page(r,a,o,p&&s?s:__wxRoute+".js");Ot[d]=p?n.Component._list[h]:r,Mt[d]=!0,t.traceEndEvent()},ir={isInit:!1};t.subscribeSubjectInfo((e=>{ir.isInit=e.isInit}));var ar=M(((e,r,n,i,a,o)=>{t.traceBeginEvent("Framework","publishInitData"),Oe(Pe,n),R("Update view with init data");var s=e.page,l={};l.wechatLibVersion=("undefined"!=typeof __libVersionInfo__?__libVersionInfo__.version:"")||"",l.webviewId=r,l.enablePullUpRefresh=Kt(s,"onReachBottom"),l.enablePageScroll=Kt(s,"onPageScroll"),l.onReachBottomDistance=(e=>{try{if("number"==typeof __wxConfig.page[`${e}.html`].window.onReachBottomDistance)return __wxConfig.page[`${e}.html`].window.onReachBottomDistance}catch(e){return 50}return 50})(s.__route__),l.statesData=i,l.scene=xt,l.route=s.__route__,l.query=s.options,l.lastRoute=e.lastRoute,l.lastQuery=e.lastQuery,l.wxConfig={accountInfo:__wxConfig&&__wxConfig.accountInfo||{},appContactInfo:__wxConfig&&__wxConfig.appContactInfo||{},appLaunchInfo:__wxConfig&&__wxConfig.appLaunchInfo||{},plugins:__wxConfig&&__wxConfig.plugins||{}},l.windowConfig=__wxConfig&&__wxConfig.page&&__wxConfig.page[s.__route__+".html"]&&__wxConfig.page[s.__route__+".html"].window||{},l.debug=__wxConfig&&__wxConfig.debug,l.appId=__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId,l.appLaunchTime=Ht.appLaunchTime,l.appFgTime=Ht.appFgTime,l.isTabBarPage=e.isTabBarPage,l.isMainTabBarPage=e.isMainTabBarPage,l.navigationStyle=__wxConfig&&__wxConfig.global&&__wxConfig.global.window&&__wxConfig.global.window.navigationStyle,l.packageType=(e=>{if(__wxConfig&&__wxConfig.subPackages&&__wxConfig.subPackages.length){for(var t=0;t<__wxConfig.subPackages.length;t++){var r=__wxConfig.subPackages[t];if(0===e.indexOf(r.root))return r.independent?"independent":"normal"}return"main"}return"none"})(s.__route__),l.needGetSubjectInfo=!ir.isInit,l.subPackages=__wxConfig.subPackages,l.perfData=(De[Ee]=Date.now(),De[_e]=Re?1:0,De[Ie]=__wxConfig.isSubContext?1:0,De[ye]=__wxConfig.onReadyStart,De[Ce]=__wxConfig.onReadyEnd||0,Re=!1,De),l.isReload=a,l.adInfo={preloadVideoAdUnitIds:t.getPreloadVideoAdUnitIds(),preloadAdUnitIds:t.getPreloadAdUnitIds()},l.permissionBytes=t.getCachePermissionBytes(),l.fontFaceRecords=t.fontFaceRecords,l.fontSizeSetting=j().fontSizeSetting,l.prerender=o,l.extendedLibList=__wxConfig.extendedLibList;var c={ext:l,options:{firstRender:!0,timestamp:n,path:s.__route__}};if(i){var u=JSON.stringify(c),d=u.length;if(d>At){for(var p=[],h=0;d>h;)p.push(u.substr(h,At)),h+=At;for(var f=++bt,g=0,v=p.length;g<v;g++)_t.emit({isSplitData:!0,splitInfo:{id:f,index:g+1,total:v,data:p[g]}},r);return vt("pageReady",s),void t.traceEndEvent()}}_t.emit(c,r),vt("pageReady",s),t.traceEndEvent()})),or=e=>-1!==Nt.indexOf(e.route)||-1!==Nt.indexOf(e.route+".html"),sr=(e,r,n,a,o={})=>{t.traceBeginEvent("Framework","openNewPage"),Oe(we);var s=Pt;Pt=void 0;var l=er(e);Ht.newPageTime=Date.now(),jt(e);var c=l?he.create(n,e):ue.create(n,e),u=c.page,d=E(a);(Tt={page:u,webviewId:n,route:e,rawPath:r,lastRoute:Tt?Tt.route:"",lastQuery:Tt?Tt.page.options:{},node:c.node}).isTabBarPage=or(Tt),Tt.isMainTabBarPage=o.isMainTabBarPage||!1,Lt.push(Tt),u.__exitState__=s;var p={};if(Object.keys(d).forEach((e=>{var t=d[e];try{p[e]=decodeURIComponent(t)}catch(r){p[e]=t}})),i.attachView(n,p),/^__wx__\//.test(e)){var h={};if(/^__wx__\/open-api-redirecting-page/.test(e))h=He||{};else if(/^__wx__\/functional-page/.test(e)){var f=Je();f&&f.functionalPage&&(h=Object.assign({},f.functionalPage,{accountInfo:__wxConfig.accountInfo}))}u.setData(h)}u.options=d,ar(Tt,n,Ht.newPageTime,void 0,!1,o.prerender||!1),F()&&(__wxAppData[e]=u.data,__wxAppData[e].__webviewId__=n,t.publishUpdateAppData()),o.initialRenderingCacheData&&u.setData(o.initialRenderingCacheData);var g=t._getOpenerEventChannel();g&&(u.__eventChannel=g),u.__callPageLifeTime__("onLoad",a),u.__callPageLifeTime__("onShow"),Rt[n]={page:u,route:e,rawPath:r,webviewId:n,statesData:null,framesetViewId:o.framesetViewId,node:l?c.node:void 0},vt("pageLoad",u),vt("enterPage",u),Qt("appRoute2newPage",Ht.appRouteTime,Ht.newPageTime),t.traceEndEvent()},lr=(e,r)=>{t.traceBeginEvent("Framework","hidePage"),e.page.__toRoute__=r,Ut()||e.page.__callPageLifeTime__("onHide"),vt("leavePage",e.page),t.traceEndEvent(),t.uploadUserLogOnHide(e.route)},cr=(e,r,n,i)=>{t.traceBeginEvent("Framework","unloadPage"),Ct(e.webviewId),e.page.__toRoute__=r,e.page.__isBack__=n,e.page.__notReportHide__=i,e.page.__callPageLifeTime__("onUnload"),e.node&&he.destroy(e.page),F()&&(delete __wxAppData[e.route],t.publishUpdateAppData()),delete Rt[e.webviewId];for(var a=Lt.length-1;a>=0&&Lt[a].webviewId!==e.webviewId;a--);a>=0&&Lt.splice(a,1),Lt.length?jt(Lt[Lt.length-1].route):jt(""),vt("pageUnload",e.page),vt("leavePage",e.page),t.traceEndEvent(),t.uploadUserLogOnHide(e.route)},ur=e=>{t.traceBeginEvent("Framework","minimizePage"),lr(e),(Lt=Lt.slice(0,Lt.length-1)).length?jt(Lt[Lt.length-1].route):jt(""),t.traceEndEvent()},dr=(e,r=!1)=>{t.traceBeginEvent("Framework","onNavigateBack");for(var n=!1,i=Rt[e]&&Rt[e].route,a=Lt.length-1;a>0;a--){var o=Lt[a];if(o.webviewId===e){n=!0,Tt=o;break}!r&&Wt&&Wt.webviewId===o.webviewId?Lt=Lt.slice(0,Lt.length-1):r&&Wt&&Wt.webviewId===o.webviewId?ur(o):cr(o,i,!0)}if(1===Lt.length&&!n){var s=Lt[0];if(s.webviewId===e)n=!0,Tt=s;else if(or(s)&&yt.call(Rt,e)){n=!0;var{page:l,node:c}=Rt[e];Tt={webviewId:e,route:i,page:l,node:c}}}if(Ne(i),n){Ut()||Tt.page.__callPageLifeTime__("onShow"),vt("enterPage",Tt.page);var u=Je();Xe({}),u&&u.functionalPage&&e&&t.publishFunctionalPage(u.functionalPage,[e])}else k("Page route 错误(system error)",`navigateBack with an unexist webviewId ${e}`);t.traceEndEvent()},pr=(e,r,n,i,a,o,s,l)=>{var c=Object.keys(n).map((e=>encodeURIComponent(e)+"="+n[e])).join("&"),u="/"+e+(c?"?"+c:"");t.traceBeginEvent("Framework","onAppRoute"),R(`On app route: ${e}`),Ht.appRouteTime=Date.now();var d=s.qualityData;if(d){var{navId:p,isWebviewPreload:h,isPreloadPageFrame:f}=d;Oe(Se,p),Oe(Te,h),Oe(xe,f),Oe(ke,i)}Ft?me(e,u,r,n,l,i):"navigateTo"===i?a?((e,r,n,i,a)=>{t.traceBeginEvent("Framework","onNavigateToPip"),Tt&&lr(Tt,e),Ne(e),"min"===a?(Wt=Lt[Lt.length-1],yt.call(Rt,n)?k("Page route 错误(system error)",`navigateTo with an already exist webviewId ${n}`):sr(e,r,n,i)):"max"===a?Wt&&(jt(e),Tt=Wt,Lt.push(Tt),Tt.page.__callPageLifeTime__("onShow"),Wt=null):k("Page route 错误(system error)","navigateTo with unexpected pipMode"),t.traceEndEvent()})(e,u,r,n,a):((e,r,n,i,a)=>{t.traceBeginEvent("Framework","onNavigateTo"),Tt&&lr(Tt,e),Ne(e),yt.call(Rt,n)?k("Page route 错误(system error)",`navigateTo with an already exist webviewId ${n}`):sr(e,r,n,i,{initialRenderingCacheData:a}),t.traceEndEvent()})(e,u,r,n,o):"redirectTo"===i?((e,r,n,i,a)=>{t.traceBeginEvent("Framework","onRedirectTo"),Tt&&cr(Tt,e),Ne(e),yt.call(Rt,n)?k("Page route 错误(system error)",`redirectTo with an already exist webviewId ${n}`):sr(e,r,n,i,{initialRenderingCacheData:a}),t.traceEndEvent()})(e,u,r,n,o):"navigateBack"===i?a?((e,r)=>{t.traceBeginEvent("Framework","onNavigateBack"),"min"===r?(Wt=Lt[Lt.length-1],dr(e,!0)):"max"===r&&(Wt=null,dr(e))})(r,a):dr(r):"switchTab"===i?((e,r,n,i,a)=>{t.traceBeginEvent("Framework","onSwitchTab");var o=!0,s=!0;if(0===Lt.length)return sr(e,r,n,i,{initialRenderingCacheData:a}),void t.traceEndEvent();for(;Lt.length>1;)Wt&&Wt.webviewId===Lt[Lt.length-1].webviewId?((Lt=Lt.slice(0,Lt.length-1)).length?jt(Lt[Lt.length-1].route):jt(""),o=!1):(cr(Lt[Lt.length-1],e),o=!1);if(Lt[0].webviewId===n)Tt=Lt[0],o||Ut()||Tt.page.__callPageLifeTime__("onShow");else if(or(Lt[0])?(s=!1,o&&lr(Lt[0],e)):Wt&&Wt.webviewId===Lt[0].webviewId?(Lt=Lt.slice(0,Lt.length-1),jt("")):cr(Lt[0],e),yt.call(Rt,n)){var{page:l,node:c}=Rt[n];Lt=[Tt={webviewId:n,route:e,page:l,node:c}],Ut()||l.__callPageLifeTime__("onShow"),vt("enterPage",l),vt("switchTab",l)}else Lt=[],sr(e,r,n,i,{isMainTabBarPage:s,initialRenderingCacheData:a});t.traceEndEvent()})(e,u,r,n,o):"appLaunch"===i?((e,r,n,i,a,o)=>{t.traceBeginEvent("Framework","onAppLaunch"),Me(be),Ht.appLaunchTime=Date.now(),Ht.appFgTime=Date.now(),yt.call(Rt,n)?k("Page route 错误(system error)",`appLaunch with an already exist webviewId ${n}`):sr(e,r,n,i,{isMainTabBarPage:or({route:e}),initialRenderingCacheData:a,prerender:o}),t.traceEndEvent();var s=t.getLaunchOptionsSync().scene;[1001,1003,1019,1023,1038,1056,1080,1083,1089,1090,1103,1104,1112,1113,1114,1117,1127,1131,1134].indexOf(s)<0||t.loadExitState(((e,r,n)=>{"latestPage"===e?setTimeout((()=>{Pt=n,t.route.redirectTo({url:r})}),0):"homePageAndLatestPage"===e?setTimeout((()=>{Pt=n,t.route.navigateTo({url:r})}),0):Pt=n}))})(e,u,r,n,o,s.prerender):"reLaunch"===i||"autoReLaunch"===i?((e,r,n,i,a,o,s)=>{t.traceBeginEvent("Framework","onReLaunch");var l=!1;for("reLaunch"===a&&(l=!0);Lt.length>0;){var c=!0;l&&(c=!1,l=!1),cr(Lt[Lt.length-1],e,!1,c)}Object.keys(Rt).forEach((t=>{cr(Rt[t],e,!1,!0)})),Ne(e),sr(e,r,n,i,{isMainTabBarPage:or({route:e}),initialRenderingCacheData:o,prerender:s}),t.traceEndEvent()})(e,u,r,n,i,o,s.prerender):"dismissPip"===i?Wt&&(()=>{t.traceBeginEvent("Framework","unloadPagePip");var e=Wt;e&&(Lt.findIndex((e=>e.webviewId===Wt.webviewId))>=0?Wt=null:(Ct(e.webviewId),e.page.__callPageLifeTime__("onUnload"),e.node&&he.destroy(e.page),F()&&(delete __wxAppData[e.route],t.publishUpdateAppData()),delete Rt[e.webviewId],vt("pageUnload",e.page),vt("leavePage",e.page),t.traceEndEvent(),t.uploadUserLogOnHide(e.route)))})():k("Page route 错误(system error)",`Illegal open type: ${i}`),t.traceEndEvent()},hr=(e,t)=>{if(R(`On page reload: ${e}`),yt.call(Rt,t)){var r=er(e),n=Rt[t].statesData;Rt[t].statesData=void 0,i.restoreView(t),ar(Rt[t],t,Date.now(),n||{},!0),((e,{pageCount:t,pageType:r})=>{var n=G[e]||{},i=[t,r,n.rootCompCount||0,n.rootCustomCompCount||0,n.rootCustomCompRatio||0,n.rootInternalCompCount||0].map(encodeURIComponent).join(",");G[e]={},Reporter.reportKeyValue({key:"WebviewRestore",value:i}),Reporter.submit()})(t,{pageCount:Lt.length,pageType:r?2:1})}else k("Page reload(system error)",`Can not find webviewId ${t}`)},fr=()=>{var{route:e,webviewId:t}=Lt[Lt.length-1];hr(e,t)},gr=(e,r)=>{if(null!=Rt[r]){It(r);var{chatroomUsername:n,scene:i}=t.getInnerEnterOptionsSync(),{openType:a}=e.detail||{},o=e.origin||"weixin";((e,t)=>{var r,n=e,i=Rt[t],a=i.page;if(Kt(a,"onShareAppMessage")&&(r="onShareAppMessage"),r){R(`Invoke event ${r} in page: ${i.route}`);var o={from:e.fromShareButton?"button":"menu",target:e.target};e.webViewUrl&&(o.webViewUrl=e.webViewUrl);var s=N.call(a,r,o)||{},l=s.promise;delete s.promise,T(l)||(l=Promise.resolve(s));var c=new Promise((e=>setTimeout(e,3e3,s)));return Promise.race([c,l]).then((t=>(n.title=t.title&&"string"==typeof t.title?t.title:e.title,n.desc=t.desc&&"string"==typeof t.desc?t.desc:e.desc,n.path=t.path&&"string"==typeof t.path?U(kt(t.path)):e.path,"string"==typeof t.imageUrl&&(t.imageUrl&&!/^(http|https|wxfile|cloud):\/\//.test(t.imageUrl)?n.imageUrl=Et(t.imageUrl,!1):n.imageUrl=t.imageUrl),n.toCurrentGroup=t.toCurrentGroup,t.cacheKey&&(n.cacheKey=t.cacheKey),t.webpageUrl&&(n.webpageUrl=t.webpageUrl),"wx60422b707e49ff2e"===__wxConfig.accountInfo.appId&&(t.bizSourceName&&(n.bizSourceName=t.bizSourceName),t.bizSourceIconUrl&&(n.bizSourceIconUrl=t.bizSourceIconUrl)),n.path.length>0&&"/"===n.path[0]&&(n.path=n.path.substr(1)),St.isPrivateMessage?n.disableForward=!0:n.disableForward="boolean"==typeof t.disableForward&&t.disableForward,n.success=t.success,n.cancel=t.cancel,n.fail=t.fail,n.complete=t.complete,vt("share",a),n)))}return Promise.resolve(n)})(e,r).then((s=>{var l,c;if(1158===i&&void 0===s.toCurrentGroup&&(s.toCurrentGroup=!0),!0===e.fromShareButton){l="shareAppMessageDirectly";var u=t.getShareCookieString();if(u&&(s.messageExtraData=s.messageExtraData||{},s.messageExtraData.cookies=u),c=2,"shareToChatroom"===a&&s.toCurrentGroup){if(1156!==i||!n)return void console.warn(`shareToChatroom:fail scene ${i}, chatroomUsername ${n}`);s.chatroomUsername=n,s.bizType=1,l="shareAppMessageToSpecificContactForFakeNativeDirectly"}}else l="shareAppMessage",s.to=o,c=1;1158===i&&s.toCurrentGroup&&(l="shareAppMessageToSpecificContactDirectly",s.chatroomUsername=n);7===__wxConfig.appType&&"wxfe02ecfe70800f46"!==__wxConfig.accountInfo.appId&&(s.bizType=1,l="shareAppMessageForFakeNative",1156!==i&&1158!==i||!s.toCurrentGroup||(l="shareAppMessageToSpecificContactForFakeNativeDirectly")),s.useDefaultSnapshot=!0,s.webviewId=r,!F()&&t.checkAPIAvailable("share")||(s=W({},s),["success","fail","cancel","complete"].some((e=>"function"==typeof s[e]))&&t.reportRecycledAPI({name:l,strategy:1}),"shareToChatroom"!==a&&(delete s.success,delete s.fail,delete s.cancel,delete s.complete));var d=()=>{t[l](s,{beforeAll:e=>{var r=$t();try{((e,t,r)=>{var n=e.page.__displayReporter;n.checkShowOptions();var i=n.showOptions,a=n.route+".html",o=t.errMsg,s=0,l=e.updateTitle&&e.updateTitle.trim(),c=(__wxConfig.global&&__wxConfig.global.window||{}).navigationBarTitleText||"",u=((__wxConfig.page[a]||{}).window||{}).navigationBarTitleText||"",d=__wxConfig.host&&__wxConfig.host.appId||"";o.indexOf(":ok")>=0?s=1:o.indexOf(":fail")>=0?s=2:o.indexOf(":cancel")>=0&&(s=3);var p=[i.scene,i.scene_note,i.sessionid,a,l||u||c,i.apptype,s,0,i.query,r,0,"","",d].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Share",value:p,force:!0}),Reporter.submit()})(r,e,c)}catch(e){}e.errMsg=e.errMsg.replace(/shareAppMessageDirectly|shareAppMessageToSpecificContactForFakeNativeDirectly|shareAppMessageForFakeNative|shareAppMessageToSpecificContactDirectly/,"shareAppMessage"),t.invokeInnerShareCallbacks("shareAppMessage",e),void 0!==e.shareInfos&&e.shareInfos.length>0&&(e.shareTickets=e.shareInfos.filter((e=>e.shareKey&&e.shareName)).map((e=>(t.showUpdatableMessageSubscribeButton({shareKey:e.shareKey}),wt.set(e.shareKey,e.shareName))))),delete e.shareInfos}})};return"string"==typeof s.imageUrl?t.getCloudFileUrl([s.imageUrl],"image",(e=>{s.imageUrl=e.data[0].url,d()})):d(),null})).catch((e=>{console.warn("onShareAppMessage error ",e)}))}},vr=e=>{t.shareTimeline(e,{beforeAll:e=>{t.invokeInnerShareCallbacks("shareTimeline",e)}})},mr=(e={},r)=>{if(null!=Rt[r]){var n=Rt[r],i=n.page,a={from:e.fromShareTimeLineButton?"button":"menu",target:e.target},o=Kt(i,"onShareTimeline")&&N.call(i,"onShareTimeline",a)||{},{title:s,query:l}=o,c={title:s||e.title,path:"string"==typeof l?`${n.route}.html?${l}`:n.rawPath.replace(/^\//,"").replace(/(\?|$)/,".html$1")};"string"==typeof o.imageUrl&&o.imageUrl?(/^(http|https|wxfile|cloud):\/\//.test(o.imageUrl)?c.imageUrl=o.imageUrl:c.imageUrl=Et(o.imageUrl,!1),t.getCloudFileUrl([c.imageUrl],"image",(e=>{c.imageUrl=e.data[0].url,vr(c)}))):vr(c)}},_r=e=>{if(Rt[e]){var r=Rt[e].page;Kt(r,"onShareTimeline")&&Kt(r,"onShareAppMessage")&&t.showShareTimelineMenu()}},yr=null;t.onAppRoute(M((e=>{var t=e.path,r=e.webviewId,n=e.viewId,i=e.query||{},a=e.openType,o=e.pipMode,s=e.initialRenderingCacheData;if("appLaunch"===a&&e.frameset&&(Ft=!0),!s&&e.appserviceData)try{s=JSON.parse(e.appserviceData)}catch(e){}yr&&yr(),e.resizing?yr=M((function(){yr=null,pr(t,r,i,a,o,s,e,n)}),"onAppRoute"):pr(t,r,i,a,o,s,e,n)}),"`onAppRoute`")),t.onAppRouteResized((()=>{yr&&yr()})),t.onPageReload(M((e=>{var t=e.path,r=e.webviewId;hr(t,r)}),"onPageReload")),t.onWebviewEvent(M((e=>{t.traceBeginEvent("Framework","onWebviewEvent");var{webviewId:r,eventName:a,data:o,nodeId:s}=e,l=((e,r,a,o)=>{if(yt.call(Rt,e)){var s=Rt[e],l=s.page;if("__DOMReady"===a)return Ht.pageReadyTime=Date.now(),R(`Invoke event onReady in page: ${s.route}`),l.__callPageLifeTime__("onReady"),void Qt("newPage2pageReady",Ht.newPageTime,Ht.pageReadyTime);if("telecontrol"!==a){if(o._requireActive){var c=Lt[Lt.length-1];if(!c||c.webviewId!==e)return}if(o._relatedInfo&&K.setEventRelatedInfo(o._relatedInfo),r){var u=i.getNodeById(r,e);if(!u)return;var d=n.Element.getMethodCaller(u);return R(`Invoke event ${a} in component: ${u.is}`),Kt(d,a)?Gt(d,a,o):void D("事件警告",`Do not have ${a} handler in component: ${u.is}. Please make sure that ${a} handler has been defined in ${u.is}.`)}if(R(`Invoke event ${a} in page: ${s.route}`),Kt(l,a))return Gt(l,a,o);D("事件警告",`Do not have ${a} handler in current page: ${s.route}. Please make sure that ${a} handler has been defined in ${s.route}, or ${s.route} has been added into app.json`)}else{var p=o.type,h="onTelecontrolSelect";if("start"===p)t.publishTelecontrol({type:p,custom:Kt(l,h)},[e]);else if("next"===p){if(R(`Invoke event ${h} in page: ${s.route}`),!Kt(l,h))return void D("事件警告",`Do not have ${h} handler in current page: ${s.route}. Please make sure that ${h} handler has been defined in ${s.route}, or ${s.route} has been added into app.json`);var f=Gt(l,h,{current:o.current,target:o.target,key:o.key});if(T(f)){var g=new Promise((e=>setTimeout(e,1e3,"")));Promise.race([f,g]).then((r=>{t.publishTelecontrol({seqId:o.seqId,type:p,res:r},[e])})).catch((()=>{}))}else t.publishTelecontrol({seqId:o.seqId,type:p,res:f},[e])}}}})(r,s,a,o);return t.traceEndEvent(),l}),"onWebviewEvent")),t.onAppEnterForeground((e=>{Ht.appFgTime=Date.now(),0!==e.scene&&"0"!==e.scene&&(xt=e.scene)})),t.onPullDownRefresh(M(((e,t)=>{(e=>{if(yt.call(Rt,e)){var t=Rt[e],r=t.page;Kt(r,"onPullDownRefresh")&&(R(`Invoke event onPullDownRefresh in page: ${t.route}`),N.call(r,"onPullDownRefresh"),vt("pullDownRefresh",r))}else D("事件警告",`onPullDownRefresh WebviewId: ${e} not found`)})(t)}),"onPullDownRefresh")),t.onShareAppMessage(M(gr,"onShareAppMessage"));var Ar=(e,r)=>{if(e=e||{},null!==Rt[r]){var n=Rt[r],i=n.page,a={path:(e=>{if(null===Rt[e])return"";var t=Rt[e].page,r=t.options||{},n=U(t.route);return Object.keys(r).length&&(n+="?"+Object.keys(r).map((e=>`${e}=${r[e]}`)).join("&")),n})(r),fromButton:!!e.fromButton};if(Kt(i,"onHandoff")){R(`Invoke event onHandoff in page: ${n.route}`);var o=N.call(i,"onHandoff")||{};o.path&&"string"==typeof o.path&&(a.path=U(kt(o.path)))}t.startHandoff(a)}};t.onAddToFavorites(M(((e,r)=>{if(null!==Rt[r]){var n=e,i="onAddToFavorites",a=Rt[r],o=a.page;if(Kt(o,i)){R(`Invoke event onAddToFavorites in page: ${a.route}`);var s={webViewUrl:n.webViewUrl},l=N.call(o,i,s)||{};if(l.title&&"string"==typeof l.title&&(n.title=l.title),l.query&&"string"==typeof l.query){var c=n.path.split("?")[0];n.path=`${c}?${l.query}`}l.imageUrl&&"string"==typeof l.imageUrl&&(/^(https?|wxfile|cloud):\/\//.test(l.imageUrl)?n.imageUrl=l.imageUrl:n.imageUrl=Et(l.imageUrl,!1)),n.disableForward=l.disableForward||!1}t.getCloudFileUrl([n.imageUrl],"image",(e=>{n.imageUrl=e.data[0].url,t.addToFavorites(n,{})}))}}),"onAddToFavorites")),t.onStartHandoff(M(Ar,"onStartHandoff")),t.subscribeTapHandoffButton(((e,t)=>{M(Ar,"onStartHandoff")({fromButton:!0},t)})),t.subscribeTapShareButton(((e,t)=>{if(yt.call(Rt,t)){var r=Rt[t].page,n=U(r.route);Object.keys(r.options).length>0&&(n+="?"+Object.keys(r.options).map((e=>`${e}=${r.options[e]}`)).join("&")),M(gr,"onShareAppMessage")({path:n,title:"",target:e?e.target:void 0,detail:e?e.detail:void 0,fromShareButton:!0},t)}else D("事件警告",`tapShareButton WebviewId: ${t} not found`)})),t.subscribeTapShareTimeLineButton(((e,t)=>{if(yt.call(Rt,t)){var r=Rt[t].page;Kt(r,"onShareTimeline")&&Kt(r,"onShareAppMessage")?M(mr,"onShareTimeline")({title:"",target:e?e.target:void 0,detail:e?e.detail:void 0,fromShareTimeLineButton:!0},t):D("事件警告","onShareTimeline and onShareAppMessage are both needed")}else D("事件警告",`tapShareButton WebviewId: ${t} not found`)})),t.onShareTimeline(M(mr,"onShareTimeline")),t.subscribeSavePageState(M(((e,t)=>{yt.call(Rt,t)?Rt[t].statesData=e:D("事件警告",`onPageWillManuallyTerminate WebviewId: ${t} not found`)}),"savePageState")),t.subscribeRecycleStatistics(M(((e,t)=>{if(yt.call(Rt,t)){var r=Rt[t];((e,{pageCount:t,pageType:r,rootCompCount:n=0,rootCustomCompCount:i=0,rootCustomCompRatio:a=0,rootInternalCompCount:o=0})=>{var s=[t,r].map(encodeURIComponent).join(",");G[e]={rootCompCount:n,rootCustomCompCount:i,rootCustomCompRatio:a,rootInternalCompCount:o},Reporter.reportKeyValue({key:"WebviewRecycle",value:s}),Reporter.submit()})(t,l()({pageCount:Lt.length,pageType:er(r.route)?2:1},e))}}),"recycleStatistics")),t.onTabItemTap(M(((e,r)=>{if(t._setWxIsInvokeInTapForNavToMiniProgram(),yt.call(Rt,r)){var n=Rt[r],a=n.page;if(void 0!==__wxConfig&&__wxConfig.tabBar&&__wxConfig.tabBar.list&&__wxConfig.tabBar.list[e.index]){var o={index:e.index,pagePath:(__wxConfig.tabBar.list[e.index].pagePath||"").replace(/\.html$/,""),text:__wxConfig.tabBar.list[e.index].text};if(o.pagePath!==n.route)return;Kt(a,"onTabItemTap")&&(R(`Invoke event onTabItemTap in page: ${n.route}`),i.wrapTapMark((()=>{N.call(a,"onTabItemTap",o)})))}}}),"tabItemTap"));var br=()=>Ot;t.onNavigationBarTitleUpdate((e=>{if(e.errMsg.indexOf(":ok")>=0&&e.title){var t=$t();t&&(t.updateTitle=e.title)}}));var wr=t.createPluginWX,Er=t.createPluginConsole,Cr=t.createPluginWXWebAssembly,Ir=function(e,r){var n=e+"/"+r,a={__wxAppCode__:{},__wxAppCurrentFile__:""};a.wx=wr(e,r),a.console=Er(),a.WXWebAssembly=Cr(e,r),a.Page=e=>{nr(e,n,a.__wxAppCode__,a.__wxAppCurrentFile__,a)},a.getCurrentPages=()=>qt(e),a.Component=e=>rr(e,n,a.__wxAppCode__,a.__wxAppCurrentFile__,a),a.Behavior=e=>i.Behavior(e,n,a.__wxAppCode__,a.__wxAppCurrentFile__),a.publishDomainComponents=e=>i.publishDomainComponents(n,e);var o,s=(e=>{var t=[];__wxConfig.plugins&&Object.keys(__wxConfig.plugins).forEach((e=>{var r=__wxConfig.plugins[e];t.push({alias:e,plugin:r,prefix:""})})),__wxConfig.subpackages&&__wxConfig.subpackages.forEach((e=>{e.plugins&&Object.keys(e.plugins).forEach((r=>{var n=e.plugins[r];t.push({alias:r,plugin:n,prefix:e.root})}))}));var r=(()=>{var r=t.filter((t=>t.plugin.provider===e));if(0===r.length)return null;if(1===r.length){var n=r[0].plugin.subpackage||r[0].prefix;return"__APP__"===n&&(n=""),r[0].prefix=n,r[0]}return r.find((e=>""!==e.prefix))})();if(null===r)return null;if(void 0===r.plugin.export)return null;var n=r.prefix||"";return"/"===n[0]&&(n=n.slice(1)),n&&"/"!==n.slice(-1)&&(n+="/"),n+(r.plugin.export||"")})(e);return a.requireMiniProgram=()=>(void 0===o&&(o=null===s?{}:A(s)),o),a.beforeFactory=r=>{var n=t.buildPluginPrivateApi(e);r("__wx__/plugin-private-api",((e,t)=>{t.exports=n}))},a};"function"==typeof logxx&&logxx("app-service-engine start");var Sr=M((e=>{nr(e,"/")}),"create page instance"),Tr=M((e=>rr(e,"/")),"create component instance"),xr=M((e=>i.Behavior(e)),"create behavior instance");a=o})();var o=a.Page,s=a.Component,l=a.Behavior,c=.02,u={delayedGwx:!0},d=a.App,p=a.getApp,h=a.getCurrentPages,f=null,g;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.Page=a.Page,__exportGlobal__.Component=a.Component,__exportGlobal__.Behavior=a.Behavior,__exportGlobal__.__webview_engine_version__=.02,__exportGlobal__.__vd_version_info__={delayedGwx:!0},__exportGlobal__.App=a.App,__exportGlobal__.getApp=a.getApp,__exportGlobal__.getCurrentPages=a.getCurrentPages,__exportGlobal__.__pageComponent=null),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},r={};e.d(r,{default:()=>_});var n={},i=/^plugin:\/\/([A-Za-z0-9_-]+)[/]?(.*)/,o=e=>{var t=e.match(i);if(t&&3===t.length)return{pluginId:t[1],version:"0",modId:t[2].length>=1?t[2]:void 0}},s=e=>`${e.pluginId}/${e.version}`,l=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],c=n,u=n,d=e=>{for(var t=[],r=e.split("/"),n=0,i=r.length;n<i;++n){var a=r[n];if(""!==a&&"."!==a)if(".."===a){if(0===t.length){t=null;break}t.pop()}else n+1<i&&".."===r[n+1]?n++:t.push(a)}return t},p=(e,t)=>{var r=u[e],n=d(t+"/index.js").join("/");return r&&r.mods&&r.mods[n]?n:(n=d(t).join("/"),/\.js$/.test(n)||(n+=".js"),r&&r.mods&&r.mods[n]?n:"")},h=(e,t)=>{var r=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return t&&t[1]?t[1]:"./"})(t);return function(t){if("string"!=typeof t)throw new Error("require args must be a string.");var n=d(t.startsWith("/")?t:`${r}/${t}`);if(!n)throw new Error("can't find module : "+t);var i=n.join("/");return i=((e,t,r,n)=>{var i=t,a=u[e];if(/\.js$/.test(i)||(i+=".js"),"string"==typeof i&&a&&a.mods&&a.mods[i])return i;var o=d(r);if(!o)throw new Error("can't find module : "+n);for(var s,l=t.substring(o.join("/").length);o.length;){var c=o.join("/")+"/miniprogram_npm"+l;if(s=p(e,c))break;o.pop()}return s||(l="/"===l[0]?l:"/"+l,s=p(e,"miniprogram_npm"+l)),s||t})(e,i,r,t),f(e,i)}},f=(e,t)=>{(e=>{if("string"!=typeof e)throw new Error("require args must be a string")})(t);var r=u[e];if(void 0===r)throw new Error(`Plugin "${e}" is not defined.`);var n=r.mods[t];if(void 0===n)throw new Error(`Plugin module "${t}" is not defined.`);if(1===n.status){var i;n.status=2;var a=n.factory,o={exports:{}};a&&(i=a(h(e,t),o,o.exports)),n.exports=void 0!==o.exports?o.exports:i}return n.exports},v=(e,t)=>{var r=t.factory,n=t.global,i={exports:{}};if(!r)return i.exports;var a=(e=>function(t,r){var n=c[e];if(void 0===n)throw new Error(`Sorry, plugin "${e}" is not defined.`);n.mods[t]={status:1,factory:r}})(e),o=(e=>function(t){return f(e,t)})(e),s=n.beforeFactory;delete n.beforeFactory;var l=n.afterFactory;delete n.afterFactory,"function"==typeof s&&s.apply(n,[a,o,i]);var u=r(a,o,i,i.exports,n,n.wx,void 0,n.Page,n.Component,n.Behavior,void 0,n.getCurrentPages,void 0,n.requireMiniProgram,n.WXWebAssembly);return"function"==typeof l&&l.apply(n,[a,o,i]),void 0!==i.exports?i.exports:u},m=(e,r)=>{var n,i,a;(()=>{if(void 0===__wxConfig||void 0===__wxConfig.plugins&&void 0===__wxConfig.gamePlugins)throw new Error("This application has not registered any plugins yet.")})(),(e=>{if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")})(e);var c=o(e),d=void 0===c;if(d||(n=c.pluginId,i=s(c),a=u[i]),void 0===a&&(e=>null!==e.match(/^wx[0-9a-f]{16}$/))(e)&&(n=e,i=s({pluginId:e,version:"0"}),a=u[i]),void 0===a){var p=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],n=t[2],i=(__wxConfig.plugins||__wxConfig.gamePlugins)[r];if(void 0===i)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:i.provider,version:"0",path:n}})(e);n=p.pluginId,i=s(p),a=u[i]}if("function"!=typeof r){if(void 0===a)throw new Error(`Plugin "${i}" is not defined.`);return 1===a.status&&(a.exports=v(i,a),a.status=2),d?"function"==typeof a.exports?a.exports():void 0:a.exports}void 0===a?((e,r)=>{var n="__APP__"===e;n||"/"===e.slice(-1)||(e+="/"),"devtools"===__wxConfig.platform?(wxNativeConsole.info(`[WebNode] injectSubPackages: ${e}`),WeixinJSBridge.invoke("injectSubPackages",{subPackages:[e]},r)):(wxNativeConsole.info(`[WebNode] loadSubpackage: ${e}`),t.loadSubpackage({name:e,success(){var t=Object.values(__wxConfig.plugins||{}).filter((t=>t.subpackage.includes(e))).map((e=>{var t=e.provider,r=`__plugin__/${t}`;return{plugin_id:t,prefix_path:l.includes(t)?null:r}}));__subContextEngine__.injectEntryFile(n?"":e,t),r()}}))})((e=>{for(var t=__wxConfig.subPackages||[],r=function(r){if(!t[r].plugins)return"continue";if(Object.keys(t[r].plugins).find((n=>t[r].plugins[n].provider===e))){var n=t[r].root||"";return n&&"/"!==n.slice(-1)&&(n+="/"),{v:n}}},n=0;n<t.length;++n){var i=r(n);if("continue"!==i&&"object"==typeof i)return i.v}return"__APP__"})(n),(()=>{r(m(e))})):setTimeout((function(){r(m(e))}))};m.async=function(e){return new Promise((function(t,r){try{m(e,(e=>{t(e)}))}catch(e){r(e)}}))};var _={definePlugin:(e,t)=>{var r=o(e);if(!r||!r.pluginId||!r.version)throw new Error('schema must match "plugin://{name}/{version}"');var n=s(r),i=(e=>{if(void 0===a||"function"!=typeof a.__createPluginGlobal)throw new Error("Create plugin global failed.");return a.__createPluginGlobal(e.pluginId,e.version)})(r);c[n]={status:1,factory:t,mods:{},global:i}},requirePlugin:m};g=r.default})();var v=g.definePlugin,m=g.requirePlugin,_;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{define:()=>o,require:()=>p,requireOnce:()=>h});var n=globalThis,i={},a={};function o(e,t){var r;if(null!==(r=i[e])&&void 0!==r&&r.factory){var n=i[e],a=t.toString();n.factoryString||(n.factoryString=n.factory.toString()),a!==n.factoryString&&(i[e]={status:1,factory:t,factoryString:a})}else i[e]={status:1,factory:t}}var s=e=>{if(e&&__wxConfig.subPackages)for(var t=0,r=__wxConfig.subPackages.length;t<r;t++)if(0===e.indexOf(__wxConfig.subPackages[t].root))return __wxConfig.subPackages[t]},l=e=>{for(var t=[],r=e.split("/"),n=0,i=r.length;n<i;++n){var a=r[n];if(""!==a&&"."!==a)if(".."===a){if(0===t.length){t=null;break}t.pop()}else n+1<i&&".."===r[n+1]?n++:t.push(a)}return t},c=e=>{var t=l(e+"/index.js").join("/");return i[t]?t:(t=l(e).join("/"),/\.js$/.test(t)||(t+=".js"),i[t]?t:"")},u=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"];var d=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return t&&t[1]?t[1]:"./"})(e),r=function(r,n){if("string"!=typeof r)throw new Error("require args must be a string");var a=l(t+"/"+r);if("/__wx__/private-api"===r&&(a=l(r)),!a)throw new Error("can not find module : "+r);try{var o=a.join("/");o=((e,t,r)=>{var n=e;if(/\.js$/.test(n)||(n+=".js"),"string"==typeof n&&i[n])return n;var a=l(t);if(!a)throw new Error("can not find module : "+r);for(var o,s,u=e.substring(a.join("/").length);a.length&&(s=a.join("/")+"/miniprogram_npm"+u,!(o=c(s)));)a.pop();return o||(u="/"===u[0]?u:"/"+u,o=c(s="miniprogram_npm"+u)),o||e})(o,t,r);var u=e=>"functional-pages"===l(e)[0];if(u(o)!==u(e)&&Reporter.thirdErrorReport({error:new Error('should not require across "functional-pages" folder'),extend:'at require("'+r+'") in '+e}),"devtools"===__wxConfig.platform&&__wxConfig.subPackages&&void 0===n){var d=s(o),h=s(e);if(d&&d!==h)throw new Error("should not require "+r+" in "+e+" without a callback, because they are in diffrent subPackages")}return p(o,void 0,n)}catch(e){throw e}};return r.async=e=>new Promise((t=>r(e,t))),r};function p(e,r,o){if(void 0===r&&(r=!0),"string"!=typeof e)throw new Error("require args must be a string");var s=i[e];if(!s){var l=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(l="miniprogram_npm/"+l)||(l+=".js"),s=i[l]}if(e.endsWith(".js")||(e+=".js"),!s&&"devtools"!==__wxConfig.platform&&void 0!==__subContextEngine__){var c="/"+e.substr(0,e.length-3)+".appservice.js",h={__wxRoute:n.__wxRoute,__wxAppCurrentFile__:n.__wxAppCurrentFile__,__wxRouteBegin:n.__wxRouteBegin};__subContextEngine__.loadJsFiles([c]),(e=>{n.__wxRoute=e.__wxRoute,n.__wxAppCurrentFile__=e.__wxAppCurrentFile__,n.__wxRouteBegin=e.__wxRouteBegin})(h),s=i[e]}if("function"!=typeof o){if(!s)throw new Error('module "'+e+'" is not defined');var f={exports:{}},g=s.factory;if(!r||a[e])return delete s.exports,s.status=1,a[e]=!0,g&&g(d(e),f,f.exports),f.exports;if(1===s.status){var v;s.exports=f.exports,s.status=2;try{g&&(v=g(d(e),f,f.exports))}catch(e){throw s.status=1,e}s.exports=void 0!==f.exports?f.exports:v}return s.exports}s?setTimeout((()=>o(p(e)))):function(e,r){var n="__APP__"===e;"/"!==e.slice(-1)&&(e+="/"),"devtools"===__wxConfig.platform?(wxNativeConsole.info("[WebNode] injectSubPackages: "+e),WeixinJSBridge.invoke("injectSubPackages",{subPackages:[e]},r)):(wxNativeConsole.info("[WebNode] loadSubpackage: "+e),t.loadSubpackage({name:e,success(){var t=__wxConfig.subPackages.find((t=>t.root===e)),i=Object.keys(t.plugins||{}).map((e=>{var r=t.plugins[e].provider,n="__plugin__/"+r;return{plugin_id:r,prefix_path:u.includes(r)?null:n}}));__subContextEngine__.injectEntryFile(n?"":e,i),r()}}))}((e=>{var t,r=null===(t=__wxConfig)||void 0===t?void 0:t.subPackages;r||(r=[]);for(var n=0;n<r.length;++n){var i=r[n].root||"";if(i&&"/"!==i.slice(-1)&&(i+="/"),e.slice(0,i.length)===i)return i}return"__APP__"})(e),(()=>o(p(e))))}function h(e){return p(e,!1)}n.__modules__=i,_=r})();var y=globalThis.define=_.define,A=globalThis.require=_.require;if(globalThis.requireOnce=_.requireOnce,__exportGlobal__.definePlugin=g.definePlugin,__exportGlobal__.requirePlugin=g.requirePlugin,"function"==typeof __passWAServiceGlobal__){var b={};b.__appServiceEngine__=a,b.__appServiceSDK__=t,b.__virtualDOM__=i,b.__subContextEngine__=__subContextEngine__,b.__sclEngine__=__sclEngine__,b.Reporter=Reporter,b.exparser=n,b.WeixinJSBridge=WeixinJSBridge,b.Protect=Protect,__passWAServiceGlobal__(b)}};function __doWAServiceInit__(){var e;"undefined"!=typeof wx&&wx.version&&(e=wx.version),__waServiceInit__(),e&&"undefined"!=typeof __exportGlobal__&&__exportGlobal__.wx&&(__exportGlobal__.wx.version=e)}__subContextEngine__.isIsolateContext(),__subContextEngine__.isIsolateContext()||__doWAServiceInit__();;if(__wxConfig.platform!=="devtools"){var r={};Object.keys(regeneratorRuntime).forEach((function(e){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){return regeneratorRuntime[e]},set:function(t){return delete r[e],r[e]=t}})})),__exportGlobal__.regeneratorRuntime=r;};;__subContextEngine__.initAppRelatedContexts(__exportGlobal__);})(this);var __WAServiceEndTime__ = Date.now();
typeof __wxLibrary.onEnd === 'function' && __wxLibrary.onEnd(); __wxLibrary = undefined;
